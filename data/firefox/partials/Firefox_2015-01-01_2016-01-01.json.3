[ {
  "component" : "Developer Tools: WebIDE",
  "summary" : "Switching to async promises in protocol.js causes test failures in WebIDE",
  "reporter" : "ejpbruel@mozilla.com",
  "assigned" : "jryans@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "My latest attempt to remove the deprecated-sync-thenables from protocol.js (bug 1096490) had to be backed out because of test failures in WebIDE: https://treeherder.mozilla.org/logviewer.html#?job_id=1699115&repo=fx-team\n\nThese are the last two failing tests. If we can get these to pass the patch should be able to land.\n\nJryans said he'd take a look at these. Thanks, Jryans!",
  "comments" : [ {
    "text" : "My latest attempt to remove the deprecated-sync-thenables from protocol.js (bug 1096490) had to be backed out because of test failures in WebIDE: https://treeherder.mozilla.org/logviewer.html#?job_id=1699115&repo=fx-team\n\nThese are the last two failing tests. If we can get these to pass the patch should be able to land.\n\nJryans said he'd take a look at these. Thanks, Jryans!",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-15T18:04:37Z"
  }, {
    "text" : "Created attachment 8549849\nFix WebIDE tests with async promises\n\nThis should do it.  Waiting on try to open.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-15T20:43:22Z"
  }, {
    "text" : "Try including bug 1096490:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=153a03262528\n\nTry with just this:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=91b4b2ed6fdf",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-15T21:10:56Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/7b98d254877e",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-16T02:18:41Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/7b98d254877e",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-16T14:00:18Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-15T18:49:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-16T14:00:18Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-16T14:00:18Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-15T18:49:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-15T18:49:38Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-16T02:18:41Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-16T14:00:18Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-16T14:00:18Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-16T14:00:18Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-16 06:00:18"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1122123,
  "cclist" : [ "jryans@gmail.com" ]
}, {
  "component" : "Developer Tools: Framework",
  "summary" : "Devtools Theme: Make toolbar tabs more narrow by default",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "bgrinstead@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "They are currently 127px when that will fit, and the flex down as the toolbox gets smaller.  I think it looks better with a little bit of a smaller max width so it is a little less cramped.",
  "comments" : [ {
    "text" : "They are currently 127px when that will fit, and the flex down as the toolbox gets smaller.  I think it looks better with a little bit of a smaller max width so it is a little less cramped.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-15T17:48:53Z"
  }, {
    "text" : "Created attachment 8549738\ncurrent-127px.png\n\nfresh profile with maximized window currently (at 127px max width)",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-15T17:51:14Z"
  }, {
    "text" : "Created attachment 8549739\nproposed-110px.png\n\nSmaller max width (110px)",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-15T17:51:43Z"
  }, {
    "text" : "Created attachment 8549743\nmore-narrow-tabs.patch\n\nAs discussed with shorlander in #devtools",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-15T17:53:56Z"
  }, {
    "text" : "Comment on attachment 8549743\nmore-narrow-tabs.patch\n\nReview of attachment 8549743:\n-----------------------------------------------------------------\n\nLGTM.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T18:04:52Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/d10a044ab2dc",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-15T20:13:10Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/d10a044ab2dc",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-16T01:16:51Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T17:53:56Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:16:51Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:16:51Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T17:53:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T17:53:56Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T18:06:00Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-15T20:13:10Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-15T20:13:10Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:16:51Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:16:51Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:16:51Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-15 17:16:51"
    } ],
    "flagEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T17:53:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549743,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T18:04:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8549743,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1122113,
  "cclist" : [ "pbrosset@mozilla.com" ]
}, {
  "component" : "Developer Tools: Netmonitor",
  "summary" : "post json params displayed as text in params>request payload",
  "reporter" : "bulforce@gmail.com",
  "assigned" : "gijskruitbosch+bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "enhancement",
  "description" : "Created attachment 8549730\nScreen Shot 2015-01-15 at 7.34.15 PM.png\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150108202552\n\nSteps to reproduce:\n\na POST ajax request with json object as params \n\n\nActual results:\n\nIn the network tab under Params i see the json object shown as text.\n\n\nExpected results:\n\nThe network tab should parse params and display them as expandable tree(like it is in the response tab)\n\nThis of course should happen when the payload is json object.",
  "comments" : [ {
    "text" : "Created attachment 8549730\nScreen Shot 2015-01-15 at 7.34.15 PM.png\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150108202552\n\nSteps to reproduce:\n\na POST ajax request with json object as params \n\n\nActual results:\n\nIn the network tab under Params i see the json object shown as text.\n\n\nExpected results:\n\nThe network tab should parse params and display them as expandable tree(like it is in the response tab)\n\nThis of course should happen when the payload is json object.",
    "authour" : "bulforce@gmail.com",
    "created" : "2015-01-15T17:39:17Z"
  }, {
    "text" : "Created attachment 8549731\nScreen Shot 2015-01-15 at 7.34.39 PM.png",
    "authour" : "bulforce@gmail.com",
    "created" : "2015-01-15T17:39:42Z"
  }, {
    "text" : "I'd like to point out that this functionality exits on non-Linux versions of Firefox. It should not be marked as \"enhancement\" but rather it is a bug. Furthermore, it makes the Params tab pretty useless for any serious work for debugging network traffic. This issue is forcing me off of Firefox for the time being.",
    "authour" : "mrashkovsky@gmail.com",
    "created" : "2015-06-16T15:41:40Z"
  }, {
    "text" : "I have nothing to add.",
    "authour" : "geoff@darktrojan.net",
    "created" : "2015-06-16T23:01:42Z"
  }, {
    "text" : "(In reply to Geoff Lankow (:darktrojan) from comment #3)\n> I have nothing to add.\n\nHi Geoff,\n\nSorry if that spammed you, it was not my intent. I was hoping you could re-classify this away from \"enhancement\" since this isn't consistent with behavior in Firefox under non-Linux operating systems. Those versions of Firefox have a proper tree view for the params. I don't think this issue is getting any attention because it is marked as \"enhancement\", and I don't think it rightly qualifies as one.",
    "authour" : "mrashkovsky@gmail.com",
    "created" : "2015-06-17T14:49:27Z"
  }, {
    "text" : "We don't pay any attention to the \"enhancement\" categorization, this is just a bug like any other. I also don't see any difference between OS X and Linux in this case: both display the body as text in the Params view. I've used GMail in this test, but if you have another instance of a web site that behaves differently in Linux compared to OS X, I'm happy to investigate.",
    "authour" : "past@mozilla.com",
    "created" : "2015-06-18T08:55:05Z"
  }, {
    "text" : "I reported this bug about a year ago, Its very sad to see only blabla and blabla, and not even an ownership over the ticket. \n\nIs there any reason for you guys not to address this?\n\nYou dont build this firefox edition for yourselves you build it for other developers to use, having this problem is pain in the ass for me and I think for everybody else that uses the tool.",
    "authour" : "bulforce@gmail.com",
    "created" : "2015-10-17T12:38:57Z"
  }, {
    "text" : "(In reply to bulforce from comment #6)\n> I reported this bug about a year ago, Its very sad to see only blabla and\n> blabla, and not even an ownership over the ticket. \n> \n> Is there any reason for you guys not to address this?\n\nIt's very sad to see your comment describing discussion about the nature of the issue as \"blabla\". I also don't know what ownership would add here - there are thousands of unfixed bugs on bugzilla that are assigned to someone other than nobody. That doesn't really accomplish anything.\n\nAs for not addressing this, yes: there are lots of other bugs on file as well. People are busy fixing those, which makes it extra sad to see you basically yell at us as if we're incompetent, just because we happen not to be working on *this particular* issue.\n\n> You dont build this firefox edition for yourselves you build it for other\n> developers to use,\n\nYou are implying that people are being selfish in not addressing this bugreport, without any evidence (and without really elaborating on what behaviour makes you say that or how Mozilla are just making things \"for ourselves\"). That is not a very nice thing to do.\n\n> having this problem is pain in the ass for me and I think\n> for everybody else that uses the tool.\n\nNot everyone posts JSON in the request body, so this is trivially not true.\n\nNow, I know almost nothing about the devtools, but I had a poke about, and I wrote a piece of concept patch, so I'll put that up in a bit and we can hopefully move this forward more constructively.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-19T11:45:40Z"
  }, {
    "text" : "Created attachment 8675630\nPatch v0.1\n\nThis probably breaks tests, but before I get into fixing them, Panos, is this the right thing?\n\n(is there a way to remove all the __proto__ stuff from the JSON views both here and in the response view? It's probably not really helpful for JSON views... if necessary I can add an option for this to populate() and the setSingleVariable helper?)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-19T11:48:23Z"
  }, {
    "text" : "Created attachment 8675631\nPatch -w because that might be more clear",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-19T11:50:46Z"
  }, {
    "text" : "Comment on attachment 8675630\nPatch v0.1\n\nReview of attachment 8675630:\n-----------------------------------------------------------------\n\nI know that we have a way to tell the VariablesView widget to hide __proto__, but I can't remember off the top of my head what it is. Maybe Victor remembers?",
    "authour" : "past@mozilla.com",
    "created" : "2015-10-20T11:21:01Z"
  }, {
    "text" : "Comment on attachment 8675630\nPatch v0.1\n\nReview of attachment 8675630:\n-----------------------------------------------------------------\n\n::: devtools/client/netmonitor/netmonitor-view.js\n@@ +2457,5 @@\n>          searchPlaceholder: L10N.getStr(\"paramsFilterText\")\n>        }));\n>      this._json = new VariablesView($(\"#response-content-json\"),\n>        Heritage.extend(GENERIC_VARIABLES_VIEW_SETTINGS, {\n>          onlyEnumVisible: true,\n\nAh, I remember now! This is the option that makes the VariablesView hide stuff like __proto__. Adding this option to the initialization block for this._params above should do the trick.\n\nYou probably want to use two separate VariablesViewController instances to control the two views. I don't believe we ever reuse a controller for more than one views and I'm not sure it was designed with that use case in mind. Victor wrote it, so he might remember.",
    "authour" : "past@mozilla.com",
    "created" : "2015-10-22T12:22:44Z"
  }, {
    "text" : "(In reply to Panos Astithas [:past] from comment #11)\n> Comment on attachment 8675630\n> Patch v0.1\n> \n> Review of attachment 8675630:\n> -----------------------------------------------------------------\n> \n> ::: devtools/client/netmonitor/netmonitor-view.js\n> @@ +2457,5 @@\n> >          searchPlaceholder: L10N.getStr(\"paramsFilterText\")\n> >        }));\n> >      this._json = new VariablesView($(\"#response-content-json\"),\n> >        Heritage.extend(GENERIC_VARIABLES_VIEW_SETTINGS, {\n> >          onlyEnumVisible: true,\n> \n> Ah, I remember now! This is the option that makes the VariablesView hide\n> stuff like __proto__. Adding this option to the initialization block for\n> this._params above should do the trick.\n> \n> You probably want to use two separate VariablesViewController instances to\n> control the two views. I don't believe we ever reuse a controller for more\n> than one views and I'm not sure it was designed with that use case in mind.\n> Victor wrote it, so he might remember.\n\nhttps://dxr.mozilla.org/mozilla-central/source/devtools/client/shared/widgets/VariablesViewController.jsm#718\n\nseems to indicate that the \"static\" .attach method here creates a new controller instance whenever called on a view that has no controller, so I believe that the current patch would be OK in that respect. I'll leave the feedback? for Victor in case he has other comments/concerns.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-22T12:27:36Z"
  }, {
    "text" : "Comment on attachment 8675630\nPatch v0.1\n\nReview of attachment 8675630:\n-----------------------------------------------------------------\n\nThis LGTM but it'll probably break some tests. I think it's fine to use the same controller for multiple variable views, although I can't think of a place where we actually do it already. It's also been a very long time since I looked at the code.\n\nLet me know if you need any help with the tests.\n\n::: devtools/client/netmonitor/netmonitor-view.js\n@@ +2864,5 @@\n> +        paramsScope.locked = true;\n> +\n> +        $(\"#request-post-data-textarea-box\").hidden = false;\n> +        let editor = yield NetMonitorView.editor(\"#request-post-data-textarea\");\n> +\n\nNit: extra newline here.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-10-23T12:31:55Z"
  }, {
    "text" : "Created attachment 8680026\nMozReview Request: Bug 1122102 - post json params shouldn't be displayed as text in params>request payload, r?vporof\n\nBug 1122102 - post json params shouldn't be displayed as text in params>request payload, r?vporof",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-28T14:22:09Z"
  }, {
    "text" : "Comment on attachment 8675631\nPatch -w because that might be more clear\n\nThe mozreview version passes all netmonitor/ tests locally. I realized that my previous approach was actually hiding the request params from the URL, so now I added a separate scope for the posted JSON to the variables view instead... let's hope try agrees:\n\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=c96922edb52f",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-28T14:24:39Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #15)\n> Comment on attachment 8675631\n> Patch -w because that might be more clear\n> \n> The mozreview version passes all netmonitor/ tests locally. I realized that\n> my previous approach was actually hiding the request params from the URL, so\n> now I added a separate scope for the posted JSON to the variables view\n> instead... let's hope try agrees:\n> \n> remote:  \n> https://treeherder.mozilla.org/#/jobs?repo=try&revision=c96922edb52f\n\nThis is green besides pre-existing intermittents, and memory leaks from parent fx-team csets fixed by fx-team's 8edcaa544e24.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-10-29T11:57:57Z"
  }, {
    "text" : "Comment on attachment 8675631\nPatch -w because that might be more clear\n\nReview of attachment 8675631:\n-----------------------------------------------------------------\n\n::: devtools/client/netmonitor/netmonitor-view.js\n@@ +2858,3 @@\n>        // This is really awkward, but hey, it works. Let's show an empty\n>        // scope in the params view and place the source editor containing\n>        // the raw post data directly underneath.\n\nAll of this should be properly indented.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-11-03T13:37:43Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/23549/#review21513",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-11-03T13:44:13Z"
  }, {
    "text" : "Comment on attachment 8680026\nMozReview Request: Bug 1122102 - post json params shouldn't be displayed as text in params>request payload, r?vporof\n\nPer IRC, Victor says this looks good.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-11-03T13:51:41Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/4ea8997d2ed8",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-11-04T12:46:46Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/4ea8997d2ed8",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-11-05T12:48:16Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-03-23T07:40:42Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-19T11:45:57Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-05T12:48:16Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-05T12:48:16Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bulforce@gmail.com",
      "date" : "2015-01-15T17:40:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bulforce@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-15T18:12:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-15T18:12:01Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "Developer Tools: Netmonitor"
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-03-23T07:40:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "geoff@darktrojan.net"
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-03-23T07:40:42Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-03-23T07:40:42Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-03-23T07:40:42Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-03-23T07:40:42Z",
      "what" : "severity",
      "removed" : "normal",
      "added" : "enhancement"
    }, {
      "name" : "mrashkovsky@gmail.com",
      "date" : "2015-06-16T15:41:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mrashkovsky@gmail.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-06-18T08:55:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-06-18T08:56:36Z",
      "what" : "cc",
      "removed" : "geoff@darktrojan.net",
      "added" : ""
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-19T11:45:57Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-19T11:51:02Z",
      "what" : "attachments.ispatch:8675631",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-10-20T11:21:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-28T14:22:33Z",
      "what" : "attachments.isobsolete:8675630",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-28T14:24:39Z",
      "what" : "attachments.isobsolete:8675631",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-11-03T17:36:15Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-11-04T12:46:46Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-05T12:48:16Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 45"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-05T12:48:16Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-11-05 04:48:16"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-05T12:48:16Z",
      "what" : "cf_status_firefox45",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-12-24T01:51:55Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1234833"
    } ],
    "flagEvents" : [ {
      "name" : "mrashkovsky@gmail.com",
      "date" : "2015-06-16T15:41:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "geoff@darktrojan.net",
      "date" : "2015-06-16T23:01:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(geoff@darktrojan.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-19T11:48:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8675630,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-10-20T11:21:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8675630,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-10-22T12:22:44Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8675630,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-10-23T12:31:55Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8675630,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-28T14:22:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8680026,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-11-03T13:37:43Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8675631,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-11-03T13:51:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8680026,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1122102,
  "cclist" : [ "bulforce@gmail.com", "gijskruitbosch+bugs@gmail.com", "mrashkovsky@gmail.com", "past@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Tours",
  "summary" : "/whatsnew tour for Hello in 36 with an exception",
  "reporter" : "cbkprice@gmail.com",
  "assigned" : "jaws@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "[Tracking Requested - why for this release]:\n\nWe will be creating a /whatsnew tour for 36.\n\nThe exception for this release is that we _exclude_ a segment of users from the tour.\n\nIf a user has loop.gettingStarted.seen=true, they will NOT be shown the tour. The reasons for this is that the user has already engaged with Hello since Fx35, so we don't have anything new to show them.",
  "comments" : [ {
    "text" : "[Tracking Requested - why for this release]:\n\nWe will be creating a /whatsnew tour for 36.\n\nThe exception for this release is that we _exclude_ a segment of users from the tour.\n\nIf a user has loop.gettingStarted.seen=true, they will NOT be shown the tour. The reasons for this is that the user has already engaged with Hello since Fx35, so we don't have anything new to show them.",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-01-15T17:39:01Z"
  }, {
    "text" : "New \"feature\", tracking.\n\nCory, do you know when this is going to be ready? Thanks",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-01-19T08:29:42Z"
  }, {
    "text" : "Thanks for the early heads up in this, it's really helpful. Rail - I think you're on the hook for 36 from our side?",
    "authour" : "bhearsum@mozilla.com",
    "created" : "2015-01-19T13:45:38Z"
  }, {
    "text" : "Correct, I'm on the hook from releng.",
    "authour" : "rail@mozilla.com",
    "created" : "2015-01-19T14:19:53Z"
  }, {
    "text" : "How will this work ? Does the pref check mean that it can only happen on the client-side ? eg using  nsBrowserContentHandler.js. Or are we going to tell everyone to show /whatsnew via the update information but then not show the tour if loop.gettingStarted.seen=true ?",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-01-19T20:45:00Z"
  }, {
    "text" : "(In reply to Sylvestre Ledru [:sylvestre] from comment #1)\n> Cory, do you know when this is going to be ready? Thanks\nHere is our production schedule: https://app.smartsheet.com/b/publish?EQBCT=3135891d871b4fd6b85eca6070c9cc0e\n\n(In reply to Nick Thomas [:nthomas] from comment #4)\n> How will this work ? Does the pref check mean that it can only happen on the\n> client-side ? eg using  nsBrowserContentHandler.js. \nThe product will be handling the preference check; we won't be doing any checking/redirection within the tour itself. \n\n> Or are we going to tell\n> everyone to show /whatsnew via the update information but then not show the\n> tour if loop.gettingStarted.seen=true ?\nAs far as specifics, :MattN may have more information here.",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-01-20T16:37:18Z"
  }, {
    "text" : "We're going to have the code in nsBrowserContentHandler.js decide whether to open the tour tab or not. This bug will likely get assigned during 38.2 (2 week sprint starting Tuesday).\n\nI forget what we did the last few times where we handled it in the client: Should the update snippet still contain the URL or not? I know the update snippet shouldn't have \"silent\" set or it will prevent the nsBrowserContentHandler code from opening the tab. (I think it's useful to not bypass the \"silent\" option checking in the code so we can remotely shut off whatsnew if something goes wrong).",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-22T00:53:43Z"
  }, {
    "text" : "Created attachment 8556638\nPatch for 36 beta\n\nThis patch clears the override page if Loop has been used already.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-01-29T19:47:40Z"
  }, {
    "text" : "(In reply to Matthew N. [:MattN] from comment #6)\n> I forget what we did the last few times where we handled it in the client:\n> Should the update snippet still contain the URL or not? I know the update\n> snippet shouldn't have \"silent\" set or it will prevent the\n> nsBrowserContentHandler code from opening the tab. (I think it's useful to\n> not bypass the \"silent\" option checking in the code so we can remotely shut\n> off whatsnew if something goes wrong).\n\nLast time we had silent set, and that had to be removed because it was overriding special case code (bug 1093187). The current configuration is to not set it for future release builds.",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-01-29T20:31:27Z"
  }, {
    "text" : "Re attachment 8556638, startup.homepage_override_url is currently set to \"\" in browser/branding/official/pref/firefox-branding.js, so no-one would get a whatsnew page.",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-01-29T20:33:27Z"
  }, {
    "text" : "(In reply to Nick Thomas [:nthomas] from comment #9)\n> Re attachment 8556638,\n> startup.homepage_override_url is currently set to \"\" in\n> browser/branding/official/pref/firefox-branding.js, so no-one would get a\n> whatsnew page.\n\nI was thinking the idea would be to set that pref to be the tour URL for Loop. and then the patch in this bug would disregard that URL if Loop had already been used.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-01-29T20:36:38Z"
  }, {
    "text" : "Comment on attachment 8556638\nPatch for 36 beta\n\nReview of attachment 8556638:\n-----------------------------------------------------------------\n\nRegarding the pref \"startup.homepage_override_url\":\n* If we specify the URL in firefox.js, we get reports like bug 1003924 from enterprise deployments where the page can display on every startup for that version.\n* If we don't specify the URL in firefox.js, users who have Firefox updated outside of them running in their profile (e.g. enterprise deployment to all users) won't see the whatsnew page at all (since the default pref and the update with actions won't exist).\n\nBoth of the above are edge cases but I prefer that latter failure case since bug 1003924 is very frustrating to users. After seeing that Jared's patch is simpler than my proposal, and avoids the first case above, I think we should have the URL set in the update snippet for 36.0 and take this approach (with the code movement below).\n\nRail/Nick, is that fine with you? This matches the last version of comment 4.\n\nr=me on the patch assuming we get the URL set in the update snippet.\n\n::: browser/components/nsBrowserContentHandler.js\n@@ +511,5 @@\n>  \n> +            // Temporary exclusion of the Loop tour page for users who have already used Loop.\n> +            if (Services.prefs.getBoolPref(\"loop.gettingStarted.seen\")) {\n> +              overridePage = \"\";\n> +              break;\n\nAs I mentioned in comment 6, I think allowing \"silent\" to still prevent the page from opening is useful so I think we should move this below the `overridePage = getPostUpdateOverridePage(overridePage);` line (then you don't need the `break` either).",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-31T01:21:49Z"
  }, {
    "text" : "(In reply to Matthew N. [:MattN] from comment #11)\n> Rail/Nick, is that fine with you? This matches the last version of comment 4.\n\nYep, no problem, setting a global value is easy. \n\nRail, we'd just revert http://hg.mozilla.org/build/tools/rev/9d9c3aa48db0, and change the 33.1 in the url to the current shipping version in config (it will get bumped when the next release runs).",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-02T00:32:52Z"
  }, {
    "text" : "+ https://wiki.mozilla.org/Release:Release_Automation_on_Mercurial:Updates_through_Shipping#Set-up_whatsnew_page I think.",
    "authour" : "rail@mozilla.com",
    "created" : "2015-02-02T01:27:51Z"
  }, {
    "text" : "Created attachment 8557734\nPatch for 36 beta (r+'d by MattN)\n\nApproval Request Comment\n[Feature/regressing bug #]: what's new tour for Loop on 36\n[User impact if declined]: users who have used Loop already pre-36 will see the tour\n[Describe test coverage new/current, TreeHerder]: will need manual testing\n[Risks and why]: none expected\n[String/UUID change made/needed]: none",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-02T05:01:33Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/24133abc4f8d",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-02T14:31:43Z"
  }, {
    "text" : "(In reply to Rail Aliiev [:rail] from comment #13)\n> +\n> https://wiki.mozilla.org/Release:Release_Automation_on_Mercurial:\n> Updates_through_Shipping#Set-up_whatsnew_page I think.\n\nCould do it that way, but adding it to the patcher config would make it automatic from them on.",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-02T20:30:53Z"
  }, {
    "text" : "Is there a test environment that contains the first run with the Hello step, that can be used to manually verify this bug?",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-10T12:55:04Z"
  }, {
    "text" : "(In reply to Catalin Varga [QA][:VarCat] from comment #17)\n> Is there a test environment that contains the first run with the Hello step,\n> that can be used to manually verify this bug?\nSetup/instructions: https://hello-onboarding.etherpad.mozilla.org/36-tour-qa",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-02-10T15:03:37Z"
  }, {
    "text" : "I've updated from FF 35.0b8 to FF 36.0b8 via the beta channel. My loop.gettingStarted.seen pref was set as false. After the update the whatsnew page was not displayed. Is this due to the channel used for updating? or was my expected behavior off?",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-11T14:37:20Z"
  }, {
    "text" : "The update server isn't set up to include |actions=\"showURL\" openURL=\"https://www.mozilla.org/...\"| on beta. We could set up a test channel for beta if that would help. Looks like it would need to be pointed at\n  https://www-demo2.allizom.org/en-US/firefox/36.0/whatsnew/?oldversion=35.0\nbased on the etherpad in comment #18.",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-11T20:11:02Z"
  }, {
    "text" : "Do we get an update server in order to verify this bug or is this a low priority?",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-13T15:03:36Z"
  }, {
    "text" : "Chiming in to add a couple notes. I can't speak to the update server question.\n\n(In reply to Catalin Varga [QA][:VarCat] from comment #21)\n> is this a low priority?\nThis tour is launching with RC36.\n\nThe prod URLs will be live 2/23 (bug 1132947).",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-02-13T16:33:52Z"
  }, {
    "text" : "Catalin, I've set up an update test for you. Please use 36.0b8 or older, and modify defaults/pref/channel-prefs.js to use 'beta-bug1122101' instead of 'beta'. Instead of restarting at line 46 on the etherpad, please close Firefox, modify the pref, then start up. You should expect to get 36.0b9 (this won't change if we do a b10 etc).",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-15T22:16:41Z"
  }, {
    "text" : "Rail, looks like comment #13 was wrong. Instead we can set openURL in the release config and it gets into Balrog that way:\n  http://hg.mozilla.org/build/tools/file/default/scripts/updates/balrog-release-pusher.py#l109",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-15T22:37:17Z"
  }, {
    "text" : "The update test in comment #23 turns out to be limited to 36b -> 36.0b9 only, and you need to make sure the browser.startup.homepage_override.mstone pref isn't '36.0' before you apply the update.",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-16T21:25:30Z"
  }, {
    "text" : "I verified this fix using the update channel provided by Nick on:\n\nFF 36.0b9\nOS: Win 7 x64, Ubuntu 14.04 x64 and Mac Os X 10.9.5\n\nand if the update is done via an update channel the what's new page is linked if loop.gettingStarted.seen=false and is not displayed if loop.gettingStarted.seen=true.\n\nHowever if the update is a pave over update, eg installing the new FF version over the old FF version directory using the setup file, than the what's new page is not displayed even if loop.gettingStarted.seen=false .",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-17T16:39:28Z"
  }, {
    "text" : "The paveover case would also needs the mstone pref step, if you are overwriting 36.0b with 36.0b. Should just work (AFAICT) if you're overwriting 35.0 or older. The firstrun pref is set [1] but to the official location rather than the tour.\n\n[1]  https://hg.mozilla.org/releases/mozilla-beta/file/8597521cb8bd/browser/branding/official/pref/firefox-branding.js#l6",
    "authour" : "nthomas@mozilla.com",
    "created" : "2015-02-17T20:04:05Z"
  }, {
    "text" : "The firstrun pref isn't used for a paveover upgrade though, startup.homepage_override_url is. Not showing whatsnew for the paveover upgrade is okay IMO since there are tradeoffs either way. See comment 11.\n\nIn this case it wouldn't be too bad to see the pref in product since we wouldn't continue to show it once the user actually does the tour since loop.gettingStarted.seen would become true but it would be annoying users affected by this issue until they figure that out.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-18T17:03:11Z"
  }, {
    "text" : "Based on the above comment marking the bug as verified.",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-19T16:12:00Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-26T16:28:08Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T14:31:43Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-20T10:07:02Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T14:31:43Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bhearsum@mozilla.com",
      "date" : "2015-01-15T20:31:07Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bhearsum@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-19T08:29:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cprice@mozilla.com, sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-19T08:29:42Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "bhearsum@mozilla.com",
      "date" : "2015-01-19T13:45:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "rail@mozilla.com"
    }, {
      "name" : "rail@mozilla.com",
      "date" : "2015-01-19T14:19:53Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1119236"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-22T00:53:43Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-22T00:53:43Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-26T16:28:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-26T16:28:08Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-26T16:28:08Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T05:01:33Z",
      "what" : "attachments.isobsolete:8556638",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T14:31:43Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "2"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T14:31:43Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 36"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T14:31:43Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-02 06:31:43"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T14:31:43Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T14:56:49Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T14:56:49Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-09T15:24:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-09T15:24:30Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "catalin.varga@softvision.ro"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-02-13T16:31:29Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1132947"
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-19T16:12:00Z",
      "what" : "cf_status_firefox36",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-19T08:29:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bhearsum@mozilla.com",
      "date" : "2015-01-19T13:45:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "rail@mozilla.com",
      "date" : "2015-01-19T14:19:53Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(rail@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-20T16:37:18Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cprice@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-22T00:53:43Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-29T19:47:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556638,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-31T01:21:49Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556638,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T05:01:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557734,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-02T08:09:18Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8557734,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-09T15:24:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-10T12:55:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-10T14:23:56Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-02-10T15:03:37Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cprice@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-11T14:37:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-13T15:03:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nthomas@mozilla.com",
      "date" : "2015-02-15T22:16:41Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(nthomas@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-18T17:03:11Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1122101,
  "cclist" : [ "agibson@mozilla.com", "bhearsum@mozilla.com", "cbkprice@gmail.com", "florin.mezei@softvisioninc.eu", "hhabstritt.bugzilla@gmail.com", "jaws@mozilla.com", "MattN+bmo@mozilla.com", "nthomas@mozilla.com", "rail@mozilla.com", "sledru@mozilla.com" ]
}, {
  "component" : "Developer Tools: Debugger",
  "summary" : "Breakpoints are ignored in nested IIFEs",
  "reporter" : "till@tillschneidereit.net",
  "assigned" : "jlong@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "major",
  "description" : "Created attachment 8549692\nTest case\n\nThis regressed a few weeks ago (sorry for not filing earlier) and makes debugging Shumway quite painful.\n\nSTR:\n1. open the attached test case\n2. open the debugger\n3. set a breakpoint in line 9\n4. reload\n\nActual result: the breakpoint isn't triggered\nExpected result: the breakpoint is triggered\n\nA breakpoint on line 13 works just fine.\n\nThe second IIFE in lines 15-19 seems to work sometimes, sometimes not.",
  "comments" : [ {
    "text" : "Created attachment 8549692\nTest case\n\nThis regressed a few weeks ago (sorry for not filing earlier) and makes debugging Shumway quite painful.\n\nSTR:\n1. open the attached test case\n2. open the debugger\n3. set a breakpoint in line 9\n4. reload\n\nActual result: the breakpoint isn't triggered\nExpected result: the breakpoint is triggered\n\nA breakpoint on line 13 works just fine.\n\nThe second IIFE in lines 15-19 seems to work sometimes, sometimes not.",
    "authour" : "till@tillschneidereit.net",
    "created" : "2015-01-15T16:53:29Z"
  }, {
    "text" : "Created attachment 8549701\nTest case, for realz\n\nUgh, I edited the file to test things before submitting. Here's the version I meant.",
    "authour" : "till@tillschneidereit.net",
    "created" : "2015-01-15T16:57:25Z"
  }, {
    "text" : "Handler function threw an exception: TypeError: info is null\nStack: _addBreakpoint@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/sourceeditor/debugger.js:138:5\naddBreakpoint/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/sourceeditor/debugger.js:154:37\nmakeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/DevToolsUtils.js:82:14\nLine: 138, column: 4\n\n\nUgh, looks like this might be our `info is null` editor race cropping up again :(",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-15T17:04:12Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #2)\n> \n> Ugh, looks like this might be our `info is null` editor race cropping up\n> again :(\n\nUnfortunately, I tweaked the code with the same fix as bug 1057031, which does make the `info is null` message go away, but does not fix this bug. I think that error is harmless in a lot of situations, but that doesn't mean we shouldn't fix that.\n\nThis is unrelated, I think, because the breakpoint still isn't hit. I will look into this later today.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-15T18:05:22Z"
  }, {
    "text" : "It seems that we expect getChildScripts to return *all* child scripts, when in fact it only returns one level of children (as documented).",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-16T19:20:57Z"
  }, {
    "text" : "Looks like some refactoring inside the debugger server made it so that we don't fully recurse into all nested scripts. Should be a quick fix, but this has made it all the way to beta, so we will need to uplift.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-16T19:29:19Z"
  }, {
    "text" : "Created attachment 8550526\n1122064.patch\n\nThis API is a little weird, but this is this most performant one I tried. I did 3 different ones:\n\n* A recursive generator (simple but slow)\n* An imperative `while` loop that recursively builds up a big array of scripts and returns the array (better)\n* A callback-based iterator that calls the callback for each child scripts array (fastest)\n\nI used this as the test case: http://jlongster.com/s/lots-of-scripts/ It has a huge amount of nested functions, and includes the same script several times (only 1 appears in the debugger because it's the same URL, but my perf output ran for all 8 script tags).\n\nThe recursive generator took about 950ms-1s to load each script, the imperative loop took maybe 800-900ms, and the callback-based iterator brings it down to 600-700ms. This is the worst-case test case of course, so this should be the 99% outlier of performance. (I can't profile  what it was before, but it couldn't have been much faster)",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-16T21:44:34Z"
  }, {
    "text" : "Comment on attachment 8550526\n1122064.patch\n\nReview of attachment 8550526:\n-----------------------------------------------------------------\n\nWe need to have a regression test for this.\n\nI find iterAllChildScripts a little funky, and I'd prefer to just have the children returned as an array instead of the callback interface, but that isn't the biggest deal.\n\nWe gotta have a regression test though.\n\n::: toolkit/devtools/server/actors/script.js\n@@ +1987,5 @@\n>  \n>      // |onNewScript| is only fired for top level scripts (AKA staticLevel == 0),\n>      // so we have to make sure to call |_addScript| on every child script as\n>      // well to restore breakpoints in those scripts.\n> +    iterAllChildScripts(aScript, children => {\n\nRather than doing two passes (and therefore crossing the JS <-> VM threshold twice as often as necessary) we could just do:\n\n    const children = []\n    iterAllChildScripts(aScript, [].push.bind(children));\n\nand then do our two passes over `children`. But at that point: why not just have our helper function return the children as an array itself, instead of taking a callback?",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-16T21:58:30Z"
  }, {
    "text" : "(And if you tried returning an array and benchmarking showed it to be worse, then just tell me and I'll shut up)",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-16T21:59:02Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #8)\n> (And if you tried returning an array and benchmarking showed it to be worse,\n> then just tell me and I'll shut up)\n\nI did and I explained that in comment 6 :)\n\nI don't know how I missed the fact that it's doing twice the amount of work it needs to, and I should just recurse down it once. I think recursing once + using an array should definitely be fast enough (should beat what I currently do by quite a bit).\n\nI'll refactor and add a test. I need to leave soon so not sure I'll get the test done today, but I can git done and on try this weekend.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-16T22:05:21Z"
  }, {
    "text" : "Created attachment 8551368\n1122064.patch\n\nHere's the array-based approach, but I'm still seeing a significant slowdown from whatever Firefox 35 is doing (before eval & script store stuff), but it does recurse there. I'm going to look into what it did before. It takes ~800ms to process the large script at http://jlongster.com/s/lots-of-scripts/, and I see the debugger pause, but in Firefox 35 it feels more instant.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-19T16:48:21Z"
  }, {
    "text" : "Here's my analysis of the current situation:\n\n* When a new script is introduced in the system, we've actually never recursed through all child scripts, we only iterate through the children of the top-level via `getChildScripts()`. That only returns children 1-level deep though, it isn't recursive.\n\n* Previously, setting breakpoints on scripts nested deep worked because in `_addScript`, where it checks if a breakpoint exists for a script, it finds a breakpoint for any nested children within itself because the start/end line encompass all child scripts. We call `source.setBreakpoint` and it correctly finds the right active script to actually activate a breakpoint (not necessarily the same script passed to `_addScript`)\n\n* We broke this around the time we introduced the `ScriptStore`: we don't recursively add all child scripts to it (only children 1 level deep since `getAllChildren` does not recurse). `setBreakpoint` now queries this store to get scripts to find offsets, and deep nested scripts aren't there.\n\n* Additionally, `SourceActor.prototype.setBreakpoint` takes `aOnlyThisScript` parameter, which makes it *only* activate the breakpoint if it matches the passed in script. In `_addScript`, it passes in the parent script, so deeply nested breakpoints on children scripts wouldn't even be activated if the `ScriptStore` was working right. Eddy (maybe accidentally?) fixed this in yesterday's commit: https://github.com/mozilla/gecko-dev/commit/6267fd519de91e2a6025d082e1ee50884100c1e1. He cleans up the code and removes the strict `aOnlyThisScript` parameter, but the `ScriptStore` is still missing scripts.\n\nSo the core issue is that the `ScriptStore` does not get all the scripts added to it, and we need to recursively call `getChildScripts` on all the returned scripts. Unfortunately, when I do this there is a significant performance hit. I thought that we used to be recursing, and that we had just broken that, but we've *never* recursed through all the child scripts, and adding that seems to really slow down extremely large code (think compile-to-js languages). I am working on benchmarking this to show hard numbers.\n\nfitzgen mentioned removing the `ScriptStore` if it's too much hassle. If I can't get good performance while adding all scripts to it, we may have to. However, one of the main points of `ScriptStore` was to hold a strong reference to each script, and thus avoiding garbage collection issues. It seems to me that we still *could* simply do this by holding on to all top-level scripts. That way, a breakpoint *will* always be properly set, even if nested scripts within the top-level script have been garbage collected, and any new scripts (either from reload or the script being run) generated will appropriately get the breakpoint set in `_addScript`.\n\nHowever, we might need to change all the script queries (like within `setBreakpoint`) to use the C++ API `findScripts` API again, so we appropriately get all the scripts we need. The `ScriptStore` (or something else) would only hold the top-level scripts for the whole devtools session.\n\nI'm going to play around with adding all the scripts to `ScriptStore` again and report back with some numbers.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T01:27:18Z"
  }, {
    "text" : "A little clarification: it worked before `ScriptStore` because, even though it was only called once from the top-level script, `setBreakpoint` used the C++ `findScripts` API and set breakpoints on *all* scripts it found at that location.\n\nNow I'm confused about something: `onNewScript` is only called for top-level scripts, but what about the following code:\n\nfunction baz() {\n  function biz() {\n    return 5;\n  }\n  return biz();\n}\n\nWon't the `biz` script not even exist when the `onNewScript` is fired for `baz`? It's only created when `baz` is fun.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T01:36:25Z"
  }, {
    "text" : "Here the benchmarks. These numbers we taken by timing the full execution of `onNewScript`, using the primitive `Date` timer (`performance.now` isn't available). Basically:\n\nonNewScript: function(aScript, aGlobal) {\n  let start = Date.now();\n  // ...\n  console.log(Date.now() - start);\n}\n\nWhat we are interested in is not async, so this works. My testing was to refresh the page a couple times to get the numbers, then set 3 breakpoints and refresh the page to see how much longer is takes with a few breakpoints.\n\nThe test page is: http://jlongster.com/s/lots-of-scripts/\n\nFirst, an old version of Firefox before any of the `ScriptStore` or eval debugging landed (Oct 29, commit 675248424eb093f4b75c828bf894c3456d00216e):\n\nconsole.log: 33\nconsole.log: 36\nconsole.log: 34\nconsole.log: 36\nconsole.log: 33\nconsole.log: 38\nconsole.log: 41\nconsole.log: 36\nconsole.log: 35\nconsole.log: 43\n\n// set 3 breakpoints and reload\n\nconsole.log: 119\nconsole.log: 110\nconsole.log: 104\nconsole.log: 103\nconsole.log: 118\nconsole.log: 107\nconsole.log: 104\nconsole.log: 167\n\nNow, an up-to-date Firefox with *no* recursive behavior (behavior similar to above, just one initial call to `aScript.getChildScripts()`:\n\nconsole.log: 185\nconsole.log: 164\nconsole.log: 158\nconsole.log: 153\nconsole.log: 173\nconsole.log: 155\nconsole.log: 154\nconsole.log: 156\n\n// set 3 breakpoints and reload\n\nconsole.log: 276\nconsole.log: 256\nconsole.log: 263\nconsole.log: 257\n\nFinally, an up-to-date Firefox with the recursive behavior turned on. This is the exact same code in the attached patch (it recursively expands an array and return an array of all scripts).\n\nconsole.log: 551\nconsole.log: 616\nconsole.log: 627\nconsole.log: 629\nconsole.log: 561\nconsole.log: 629\nconsole.log: 626\nconsole.log: 621\n\n// set 3 breakpoints and reload\n\nconsole.log: 833\nconsole.log: 874\nconsole.log: 909\nconsole.log: 917\nconsole.log: 825\nconsole.log: 907\nconsole.log: 928\nconsole.log: 915\n\nI don't know the last case jumps a good bit more with more breakpoints. Some of this may be due to other changes within devtools. But it's clear, at least to me, that we can't do what my patch currently does, and I can't think of a way to populate the ScriptStore fully in an optimal way.\n\nNote that my test case is not really even close to what some compile-to-js languages output. If we aren't careful, we could make debugging those languages impossible if we get too slow here.\n\nMy vote is to either make the Debugger somehow keep scripts alive permanently, or to hold a list of just the top-level scripts. I'm not entirely sure the latter works, but wouldn't that get rid of pending breakpoints still, and we could still appropriately set a breakpoint in all the child scripts using `findScripts` in `setBreakpoint`?",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T03:48:45Z"
  }, {
    "text" : "Created attachment 8552204\n1122064.patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T04:10:16Z"
  }, {
    "text" : "Haha, with all my gloom and doom talk, I think I actually found a freakishly simple solution to all of this. I did two things:\n\n1. Just bloody use `findScripts` to get ALL the scripts we need to add the the ScriptStore. I wonder if `getChildScripts` is just really slow or something, because doing a single `findScripts` call and dumping it all into the ScriptStore (which uses a `Set` internally so adding duplicate scripts is fine) is really, really fast. We do get all the script for the whole source on each `onNewScript`, but it's so fast who cares.\n\n2. Only call `_addScript` once with script passed in to `onNewScript`. This is a big optimization especially when there are lots of breakpoints. We don't care about calling it with each individual script. Just find breakpoints that are within the top-level script and set them, and `setBreakpoint` will make sure to set breakpoints on all the child/nested scripts.\n\nHere are the same benchmarks using my patch:\n\nconsole.log: 24\nconsole.log: 21\nconsole.log: 25\nconsole.log: 21\nconsole.log: 25\nconsole.log: 21\nconsole.log: 23\nconsole.log: 23\n\n// set 3 breakpoints, reload\n\nconsole.log: 30\nconsole.log: 30\nconsole.log: 37\nconsole.log: 36\nconsole.log: 30\nconsole.log: 31\nconsole.log: 35\nconsole.log: 41\n\nLol. It's even faster than the old Firefox last Oct because we aren't calling `getChildScripts` at all or iterating.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T04:15:25Z"
  }, {
    "text" : "Ok, admittedly I should have run the tests first. According to the mochitests, evidently we DO have to iterate over `getChildScripts` once and call `_addScript` for each of them. However, I can still do the `findScripts` trick and populate the store correctly and get back to today's numbers:\n\nconsole.log: 186\nconsole.log: 175\nconsole.log: 180\nconsole.log: 184\nconsole.log: 176\nconsole.log: 173\nconsole.log: 174\nconsole.log: 174\n\n// set 3 breakpoints\n\nconsole.log: 271\nconsole.log: 262\nconsole.log: 272\nconsole.log: 273\n\nI still don't understand why we need to iterate only over the 1-level of nested children. It seems to me that if that works for arbitrarily nested children, we should be able to just call `_addScript` with the passed script. I must be misunderstanding something with how scripts are nested.\n\nIt's getting far too late for me to be thinking about this. Sorry for the braindump. I need less coffee & booze and more sleep.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T04:27:47Z"
  }, {
    "text" : "Created attachment 8552215\n1122064-working.patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T04:28:51Z"
  }, {
    "text" : "I also looked into why we need to iterate over `getChildScripts()` at all in `onNewScript`. We should be able to just have a single `this._addScript(aScript)` (which is *way* faster) which operates on the top-level script representing the whole source. If I do this, it works in all my manual (and let me repeat: it's waaay faster).\n\nHowever, the \"breakpoints-break-on-last-line-of-script-on-reload.js\" test fails. But it looks like it's actually a bug in Debugger.Script. It has the wrong `lineCount`, the filtering in `_addScript` isn't activating the breakpoint. I copied the same source used in the test here: http://jlongster.com/s/lots-of-scripts/index2.html\n\nIn `onNewScript`, if you log the text of the script, like this:\n\n    console.log(\n      aScript.source.text.slice(aScript.sourceStart,\n                                aScript.sourceStart + aScript.sourceLength)\n    );\n\nYou get:\n\nconsole.log: var a = (function(){\n  var b = 9;\n  console.log(\"x\", b);\n  return b;\n})();\n\nas you should. But if you log `aScript.lineCount`, you get 1! Which is clearly wrong. The line count should be 5. I will file another bug about this.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T16:03:25Z"
  }, {
    "text" : "I think the path to move forward for this bug is to dump all the scripts into the `ScriptStore` using `findScripts`, which has zero perf hit, and I will file bugs for the rest of my discoveries and get those fixed.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T16:04:49Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #12)\n> A little clarification: it worked before `ScriptStore` because, even though\n> it was only called once from the top-level script, `setBreakpoint` used the\n> C++ `findScripts` API and set breakpoints on *all* scripts it found at that\n> location.\n> \n> Now I'm confused about something: `onNewScript` is only called for top-level\n> scripts, but what about the following code:\n> \n> function baz() {\n>   function biz() {\n>     return 5;\n>   }\n>   return biz();\n> }\n> \n> Won't the `biz` script not even exist when the `onNewScript` is fired for\n> `baz`? It's only created when `baz` is fun.\n\n1) Lazy scripts are disabled when a compartment is observed by the debugger, and\n\n2) Despite how many closures or function objects get created, there is only one JSScript/D.Script because of lambda lifting",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T17:09:55Z"
  }, {
    "text" : "James, so the plan is:\n\n(1) Add all scripts to `ScriptStore` on startup (well when we ask for the source list) via the ThreadActor.prototype.scripts accessor\n\n(2) Maintain the contents of the `ScriptStore` via `this.scripts.addScripts(dbg.findScripts({ source: newScript.source }))` in the onNewScript hook\n\n(3) Use the parent script's range to find BPs we need to re-set: anything falling within [newScript.startLine, newScript.startLine + newScript.lineCount)\n\nRight?\n\nBut there is a bug in lineCount (bug 979094) that we need to work around. I believe this is why we started considering every script, rather than using the parent range. I believe that fix was the one which added that test that started failing for you, too. Yay! Regression tests!\n\nSo: either we don't do (3), and instead continue to consider every script, or we fix bug 979094 (which hopefully doesn't involve walking the script tree to find the greatest end line, in which case it might not provide the perf benefit you saw earlier...)",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T17:18:58Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #21)\n> James, so the plan is:\n> \n> (1) Add all scripts to `ScriptStore` on startup (well when we ask for the\n> source list) via the ThreadActor.prototype.scripts accessor\n> \n> (2) Maintain the contents of the `ScriptStore` via\n> `this.scripts.addScripts(dbg.findScripts({ source: newScript.source }))` in\n> the onNewScript hook\n> \n> (3) Use the parent script's range to find BPs we need to re-set: anything\n> falling within [newScript.startLine, newScript.startLine +\n> newScript.lineCount)\n> \n\nYep, that's right. Just filed bug 1124258 for #3.\n\n> But there is a bug in lineCount (bug 979094) that we need to work around. I\n> believe this is why we started considering every script, rather than using\n> the parent range. I believe that fix was the one which added that test that\n> started failing for you, too. Yay! Regression tests!\n\nI debugged it down to that exact issue! Yeah, we'd need to fix that bug before we do #3.\n\n> So: either we don't do (3), and instead continue to consider every script,\n> or we fix bug 979094 (which hopefully doesn't involve walking the script\n> tree to find the greatest end line, in which case it might not provide the\n> perf benefit you saw earlier...)\n\nI agree with just delaying #3 (which is why I filed a new bug). Luckily, doing #1 and #2 is a very easy fix (almost a 1 line patch) so we can easily land that in this bug, and uplift to beta where we broke nested script breakpoints. We will work on #3 separately, which is basically just a perf optimization.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T17:48:51Z"
  }, {
    "text" : "Created attachment 8552556\n1122064.patch\n\nThis patch makes sure the `ScriptStore` has all the scripts, fixing the breakpoint issues introduced in the original comment. There doesn't seem to be any perf regressions.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T17:57:59Z"
  }, {
    "text" : "Comment on attachment 8552556\n1122064.patch\n\nShoot, I forgot to add a regression test. Will post another patch.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T18:00:35Z"
  }, {
    "text" : "Created attachment 8552607\n1122064.patch\n\nOk, this now includes a mochitest to make sure that nested scripts introduced via onNewScripts properly works.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T19:41:35Z"
  }, {
    "text" : "Er, I mean an xpcshell test.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T19:41:49Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=89162e3f18e6",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T20:14:32Z"
  }, {
    "text" : "Comment on attachment 8552607\n1122064.patch\n\nReview of attachment 8552607:\n-----------------------------------------------------------------\n\nr+ with comments addressed.\n\n::: toolkit/devtools/server/actors/script.js\n@@ +1993,2 @@\n>      for (let s of aScript.getChildScripts()) {\n>        this._addScript(s);\n\nShouldn't we be calling `this._addScript` for every child script, not just the immediate children? This has the same range/lineCount problem mentioned in previous comments, just pushed down one level of scripts.\n\nShouldn't it be more like:\n\n  const scripts = this.dbg.findScripts({ source: aScript.source });\n\n  // ... lol long comment ...\n  this.scripts.addScripts(scripts);\n\n  // ... lol moar commentz ...\n  for (let s of scripts) {\n    this._addScript(s);\n  }\n\n::: toolkit/devtools/server/tests/unit/test_breakpoint-21.js\n@@ +37,5 @@\n> +}\n> +\n> +function test()\n> +{\n> +  Task.spawn(function*() {\n\nNit:\n\n  const test = Task.async(function* () {\n    ...\n  });\n\n@@ +38,5 @@\n> +\n> +function test()\n> +{\n> +  Task.spawn(function*() {\n> +    // Force an initial populate of the `ScriptStore`\n\nNit: force an english ;)\n\n\"Populate the ScriptStore.\"\n\nor\n\n\"Force the initial population of the ScriptStore.\"\n\nor\n\n\"Ensure the ScriptStore is populated.\"\n\n@@ +48,5 @@\n> +      let location = {\n> +        line: gDebuggee.line0 + 5\n> +      };\n> +\n> +      source.setBreakpoint(location, function (aResponse, bpClient) {\n\nNot going to r- over this, but it sure would be nice to not mix task and callbacks...\n\nCheck out the setBreakpoint, waitForPause, resume, etc helpers in head_dbg.js. It would clean this test up a lot.\n\n@@ +72,5 @@\n> +      \"var line0 = Error().lineNumber;\\n(\" + function() {\n> +        debugger;\n> +        var a = (function() {\n> +          return (function() {\n> +            var x = 10; // This line gets a breakpoint\n\nCan we do a ridiculous amount of IIFEs, like 6, just to be sure? I feel like this is falling under the \"push down the range/lineCount issue one staticLevel\" comment. Would be nice to be sure.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T22:20:27Z"
  }, {
    "text" : "Also, did you verify that the test does not pass before this patch? I ask because this bug is specifically about the way we re-set BPs after reload in onNewScript, and I don't think this test exercises onNewScript between setting the BP and hitting it.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T22:24:07Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #28)\n> Comment on attachment 8552607\n> 1122064.patch\n> \n> Review of attachment 8552607:\n> -----------------------------------------------------------------\n> \n> r+ with comments addressed.\n> \n> ::: toolkit/devtools/server/actors/script.js\n> @@ +1993,2 @@\n> >      for (let s of aScript.getChildScripts()) {\n> >        this._addScript(s);\n> \n> Shouldn't we be calling `this._addScript` for every child script, not just\n> the immediate children? This has the same range/lineCount problem mentioned\n> in previous comments, just pushed down one level of scripts.\n\nAfter all my benchmarking, I found `_addScripts` to be quite slow, honestly, and now I'm worried about invoking it for every single script on a page (which potentially could be *huge*).\n\nThis gets us back to how we were doing it before, at least. We *never* did it correctly. I guess the cases where the line number is off tends to be rarer in the 1-level nested children? Not sure. Are you sure it's even possible in child scripts? I thought it had to do with the top-level script.\n\nRegardless, I think we should keep it the way it is since we've survived this far on it, and I'm worried about serious perf regressions. And bug 1124258 is a better way to move forward with this which avoids the whole lineCount thing altogether.\n\nI'll clean up the test some too.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T22:36:09Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #29)\n> Also, did you verify that the test does not pass before this patch? I ask\n> because this bug is specifically about the way we re-set BPs after reload in\n> onNewScript, and I don't think this test exercises onNewScript between\n> setting the BP and hitting it.\n\nYes, I got the test failing first. I had to add the `getSources` call to force an initial population of the `ScriptStore`. That happens before I do my script evaluation, so my eval comes in just on `onNewScript`, with the `ScriptStore` already created, so it triggered the bug.\n\nI can add some more nesting, and play around with the IIFE pattern to try to trigger more failures.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T22:38:20Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #30)\n> This gets us back to how we were doing it before, at least. We *never* did\n> it correctly. I guess the cases where the line number is off tends to be\n> rarer in the 1-level nested children? Not sure. Are you sure it's even\n> possible in child scripts? I thought it had to do with the top-level script.\n\nNothing to do with top level: the lineCount is the offset from the startLine of the last bytecode attributed to that JSScript. Here is an example that should trigger the bad behavior in nested scripts:\n\n  (function () {\n    var a = \"whatever\";\n\n    // Last line in this script is going to be reported as the location of the\n    // following function invocation, because that should be the last bytecode\n    // generated for this JSScript.\n    (function () {\n      var b = \"more whatevs\";\n\n      // ditto\n      (function () {\n        var c = \"wha wha whateverrrrr\";\n\n        (function () {\n          var d = \"I think you get the point by now...\";\n\n          // No more bytecodes, so nothing down here affects this script's\n          // linecount.\n        }());\n\n        // ditto\n      }());\n\n      // ditto\n    }());\n\n    // ditto\n  }());",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T22:56:45Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #32)\n> (In reply to James Long (:jlongster) from comment #30)\n> > This gets us back to how we were doing it before, at least. We *never* did\n> > it correctly. I guess the cases where the line number is off tends to be\n> > rarer in the 1-level nested children? Not sure. Are you sure it's even\n> > possible in child scripts? I thought it had to do with the top-level script.\n> \n> Nothing to do with top level: the lineCount is the offset from the startLine\n> of the last bytecode attributed to that JSScript. Here is an example that\n> should trigger the bad behavior in nested scripts:\n> \n>   (function () {\n>     var a = \"whatever\";\n> \n>     // Last line in this script is going to be reported as the location of\n> the\n>     // following function invocation, because that should be the last\n> bytecode\n>     // generated for this JSScript.\n>     (function () {\n>       var b = \"more whatevs\";\n> \n>       // ditto\n>       (function () {\n>         var c = \"wha wha whateverrrrr\";\n> \n>         (function () {\n>           var d = \"I think you get the point by now...\";\n> \n>           // No more bytecodes, so nothing down here affects this script's\n>           // linecount.\n>         }());\n> \n>         // ditto\n>       }());\n> \n>       // ditto\n>     }());\n> \n>     // ditto\n>   }());\n\nPossible quick and dirty fix here: https://bugzilla.mozilla.org/show_bug.cgi?id=979094",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T23:02:39Z"
  }, {
    "text" : "Err bug 979094 comment 6",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T23:03:04Z"
  }, {
    "text" : "(Sorry for bug spam, meant to ni? in the other bug only).",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-21T23:03:26Z"
  }, {
    "text" : "Created attachment 8552796\n1122064.patch\n\nOnly responded to fitzgen's review, so no need to re-review I think. Also talked about this on IRC with him.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-22T01:41:32Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=ad23c388ca53",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-22T01:55:49Z"
  }, {
    "text" : "The failures in try are an unrelated intermittent that has been fixed (bug 1001821). Everything else is green. In these cases should I do another push or are we ok?",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-22T15:31:00Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/70bbdfcebfa5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-23T11:48:11Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/70bbdfcebfa5",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-23T17:25:47Z"
  }, {
    "text" : "Created attachment 8553849\nuplift-fix.patch\n\nApproval Request Comment\n[Feature/regressing bug #]: unknown\n[User impact if declined]: User can't set breakpoint on script nested 2 levels deep or higher. This is a serious regression that breaks many attempts to set breakpoints.\n[Describe test coverage new/current, TreeHerder]: new test has been added, landed on m-c\n[Risks and why]: This touches breakpoint code, might introduce new bugs, but it's already been tested on m-c and there's no risk to non-developers\n[String/UUID change made/needed]:",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-23T18:17:41Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/920056803536",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-26T16:58:46Z"
  }, {
    "text" : "[Tracking Requested - why for this release]:  Should also fix this in Beta, tracking to be sure it's not lost.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-26T19:08:27Z"
  }, {
    "text" : "James, I think we want to see that bug fixed in 36 too. Could you fill the uplift request? Thanks",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-01-28T13:56:21Z"
  }, {
    "text" : "Yep, I was letting it sit on Aurora for a few days. Will ask for uplift now!",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-02T16:47:13Z"
  }, {
    "text" : "Comment on attachment 8553849\nuplift-fix.patch\n\nApproval Request Comment\n[Feature/regressing bug #]: unknown\n[User impact if declined]: User can't set breakpoint on script nested 2 levels deep or higher. This is a serious regression that breaks many attempts to set breakpoints.\n[Describe test coverage new/current, TreeHerder]: new test added, working on m-c and aurora\n[Risks and why]: This touches breakpoint code, might introduce new bugs, but it's already been tested on m-c and there's no risk to non-developers\n[String/UUID change made/needed]:",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-02T19:57:49Z"
  }, {
    "text" : "This needs rebasing for beta.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-02T20:17:35Z"
  }, {
    "text" : "I've rebased, but there is a test failure that I'm trying to figure out. Will post a new patch asap.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-03T01:59:31Z"
  }, {
    "text" : "The breakpoint store did not actually make it out to beta. The thing that broke beta was changing `setBreakpoint` to take a Debugger.Script parameter and only setting breakpoints on that script. I don't know what bug that was in, but bug 1107682 accidentally fixed that so we just need to uplift that one.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-03T17:12:34Z"
  }, {
    "text" : "*** Bug 1124415 has been marked as a duplicate of this bug. ***",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-05T18:08:00Z"
  }, {
    "text" : "*** Bug 1117354 has been marked as a duplicate of this bug. ***",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-09T16:50:38Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:47Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:47Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "till@tillschneidereit.net",
      "date" : "2015-01-15T16:57:25Z",
      "what" : "attachments.isobsolete:8549692",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-15T17:04:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com, past@mozilla.com"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-15T17:04:12Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1057031"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-15T17:04:12Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1074182"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T18:08:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "standard8@mozilla.com",
      "date" : "2015-01-16T11:25:49Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regression"
    }, {
      "name" : "standard8@mozilla.com",
      "date" : "2015-01-16T11:25:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dmose@mozilla.org, standard8@mozilla.com"
    }, {
      "name" : "standard8@mozilla.com",
      "date" : "2015-01-16T11:25:49Z",
      "what" : "severity",
      "removed" : "normal",
      "added" : "major"
    }, {
      "name" : "dmose@mozilla.org",
      "date" : "2015-01-16T15:44:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-16T19:26:48Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regressionwindow-wanted"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T19:29:45Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T19:29:45Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T19:29:45Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T19:29:45Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T19:29:45Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "fayolle-florent@orange.fr",
      "date" : "2015-01-16T21:28:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "fayolle-florent@orange.fr"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T21:40:07Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jlong@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-19T16:48:21Z",
      "what" : "attachments.isobsolete:8550526",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T04:10:16Z",
      "what" : "attachments.isobsolete:8551368",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T17:57:59Z",
      "what" : "attachments.isobsolete:8552204",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T17:57:59Z",
      "what" : "attachments.isobsolete:8552215",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bdahl@mozilla.com",
      "date" : "2015-01-21T19:10:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bdahl@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T19:41:35Z",
      "what" : "attachments.isobsolete:8552556",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T20:25:32Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1124258"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-21T23:02:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-22T01:41:32Z",
      "what" : "attachments.isobsolete:8552607",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-22T15:31:00Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-22T17:42:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-23T11:48:11Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-23T11:48:11Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:47Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:47Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:47Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-23 09:25:47"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-26T16:58:46Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-26T16:58:46Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-26T19:08:27Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T13:56:21Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T13:56:21Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T20:17:35Z",
      "what" : "keywords",
      "removed" : "regressionwindow-wanted",
      "added" : "branch-patch-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-04T15:41:19Z",
      "what" : "keywords",
      "removed" : "branch-patch-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-04T15:41:19Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T18:08:00Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-09T16:50:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "optout1@cresby.com"
    } ],
    "flagEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-16T17:08:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-16T21:44:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550526,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-16T21:58:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8550526,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T03:48:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-21T17:09:55Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T17:57:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8552556,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T18:00:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8552556,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T19:41:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8552607,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-21T22:20:27Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8552607,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-21T23:02:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-21T23:03:26Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(ttromey@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:47Z",
      "what" : "flagtypes.name",
      "removed" : "in-testsuite?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-23T18:17:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8553849,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-24T18:34:49Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8553849,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T13:56:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-02T16:47:13Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jlong@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-02T19:57:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8553849,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-02T20:09:20Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8553849,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T20:17:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-03T01:59:31Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jlong@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1122064,
  "cclist" : [ "bdahl@mozilla.com", "bgrinstead@mozilla.com", "dmose@mozilla.org", "ejpbruel@mozilla.com", "fayolle-florent@orange.fr", "jaws@mozilla.com", "jlong@mozilla.com", "jordan@jsantell.com", "jryans@gmail.com", "nfitzgerald@mozilla.com", "optout1@cresby.com", "past@mozilla.com", "sledru@mozilla.com", "standard8@mozilla.com", "ttromey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Telemetry for New Performance Tool",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Beyond general open/closing of the tool:\n\n* Duration of each profile\n* How many \"recordings\" are done at once (how many items are in the recording list on the side)\n* Metrics on save/importing\n* Most common \"details\" view\n* Counter of manually started recordings\n* Counter of console[profile|timeline] started recordings",
  "comments" : [ {
    "text" : "Beyond general open/closing of the tool:\n\n* Duration of each profile\n* How many \"recordings\" are done at once (how many items are in the recording list on the side)\n* Metrics on save/importing\n* Most common \"details\" view\n* Counter of manually started recordings\n* Counter of console[profile|timeline] started recordings",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-15T16:46:12Z"
  }, {
    "text" : "Going through current telemetry (bug 1098374), noticed that there are some changes to how we're collecting this information. Is there a good source to look at how it -should- be done? Including the basic opening/closing of the tool, as well as the extra info to collect from comment #1?",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-05T19:02:37Z"
  }, {
    "text" : "There are some comments at the top of browser/devtools/shared/telemetry.js:\n```\n/**\n * Telemetry.\n *\n * To add metrics for a tool:\n *\n * 1. Create boolean, flag and exponential entries in\n *    toolkit/components/telemetry/Histograms.json. Each type is optional but it\n *    is best if all three can be included.\n *\n * 2. Add your chart entries to browser/devtools/shared/telemetry.js\n *    (Telemetry.prototype._histograms):\n *    mytoolname: {\n *      histogram: \"DEVTOOLS_MYTOOLNAME_OPENED_BOOLEAN\",\n *      userHistogram: \"DEVTOOLS_MYTOOLNAME_OPENED_PER_USER_FLAG\",\n *      timerHistogram: \"DEVTOOLS_MYTOOLNAME_TIME_ACTIVE_SECONDS\"\n *    },\n *\n * 3. toolbox.js will automatically ping telemetry with your tools opening and\n *    timing information.\n *\n * Note:\n * You can view telemetry stats for your local Firefox instance via\n * about:telemetry.\n *\n * You can view telemetry stats for large groups of Firefox users at\n * telemetry.mozilla.org.\n */\n```\n\nFor extra stuff you can create the histogram then use this pattern:\n```\nthis._telemetry = new Telemetry();\nthis._telemetry.log(TABS_OPEN_PEAK_HISTOGRAM, 10);\n```\n\nTo decide which charts to use check:\nhttps://developer.mozilla.org/docs/Mozilla/Performance/Adding_a_new_Telemetry_probe\n\nIf you need to know anything else then feel free to give me a shout.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-18T14:31:53Z"
  }, {
    "text" : "We already have the telemetry hooks that were available for the old profiler. Adding new things can be done after shipping.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-12T16:56:23Z"
  }, {
    "text" : "Bug 1075567 was repurposed to mean \"v2\". Unblocking.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-20T17:26:41Z"
  }, {
    "text" : "Should get these in sooner than later -- what else can we track?",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-07-16T23:10:42Z"
  }, {
    "text" : "Thinking about types[0] of telemetry and what we'd want to know -- I'd like way more granular than telemetry allows, but this is a good start, I think. Will let us know how many people are importing/exporting, what views are in use (how can we get time per view?) and whether or not people are using certain options.\n\n* DURATION: record final duration upon recording completion (exponential)\n* RECORDING: record and increment the number of recordings done (count)\n* CONSOLE_PROFILE: record how many times a console.profile() recording is done (count)\n* RECORDING_EXPORT: whether a recording was exported (flag)\n* RECORDING_IMPORT: whether a recording was imported (flag)\n* VIEWS_USED: whether a view was used in the session, one for each view (flag)\n* OPTIONS_USED: on load, and on change, check options used for recording and set to true if it was used at all in session (flag)\n\n[0] https://developer.mozilla.org/en-US/docs/Mozilla/Performance/Adding_a_new_Telemetry_probe",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-08-08T17:15:02Z"
  }, {
    "text" : "Created attachment 8645390\n1122058-telemetry.patch\n\nSo here are some telemetry results. Biggest question is are these all the best types of metrics to record, or if there are any other things we should be recording.\n\nThe DEVTOOLS_PERFTOOLS_SELECTED_VIEW_MS one starts and stops timers when changing views, and want to make sure I understand \"keyed\" values correctly. And if it's ok just using \"true\" as a value for flags and counts.\n\nIf this looks good I'll add some tests.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-08-08T21:10:45Z"
  }, {
    "text" : "Comment on attachment 8645390\n1122058-telemetry.patch\n\nReview of attachment 8645390:\n-----------------------------------------------------------------\n\nReally happy to see all of these.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-08-09T20:55:30Z"
  }, {
    "text" : "Created attachment 8658955\n1122058-telemetry.patch\n\nFixed up a few things, added tests; Victor for changes and workings in performance/*, Mike for changes to telemetry and the types of histograms used",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-09-09T22:22:03Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=125fa25b1138",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-09-09T22:22:12Z"
  }, {
    "text" : "NI for privacy review",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-09-09T23:13:17Z"
  }, {
    "text" : "Comment on attachment 8658955\n1122058-telemetry.patch\n\nSince this is opt-in (prerelease), the requirements aren't very strict for these. My comments/questions:\n\nWho is responsible for monitoring the data? Especially for measurements that never expire, we still want a clear reason to collect permanently and a designated owner who commits to monitoring the data at a minimum monthly.\n\nAre the existing telemetry dashboards sufficient for monitoring, or will you be developing a custom dashboard for monitoring?\n\nThe docs in histograms.json are pretty light. In particular for the keyed histogram DEVTOOLS_PERFTOOLS_SELECTED_VIEW_MS and DEVTOOLS_PERFTOOLS_RECORDING_FEATURES_USED, what kinds of things will be in the key? We need to make sure that isn't privacy-sensitive. Do you have examples?\n\nn_buckets: 10000 is much too large. The data is sent in an array of n_buckets size, e.g. [0,0,0,0,1,4,0,0,0,0,0,...] and so large numbers cost a lot of bandwidth for the user and money to parse and store. Typically we want n_buckets to be less than 100, and hopefully smaller than that.\n\nPlease set feedback? when this is done.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-09-10T14:01:19Z"
  }, {
    "text" : "@bsmedberg: Jeff Griffiths is responsible for monitoring our telemetry data so you are best speaking to him.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-09-10T14:04:11Z"
  }, {
    "text" : "@jsantell: bsmedberg's n_buckets comment should obviously be addressed before we land this.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-09-10T14:06:24Z"
  }, {
    "text" : "I'll want to mark a privacy feedback+ before you land this as well.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-09-10T14:30:52Z"
  }, {
    "text" : "Created attachment 8659408\n1122058-telemetry.patch\n\nLowered n_buckets to 20\nAdded better descriptions and example data for the keyed fields\n\nI'm not sure if the current dashboards are sufficient for this data -- Jeff I think can answer that better than I can.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-09-10T18:42:29Z"
  }, {
    "text" : "(In reply to Jordan Santell [:jsantell] [@jsantell] from comment #16)\n> Created attachment 8659408\n> 1122058-telemetry.patch\n> \n> Lowered n_buckets to 20\n> Added better descriptions and example data for the keyed fields\n> \n> I'm not sure if the current dashboards are sufficient for this data -- Jeff\n> I think can answer that better than I can.\n\nThe current custom dashboard I have doesn't use this at all. Telemetry is in the middle of changing a lot ( the new main dashboard is potentially much more useful as-is ) so I think we need some time to evaluate if it's enough. I got pretty good results with the system / screensize measures we added recently just by exporting csv into a spreadsheet.",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-09-10T22:29:58Z"
  }, {
    "text" : "Comment on attachment 8659408\n1122058-telemetry.patch\n\nIt turns out I was completely wrong about n_buckets: we record those using a keyed system that only records the buckets. I still recommend smaller buckets to make it easier to visualize, but it's not necessary.\n\nI still need to have a definite answer that Jeff is committing to monitoring this data regularly and either has or will develop the dashboards to do that.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-09-11T12:56:18Z"
  }, {
    "text" : "(In reply to Benjamin Smedberg  [:bsmedberg] from comment #18)\n> Comment on attachment 8659408\n> 1122058-telemetry.patch\n> \n> It turns out I was completely wrong about n_buckets: we record those using a\n> keyed system that only records the buckets. I still recommend smaller\n> buckets to make it easier to visualize, but it's not necessary.\n> \n> I still need to have a definite answer that Jeff is committing to monitoring\n> this data regularly and either has or will develop the dashboards to do that.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-09-11T19:42:39Z"
  }, {
    "text" : "(In reply to Jordan Santell [:jsantell] [@jsantell] from comment #19)\n> (In reply to Benjamin Smedberg  [:bsmedberg] from comment #18)\n> > Comment on attachment 8659408\n> > 1122058-telemetry.patch\n> > \n> > It turns out I was completely wrong about n_buckets: we record those using a\n> > keyed system that only records the buckets. I still recommend smaller\n> > buckets to make it easier to visualize, but it's not necessary.\n> > \n> > I still need to have a definite answer that Jeff is committing to monitoring\n> > this data regularly and either has or will develop the dashboards to do that.\n\nYes we are and I think the new generic dashboard is good enough for now. needinfo'ing to ensure you see this.",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-09-11T20:01:47Z"
  }, {
    "text" : "Yep, we're all good then.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-09-11T20:55:00Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/5d0470be49b3",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-09-12T15:40:57Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/206f2986ff80",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-09-12T16:13:01Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/5d0470be49b3\nhttps://hg.mozilla.org/mozilla-central/rev/206f2986ff80",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-09-12T23:01:09Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-08T21:10:45Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T23:01:09Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T23:01:09Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T16:46:25Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-16T06:08:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1077462"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-27T17:47:07Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T19:02:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mratcliffe@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T02:57:12Z",
      "what" : "blocks",
      "removed" : "1077462",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:57:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:57:17Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T16:56:23Z",
      "what" : "blocks",
      "removed" : "1123815",
      "added" : "1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-20T17:26:41Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-14T03:51:45Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-30T16:30:18Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-07-16T23:10:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1184585"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-07T22:45:43Z",
      "what" : "blocks",
      "removed" : "1184585",
      "added" : "1191480"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-08T21:10:45Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-09T22:22:03Z",
      "what" : "attachments.isobsolete:8645390",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-09T23:13:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "benjamin@smedbergs.us"
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-09-10T14:01:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-09-10T14:04:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-10T18:42:29Z",
      "what" : "attachments.isobsolete:8658955",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T23:01:09Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 43"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T23:01:09Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-09-12 16:01:09"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T23:01:09Z",
      "what" : "cf_status_firefox43",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T19:02:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-18T14:31:53Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mratcliffe@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-08T21:10:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8645390,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-08-09T20:55:30Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8645390,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-08-12T16:30:45Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(mratcliffe@mozilla.com)",
      "added" : "",
      "attachmentId" : 8645390,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-09T22:22:03Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8658955,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-09T23:13:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-09-10T09:48:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8658955,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-09-10T14:01:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(benjamin@smedbergs.us)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-09-10T14:02:01Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mratcliffe@mozilla.com)",
      "added" : "",
      "attachmentId" : 8658955,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-09-10T14:04:11Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-09-10T14:06:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-10T18:42:29Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-10T18:42:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8659408,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-09-10T22:29:58Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jgriffiths@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-09-11T12:56:18Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(benjamin@smedbergs.us)",
      "added" : "",
      "attachmentId" : 8659408,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-09-11T19:42:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-09-11T20:01:47Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jgriffiths@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-09-11T20:55:00Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(benjamin@smedbergs.us)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1122058,
  "cclist" : [ "benjamin@smedbergs.us", "jgriffiths@mozilla.com", "jordan@jsantell.com", "mratcliffe@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Animation Inspector",
  "summary" : "Show users when an animation is running on the compositor in the Animations panel",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "edoardo.putti@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "The Web Animations API provides us with the isRunningOnCompositor property on AnimationPlayer objects.\nKnowing whether an animation is running on the compositor or not is useful for animation authors to know whether they are hitting the fast path or not.\n\nIt would therefore be useful to highlight those animations that are currently running on the compositor in the animation panel UI.\nI think just an icon with a tooltip would be sufficient.\n\nNote that this is currently only true for Firefox OS though (where we have compositor animations enabled), and will be false whenever the animation is paused as it is taken off the compositor then.",
  "comments" : [ {
    "text" : "The Web Animations API provides us with the isRunningOnCompositor property on AnimationPlayer objects.\nKnowing whether an animation is running on the compositor or not is useful for animation authors to know whether they are hitting the fast path or not.\n\nIt would therefore be useful to highlight those animations that are currently running on the compositor in the animation panel UI.\nI think just an icon with a tooltip would be sufficient.\n\nNote that this is currently only true for Firefox OS though (where we have compositor animations enabled), and will be false whenever the animation is paused as it is taken off the compositor then.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T10:06:54Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #0)\n> Note that this is currently only true for Firefox OS though (where we have\n> compositor animations enabled), and will be false whenever the animation is\n> paused as it is taken off the compositor then.\nDavid Baron recently landed a patch in bug 980770 that enables off main thread animations on desktop too (only for opacity and transform for now). So that makes this bug more interesting.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-01T07:20:09Z"
  }, {
    "text" : "Hi Patrick,\n\nI can work on this if you could guide me where I need to make the changes.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-04-03T18:21:24Z"
  }, {
    "text" : "Thanks. I've assigned the bug to you.\n\nThe file responsible for displaying the UI widget for a given animation is:\n/browser/devtools/animationinspector/animation-panel.js\n\nAnd in that file, the class that generates/updates the markup is:\nPlayerWidget\n\nIn that class, the information that the corresponding animation is running on the compositor is already accessible via: this.player.state.isRunningOnCompositor.\n\nKnow that the player's state is updated on a regular basis so this boolean can be updated dynamically.\nonStateChanged is the callback that runs every time the state is updated.\n\nIn terms of UI, to be honest, I haven't thought a lot about how we could represent this piece of information yet. So let's start simple for now and have a small icon indicator in the meta-data header part of the PlayerWidget (that's where the animation name, duration, etc. are displayed).\n\nThis part is actually managed by another widget: PlayerMetaDataHeader which gets refreshed by PlayerWidget whenever the state changes.\nThe PlayerMetaDataHeader's init function is where the markup is created the first time, and then the render(state) method is called whenever the state changes.\nSo you should be able to quite easily add an indicator in there that shows the user if the animation is running on the compositor or not.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-07T07:45:30Z"
  }, {
    "text" : "Patrick,\n\nfrom what I understand, I should be adding the code below this line in the \"running\" case:\nhttps://mxr.mozilla.org/mozilla-central/source/browser/devtools/animationinspector/animation-panel.js#427\n\nI'm guessing I need to check the value of bool this.player.state.isRunningOnCompositor, and if true, I should create an object of the class PlayerWidget. But I didn't understand how to go ahead from here.\n\nCan you please give me some more details on how to go forward with this?",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-04-13T16:36:10Z"
  }, {
    "text" : "(In reply to Chirag Bhatia from comment #4)\n> Patrick,\n> \n> from what I understand, I should be adding the code below this line in the\n> \"running\" case:\n> https://mxr.mozilla.org/mozilla-central/source/browser/devtools/\n> animationinspector/animation-panel.js#427\nI think this new indicator should rather be in the PlayerMetaDataHeader: https://mxr.mozilla.org/mozilla-central/source/browser/devtools/animationinspector/animation-panel.js#577\nSo, you should create a new piece of UI for it in the init function  here: https://mxr.mozilla.org/mozilla-central/source/browser/devtools/animationinspector/animation-panel.js#584\nAnd then update it dynamically, when the state changes here:\nhttps://mxr.mozilla.org/mozilla-central/source/browser/devtools/animationinspector/animation-panel.js#673\nby using something like this:\nif (state.isRunningOnCompositor !== this.state.isRunningOnCompositor) {\n  // ... update the UI\n}",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-14T08:28:48Z"
  }, {
    "text" : "Forgot to mark as assigned.\nChirag, when do you think you could have a fix ready for this?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-05-04T07:32:53Z"
  }, {
    "text" : "Hi Patrick,\n\nSorry for the late reply. I've not been able to put aside time for this lately.\n\nI think it would be better to assign this bug to someone else. Thanks for your help though, I really appreciate it.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-05-06T17:23:45Z"
  }, {
    "text" : "Created attachment 8612537\ndevtool.show.compositor\n\ndraft patch",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-05-28T21:07:34Z"
  }, {
    "text" : "Hello Patrick,\n\nI attached a patch that still need polishing but I think that it should do the hard work.\n\nEdoardo",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-05-28T21:08:57Z"
  }, {
    "text" : "Created attachment 8612539\nSchermata da 2015-05-28 23:09:25.png\n\na screenshot showing the new element with the tooltip",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-05-28T21:11:00Z"
  }, {
    "text" : "Just a suggestion- instead of hardcoding the string of the Icon name in components.js you may add the string value to https://mxr.mozilla.org/mozilla-central/source/browser/locales/en-US/chrome/browser/devtools/animationinspector.properties and set it in your code as\n\nthis.compositorIcon.textContent = L10N.getStr(\"<KEY_VALUE>\");\n\n-for localization support.",
    "authour" : "avikpal.me@gmail.com",
    "created" : "2015-05-30T18:25:29Z"
  }, {
    "text" : "Created attachment 8613246\ndevtool.show.compositor\n\nAs requested, the updated patch with localization draft. Thanks for the suggestion.",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-05-30T18:55:14Z"
  }, {
    "text" : "Comment on attachment 8613246\ndevtool.show.compositor\n\nReview of attachment 8613246:\n-----------------------------------------------------------------\n\nThis is definitely the right direction, the code is nice and looks exactly like what we need.\nNow, we need some css styling to make it look nice:\n- perhaps have the icon to the left of \"duration\" instead of aligned to the far right, so that the duration, delay, iterations are always right-aligned,\n- we'll need to find an image icon instead of the button, something that conveys the idea that the animation is on the \"fast track\" (all devtools images are in /browser/themes/shared/devtools/images/).\nNext, we'll also need to add a new test for this, you should look into the existing tests at /browser/devtools/animationinspector/test/ , there is already a number of them that check that the duration, delay, iteration information are displayed correctly.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-01T10:38:55Z"
  }, {
    "text" : "Created attachment 8613523\nrocket.png\n\nicon proposal",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-01T14:48:23Z"
  }, {
    "text" : "I could not find a suitable icon so I thought that I could give a try",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-01T14:49:18Z"
  }, {
    "text" : "I am a little confused by the way to style the element, I found the animationinspector.css file but when I tried to reference a new icon in the images directory I got a \"element not found\" in the computed properties.\n\nMoreover what should we add this node to? To the metadata node or to the \"root\" node of the PlayerMetaDataHeader?",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-03T10:20:39Z"
  }, {
    "text" : "(In reply to Edoardo Putti [:edoput] from comment #16)\n> I am a little confused by the way to style the element, I found the\n> animationinspector.css file but when I tried to reference a new icon in the\n> images directory I got a \"element not found\" in the computed properties.\nSo, if you add a new image to devtools, you also need to reference it in jar.mn files so they get packaged at build time.\nIf you put your image in /browser/themes/shared/devtools/images/, then reference that path in:\n/browser/themes/windows/jar.mn\n/browser/themes/osx/jar.mn\n/browser/themes/linux/jar.mn\nSearch for other devtools images in these files, it will be obvious what you need to add.\n\n> Moreover what should we add this node to? To the metadata node or to the\n> \"root\" node of the PlayerMetaDataHeader?\nThe node should be appended to metaData in PlayerMetaDataHeader I think, just like the duration label.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-04T12:16:21Z"
  }, {
    "text" : "Created attachment 8615933\ndevtool.show.compositor\n\nAnother try,\n\nThe icon is now a \"sort of\" lightning, the rocket was too blurry as an icon.\nThe icon is now referenced in the 3 platform files.\nThe css to show the icon is just a quick fix, maybe the icon should be scaled to 12px or something.\nI moved the new metadata to the top of the metadata-header element, it shouldn't be a problem in the automated test.\nI've added a very dummy test, is it enough?",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-05T11:06:34Z"
  }, {
    "text" : "Created attachment 8615934\nSchermata da 2015-06-05 13:09:47.png\n\nscreenshot",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-05T11:11:33Z"
  }, {
    "text" : "Created attachment 8615985\ndevtool.show.compositor\n\nThe test is working now, I got tricked by the test command. It didn't execute anything before so I could not provide a working test, sorry.",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-05T14:28:34Z"
  }, {
    "text" : "Comment on attachment 8615985\ndevtool.show.compositor\n\nReview of attachment 8615985:\n-----------------------------------------------------------------\n\nThis is very nice, thanks.\nI've made a number of comments below. The main problem I found was that the tooltip is really hard to get to. For me it only appears if I hover over the top 1px of the image. This is because of the <input /> that we use for the timeline, it sticks out of its container somehow (for a reason I was not able to explain yet) and prevents the mouse from hovering nearby elements.\nI'd like to fix the underlying issue, but I can't figure out how, so instead, you can simply fix this by adding this to the CSS:\n\n.animation-title .meta-data .compositor-icon {\n  z-index: 1;\n  position: relative;\n}\n\n::: browser/devtools/animationinspector/components.js\n@@ +76,5 @@\n> +    this.compositorIcon = createNode({\n> +       parent: metaData,\n> +       nodeType: \"span\",\n> +       attributes: {\n> +         \"style\": \"display:none\",\n\nCan you remove this inline style and instead add display:none to the css file?\n\n::: browser/devtools/animationinspector/test/browser_animation_playerWidgets_compositor_icon.js\n@@ +16,5 @@\n> +  let compositorEl= panel.playerWidgets[0].el.querySelector(\".compositor-icon\");\n> +  ok(compositorEl, \"The compositor-icon element exists\");\n> +\n> +  ok(isNodeVisible(compositorEl),\n> +    \"The compositor icon is visible, since the animation is running on compositor thread\");\n\nI'm worried that this test may sometimes fail on our test infra, depending on the machine that runs the test.\nLet's keep this in for the time being, and we'll see on TRY if that fails. If it does, I suggest we change this test to temper the AnimationPlayer at run-time and assert that the icon is visible.\n\n@@ +17,5 @@\n> +  ok(compositorEl, \"The compositor-icon element exists\");\n> +\n> +  ok(isNodeVisible(compositorEl),\n> +    \"The compositor icon is visible, since the animation is running on compositor thread\");\n> +\n\nnit: remove this empty line.\n\n::: browser/themes/osx/jar.mn\n@@ +540,5 @@\n>    skin/classic/browser/devtools/app-manager/plus.svg                  (../shared/devtools/app-manager/images/plus.svg)\n>    skin/classic/browser/devtools/app-manager/remove.svg                (../shared/devtools/app-manager/images/remove.svg)\n>    skin/classic/browser/devtools/app-manager/add.svg                   (../shared/devtools/app-manager/images/add.svg)\n>    skin/classic/browser/devtools/app-manager/index-icons.svg           (../shared/devtools/app-manager/images/index-icons.svg)\n> +  skin/classic/browser/devtools/rocket.svg                            (../shared/devtools/images/rocket.svg)\n\nThis is a leftover change that should be removed. Especially that it breaks the build for me locally since rocket.svg does not exist.\n\n::: browser/themes/shared/devtools/animationinspector.css\n@@ +147,5 @@\n>    margin: 0 .5em;\n>  }\n>  \n> +.animation-title .meta-data .compositor-icon::before {\n> +  content: url(animation-fast-track.svg);\n\nThis content pushes the line-height a little bit, so when an animation stops being run on the compositor (if you pause it for instance), then the header jumps a bit.\nI would suggest doing this instead:\n\ncontent: \"\";\nbackground-image: url(animation-fast-track.svg);\npadding-left: 12px;\n\nAlso, can you make the image be a little bit smaller so it's roughly the same size as the text.\n\n@@ +149,5 @@\n>  \n> +.animation-title .meta-data .compositor-icon::before {\n> +  content: url(animation-fast-track.svg);\n> +  height: 80%;\n> +  width: 80%;\n\nThese don't make any difference for me locally, can you remove the width/height?\n\n::: browser/themes/shared/devtools/images/animation-fast-track.svg\n@@ +1,2 @@\n> +<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n> +<!-- Created with Inkscape (http://www.inkscape.org/) -->\n\nThis comment should be removed, and instead, you should add the license header like in the other svg files in the same directory:\n\n<!-- This Source Code Form is subject to the terms of the Mozilla Public\n   - License, v. 2.0. If a copy of the MPL was not distributed with this\n   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->\n\nAlso, the file contains a lot of tags and attributes that aren't needed for the image to be displayed properly, a lot of inkspace metadata that should be removed.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-05T15:27:08Z"
  }, {
    "text" : "Created attachment 8616194\ndevtool.show.compositor\n\nCandidate with:\n\n- dummy test\n- \"clean\" svg\n- interface working\n- css style referencing element instead of ::before",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-05T20:07:04Z"
  }, {
    "text" : "Comment on attachment 8616194\ndevtool.show.compositor\n\nReview of attachment 8616194:\n-----------------------------------------------------------------\n\nThis looks great, thanks for addressing my comments.\nI only have minor comments about code formatting (see https://wiki.mozilla.org/DevTools/CodingStandards) but nothing that requires a new review.\nAlso, can you please update the commit message? It should be formatted like this:\nBug <number> - <short description>; r=<reviewername>\nSo in your case, something like:\nBug 1121896 - Show when animations are running on the compositor in the animation panel; r=pbrosset\nOnce done, please upload the new patch here and mark it as R+\nWe need to push this to TRY to make sure all tests still pass by TRY is closed right now, I'll do this later.\n\n::: browser/devtools/animationinspector/components.js\n@@ +78,5 @@\n> +       nodeType: \"span\",\n> +       attributes: {\n> +         \"class\": \"compositor-icon\"\n> +       }\n> +     });\n\nnit: the indentation is off on the previous block, the line comment is indented by 5 spaces instead of 4, the option properties are indented by 7 instead of 6, etc...\nCan you clean this up?\n\n@@ +197,5 @@\n> +       } else {\n> +         // Hide the compositor icon\n> +         this.compositorIcon.style.display = \"none\";\n> +       }\n> +     }\n\nnit: indentation is also off by 1 space here.\nFor info, we started using eslint on the devtools code base to help with these and avoid having to look at that during reviews, feel free to take a look at this doc: https://wiki.mozilla.org/DevTools/CodingStandards\n\n::: browser/devtools/animationinspector/test/browser_animation_playerWidgets_compositor_icon.js\n@@ +16,5 @@\n> +  let compositorEl= panel.playerWidgets[0].el.querySelector(\".compositor-icon\");\n> +  ok(compositorEl, \"The compositor-icon element exists\");\n> +  ok(isNodeVisible(compositorEl),\n> +    \"The compositor icon is visible, since the animation is running on compositor thread\");\n> +\n\nnit: please remove this extra empty line.\n\n::: browser/themes/shared/devtools/animationinspector.css\n@@ +150,5 @@\n> +.animation-title .meta-data .compositor-icon {\n> +    display: none;\n> +    background-image: url(\"animation-fast-track.svg\");\n> +    background-repeat: no-repeat;\n> +    z-index: 1;\n\nI think the z-index and position trick requires a comment because it's not immediately visible why it's useful, even removing it from the code won't change anything visually, so it's very probable that it gets removed by mistake in the future.\nSo can you just add a comment like:\n\n/* Make sure the icon is positioned above the timeline range input\n   so that its tooltip appears on hover */",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-09T07:40:28Z"
  }, {
    "text" : "Reminder to push to TRY when it opens again.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-09T07:44:21Z"
  }, {
    "text" : "Pending try push for the patch: https://treeherder.mozilla.org/#/jobs?repo=try&revision=4834d9e363ef\nPlease keep an eye on this page, once all test jobs turns green we can ask for the patch to be checked-in. Otherwise, that means the patch causes some test failures that we'll need to investigate.\n\nPlease note that the current patch does not apply cleanly on fx-team anymore, it needs to be rebased. Can you make sure you update to the latest fx-team and rebase before submitting a new patch with the corrections from comment 23.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-09T19:59:15Z"
  }, {
    "text" : "> Please note that the current patch does not apply cleanly on fx-team anymore, it needs to be rebased. Can you make sure you update to the latest fx-team and rebase before submitting a new patch with the corrections from comment 23.\n\nI think I made a mess. I rebased the patch this morning but I also commited the patch in the repo history. I surely don't have push access to the remote repository, so what do I do next?\n\nThis is the current history in my local repo.\n\n>changeset:   248777:57e668dfdea3\n>tag:         tip\n>utente:      Edoardo Putti <edoardo.putti@gmail.com>\n>data:        Sun Jun 14 11:01:22 2015 +0200\n>sommario:    Bug 1121896 - Show when animations are running on the compositor in the animation panel; >r=pbrosset\n>\n>changeset:   248776:c223b8844264\n>genitore:    248720:e3ab171ddd37\n>genitore:    248775:f9e71f980245\n>utente:      Phil Ringnalda <philringnalda@gmail.com>\n>data:        Sat Jun 13 19:49:13 2015 -0700\n>sommario:    Merge m-i to m-c, a=merge\n>\n>changeset:   248775:f9e71f980245\n>utente:      Phil Ringnalda <philringnalda@gmail.com>\n>data:        Sat Jun 13 14:41:15 2015 -0700\n>sommario:    Back out fd36716d1f9d (bug 1162986) for mostly-Win8-debug devtools crashes",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-14T10:07:26Z"
  }, {
    "text" : "(In reply to Edoardo Putti [:edoput] from comment #26)\n> > Please note that the current patch does not apply cleanly on fx-team anymore, it needs to be rebased. Can you make sure you update to the latest fx-team and rebase before submitting a new patch with the corrections from comment 23.\n> \n> I think I made a mess. I rebased the patch this morning but I also commited\n> the patch in the repo history. I surely don't have push access to the remote\n> repository, so what do I do next?\n\nAssuming you are using mq, you can `hg qpop -a` then `hg qimport -r 57e668dfdea3` and it will create a new patch in your queue with that commit (while removing it from the commit history in the repo).  Then you can pull and qpush it to fix any rejections / rebase.  There's a little more info about that here: https://developer.mozilla.org/en-US/docs/Mercurial_Queues#Reference.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-06-14T23:38:01Z"
  }, {
    "text" : "Created attachment 8623272\npatch candidate\n\npatch candidate\n\n- removed extra empty line\n- added comment to css property\n- fixed extra indentation",
    "authour" : "edoardo.putti@gmail.com",
    "created" : "2015-06-16T20:43:47Z"
  }, {
    "text" : "Comment on attachment 8623272\npatch candidate\n\nReview of attachment 8623272:\n-----------------------------------------------------------------\n\n::: browser/themes/shared/devtools/images/animation-fast-track.svg\n@@ +1,4 @@\n> +<!-- This Source Code Form is subject to the terms of the Mozilla Public\n> +   - License, v. 2.0. If a copy of the MPL was not distributed with this\n> +   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->\n> +\n\nnit : Can this blank line be removed ?\n\n@@ +5,5 @@\n> +<svg\n> +   xmlns=\"http://www.w3.org/2000/svg\"\n> +   width=\"9\"\n> +   height=\"12\"\n> +   docname=\"animation-fast-track.svg\">\n\ndocname attribute isn't needed here.\nAlso, can you put all the attributes on the same line as the tagname ?\n\n@@ +7,5 @@\n> +   width=\"9\"\n> +   height=\"12\"\n> +   docname=\"animation-fast-track.svg\">\n> +  <g\n> +     transform=\"matrix(1.0251088,0,0,0.85613344,-3.1546734,-888.94343)\">\n\nSame comment about the attributes.\n\n@@ +9,5 @@\n> +   docname=\"animation-fast-track.svg\">\n> +  <g\n> +     transform=\"matrix(1.0251088,0,0,0.85613344,-3.1546734,-888.94343)\">\n> +    <path\n> +       d=\"m 5.1284819,1038.3667 6.4950901,0 -2.7147491,4.6651 2.9438561,0 -8.1148915,9.3081 1.6126718,-6.8973 -2.2701022,0 z\"\n\nSame comment about the attributes\n\n@@ +10,5 @@\n> +  <g\n> +     transform=\"matrix(1.0251088,0,0,0.85613344,-3.1546734,-888.94343)\">\n> +    <path\n> +       d=\"m 5.1284819,1038.3667 6.4950901,0 -2.7147491,4.6651 2.9438561,0 -8.1148915,9.3081 1.6126718,-6.8973 -2.2701022,0 z\"\n> +       style=\"fill:#4cb0e1;fill-opacity:1;stroke:none\"/>\n\nfill-opacity and stroke properties are not needed, since they are set to their default value.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-06-16T21:32:30Z"
  }, {
    "text" : "That last patch doesn't seem to be correct, it misses some changes. Let me try and clean this up a bit. I'll upload a new one shortly.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-17T07:25:51Z"
  }, {
    "text" : "For info, here are 2 workflows with Mercurial that should help you avoid making a mess when rebasing/rewriting commits:\n\n- With MQ:\n  - (for info, Mercurial people advise against using MQ, because it's a very hacky way to play with Mercurial's internal data storage, but it's very convenient for working on Mozilla patches)\n  - clone the repo:\n    hg clone http://hg.mozilla.org/integration/fx-team\n  - make your changes and create your first patch:\n    hg qnew name-of-patch.diff\n  - make more changes and integrate them in the same patch as you go:\n    hg qref\n  - change the commit message:\n    hg qref -m \"Bug 123456 - Something I changed\"\n  - after a while, you want to download the latest fx-team updates again, make sure you pop your patch\n    hg qpop\n    (or hg qpop -a if you have several patches applied)\n    Never try to update the repo before poping your changes first.\n  - update your repo:\n    hg pull -u\n  - re-apply your changes on top\n    hg qpush\n    (at this stage, if files you changed have changed in the repo too, you'll need to merge, MQ will save *.rej files that you'll need to merge by hand, run again hg qref when done).\n\n- Without MQ, just using Mercurial and a few default extensions:\n  - clone the repo:\n    hg clone http://hg.mozilla.org/integration/fx-team\n  - make your changes and create your first commit:\n    hg commit -m \"Bug 123456 - Something I changed\"\n  - make more changes and integrate them in the same commit as you go:\n    hg commit -m \"more changes\"\n    hg commit -m \"more changes\"\n    hg histedit -r <revset of first commit you made>\n    Then in the histedit editor, use \"f\" to fold all other commits into the first one.\n    You can also use this step to change the commit message if needed.\n  - after a while, you want to download the latest fx-team updates again, make sure you update to fx-team first\n    hg up fx-team (I think using the fx-team tag name requires to have the firefoxtree extension, which I recommend http://mozilla-version-control-tools.readthedocs.org/en/latest/hgmozilla/firefoxtree.html)\n  - update your repo:\n    hg pull fx-team -u\n  - re-apply your changes on top\n    hg up <revset of your commit>\n    hg rebase -d fx-team\n    (at this stage, you may need to merge, but unlike MQ, you'll have the possibility to use a real diff/merge tool here, like kdiff3 for example).",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-17T08:03:58Z"
  }, {
    "text" : "Created attachment 8623530\nbug1121896-compositor.patch\n\nSo, I started from your previous patch, integrated your latest changes (from my last review) and also integrated the changes advised by Tim (thanks Tim!).\nI ran a last couple of tests locally, everything seems ok.\nSince the last TRY push was green, let's check this in.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-17T08:34:07Z"
  }, {
    "text" : "Just spotted something weird, there's an unrelated change in there, the removal of an image from a jar.mn file.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-17T08:36:17Z"
  }, {
    "text" : "Created attachment 8623534\nbug1121896-compositor.patch",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-17T08:40:09Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/06d8b833c6a2",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-06-17T16:25:16Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/06d8b833c6a2",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-06-17T19:24:34Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-05-04T07:32:53Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-05-11T08:54:20Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-06-16T21:40:54Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-17T19:24:34Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-17T19:24:34Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T10:07:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1120900"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-01T07:20:09Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug][lang=js]"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-01T07:20:09Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-04-03T18:21:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "chiragbhatia2006@gmail.com, pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-07T07:45:30Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "chiragbhatia2006@gmail.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-05-11T08:54:20Z",
      "what" : "assigned_to",
      "removed" : "chiragbhatia2006@gmail.com",
      "added" : "nobody@mozilla.org"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-05-28T21:08:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "edoardo.putti@gmail.com"
    }, {
      "name" : "mte90net@gmail.com",
      "date" : "2015-05-30T09:57:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mte90net@gmail.com"
    }, {
      "name" : "avikpal.me@gmail.com",
      "date" : "2015-05-30T18:25:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "avikpal.me@gmail.com"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-05-30T18:55:14Z",
      "what" : "attachments.isobsolete:8612537",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T11:06:34Z",
      "what" : "attachments.isobsolete:8613246",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T11:06:34Z",
      "what" : "attachments.isobsolete:8613523",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T11:11:33Z",
      "what" : "attachments.isobsolete:8612539",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T14:28:34Z",
      "what" : "attachments.isobsolete:8615933",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T20:07:04Z",
      "what" : "attachments.isobsolete:8615985",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-06-09T16:13:50Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-16T20:43:47Z",
      "what" : "attachments.isobsolete:8616194",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-06-16T21:40:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim.bugs@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-06-16T21:40:54Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "edoardo.putti@gmail.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:34:07Z",
      "what" : "attachments.isobsolete:8623272",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:34:33Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:36:17Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:40:09Z",
      "what" : "attachments.isobsolete:8623530",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:40:18Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-06-17T15:29:17Z",
      "what" : "cc",
      "removed" : "chiragbhatia2006@gmail.com",
      "added" : ""
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-06-17T16:25:16Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-17T19:24:34Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 41"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-17T19:24:34Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-06-17 12:24:34"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-17T19:24:34Z",
      "what" : "cf_status_firefox41",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mte90net@gmail.com",
      "date" : "2015-06-17T19:28:19Z",
      "what" : "cc",
      "removed" : "mte90net@gmail.com",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-22T00:56:03Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1176635"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-09-17T15:26:42Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1205704"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-12-15T15:55:18Z",
      "what" : "component",
      "removed" : "Developer Tools: Inspector",
      "added" : "Developer Tools: Animation Inspector"
    } ],
    "flagEvents" : [ {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-04-03T18:21:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-07T07:45:30Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-04-13T16:36:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-14T08:28:48Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-05-04T07:32:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-05-06T17:23:45Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chiragbhatia2006@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-05-30T18:55:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8613246,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-01T10:38:55Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8613246,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T11:06:34Z",
      "what" : "flagtypes.name",
      "removed" : "review?(avikpal.me@gmail.com)",
      "added" : "",
      "attachmentId" : 8613246,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "edoardo.putti@gmail.com",
      "date" : "2015-06-05T20:07:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8616194,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-09T07:40:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8616194,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-09T07:44:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-09T19:59:15Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:34:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8623530,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-17T08:40:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8623534,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-17T19:24:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121896,
  "cclist" : [ "avikpal.me@gmail.com", "bgrinstead@mozilla.com", "edoardo.putti@gmail.com", "ntim.bugs@gmail.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "Refactor ViewHelpers.L10N.numberWithDecimals to use toLocaleString",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "a.ahmed1026@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This comment in ViewHelpers.L10N.numberWithDecimals says that nb.toLocaleString can't be used because not implemented on OSX:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/devtools/shared/widgets/ViewHelpers.jsm#378\n\nAfter testing locally, that doesn't seem to be the case anymore, and so this function can be simplified a lot.\n\nI think just returning:\naNumber.toLocaleString(undefined, {\n  maximumFractionDigits: aDecimals\n});\nafter the check for isNaN and null should be enough. No need to check if there are decimals and pad with 0s anymore.\n\nI'm also going to propose that we take this opportunity to add a new parameter to this function to force the minimum number of decimals. I've come across a case lately where I wanted my numbers to always have 2 decimals, even if 0s, for better alignment.\n\nSo maybe the signature could be:\nnumberWithDecimals: function(aNumber, aDecimals = 0, aMinDecimals = 0)\n\nand then:\n\naNumber.toLocaleString(undefined, {\n  maximumFractionDigits: aDecimals,\n  minimumFractionDigits: aMinDecimals\n});",
  "comments" : [ {
    "text" : "This comment in ViewHelpers.L10N.numberWithDecimals says that nb.toLocaleString can't be used because not implemented on OSX:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/devtools/shared/widgets/ViewHelpers.jsm#378\n\nAfter testing locally, that doesn't seem to be the case anymore, and so this function can be simplified a lot.\n\nI think just returning:\naNumber.toLocaleString(undefined, {\n  maximumFractionDigits: aDecimals\n});\nafter the check for isNaN and null should be enough. No need to check if there are decimals and pad with 0s anymore.\n\nI'm also going to propose that we take this opportunity to add a new parameter to this function to force the minimum number of decimals. I've come across a case lately where I wanted my numbers to always have 2 decimals, even if 0s, for better alignment.\n\nSo maybe the signature could be:\nnumberWithDecimals: function(aNumber, aDecimals = 0, aMinDecimals = 0)\n\nand then:\n\naNumber.toLocaleString(undefined, {\n  maximumFractionDigits: aDecimals,\n  minimumFractionDigits: aMinDecimals\n});",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T09:33:59Z"
  }, {
    "text" : "Victor, I think you worked on this. Does this make sense?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T09:34:59Z"
  }, {
    "text" : "Of course, I'd love to see that. Could file a bug for adding this in the network panel too, to keep numbers consistent.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-15T17:44:36Z"
  }, {
    "text" : "(In reply to Victor Porof [:vporof][:vp] from comment #2)\n> Of course, I'd love to see that. Could file a bug for adding this in the\n> network panel too, to keep numbers consistent.\nCool, thanks. Can you give pointers to the places in the netmonitor code that would need to be changed. I can file a bug with these then.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-16T09:10:55Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #3)\n> (In reply to Victor Porof [:vporof][:vp] from comment #2)\n> > Of course, I'd love to see that. Could file a bug for adding this in the\n> > network panel too, to keep numbers consistent.\n> Cool, thanks. Can you give pointers to the places in the netmonitor code\n> that would need to be changed. I can file a bug with these then.\n\nI'd say everywhere. Especially in the requests table.\nJust grep for L10N.numberWithDecimals or getFormatStrWithNumbers",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-16T15:31:34Z"
  }, {
    "text" : "Created attachment 8554267\nrev 1 - using toLocaleString",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-01-25T15:12:17Z"
  }, {
    "text" : "Comment on attachment 8554267\nrev 1 - using toLocaleString\n\nReview of attachment 8554267:\n-----------------------------------------------------------------\n\nThese changes look good to me, thanks!\nAre you able to push to TRY to see if tests still pass or do you want me to do this?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-26T10:00:37Z"
  }, {
    "text" : "Pending try push with this patch: https://treeherder.mozilla.org/#/jobs?repo=try&revision=48c6b490de56",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-27T14:36:48Z"
  }, {
    "text" : "Note that the commit message in the patch is not formatted correctly:\n\"Refactor ViewHelpers.L10N.numberWithDecimals to use toLocaleString\"\n\nIt should be:\n\"Bug 1121879 - Refactor ViewHelpers.L10N.numberWithDecimals to use toLocaleString; r=pbrosset\"",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-27T14:38:19Z"
  }, {
    "text" : "Firstly, I'm sorry for being late.\n\n(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #6)\n> These changes look good to me, thanks!\n> Are you able to push to TRY to see if tests still pass or do you want me to\n> do this?\nActually, I have requested access.\n\n(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #8)\n> Note that the commit message in the patch is not formatted correctly:\n> \"Refactor ViewHelpers.L10N.numberWithDecimals to use toLocaleString\"\n> \n> It should be:\n> \"Bug 1121879 - Refactor ViewHelpers.L10N.numberWithDecimals to use\n> toLocaleString; r=pbrosset\"\nSorry, I missed that. Do I need to attach updated patch with this commit message?",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-01-27T15:26:22Z"
  }, {
    "text" : "(In reply to Abdelrhman Ahmed from comment #9)\n> Firstly, I'm sorry for being late.\nNo problem at all! :)\n\n> Actually, I have requested access.\nGreat, so you'll be able to push to TRY for the next patches you write.\n\n> > It should be:\n> > \"Bug 1121879 - Refactor ViewHelpers.L10N.numberWithDecimals to use\n> > toLocaleString; r=pbrosset\"\n> Sorry, I missed that. Do I need to attach updated patch with this commit\n> message?\nYes please do attach a new patch with the updated commit message, and just set it as R+ yourself since I already reviewed the code changes.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-27T15:28:20Z"
  }, {
    "text" : "Created attachment 8555285\nrev 2 - using toLocaleString",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-01-27T15:37:26Z"
  }, {
    "text" : "Thanks for the update.\n\nThere are test failures on TRY however: https://treeherder.mozilla.org/#/jobs?repo=try&revision=48c6b490de56\nI have canceled all remaining test jobs to avoid wasting execution time.\n\nCan you take a look at the test failure messages and see what is the right course of action to fix them?\nWhen you think you've found the fix, can you try and run the tests locally? Here's how to do it: https://wiki.mozilla.org/DevTools/Hacking#Running_the_Developer_Tools_Tests (see the devtools mochitest section).",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-27T15:48:30Z"
  }, {
    "text" : "Hello,\n\n(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #12)\n> Can you take a look at the test failure messages and see what is the right\n> course of action to fix them?\n\nThese cases caused the fail of test\n1.\ntoLocalString rounds numbers\neg. 12.12537 assume maximumFractionDigits: 4\nresult 12.1254 and expected 12.1253\n\n2.\neg. 36.602 assume maximumFractionDigits: 2\nresult 36.6 and expected 36.60\n\nI think if we try to edit numberWithDecimals to use maximumFractionDigits\nand minimumFractionDigits, it won't be better than current code there.\nSo if we want to use it like this patch, I think we need to edit test cases\nto be compatible with new edits and uses minimumFractionDigits.\n\nIs that right?",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-01-29T15:47:08Z"
  }, {
    "text" : "Comment on attachment 8555285\nrev 2 - using toLocaleString\n\nReview of attachment 8555285:\n-----------------------------------------------------------------\n\n::: browser/devtools/shared/widgets/ViewHelpers.jsm\n@@ +369,4 @@\n>     * @return string\n>     *         The localized number as a string.\n>     */\n> +  numberWithDecimals: function(aNumber, aDecimals = 0, aMinDecimals = 0) {\n\nIn fact, re-reading the patch, I realized adding this new parameter was a mistake because its default value changes the behavior of the function.\nSo this means callers of numberWithDecimals that don't provide a value for aMinDecimals (which is to say, *all* callers right now) won't have the expected number of decimals in some cases.\n\nI think the right course of actions is removing the aMinDecimals parameter, and just using aDecimals for both maximumFractionDigits *and* minimumFractionDigits.\n\nThis is what the function was doing before anyway, padding with 0s if needed, and always cutting after aDecimals, not before.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T08:49:24Z"
  }, {
    "text" : "Why not numberWithDecimals: function(aNumber, aDecimals = 0, aMinDecimals = aDecimals) ?",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-30T14:33:26Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #14)\n> This is what the function was doing before anyway, padding with 0s if\n> needed, and always cutting after aDecimals, not before.\n\nI don't think so, let's describe this function behaviour after integer and isNaN checks\n> let localized = aNumber.toLocaleString(); // localize\n\nthis calling to toLocaleString handles 3 cases and converts it to string:\n\ncase 1:\neg. aNumber is 12.124563\nresult is \"12.125\"\nit gets first 3 digits after dot and rounds last digit depending on next digit.\n\ncase 2:\neg. aNumber is 12.1\nresult is \"12.1\"\n\ncase 3:\neg. aNumber is 12.0001\nresult is \"12\"\n\nnext, returns the result if localized has no dot.\nnext, padding and get result to return.\n\n(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #14)\n> I think the right course of actions is removing the aMinDecimals parameter,\n> and just using aDecimals for both maximumFractionDigits *and*\n> minimumFractionDigits.\n\nYou are right in removing aMinDecimals parameter because it changes behaviour of the function but if we used maximumFractionDigits and minimumFractionDigits we will miss these cases:\n\ncase 1:\naNumber is 0\nmaximumFractionDigits = minimumFractionDigits = 2\nresult will be \"0.00\" and the expected result is \"0\"\n\ncase 2:\naNumber is 12.0001\nmaximumFractionDigits = minimumFractionDigits = 2\nresult will be \"12.00\" and the expected result is \"12\"\n\ncase 3:\naNumber is 12.12543\nmaximumFractionDigits = minimumFractionDigits = 2\nresult will be \"12.13\" and the expected result is \"12.12\"\n\nthe main problems here are the fixed minimumFractionDigits in cases 1, 2 and the rounding in case of aDecimals is less than 3.\n\nI think if we tried to add some code to fix previous cases after using aDecimals for both maximumFractionDigits and minimumFractionDigits won't be better than the existing code.\n\n(In reply to Victor Porof [:vporof][:vp] from comment #15)\n> Why not numberWithDecimals: function(aNumber, aDecimals = 0, aMinDecimals =\n> aDecimals) ?\n\nThe behaviour will not be as expected when using aDecimals for both maximumFractionDigits and minimumFractionDigits but after resloving previous cases we need to know if caller of this function uses aMinDecimals parameter or not to avoid the problem of previous cases or next cases:\n\ncase 1:\naMinDecimals parameter is not used from the caller\nnumberWithDecimals(12.0001, 2)\nhere the expected result is \"12\"\n\ncase 2:\naMinDecimals parameter is used from the caller\nnumberWithDecimals(12.0001, 2, 2)\nhere the expected result is \"12.00\"\n\nSo if there is no need for aMinDecimals as a parameter we don't need to add it :).",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-01-31T00:16:59Z"
  }, {
    "text" : "Is there any update?",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-13T04:39:08Z"
  }, {
    "text" : "Sorry for the delay, I just read your analysis in comment 16 and it sounds very correct indeed.\nSo, this bug is simply about refactoring the implementation of numberWithDecimals without changing its behavior, so let's drop the aMinDecimals parameter altogether for now.\n\nSo let's see if we can simplify the internal implementation of the function using toLocaleString while respecting what the function outputs.\nBecause the function is a little weird in the sense that it only pads with 0s if there are fractions, we can't only use toLocaleString, we have to retain some of the special cases in the function.\nBut I do believe we can use toLocaleString to get rid of the, somewhat complex, final 0 padding logic.\nWhat about this:\n\nfunction numberWithDecimals(aNumber, aDecimals = 0) {\n  // If this is an integer, don't do anything special.\n  if (aNumber == (aNumber | 0)) {\n    return aNumber;\n  }\n  if (isNaN(aNumber) || aNumber == null) {\n    return \"0\";\n  }\n\n  let localized = aNumber.toLocaleString(); // localize\n\n  // If no grouping or decimal separators are available, bail out, because\n  // padding with zeros at the end of the string won't make sense anymore.\n  if (!localized.match(/[^\\d]/)) {\n    return localized;\n  }\n\n  return aNumber.toLocaleString(undefined, {\n    minimumFractionDigits: aDecimals,\n    maximumFractionDigits: aDecimals\n  })\n}\n\nWe have to keep the first call to toLocaleString() so that we can test for fractions in the result, but in the end, instead of dealing with arrays, we just call again toLocaleString with both minimumFractionDigits and maximumFractionDigits.\n\nWould the test pass with this?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-13T10:53:34Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #18)\n> Sorry for the delay, I just read your analysis in comment 16 and it sounds\n\nNo problem :)\n \n> function numberWithDecimals(aNumber, aDecimals = 0) {\n>   // If this is an integer, don't do anything special.\n>   if (aNumber == (aNumber | 0)) {\n>     return aNumber;\n>   }\n>   if (isNaN(aNumber) || aNumber == null) {\n>     return \"0\";\n>   }\n> \n>   let localized = aNumber.toLocaleString(); // localize\n> \n>   // If no grouping or decimal separators are available, bail out, because\n>   // padding with zeros at the end of the string won't make sense anymore.\n>   if (!localized.match(/[^\\d]/)) {\n>     return localized;\n>   }\n> \n>   return aNumber.toLocaleString(undefined, {\n>     minimumFractionDigits: aDecimals,\n>     maximumFractionDigits: aDecimals\n>   })\n> }\n> Would the test pass with this?\n\nThis is better but misses one case (the case of rounding) in the last return\nof previous code and also using of |maximumFractionDigits: aDecimals| has no\nmeaning because it doesn't affect results because of using |minimumFractionDigits|\nso I edited it to handle this case\n>  localized = aNumber.toLocaleString(undefined, {\n>    minimumFractionDigits: (aDecimals + 1)\n>  });\n>  return localized.substring(0, localized.length-1);\n\nI also tested it locally and worked well.\nIs this acceptable?",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-17T20:09:00Z"
  }, {
    "text" : "(In reply to Abdelrhman Ahmed from comment #19)\n> >  localized = aNumber.toLocaleString(undefined, {\n> >    minimumFractionDigits: (aDecimals + 1)\n> >  });\n> >  return localized.substring(0, localized.length-1);\n> I also tested it locally and worked well.\n> Is this acceptable?\nIt's sad that this bug is about simplifying a function by making use of toLocaleString and that we end up with a code that's just as complex as before.\nWith my proposal (with maximumFractionDigits removed), the remaining failing tests are just due to rounding errors, right? Since we'd normally get more precise results with this new implementation than with the current one, I'd say we could just change the tests that fail.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-18T13:11:40Z"
  }, {
    "text" : "I have pushed patch for try to determine cases need to be changed.\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=372a5bfaa336",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-21T13:24:12Z"
  }, {
    "text" : "Created attachment 8568971\nrev 3 - using toLocaleString\n\n> With my proposal (with maximumFractionDigits removed), the remaining failing\n> tests are just due to rounding errors, right?\n\nHere in this we need maximumFractionDigits. When I said that (removing it)\n, it was about the previous code because of this line\n>  return localized.substring(0, localized.length-1);\n\nI pushed this patch to try server to check everything is ok\n(https://treeherder.mozilla.org/#/jobs?repo=try&revision=2f293bb0dc2b)",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-25T05:57:10Z"
  }, {
    "text" : "Comment on attachment 8568971\nrev 3 - using toLocaleString\n\nReview of attachment 8568971:\n-----------------------------------------------------------------\n\nLGTM and try is green. Good to go.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-25T08:47:50Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/dabd88a2065d",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-26T21:49:32Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/dabd88a2065d",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-27T02:39:35Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-27T14:38:19Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:35Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:35Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T09:34:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-16T09:10:55Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug][lang=js]"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-01-25T15:12:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-27T14:38:19Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "a.ahmed1026@gmail.com"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-01-27T15:37:26Z",
      "what" : "attachments.isobsolete:8554267",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-25T05:57:10Z",
      "what" : "attachments.isobsolete:8555285",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-26T20:46:00Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-26T21:49:32Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-26T21:49:32Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=js]",
      "added" : "[good first bug][lang=js][fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:35Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:35Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=js][fixed-in-fx-team]",
      "added" : "[good first bug][lang=js]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:35Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-26 18:39:35"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:35Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T09:34:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-15T17:44:36Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-16T09:10:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-16T15:31:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-01-25T15:12:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8554267,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-26T10:00:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8554267,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-01-27T15:37:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555285,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-30T08:49:24Z",
      "what" : "flagtypes.name",
      "removed" : "review+",
      "added" : "",
      "attachmentId" : 8555285,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-13T04:39:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T10:53:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-17T20:09:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-18T13:11:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-25T05:57:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568971,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-25T08:47:50Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8568971,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-26T21:49:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121879,
  "cclist" : [ "pbrosset@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Device Permissions",
  "summary" : "Intermittent browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false",
  "reporter" : "cbook@mozilla.com",
  "assigned" : "florian@queze.net",
  "created" : null,
  "operatingSystem" : "Linux",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=5487881&repo=mozilla-inbound\n\n19:46:42 INFO - 457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false",
  "comments" : [ {
    "text" : "Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=5487881&repo=mozilla-inbound\n\n19:46:42 INFO - 457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-15T07:46:48Z"
  }, {
    "text" : "submit_timestamp: 2015-01-14T23:53:04\nlog: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=5487881\nrepository: mozilla-inbound\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-642\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 20651ac19549\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-15T07:53:05Z"
  }, {
    "text" : "submit_timestamp: 2015-01-18T13:32:05\nlog: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1720663\nrepository: fx-team\nwho: philringnalda[at]gmail[dot]com\nmachine: tst-linux64-spot-738\nbuildname: Ubuntu ASAN VM 12.04 x64 fx-team opt test mochitest-browser-chrome-1\nrevision: e161904aeeb9\n\n543 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_in_frame.js | WebRTC indicator hidden - Got true, expected false\n544 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_in_frame.js | camera global indicator as expected - Got true, expected false\n545 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_in_frame.js | microphone global indicator as expected - Got true, expected false\n547 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_in_frame.js | WebRTC menu should be hidden - Got true, expected false\nSUMMARY: AddressSanitizer: 432 byte(s) leaked in 6 allocation(s).\nSUMMARY: AddressSanitizer: 432 byte(s) leaked in 6 allocation(s).\nSUMMARY: AddressSanitizer: 720 byte(s) leaked in 10 allocation(s).",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-18T21:32:06Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=5841530\nrepository: mozilla-inbound\nstart_time: 2015-01-23T10:17:16\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-1193\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: a7f1a781ee7b\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-23T20:30:44Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1807485\nrepository: fx-team\nstart_time: 2015-01-27T12:32:19\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux64-spot-811\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 4c2c7d94b8d7\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false\nTEST-UNEXPECTED-FAIL | ShutdownLeaks | process() called before end of test suite\n614 ERROR TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_save_link-perwindowpb.js | application terminated with exit code 11\nPROCESS-CRASH | browser/base/content/test/general/browser_save_link-perwindowpb.js | application crashed [@ nsXPCWrappedJSClass::CallMethod(nsXPCWrappedJS*, unsigned short, XPTMethodDescriptor const*, nsXPTCMiniVariant*)]\nTEST-UNEXPECTED-FAIL | leakcheck | default process: missing output line for total leaks!",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-27T22:06:00Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6027227\nrepository: mozilla-inbound\nstart_time: 2015-01-28T08:58:51\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-068\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 7d8d4ff84ddb\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-28T18:26:22Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6123604\nrepository: mozilla-inbound\nstart_time: 2015-01-30T13:58:37\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-353\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 39cc7b90d5e6\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-30T23:24:35Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-beta&job_id=259595\nrepository: mozilla-beta\nstart_time: 2015-02-09T11:43:26\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-699\nbuildname: Ubuntu VM 12.04 mozilla-beta debug test mochitest-browser-chrome-1\nrevision: 05befa69d765\n\n434 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n435 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n436 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n438 INFO TEST-UNEXPECTED-FAIL | chrome://mochitests/content/browser/browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-09T21:05:15Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1335485\nrepository: b2g-inbound\nstart_time: 2015-02-11T02:36:41\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-463\nbuildname: Ubuntu VM 12.04 x64 b2g-inbound debug test mochitest-browser-chrome-1\nrevision: e60f5fee730f\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-11T12:21:46Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1978567\nrepository: fx-team\nstart_time: 2015-02-11T20:52:23\nwho: nigelbabu[at]gmail[dot]com\nmachine: tst-linux64-spot-026\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 7462142c1322\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-12T06:45:22Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2007596\nrepository: fx-team\nstart_time: 2015-02-17T07:18:41\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-511\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 2737d0c34922\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T16:48:54Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6700422\nrepository: mozilla-inbound\nstart_time: 2015-02-17T15:01:05\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-1078\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 9b95a2885023\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false\n765 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/plugins/browser_CTP_iframe.js | Test 1, Waited too long for the overlay to become invisible. -\n1952 INFO TEST-UNEXPECTED-FAIL | browser/components/tabview/test/browser_tabview_bug650280_perwindowpb.js | Test timed out - expected PASS\n1958 INFO TEST-UNEXPECTED-FAIL | browser/components/tabview/test/browser_tabview_bug650280_perwindowpb.js | Found a browser window after previous test timed out - expected PASS\n1959 INFO TEST-UNEXPECTED-FAIL | browser/components/tabview/test/browser_tabview_bug650280_perwindowpb.js | Found a browser window after previous test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T00:38:57Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1386089\nrepository: b2g-inbound\nstart_time: 2015-02-21T15:32:21\nwho: philringnalda[at]gmail[dot]com\nmachine: tst-linux64-spot-322\nbuildname: Ubuntu VM 12.04 x64 b2g-inbound debug test mochitest-browser-chrome-1\nrevision: 0cefb584fd1a\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-22T02:15:11Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2062657\nrepository: fx-team\nstart_time: 2015-02-22T03:48:06\nwho: philringnalda[at]gmail[dot]com\nmachine: tst-linux64-spot-924\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: fc5e585fbbd9\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-22T15:50:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6897349\nrepository: mozilla-inbound\nstart_time: 2015-02-23T14:28:34\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux64-spot-1165\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 495753e0d44f\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-24T00:04:34Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2085788\nrepository: fx-team\nstart_time: 2015-02-24T03:54:04\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-624\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 94367d1c24b3\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-24T13:12:53Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6955071\nrepository: mozilla-inbound\nstart_time: 2015-02-24T23:45:10\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-1243\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: b7bceb058d33\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-25T09:33:12Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6957524\nrepository: mozilla-inbound\nstart_time: 2015-02-25T01:47:10\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-284\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: fc7621347ee6\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false\n2019 INFO TEST-UNEXPECTED-FAIL | browser/components/tabview/test/browser_tabview_bug650280_perwindowpb.js | Test timed out - expected PASS\n2025 INFO TEST-UNEXPECTED-FAIL | browser/components/tabview/test/browser_tabview_bug650280_perwindowpb.js | Found a browser window after previous test timed out - expected PASS\n2026 INFO TEST-UNEXPECTED-FAIL | browser/components/tabview/test/browser_tabview_bug650280_perwindowpb.js | Found a browser window after previous test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-25T11:45:50Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7001519\nrepository: mozilla-inbound\nstart_time: 2015-02-25T17:25:49\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux64-spot-339\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: dd6aba52db70\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-26T02:56:49Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7025155\nrepository: mozilla-inbound\nstart_time: 2015-02-26T09:44:24\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-391\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 38382572cf6f\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-26T19:21:40Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7037506\nrepository: mozilla-inbound\nstart_time: 2015-02-26T12:50:31\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-352\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 93707c1b4edb\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-26T22:13:57Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-aurora&job_id=635735\nrepository: mozilla-aurora\nstart_time: 2015-02-27T14:50:51\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux32-spot-335\nbuildname: Ubuntu VM 12.04 mozilla-aurora debug test mochitest-browser-chrome-1\nrevision: 40d995020286\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-28T00:45:13Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-aurora&job_id=646236\nrepository: mozilla-aurora\nstart_time: 2015-03-04T10:36:40\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-055\nbuildname: Ubuntu VM 12.04 x64 mozilla-aurora debug test mochitest-browser-chrome-1\nrevision: f9bc1766be40\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-04T19:59:34Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1112925\nrepository: mozilla-central\nstart_time: 2015-03-04T14:07:55\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux32-spot-208\nbuildname: Ubuntu VM 12.04 mozilla-central debug test mochitest-browser-chrome-1\nrevision: 6b08ec560bec\n\nabort: error: Name or service not known\nAutomation Error: hg not responding\nReturn code: 255\n476 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n477 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n478 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n480 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-05T00:15:37Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2199673\nrepository: fx-team\nstart_time: 2015-03-09T12:43:30\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-1019\nbuildname: Ubuntu VM 12.04 fx-team debug test mochitest-browser-chrome-1\nrevision: 61faee68488e\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-09T21:09:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-aurora&job_id=659269\nrepository: mozilla-aurora\nstart_time: 2015-03-10T10:23:50\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-1230\nbuildname: Ubuntu VM 12.04 x64 mozilla-aurora debug test mochitest-browser-chrome-1\nrevision: 26960651c5d9\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-10T18:45:08Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2239949\nrepository: fx-team\nstart_time: 2015-03-11T20:18:41\nwho: ttaubert[at]mozilla[dot]com\nmachine: tst-linux64-spot-1280\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: a72fa2612001\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-12T04:43:16Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7528938\nrepository: mozilla-inbound\nstart_time: 2015-03-12T05:35:58\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-1072\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 92ac0fcb5d99\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-12T13:49:53Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7550274\nrepository: mozilla-inbound\nstart_time: 2015-03-12T10:56:12\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-707\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 9b17a03fe1b5\n\n520 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_bug906190.js | This test exceeded the timeout threshold. It should be rewritten or split up. If that's not possible, use requestLongerTimeout(N), but only as a last resort. - expected PASS\n564 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n565 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n566 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n568 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-12T20:12:55Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7596523\nrepository: mozilla-inbound\nstart_time: 2015-03-13T11:18:36\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-1510\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 76aab45b3300\n\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n464 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-13T19:41:11Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7830824\nrepository: mozilla-inbound\nstart_time: 2015-03-19T22:28:23\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux32-spot-1049\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 163f61a32aa0\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T07:02:56Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2350212\nrepository: fx-team\nstart_time: 2015-03-20T15:56:08\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux32-spot-496\nbuildname: Ubuntu VM 12.04 fx-team debug test mochitest-browser-chrome-1\nrevision: 531fe47e635b\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false\n1485 INFO TEST-UNEXPECTED-FAIL | browser/components/readinglist/test/browser/browser_sidebar_list.js | Uncaught exception - at resource:///modules/readinglist/ReadingList.jsm:883 - TypeError: uri is null\n1487 INFO TEST-UNEXPECTED-FAIL | browser/components/readinglist/test/browser/browser_sidebar_list.js | Cleanup function threw an exception - at resource:///modules/readinglist/ReadingList.jsm:883 - TypeError: uri is null\n1523 INFO TEST-UNEXPECTED-FAIL | browser/components/readinglist/test/browser/browser_ui_enable_disable.js | A promise chain failed to handle a rejection:  - at resource:///modules/readinglist/ReadingList.jsm:883 - TypeError: uri is null",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-21T00:09:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2350714\nrepository: fx-team\nstart_time: 2015-03-20T16:09:08\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux64-spot-1369\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 07f9d9dd82d3\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-21T00:35:38Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7889113\nrepository: mozilla-inbound\nstart_time: 2015-03-21T00:56:13\nwho: dbaron[at]dbaron[dot]org\nmachine: tst-linux64-spot-1314\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: bffc9502adb1\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-21T14:56:19Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7932583\nrepository: mozilla-inbound\nstart_time: 2015-03-23T07:09:01\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-736\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 72c48d6ddc0b\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-23T15:29:45Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7933113\nrepository: mozilla-inbound\nstart_time: 2015-03-23T07:31:58\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-456\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 72c48d6ddc0b\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-23T16:10:04Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8078153\nrepository: mozilla-inbound\nstart_time: 2015-03-26T04:24:52\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-689\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 05dc91957f46\n\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n463 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-26T15:15:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8075977\nrepository: mozilla-inbound\nstart_time: 2015-03-26T03:33:30\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-591\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 192e8bcb8b80\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-26T15:15:46Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8086059\nrepository: mozilla-inbound\nstart_time: 2015-03-26T12:14:48\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux64-spot-184\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: d5a537c7c558\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-26T20:52:45Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5990419\nrepository: try\nstart_time: 2015-03-26T18:51:42\nwho: jorendorff[at]mozilla[dot]com\nmachine: tst-linux64-spot-390\nbuildname: Ubuntu VM 12.04 x64 try debug test mochitest-browser-chrome-1\nrevision: 0466aa0693c5\n\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n463 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-27T14:20:01Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=6051022\nrepository: try\nstart_time: 2015-03-29T09:50:20\nwho: ayg[at]aryeh[dot]name\nmachine: tst-linux64-spot-1620\nbuildname: Ubuntu VM 12.04 x64 try debug test mochitest-browser-chrome-1\nrevision: c1bab90be5f7\n\n455 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T12:14:30Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2474115\nrepository: fx-team\nstart_time: 2015-03-30T04:27:34\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-1530\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 8dda027310f5\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T12:44:15Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2508929\nrepository: fx-team\nstart_time: 2015-04-01T07:09:07\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-621\nbuildname: Ubuntu VM 12.04 x64 fx-team debug test mochitest-browser-chrome-1\nrevision: 0a61d88c8eec\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-01T15:22:58Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1657879\nrepository: b2g-inbound\nstart_time: 2015-04-03T16:54:08\nwho: philringnalda[at]gmail[dot]com\nmachine: tst-linux64-spot-1077\nbuildname: Ubuntu VM 12.04 x64 b2g-inbound debug test mochitest-browser-chrome-1\nrevision: 557609749a57\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-04T01:33:39Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8499067\nrepository: mozilla-inbound\nstart_time: 2015-04-06T10:40:34\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-2031\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: e58c174b505c\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-06T19:16:30Z"
  }, {
    "text" : "Another frequent one.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-06T19:17:11Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8526017\nrepository: mozilla-inbound\nstart_time: 2015-04-07T03:01:11\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux32-spot-023\nbuildname: Ubuntu VM 12.04 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 9193aac3a945\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-07T11:27:36Z"
  }, {
    "text" : "Forwarding to Gavin",
    "authour" : "standard8@mozilla.com",
    "created" : "2015-04-07T12:16:37Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-aurora&job_id=752923\nrepository: mozilla-aurora\nstart_time: 2015-04-08T20:46:29\nwho: philringnalda[at]gmail[dot]com\nmachine: tst-linux64-spot-957\nbuildname: Ubuntu VM 12.04 x64 mozilla-aurora debug test mochitest-browser-chrome-1\nrevision: c4fb854ba5fe\n\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n463 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-09T05:09:35Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=6359174\nrepository: try\nstart_time: 2015-04-08T20:45:10\nwho: ehsan[at]mozilla[dot]com\nmachine: tst-linux64-spot-1487\nbuildname: Ubuntu VM 12.04 x64 try debug test mochitest-browser-chrome-1\nrevision: 28e9245beb5e\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-09T13:32:27Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=6353365\nrepository: try\nstart_time: 2015-04-08T19:00:32\nwho: mrbkap[at]mozilla[dot]com\nmachine: tst-linux32-spot-1032\nbuildname: Ubuntu VM 12.04 try debug test mochitest-browser-chrome-1\nrevision: c71e42df292d\n\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n461 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-09T15:29:58Z"
  }, {
    "text" : "I didn't investigate this specific failure in details, but it seems to be another case of bug 1126107; and the tentative fix for that bug is in the shared head.js file, so hopefully will also fix this.",
    "authour" : "florian@queze.net",
    "created" : "2015-04-13T11:35:14Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8764793\nrepository: mozilla-inbound\nstart_time: 2015-04-13T03:24:41\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-709\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound debug test mochitest-browser-chrome-1\nrevision: 46c053b1e6f1\n\n456 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n457 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-13T11:49:53Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-beta&job_id=349176\nrepository: mozilla-beta\nstart_time: 2015-04-17T10:36:49\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-476\nbuildname: Ubuntu VM 12.04 mozilla-beta debug test mochitest-browser-chrome-1\nrevision: 6a5c3aa5b912\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-17T18:55:21Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-beta&job_id=354595\nrepository: mozilla-beta\nstart_time: 2015-04-21T18:04:06\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-384\nbuildname: Ubuntu VM 12.04 mozilla-beta debug test mochitest-browser-chrome-1\nrevision: d27c9211ebb3\n\n458 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC indicator hidden - Got true, expected false\n459 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | camera global indicator as expected - Got true, expected false\n460 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | microphone global indicator as expected - Got true, expected false\n462 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_devices_get_user_media_about_urls.js | WebRTC menu should be hidden - Got true, expected false",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-04-22T12:52:27Z"
  }, {
    "text" : "We haven't seen similar failures in a while, I'm going to assume I fixed it with the patch from bug 1126107.",
    "authour" : "florian@queze.net",
    "created" : "2015-06-10T10:30:52Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-06-10T10:30:52Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-06-10T10:30:52Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T01:47:17Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1124004"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-06T19:17:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "standard8@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-06T19:17:11Z",
      "what" : "component",
      "removed" : "General",
      "added" : "Device Permissions"
    }, {
      "name" : "standard8@mozilla.com",
      "date" : "2015-04-07T12:16:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gavin.sharp@gmail.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-04-08T14:32:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florian@queze.net"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-06-10T10:30:52Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-06-10 03:30:52"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "florian@queze.net"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "cf_status_firefox38_0_5",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-06-10T13:49:38Z",
      "what" : "cf_status_firefox_esr38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-06T19:17:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "standard8@mozilla.com",
      "date" : "2015-04-07T12:16:37Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(standard8@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-04-08T14:32:45Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-04-13T11:35:14Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(florian@queze.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121852,
  "cclist" : [ "florian@queze.net", "gavin.sharp@gmail.com", "standard8@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "Only add #-moz-resolution to favicon URIs that end in \".ico\"",
  "reporter" : "seth.bugzilla@blackhail.net",
  "assigned" : "seth.bugzilla@blackhail.net",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We need to stop adding \"#-moz-resolution\" to favicon URIs that aren't \".ico\" files. Adding \"#-moz-resolution\" causes some seriously bad behavior:\n\n- It can cause an additional network fetch and always results in an additional cache entry.\n\n- It causes the image to be decoded twice.\n\n- It causes the image to be stored in memory twice, and just keeping the tab around will keep the second copy from getting freed, even if it's a background tab.\n\n- #-moz-resolution has no effect on non-\".ico\" images, so it doesn't even do anything useful!\n\nIn practice I observed that having a 30 megapixel image document in a background tab uses about 150MB for the favicon, *even if the tab has never been in the foreground* (for example, if you've restored an old session).\n\nThis is so serious that I think we need to uplift this fix as far as it can go.",
  "comments" : [ {
    "text" : "We need to stop adding \"#-moz-resolution\" to favicon URIs that aren't \".ico\" files. Adding \"#-moz-resolution\" causes some seriously bad behavior:\n\n- It can cause an additional network fetch and always results in an additional cache entry.\n\n- It causes the image to be decoded twice.\n\n- It causes the image to be stored in memory twice, and just keeping the tab around will keep the second copy from getting freed, even if it's a background tab.\n\n- #-moz-resolution has no effect on non-\".ico\" images, so it doesn't even do anything useful!\n\nIn practice I observed that having a 30 megapixel image document in a background tab uses about 150MB for the favicon, *even if the tab has never been in the foreground* (for example, if you've restored an old session).\n\nThis is so serious that I think we need to uplift this fix as far as it can go.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-15T02:35:17Z"
  }, {
    "text" : "While adding a .ico-only check sounds a sane hack for rapid uplift, it seems like this points at deeper flaws. Seems like a location hash should _never_ trigger an extra fetch or cache entry, and I'd have expected other image formats to simply ignore -moz-resolution if they don't do anything with it.\n\nThere might be an existing bug on the 150MB thing. I recall a similar issue with tabs holding large GIFs -- we always try to load favicons even for non-restored tabs, and that sucks for startup.",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-01-15T03:03:08Z"
  }, {
    "text" : "Created attachment 8549341\nOnly add #-moz-resolution to favicon URIs that end in \".ico\"\n\nHere's the patch. I think these are the only two places that need to be changed.\n|browser/base/content/newtab/search.js| also appends -moz-resolution, but only\nto the search icons, which I'm pretty confident are not large images, and it\nalso seems to use blob URIs so the extension hack won't work.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-15T03:38:52Z"
  }, {
    "text" : "(In reply to Justin Dolske [:Dolske] from comment #1)\n> While adding a .ico-only check sounds a sane hack for rapid uplift, it seems\n> like this points at deeper flaws.\n\nIt does. We're planning on removing -moz-resolution totally for this reason. (Downscale-during-decode will replace it, with none of the downsides.) Bug 1118926 tracks this.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-15T03:40:59Z"
  }, {
    "text" : "That should happen in the Firefox 38 or 39 time frame, BTW.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-15T03:41:50Z"
  }, {
    "text" : "Comment on attachment 8549341\nOnly add #-moz-resolution to favicon URIs that end in \".ico\"\n\nReview of attachment 8549341:\n-----------------------------------------------------------------\n\nJust a couple of nits (applies to both files).\n\n::: toolkit/content/widgets/autocomplete.xml\n@@ +1105,5 @@\n>          <parameter name=\"aWidth\"/>\n>          <parameter name=\"aHeight\"/>\n>          <body>\n>            <![CDATA[\n> +          if (/[.]ico$/i.test(aURL)) {\n\naURL.endsWith() is preferred over a regexp (faster, clearer).\n\n@@ +1111,5 @@\n> +            let height = Math.round(aHeight * aWin.devicePixelRatio);\n> +            return aURL + (aURL.contains(\"#\") ? \"&\" : \"#\") +\n> +                   \"-moz-resolution=\" + width + \",\" + height;\n> +          } else {\n> +            return aURL;\n\nThis would feel a bit cleaner if you turned it into an early return.",
    "authour" : "blair@theunfocused.net",
    "created" : "2015-01-17T03:01:21Z"
  }, {
    "text" : "Oh, and for prosperity: We'd talked over the options on IRC, and agreed this was the best option. Other options included:\n* Removing -moz-resolution entirely *before* the alternative landed (not nice for high-DPI on desktop)\n* Remove -moz-resolution everywhere but desktop (removes memory impact on b2g, keeps it on desktop)\n* Keep everything as-is until alternative is landed (not good for b2g)'\n\nThe solution we ended up with is simple and safe to uplift, and plays nice with both b2g and high-DPI desktop.",
    "authour" : "blair@theunfocused.net",
    "created" : "2015-01-17T03:09:53Z"
  }, {
    "text" : "Created attachment 8550689\nOnly add #-moz-resolution to favicon URIs that end in \".ico\"\n\nThanks for the review, Blair! (And for that summary of our discussion, which\nwill be helpful in 6 months when we try to remember what the heck we were doing\nhere. =)\n\nI've addressed your comments in this version of the patch.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-17T08:31:31Z"
  }, {
    "text" : "Pushed:\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/496125bde79a",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-17T08:39:14Z"
  }, {
    "text" : "Just to double-check: we're fine with breaking HIDPI favicons on sites that serve ICO files but without the .ICO extension? Generally the file extension shouldn't be relied upon and the content-type should be used instead. Or is it the case that we already require the \".ico\" extension at a lower level?",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-17T20:33:23Z"
  }, {
    "text" : "(In reply to Matthew N. [:MattN] from comment #9)\n> Just to double-check: we're fine with breaking HIDPI favicons on sites that\n> serve ICO files but without the .ICO extension? Generally the file extension\n> shouldn't be relied upon and the content-type should be used instead. Or is\n> it the case that we already require the \".ico\" extension at a lower level?\n\nI am fine with that, yes. I knew I was doing that. =)\n\nOnce we have downscale-during-decode for ICO, such cases will work again, but I think displaying ICO files which do not have the correct extension at a lower resolution is a small price to pay for avoiding the waste of over 150MB of memory in some cases.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-17T20:40:03Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/496125bde79a",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-01-17T20:59:08Z"
  }, {
    "text" : "Comment on attachment 8550689\nOnly add #-moz-resolution to favicon URIs that end in \".ico\"\n\nApproval Request Comment\n[Feature/regressing bug #]: Something far back in the mists of time.\n[User impact if declined]: Potentially huge memory wastage (on the order of hundreds of megabytes in some cases).\n[Describe test coverage new/current, TBPL]: On central, by the time the uplift would be performed it will have been there for 4 days and we'll have had a chance to see if there are any issues.\n[Risks and why]: Quite low risk.\n[String/UUID change made/needed]: None.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-01-17T21:07:16Z"
  }, {
    "text" : "Comment on attachment 8550689\nOnly add #-moz-resolution to favicon URIs that end in \".ico\"\n\nLanding that code now:\n* AFAIK, there is no issue introduced by this bug\n* Aurora will have it tomorrow\n* beta 3 will go to build tomorrow (Thursday)",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-01-21T14:17:17Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/d52b454d4cca\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/d00b4a85897c",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-21T19:59:47Z"
  }, {
    "text" : "This patch breaks if there's a querystring after the file extension, eg. <link rel=\"shortcut icon\" href=\"/favicon.ico?1\" type=\"image/vnd.microsoft.icon\" />",
    "authour" : "edwardsgreg@gmail.com",
    "created" : "2015-03-07T23:33:18Z"
  }, {
    "text" : "(In reply to Greg Edwards from comment #15)\n> This patch breaks if there's a querystring after the file extension, eg.\n> <link rel=\"shortcut icon\" href=\"/favicon.ico?1\"\n> type=\"image/vnd.microsoft.icon\" />\n\nSince this bug was already resolved, you should file a new bug blocking this one to get that addressed: https://bugzilla.mozilla.org/enter_bug.cgi?product=Firefox&component=General&blocked=1121802",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-03-09T22:21:40Z"
  }, {
    "text" : "(In reply to Greg Edwards from comment #15)\n> This patch breaks if there's a querystring after the file extension, eg.\n> <link rel=\"shortcut icon\" href=\"/favicon.ico?1\"\n> type=\"image/vnd.microsoft.icon\" />\n\nWhat does \"break\" mean? If you mean that we still apply -moz-resolution in that case, that's fine. We're just at the previous status quo in that case.\n\nThis is just a temporary hack until downscale-during-decode applies to ICO files. It's not important that it work 100% of the time, because it's not something we need to support in the long term.\n\nOn the other hand, if it's actually causing rendering issues or something similar, then please do file a bug about that.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-03-09T22:29:29Z"
  }, {
    "text" : "It means it reverts to low resolution. I've found a hack which works in the meantime: append '.ico' to the end of the querystring. So the link would work something like:\n\n<link rel=\"shortcut icon\" href=\"/favicon.ico?v=1&ext=.ico\" type=\"image/vnd.microsoft.icon\" />\n\nThis also makes it possible to re-enable -moz-resolution for URLs not ending in .ico, eg. image serving scripts.",
    "authour" : "edwardsgreg@gmail.com",
    "created" : "2015-03-10T14:34:43Z"
  }, {
    "text" : "(In reply to Greg Edwards from comment #18)\n> It means it reverts to low resolution. I've found a hack which works in the\n> meantime: append '.ico' to the end of the querystring. So the link would\n> work something like:\n> \n> <link rel=\"shortcut icon\" href=\"/favicon.ico?v=1&ext=.ico\"\n> type=\"image/vnd.microsoft.icon\" />\n> \n> This also makes it possible to re-enable -moz-resolution for URLs not ending\n> in .ico, eg. image serving scripts.\n\nHmm, yes, that's true. We should've been examining the URI spec and not the entire URI. (For some reason I thought we *were* doing that, but I looked at the patch and we're indeed just treating the URI as a string.)\n\nWe could fix that in a followup, but your hack seems like a reasonable short-term workaround. Once we have downscale-during-decode support for .ico files, #-moz-resolution will be removed anyway, so the workaround should only be needed for a short time.",
    "authour" : "seth.bugzilla@blackhail.net",
    "created" : "2015-03-25T23:06:46Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-15T03:38:56Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-17T20:59:08Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-17T20:59:08Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-15T02:35:41Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[MemShrink]"
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-15T03:38:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bmcbride@mozilla.com"
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-15T03:38:56Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "seth@mozilla.com"
    }, {
      "name" : "n.nethercote@gmail.com",
      "date" : "2015-01-15T03:56:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "n.nethercote@gmail.com"
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-15T20:26:04Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1119455"
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-17T08:31:34Z",
      "what" : "attachments.isobsolete:8549341",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-17T08:41:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1119455"
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-17T08:41:42Z",
      "what" : "see_also",
      "removed" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1119455",
      "added" : ""
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-17T20:33:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "MattN+bmo@mozilla.com"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-17T20:59:08Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-17T20:59:08Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-17 12:59:08"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-18T16:50:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-18T16:50:36Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-18T16:50:36Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-18T16:50:36Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-20T08:48:20Z",
      "what" : "whiteboard",
      "removed" : "[MemShrink]",
      "added" : "[MemShrink] [checkin on 1/26]"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-20T08:49:57Z",
      "what" : "whiteboard",
      "removed" : "[MemShrink] [checkin on 1/26]",
      "added" : "[MemShrink] [checkin on 1/22]"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-21T19:35:43Z",
      "what" : "whiteboard",
      "removed" : "[MemShrink] [checkin on 1/22]",
      "added" : "[MemShrink] "
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T19:59:47Z",
      "what" : "whiteboard",
      "removed" : "[MemShrink] ",
      "added" : "[MemShrink]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T19:59:47Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T19:59:47Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "edwardsgreg@gmail.com",
      "date" : "2015-03-07T23:33:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "edwardsgreg@gmail.com"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-05-11T10:46:49Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1163559"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-05-11T10:49:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florian@queze.net"
    } ],
    "flagEvents" : [ {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-15T03:38:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549341,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "blair@theunfocused.net",
      "date" : "2015-01-17T03:01:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bmcbride@mozilla.com)",
      "added" : "",
      "attachmentId" : 8549341,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "seth.bugzilla@blackhail.net",
      "date" : "2015-01-17T21:07:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550689,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-21T14:17:17Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8550689,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121802,
  "cclist" : [ "blair@theunfocused.net", "edwardsgreg@gmail.com", "florian@queze.net", "MattN+bmo@mozilla.com", "n.nethercote@gmail.com", "sledru@mozilla.com" ]
}, {
  "component" : "Theme",
  "summary" : "Win7 aero: Forward button appears to be disabled when it isn't",
  "reporter" : "jfleshman@gmail.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Windows 7",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150108202552\n\nSteps to reproduce:\n\n1. Go to any page on the internet, then to any other page on the internet.\n2. Press the back button to return to the first page.\n3. Forward button appears.\n\n\nActual results:\n\nForward button looks like it's disabled -- border is less distinct than the one on the back button was, and it's the same color as the surrounding toolbar instead of being visually distinct from it.\n\n\nExpected results:\n\nAn active forward button should have the same color and border as an active back button.",
  "comments" : [ {
    "text" : "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150108202552\n\nSteps to reproduce:\n\n1. Go to any page on the internet, then to any other page on the internet.\n2. Press the back button to return to the first page.\n3. Forward button appears.\n\n\nActual results:\n\nForward button looks like it's disabled -- border is less distinct than the one on the back button was, and it's the same color as the surrounding toolbar instead of being visually distinct from it.\n\n\nExpected results:\n\nAn active forward button should have the same color and border as an active back button.",
    "authour" : "jfleshman@gmail.com",
    "created" : "2015-01-15T01:23:16Z"
  }, {
    "text" : "Created attachment 8549569\nback-fwd-win7.PNG\n\nThis is what they look like for me. The colors look the same to me - definitely not \"disabled\".\n\nCan you provide a screenshot of what you're seeing that makes you feel differently?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-15T12:22:20Z"
  }, {
    "text" : "Created attachment 8549981\nForward button with no hover\n\nThis is how the forward button appears when I back up to a previous page. It appears the same color as the surrounding toolbar/address bar. Compare to the back button, which looks (and is) clickable.",
    "authour" : "jfleshman@gmail.com",
    "created" : "2015-01-16T00:50:52Z"
  }, {
    "text" : "Created attachment 8549982\nForward button with hover\n\nWhen mousing over the forward button, it now appears clickable. But the browser should make it look that way all the time, not just when hovering (IMO).",
    "authour" : "jfleshman@gmail.com",
    "created" : "2015-01-16T00:52:17Z"
  }, {
    "text" : "(In reply to Jason Fleshman from comment #3)\n> Created attachment 8549982\n> Forward button with hover\n> \n> When mousing over the forward button, it now appears clickable. But the\n> browser should make it look that way all the time, not just when hovering\n> (IMO).\n\nI definitely agree that this look is the one we should be using even without hovering. I'm trying to figure out why you're seeing something different from me...\n\nCan you reproduce this if you restart Firefox in safe mode (Help > Restart with add-ons disabled) ?\n\nIf so, can you tell me:\n\n1) your windows theme (Aero, Aero basic, custom theme, ...)\n2) your font size settings from the control panel (110%, 150% - it looks like you're using hidpi, at least).\n\nThank you!",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-16T09:51:37Z"
  }, {
    "text" : "I've restarted in safe mode as requested and the problem still shows itself. My Windows theme is standard Aero (the kind with the see-through window frames), and my system zoom is set to \"larger\", which is 150%.",
    "authour" : "jfleshman@gmail.com",
    "created" : "2015-01-16T11:36:03Z"
  }, {
    "text" : "The relevant CSS here is:\n\nwindow:not([chromehidden~=\"toolbar\"]) #urlbar-wrapper > .toolbarbutton-1:-moz-any([disabled],:not([open]):not([disabled]):not(:active)) > .toolbarbutton-icon {\n  border-color: hsla(210,4%,10%,.1);\n}\n\nat\n\nhttp://hg.mozilla.org/mozilla-central/annotate/dcb4c5573aef/browser/themes/windows/browser.css#l788\n\nintroduced in bug 960517.\n\nI don't know why this specific rule was necessary... although if you remove it, the button doesn't have a border at all anymore.\n\nIt looks like we forgot to override it for win7 (and perhaps also winxp / classic... we'd need to look). Mike, does that analysis look right to you?\n\nFor the record, on aero the url bar has borders that have this color:\n\n  border-color: hsla(210,54%,20%,.35) hsla(210,54%,20%,.37) hsla(210,54%,20%,.4);\n\nwhich are much more saturated, a bit lighter, and more opaque... \n\nLikewise for the box-shadow of the back button, which is much more opaque:\n\n    box-shadow: 0 1px 0 hsla(0,0%,100%,.3) inset,\n                0 0 0 1px hsla(0,0%,100%,.3) inset,\n                0 0 0 1px hsla(210,54%,20%,.25),\n                0 1px 0 hsla(210,54%,20%,.35) !important;\n\n(in fact, is so even when disabled...)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-19T20:04:28Z"
  }, {
    "text" : "I can confirm that the latest Nightly, build ID: 20151015030233 is no longer affected by this issue.\nTested on Windows 7 32bit and Windows 7 64bit.",
    "authour" : "cornel.ionce@softvision.ro",
    "created" : "2015-10-16T13:46:50Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:04:28Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-10-08T14:39:11Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-10-16T13:46:50Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-10-08T14:39:11Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-15T12:22:20Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jfleshman@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-16T09:51:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "kohei.yoshino@gmail.com",
      "date" : "2015-01-19T01:16:39Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "Toolbars and Customization"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T11:19:29Z",
      "what" : "component",
      "removed" : "Toolbars and Customization",
      "added" : "Theme"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:04:28Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mdeboer@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:04:28Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "960517"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:04:28Z",
      "what" : "summary",
      "removed" : "Forward button appears to be disabled when it isn't",
      "added" : "Win7 aero: Forward button appears to be disabled when it isn't"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:04:28Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:11:40Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regression"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-10-07T15:14:57Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1173744"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-10-08T14:39:11Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "fixed by bug 1173744"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-10-08T14:39:11Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-10-08 07:39:11"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-10-09T05:32:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cornel.ionce@softvision.ro"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-10-09T05:32:44Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "cornel.ionce@softvision.ro"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-15T12:22:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jfleshman@gmail.com",
      "date" : "2015-01-16T00:50:52Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jfleshman@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-16T09:51:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T11:19:29Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jfleshman@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-19T20:04:28Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-10-07T15:14:57Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mdeboer@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-10-09T05:32:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121782,
  "cclist" : [ "cornel.ionce@softvision.ro", "gijskruitbosch+bugs@gmail.com", "jfleshman@gmail.com", "mdeboer@mozilla.com" ]
}, {
  "component" : "Developer Tools: Netmonitor",
  "summary" : "NetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available.",
  "reporter" : "cpeterson@mozilla.com",
  "assigned" : "sjakthol@outlook.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I see the following error messages in the browser console when logging into Yammer using Okta SSO when e10s is enabled:\n\nhttps://www.yammer.com/mozilla.com\n\nNetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available. DevToolsUtils.js:58:0\nNetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available. DevToolsUtils.js:58:0",
  "comments" : [ {
    "text" : "I see the following error messages in the browser console when logging into Yammer using Okta SSO when e10s is enabled:\n\nhttps://www.yammer.com/mozilla.com\n\nNetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available. DevToolsUtils.js:58:0\nNetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available. DevToolsUtils.js:58:0",
    "authour" : "cpeterson@mozilla.com",
    "created" : "2015-01-15T00:21:19Z"
  }, {
    "text" : "This doesn't seem to be e10s-related, after all. I see the same errors on Yammer without e10s.",
    "authour" : "cpeterson@mozilla.com",
    "created" : "2015-01-15T00:25:55Z"
  }, {
    "text" : "That message was meant to be shown as warning if nsIRequest does not have an URI attached to it. Apparently this is more common than I thought.\n\nSadly I don't have credentials required to reproduce what you're seeing. I suspect this is caused by multiple consecutive redirects that caused some other issues while I was working on bug 932179. It could be that by the time we get securityInfo for a request (nsIRequestObserver.onStartResponse) the URI of the related nsIRequest is already destroyed.\n\nIf the URI is available some point in time (i.e. there's no requests without domain name in netmonitor when the exception occurs), it should be possible to save the hostname there and use it when we finally check the security status (option #1).\n\nAnother option is to just remove the warning altogether if the case it's triggered turns out to be a lot more common than I thought (option #2).\n\nI'll look into option #1.",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-01-16T06:59:00Z"
  }, {
    "text" : "Created attachment 8550473\nnetmonitor-missing-request-URI.patch\n\nHere's a patch that saves the hostname early on in NetworkMonitor.createActivityObject and uses that to query HSTS/HPKP status later when parsing security information. If the URI is not available in _onRequestHeader, we should be doomed long before we get to a point where security info would be parsed.\n\nI also changed NetworkHelper.parseSecurityInfo to take the httpActivity object instead of nsIRequest as the second parameter.\n\nApparently with e10s requests don't have a window attached to them so private browsing was not properly detected. This patch makes the monitor check for private browsing in two different ways:\n1) nsIPrivateBrowsingChannel.isChannelPrivate\n2) PrivateBrowsingUtils.isWindowPrivate\n\nIf either of those checks indicate a private request, it's marked to be private.\n\nI left the isPrivateWindow check intact as it was added for Firefox OS and I don't know if isChannelPrivate works there. If it does the isPrivateWindow check should probably be removed.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=b3ba90256e9f",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-01-16T20:07:21Z"
  }, {
    "text" : "Comment on attachment 8550473\nnetmonitor-missing-request-URI.patch\n\nReview of attachment 8550473:\n-----------------------------------------------------------------\n\nLooks good to me, thanks for the detailed explanation Sami!\n\n(In reply to Sami Jaktholm from comment #3)\n> I left the isPrivateWindow check intact as it was added for Firefox OS and I\n> don't know if isChannelPrivate works there. If it does the isPrivateWindow\n> check should probably be removed.\n\nAlex, do you know if channel.isChannelPrivate works on b2g?\n\n::: toolkit/devtools/webconsole/network-monitor.js\n@@ +667,5 @@\n> +    let channelPrivate = aChannel.isChannelPrivate;\n> +\n> +    // win is not available in e10s. Use channel instead.\n> +    let winPrivate = win ? PrivateBrowsingUtils.isWindowPrivate(win) : false;\n> +    \n\nNit: trailing whitespace.",
    "authour" : "past@mozilla.com",
    "created" : "2015-01-19T14:03:20Z"
  }, {
    "text" : "Yes, isChannelPrivate is e10s-aware.",
    "authour" : "josh@joshmatthews.net",
    "created" : "2015-01-19T14:34:50Z"
  }, {
    "text" : "(In reply to Josh Matthews [:jdm] from comment #5)\n> Yes, isChannelPrivate is e10s-aware.\n\nDoes that imply it is also b2g-aware? Note that PrivateBrowsingUtils.isWindowPrivate was kept for b2g compatibility, not e10s.",
    "authour" : "past@mozilla.com",
    "created" : "2015-01-19T15:47:41Z"
  }, {
    "text" : "I'm not sure what being b2g-aware means in this context.",
    "authour" : "josh@joshmatthews.net",
    "created" : "2015-01-19T18:39:43Z"
  }, {
    "text" : "(In reply to Josh Matthews [:jdm] from comment #7)\n> I'm not sure what being b2g-aware means in this context.\n\nOn b2g if I QI a nsIHttpChannel into nsIPrivateBrowsingChannel and check its isChannelPrivate will it tell me\n* true if that channel is related to (or opened from) a private window\n* false if that channel was not initiated from a private window?\n\nI'm not really familiar with b2g so I hope that's clear enough.",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-01-20T05:36:04Z"
  }, {
    "text" : "Yes.",
    "authour" : "josh@joshmatthews.net",
    "created" : "2015-01-20T05:48:21Z"
  }, {
    "text" : "Comment on attachment 8550473\nnetmonitor-missing-request-URI.patch\n\nThanks Josh.",
    "authour" : "past@mozilla.com",
    "created" : "2015-01-20T07:35:15Z"
  }, {
    "text" : "Created attachment 8551738\nnetmonitor-missing-request-URI.patch\n\nAll right, thanks.\n\nHere's a version that removes PrivateBrowsingUtils.isWindowPrivate from netmonitor and relies on nsIPrivateBrowsingChannel.isChannelPrivate on all platforms.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=bca24e43973b",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-01-20T11:53:31Z"
  }, {
    "text" : "*** Bug 1079805 has been marked as a duplicate of this bug. ***",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-20T21:51:48Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/11942c706677",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-21T04:45:25Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/11942c706677",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-21T13:16:34Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-16T06:59:00Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:16:34Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:16:34Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "cpeterson@mozilla.com",
      "date" : "2015-01-15T00:25:55Z",
      "what" : "url",
      "removed" : "",
      "added" : "https://www.yammer.com/mozilla.com"
    }, {
      "name" : "cpeterson@mozilla.com",
      "date" : "2015-01-15T00:25:55Z",
      "what" : "summary",
      "removed" : "[e10s] NetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available.",
      "added" : "NetworkHelper.parseSecurityInfo threw an exception: Could not get HSTS/HPKP status as request.URI not available."
    }, {
      "name" : "josh@joshmatthews.net",
      "date" : "2015-01-15T04:16:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "josh@joshmatthews.net"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-16T06:59:00Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sjakthol@outlook.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-16T06:59:00Z",
      "what" : "component",
      "removed" : "Developer Tools",
      "added" : "Developer Tools: Netmonitor"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-16T07:00:05Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "sjakthol@outlook.com"
    }, {
      "name" : "dkeeler@mozilla.com",
      "date" : "2015-01-16T17:50:53Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dkeeler@mozilla.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-16T20:07:21Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-01-19T14:03:20Z",
      "what" : "cc",
      "removed" : "",
      "added" : "poirot.alex@gmail.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-20T11:53:31Z",
      "what" : "attachments.isobsolete:8550473",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-20T14:16:12Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-20T21:51:48Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T04:45:25Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T04:45:25Z",
      "what" : "whiteboard",
      "removed" : "[e10s-m6]",
      "added" : "[e10s-m6][fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:16:34Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:16:34Z",
      "what" : "whiteboard",
      "removed" : "[e10s-m6][fixed-in-fx-team]",
      "added" : "[e10s-m6]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:16:34Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-21 05:16:34"
    } ],
    "flagEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-16T20:07:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550473,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-01-19T14:03:20Z",
      "what" : "flagtypes.name",
      "removed" : "review?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8550473,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-01-20T07:35:15Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8550473,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-01-20T11:53:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8551738,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-01-20T13:21:58Z",
      "what" : "flagtypes.name",
      "removed" : "review?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8551738,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T04:45:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121765,
  "cclist" : [ "bgrinstead@mozilla.com", "dkeeler@mozilla.com", "ejpbruel@mozilla.com", "josh@joshmatthews.net", "past@mozilla.com", "poirot.alex@gmail.com", "sjakthol@outlook.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "DevEdition theme: tab bar jittering when in customize mode that is not the last tab",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "bgrinstead@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I've been able to reproduce on OSX.\n\nSTR:\n\nOpen up enough tabs to overflow\nOpen customize mode\nPress cmd+t to open a new tab so the customize tab isn't the last\nSwitch to customize tab\n\nJittering starts while in customize mode and continues until exiting.",
  "comments" : [ {
    "text" : "I've been able to reproduce on OSX.\n\nSTR:\n\nOpen up enough tabs to overflow\nOpen customize mode\nPress cmd+t to open a new tab so the customize tab isn't the last\nSwitch to customize tab\n\nJittering starts while in customize mode and continues until exiting.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-14T23:12:15Z"
  }, {
    "text" : "I've noticed that removing the \"#TabsToolbar[currentset]:not([currentset*=\"tabbrowser-tabs,new-tab-button\"])\" portion of the selector here seems to fix the problem: https://dxr.mozilla.org/mozilla-central/source/browser/themes/shared/tabs.inc.css#327.\n\nThat selector is intended to handle the case with a separated new tab button, but doesn't match in customize mode.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-14T23:15:26Z"
  }, {
    "text" : "Created attachment 8556768\njittering-customize.patch\n\nA different approach than outlined in Comment 1 - this just switches the separators to only be 1px wide and margin-start -1px so that we don't have the issue with extending the width of the final tab.  I can't find anything specifically expecting this to be 3px in tabbrowser or anywhere else, but let me know if you think changing this width is likely to be a problem.\n\nThis also lets us remove the ugly workaround from Bug 1111091 dealing with a separated new tab button.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-30T00:15:21Z"
  }, {
    "text" : "Comment on attachment 8556768\njittering-customize.patch\n\nReview of attachment 8556768:\n-----------------------------------------------------------------\n\nOutside dev-edition the image is 3px wide but other than that I can't think of other reliance on 3px.\n\nI think the changes to devedition.inc.css are fine but I thought that the code you're deleting in tabs.inc.css could be useful outside of devedition? Am I remembering incorrectly? I don't think it was a problem without extensions though and we lived with that for months until you added the hunk recently so I think it's not a big deal either way.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-31T01:35:22Z"
  }, {
    "text" : "(In reply to Matthew N. [:MattN] from comment #3)\n> I think the changes to devedition.inc.css are fine but I thought that the\n> code you're deleting in tabs.inc.css could be useful outside of devedition?\n> Am I remembering incorrectly? I don't think it was a problem without\n> extensions though and we lived with that for months until you added the hunk\n> recently so I think it's not a big deal either way.\n\nI believe this was only an issue with tabCurveWidth < 2px - I've never seen the jitter without the devedition theme applied.\n\nWhen debugging it I set @tabCurveWidth@/@tabCurveHalfWidth@ to 0px on the default theme and was able to reproduce and narrow down the problem to this instead of something else within the devedition theme, so maybe that is what you are thinking of.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-31T01:55:38Z"
  }, {
    "text" : "Perhaps. This is something add-ons could do though.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-31T02:03:14Z"
  }, {
    "text" : "(In reply to Matthew N. [:MattN] from comment #5)\n> Perhaps. This is something add-ons could do though.\n\nAre they able to change the preprocessor values?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-31T02:05:17Z"
  }, {
    "text" : "No, but they could override the values like dev edition does.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-31T21:06:00Z"
  }, {
    "text" : "Created attachment 8558196\npinned-overflow-border.png\n\nTurns out this causes the first separator to be invisible in the case of overflowing tabs with at least one pinned tab (see screenshot).  It seems that switching the -moz-margin-start and -moz-margin end values fixes this problem, but I'm not sure if this is going to cause different issues.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-02T23:26:45Z"
  }, {
    "text" : "Created attachment 8558209\njittering-customize2.patch\n\nThis fixes the problem in Comment 8 and also fixes the original issue, but I'm not sure if it is the right approach.  I'm thinking the difference is just that the separator shows up on the right side of the edge of the tab instead of the left.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-02T23:49:53Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #9)\n> Created attachment 8558209\n> jittering-customize2.patch\n> \n> This fixes the problem in Comment 8 and also fixes the original issue, but\n> I'm not sure if it is the right approach.  I'm thinking the difference is\n> just that the separator shows up on the right side of the edge of the tab\n> instead of the left.\n\nI guess an alternative would be to use `moz-margin-start: -1px; -moz-margin-end: 0;` for the last tab (to make sure that the width of the last tab isn't extended) and then `moz-margin-start: 0; -moz-margin-end: -1px;` for all the others (so that the first separator issue in Comment 8 is resolved).",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T22:11:19Z"
  }, {
    "text" : "Created attachment 8560701\njittering-customize.patch\n\nUses approach from Comment 10",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-06T21:55:28Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/ee8d92893082",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-06T22:54:18Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/ee8d92893082",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-02-07T16:57:24Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T00:15:21Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:24Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:24Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-14T23:15:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "MattN+bmo@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-14T23:58:26Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[devedition-polish]"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T00:15:21Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T22:08:21Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1093820"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-06T21:55:28Z",
      "what" : "attachments.isobsolete:8556768",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-06T21:55:28Z",
      "what" : "attachments.isobsolete:8558209",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-06T22:54:18Z",
      "what" : "whiteboard",
      "removed" : "[devedition-polish]",
      "added" : "[fixed-in-fx-team][devedition-polish]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:24Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:24Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team][devedition-polish]",
      "added" : "[devedition-polish]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:24Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-07 08:57:24"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:24Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T00:15:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556768,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-31T01:35:22Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556768,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T23:49:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558209,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-06T21:55:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558209,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-06T21:55:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560701,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-06T22:51:36Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8560701,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121723,
  "cclist" : [ "gijskruitbosch+bugs@gmail.com", "MattN+bmo@mozilla.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "Create an OptionsView helper for devtools panels",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "A helper to keep preference values in sync with a dropdown menu. For use with web audio editor (bug 1023462) and new perf tool (bug 1102350). Debugger options could be converted to use this as well (and would update the checkboxes when updated from elsewhere)",
  "comments" : [ {
    "text" : "A helper to keep preference values in sync with a dropdown menu. For use with web audio editor (bug 1023462) and new perf tool (bug 1102350). Debugger options could be converted to use this as well (and would update the checkboxes when updated from elsewhere)",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-14T22:21:19Z"
  }, {
    "text" : "Created attachment 8549188\n1121700-options-view.patch\n\n https://treeherder.mozilla.org/#/jobs?repo=try&revision=c4c73b229eeb",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-14T22:27:11Z"
  }, {
    "text" : "Comment on attachment 8549188\n1121700-options-view.patch\n\nReview of attachment 8549188:\n-----------------------------------------------------------------\n\nThis is beautiful.\n\n::: browser/devtools/shared/options-view.js\n@@ +9,5 @@\n> + * OptionsView constructor. Takes several options, all required:\n> + * - branchName: The name of the prefs branch, like \"devtools.debugger.\"\n> + * - window: The window the XUL elements live in.\n> + * - menupopup: The XUL `menupopup` item that contains the pref buttons.\n> + * \n\nNit: whitespace.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-15T17:36:57Z"
  }, {
    "text" : "Comment on attachment 8549188\n1121700-options-view.patch\n\nReview of attachment 8549188:\n-----------------------------------------------------------------\n\n::: browser/devtools/shared/options-view.js\n@@ +46,5 @@\n> +    this.mutationObserver = new MutationObserver(this._onOptionChange);\n> +    let observerConfig = { attributes: true, attributeFilter: [\"checked\"]};\n> +\n> +    // Sets observers and default options for all options\n> +    Array.forEach(this.$$(\"menuitem\", this.menupopup), $el => {\n\nnit: a for-of loop would be shorter here :\nfor (let $el of this.$$(\"menuitem\",this.menupopup)) {",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-15T19:04:03Z"
  }, {
    "text" : "Created attachment 8549864\n1121700-options-view.patch\n\nNits fixed",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-15T21:05:12Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/09b5d7e43b60",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-16T16:21:38Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/09b5d7e43b60",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-17T00:48:57Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T22:21:43Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:57Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:57Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T22:21:43Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T22:27:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T22:50:32Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1102350"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T22:50:41Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1023462"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T21:05:12Z",
      "what" : "attachments.isobsolete:8549188",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T21:05:23Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-16T16:21:38Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-16T16:21:38Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:57Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:57Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:57Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-16 16:48:57"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T22:27:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549188,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-15T17:36:57Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8549188,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T21:05:12Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549864,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-16T16:21:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121700,
  "cclist" : [ "vporof@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "Intermittent browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
  "reporter" : "ryanvm@gmail.com",
  "assigned" : "enndeakin@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "12:59:23 INFO - 177 INFO TEST-START | testing/mochitest/tests/browser/browser_waitForFocus.js\n12:59:23 INFO - 178 INFO checking window state\n12:59:23 INFO - 179 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | I'm a test in head file\n12:59:23 INFO - 180 INFO Entering test\n12:59:23 INFO - 181 INFO must wait for load\n12:59:23 INFO - 182 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n12:59:23 INFO - Stack trace:\n12:59:23 INFO - chrome://mochikit/content/browser-test.js:test_is:851\n12:59:23 INFO - chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js:null:33\n12:59:23 INFO - self-hosted:InterpretGeneratorResume:677\n12:59:23 INFO - self-hosted:next:585\n12:59:23 INFO - Tester_execTest@chrome://mochikit/content/browser-test.js:667:9\n12:59:23 INFO - Tester.prototype.nextTest</<@chrome://mochikit/content/browser-test.js:593:7\n12:59:23 INFO - SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:750:59\n12:59:23 INFO - 183 INFO Leaving test\n12:59:23 INFO - 184 INFO Entering test\n12:59:23 INFO - 185 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - 186 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - -*-*- UserCustomizations (child): document created: https://example.com/browser/testing/mochitest/tests/browser/waitForFocusPage.html\n12:59:23 INFO - -*-*- UserCustomizations (child): _injectInWindow\n12:59:23 INFO - -*-*- UserCustomizations (child): principal status: 0\n12:59:23 INFO - -*-*- UserCustomizations (child): document created: data:text/plain,Test\n12:59:23 INFO - -*-*- UserCustomizations (child): _injectInWindow\n12:59:23 INFO - -*-*- UserCustomizations (child): principal status: 0\n12:59:23 INFO - 187 INFO Console message: [JavaScript Error: \"The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must be declared in the document or in the transfer protocol.\" {file: \"https://example.com/browser/testing/mochitest/tests/browser/waitForFocusPage.html\" line: 0}]\n12:59:23 INFO - 188 INFO Console message: [JavaScript Error: \"The character encoding of the plain text document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the file needs to be declared in the transfer protocol or file needs to use a byte order mark as an encoding signature.\" {file: \"data:text/plain,Test\" line: 0}]\n12:59:23 INFO - 189 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 190 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 830}]\n12:59:23 INFO - 191 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 839}]\n12:59:23 INFO - 192 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when page is loaded\n12:59:23 INFO - 193 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 194 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 195 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 51}]\n12:59:23 INFO - 196 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 51}]\n12:59:23 INFO - 197 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 830}]\n12:59:23 INFO - 198 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 839}]\n12:59:23 INFO - 199 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | Child iframe is focused\n12:59:23 INFO - 200 INFO Leaving test\n12:59:23 INFO - 201 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 202 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 203 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://global/content/bindings/remote-browser.xml\" line: 162}]\n12:59:23 INFO - 204 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 53}]\n12:59:23 INFO - 205 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 53}]\n12:59:23 INFO - 206 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - 207 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - 208 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | I'm a cleanup function in head file\n12:59:23 INFO - 209 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | Head cleanup function scope is correct\n12:59:23 INFO - 210 INFO MEMORY STAT vsize after test: 3280494592\n12:59:23 INFO - 211 INFO MEMORY STAT residentFast after test: 275079168\n12:59:23 INFO - 212 INFO MEMORY STAT heapAllocated after test: 71787232\n12:59:23 INFO - 213 INFO TEST-OK | testing/mochitest/tests/browser/browser_waitForFocus.js | took 624ms",
  "comments" : [ {
    "text" : "12:59:23 INFO - 177 INFO TEST-START | testing/mochitest/tests/browser/browser_waitForFocus.js\n12:59:23 INFO - 178 INFO checking window state\n12:59:23 INFO - 179 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | I'm a test in head file\n12:59:23 INFO - 180 INFO Entering test\n12:59:23 INFO - 181 INFO must wait for load\n12:59:23 INFO - 182 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n12:59:23 INFO - Stack trace:\n12:59:23 INFO - chrome://mochikit/content/browser-test.js:test_is:851\n12:59:23 INFO - chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js:null:33\n12:59:23 INFO - self-hosted:InterpretGeneratorResume:677\n12:59:23 INFO - self-hosted:next:585\n12:59:23 INFO - Tester_execTest@chrome://mochikit/content/browser-test.js:667:9\n12:59:23 INFO - Tester.prototype.nextTest</<@chrome://mochikit/content/browser-test.js:593:7\n12:59:23 INFO - SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:750:59\n12:59:23 INFO - 183 INFO Leaving test\n12:59:23 INFO - 184 INFO Entering test\n12:59:23 INFO - 185 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - 186 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - -*-*- UserCustomizations (child): document created: https://example.com/browser/testing/mochitest/tests/browser/waitForFocusPage.html\n12:59:23 INFO - -*-*- UserCustomizations (child): _injectInWindow\n12:59:23 INFO - -*-*- UserCustomizations (child): principal status: 0\n12:59:23 INFO - -*-*- UserCustomizations (child): document created: data:text/plain,Test\n12:59:23 INFO - -*-*- UserCustomizations (child): _injectInWindow\n12:59:23 INFO - -*-*- UserCustomizations (child): principal status: 0\n12:59:23 INFO - 187 INFO Console message: [JavaScript Error: \"The character encoding of the HTML document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the page must be declared in the document or in the transfer protocol.\" {file: \"https://example.com/browser/testing/mochitest/tests/browser/waitForFocusPage.html\" line: 0}]\n12:59:23 INFO - 188 INFO Console message: [JavaScript Error: \"The character encoding of the plain text document was not declared. The document will render with garbled text in some browser configurations if the document contains characters from outside the US-ASCII range. The character encoding of the file needs to be declared in the transfer protocol or file needs to use a byte order mark as an encoding signature.\" {file: \"data:text/plain,Test\" line: 0}]\n12:59:23 INFO - 189 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 190 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 830}]\n12:59:23 INFO - 191 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 839}]\n12:59:23 INFO - 192 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when page is loaded\n12:59:23 INFO - 193 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 194 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 195 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 51}]\n12:59:23 INFO - 196 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 51}]\n12:59:23 INFO - 197 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 830}]\n12:59:23 INFO - 198 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\" line: 839}]\n12:59:23 INFO - 199 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | Child iframe is focused\n12:59:23 INFO - 200 INFO Leaving test\n12:59:23 INFO - 201 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 202 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://gre/modules/Promise.jsm -> resource://gre/modules/Promise-backend.js\" line: 664}]\n12:59:23 INFO - 203 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://global/content/bindings/remote-browser.xml\" line: 162}]\n12:59:23 INFO - 204 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 53}]\n12:59:23 INFO - 205 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js\" line: 53}]\n12:59:23 INFO - 206 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - 207 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n12:59:23 INFO - 208 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | I'm a cleanup function in head file\n12:59:23 INFO - 209 INFO TEST-PASS | testing/mochitest/tests/browser/browser_waitForFocus.js | Head cleanup function scope is correct\n12:59:23 INFO - 210 INFO MEMORY STAT vsize after test: 3280494592\n12:59:23 INFO - 211 INFO MEMORY STAT residentFast after test: 275079168\n12:59:23 INFO - 212 INFO MEMORY STAT heapAllocated after test: 71787232\n12:59:23 INFO - 213 INFO TEST-OK | testing/mochitest/tests/browser/browser_waitForFocus.js | took 624ms",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-14T21:14:08Z"
  }, {
    "text" : "submit_timestamp: 2015-01-14T13:14:19\nlog: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1691898\nrepository: fx-team\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: talos-mtnlion-r5-001\nbuildname: Rev5 MacOSX Mountain Lion 10.8 fx-team opt test mochitest-e10s-browser-chrome-2\nrevision: ac420d182768\n\n182 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-01-14T21:14:19Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7081490\nrepository: mozilla-inbound\nstart_time: 2015-02-27T18:58:16\nwho: philringnalda[at]gmail[dot]com\nmachine: talos-mtnlion-r5-053\nbuildname: Rev5 MacOSX Mountain Lion 10.8 mozilla-inbound opt test mochitest-e10s-browser-chrome-2\nrevision: 490afdad9ba1\n\n216 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-28T09:15:30Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2134708\nrepository: fx-team\nstart_time: 2015-03-02T13:46:33\nwho: philringnalda[at]gmail[dot]com\nmachine: talos-mtnlion-r5-044\nbuildname: Rev5 MacOSX Mountain Lion 10.8 fx-team opt test mochitest-e10s-browser-chrome-2\nrevision: 084827e66581\n\n214 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-02T23:16:40Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7877442\nrepository: mozilla-inbound\nstart_time: 2015-03-20T14:24:50\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0027\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 824009fbc42f\n\nValueError: invalid literal for int() with base 10: 'ps:'\nValueError: invalid literal for int() with base 10: 'ps:'\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n638 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_auth4.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n711 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_httphash3.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n775 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_multipackage.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n874 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_signed_multiple.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n944 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_signed_naming.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T22:01:24Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7878229\nrepository: mozilla-inbound\nstart_time: 2015-03-20T14:37:41\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0027\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 5444d8c669fc\n\nValueError: invalid literal for int() with base 10: 'ps:'\nValueError: invalid literal for int() with base 10: 'ps:'\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n710 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_multipackage.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n775 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_unsigned_url.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T22:02:06Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7879705\nrepository: mozilla-inbound\nstart_time: 2015-03-20T15:13:42\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0078\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 7ff3c70a5ad2\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n638 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_auth4.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n730 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_navigateaway.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T22:41:39Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7880500\nrepository: mozilla-inbound\nstart_time: 2015-03-20T15:44:55\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0046\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 7ff3c70a5ad2\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T23:03:12Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7880502\nrepository: mozilla-inbound\nstart_time: 2015-03-20T15:45:12\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0052\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 7ff3c70a5ad2\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T23:03:18Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7880932\nrepository: mozilla-inbound\nstart_time: 2015-03-20T16:06:28\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0016\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 2fd02f191756\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n724 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_switchtab.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T23:23:51Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=7881264\nrepository: mozilla-inbound\nstart_time: 2015-03-20T16:17:51\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0037\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: c30bce033d92\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]\n763 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_signed_multiple.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n808 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_signed_url.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n848 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_switchtab.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128\n889 INFO TEST-UNEXPECTED-FAIL | toolkit/mozapps/extensions/test/xpinstall/browser_unsigned_url.js | uncaught exception - Error: Assertion failure at chrome://browser/content/tabbrowser.xml:3128",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-20T23:39:08Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8153429\nrepository: mozilla-inbound\nstart_time: 2015-03-27T10:40:57\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0048\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 8c02abfe5360\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-27T18:17:37Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8170395\nrepository: mozilla-inbound\nstart_time: 2015-03-27T14:19:13\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0052\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: ffcb5e699ef5\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-27T22:09:33Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8183662\nrepository: mozilla-inbound\nstart_time: 2015-03-27T18:21:24\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0039\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: c68a6ebe6083\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T01:45:37Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1235320\nrepository: mozilla-central\nstart_time: 2015-03-27T18:42:36\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0029\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 5bc74f6fa5c8\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T01:58:15Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1234797\nrepository: mozilla-central\nstart_time: 2015-03-27T18:09:29\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0029\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 67f8d63b2cad\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T01:58:35Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8185355\nrepository: mozilla-inbound\nstart_time: 2015-03-27T19:22:26\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0083\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 1628ecf1c71f\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T02:43:34Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2459071\nrepository: fx-team\nstart_time: 2015-03-27T19:30:19\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0063\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: f0b932c8f3da\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T02:49:06Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8186419\nrepository: mozilla-inbound\nstart_time: 2015-03-27T19:35:23\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0073\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 665c141c2479\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T03:00:11Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8189824\nrepository: mozilla-inbound\nstart_time: 2015-03-27T22:29:08\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0038\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: c203564a53ee\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T09:43:44Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8191253\nrepository: mozilla-inbound\nstart_time: 2015-03-28T01:19:09\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0008\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 082719ae4d05\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T09:52:13Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1236739\nrepository: mozilla-central\nstart_time: 2015-03-28T04:57:11\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0038\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: ad587ca628cf\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T15:01:53Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8196566\nrepository: mozilla-inbound\nstart_time: 2015-03-28T08:13:46\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0073\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: d72144153749\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T15:42:35Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2462673\nrepository: fx-team\nstart_time: 2015-03-28T08:55:07\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0045\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 9f25f9cf6ce1\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T16:22:07Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=6036874\nrepository: try\nstart_time: 2015-03-28T12:17:07\nwho: philip[dot]chee[at]gmail[dot]com\nmachine: t-yosemite-r5-0093\nbuildname: Rev5 MacOSX Yosemite 10.10 try opt test mochitest-e10s-browser-chrome-3\nrevision: 3f4d5f9398f3\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T20:02:39Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8199317\nrepository: mozilla-inbound\nstart_time: 2015-03-28T13:40:17\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0012\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 87e10bac6fd1\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T21:08:21Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1240131\nrepository: mozilla-central\nstart_time: 2015-03-28T14:12:15\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0022\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: e9769c80ee59\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T22:08:01Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2466167\nrepository: fx-team\nstart_time: 2015-03-28T14:11:07\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0087\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 879aacc06222\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T22:12:23Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2466748\nrepository: fx-team\nstart_time: 2015-03-28T14:52:06\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0001\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 4874b0778b68\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T22:12:59Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8201839\nrepository: mozilla-inbound\nstart_time: 2015-03-28T15:46:04\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0046\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: df0b52334a1d\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T23:06:13Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=6039103\nrepository: try\nstart_time: 2015-03-28T15:39:23\nwho: jorendorff[at]mozilla[dot]com\nmachine: t-snow-r4-0106\nbuildname: Rev4 MacOSX Snow Leopard 10.6 try opt test mochitest-e10s-browser-chrome-3\nrevision: 18dd013e29e4\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-28T23:51:17Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8202683\nrepository: mozilla-inbound\nstart_time: 2015-03-28T17:15:09\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0036\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 02f2f4c75007\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T00:48:08Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2467518\nrepository: fx-team\nstart_time: 2015-03-28T18:18:08\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0041\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: b34ca540cf73\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T01:40:31Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8204273\nrepository: mozilla-inbound\nstart_time: 2015-03-28T19:07:20\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0016\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: e19def475b91\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T02:26:18Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8205625\nrepository: mozilla-inbound\nstart_time: 2015-03-28T20:02:10\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0042\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 142d9ae5826c\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T03:24:46Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8205867\nrepository: mozilla-inbound\nstart_time: 2015-03-28T20:12:26\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0018\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 77f34f458d02\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T03:49:27Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1242093\nrepository: mozilla-central\nstart_time: 2015-03-28T23:24:23\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0046\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 385840329d91\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T06:42:58Z"
  }, {
    "text" : "Looks like this has picked up quite a bit, but still only on Mac. Almost certainly bug 1066531, since it also occurred regularly on March 20 when that patch was briefly checked in.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-03-29T11:06:04Z"
  }, {
    "text" : "I'll take a look though on Monday.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-03-29T11:07:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8213481\nrepository: mozilla-inbound\nstart_time: 2015-03-29T09:19:12\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0011\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 1d5bdeca48eb\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-29T16:59:05Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8216607\nrepository: mozilla-inbound\nstart_time: 2015-03-29T17:11:05\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0026\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: d7b8787283ce\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T00:27:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1244603\nrepository: mozilla-central\nstart_time: 2015-03-29T18:14:09\nwho: philringnalda[at]gmail[dot]com\nmachine: t-snow-r4-0086\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 9c786bf6a7ff\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T01:30:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2471636\nrepository: fx-team\nstart_time: 2015-03-29T19:10:05\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0041\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: dfe60814eda7\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T02:28:38Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8221455\nrepository: mozilla-inbound\nstart_time: 2015-03-29T19:52:07\nwho: philringnalda[at]gmail[dot]com\nmachine: t-snow-r4-0125\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: ace25a84812f\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T03:23:12Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8223921\nrepository: mozilla-inbound\nstart_time: 2015-03-30T02:31:08\nwho: tomcat[at]mozilla[dot]com\nmachine: t-snow-r4-0027\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: e08c785a4008\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T09:49:11Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8226204\nrepository: mozilla-inbound\nstart_time: 2015-03-30T04:54:24\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0037\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: f1bd22adbd0c\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T12:14:47Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1247086\nrepository: mozilla-central\nstart_time: 2015-03-30T05:00:45\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0027\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 6082a98d3861\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T12:31:55Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2474815\nrepository: fx-team\nstart_time: 2015-03-30T05:25:14\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0001\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 8dda027310f5\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T12:44:46Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2475158\nrepository: fx-team\nstart_time: 2015-03-30T06:23:07\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0080\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: b9caf6715b7e\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T13:47:02Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8235075\nrepository: mozilla-inbound\nstart_time: 2015-03-30T07:41:17\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0027\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 490d2e6a5026\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T15:15:10Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2475733\nrepository: fx-team\nstart_time: 2015-03-30T08:02:06\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0038\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 641213c84d51\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T15:45:00Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8237856\nrepository: mozilla-inbound\nstart_time: 2015-03-30T08:37:17\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0001\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: f3457bf766e4\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T15:55:08Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8240992\nrepository: mozilla-inbound\nstart_time: 2015-03-30T09:35:40\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0018\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 3d625a4d0935\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T16:53:50Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8242439\nrepository: mozilla-inbound\nstart_time: 2015-03-30T09:57:50\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0008\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: e3bcc3153c60\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T17:15:25Z"
  }, {
    "text" : "I suspect this is another issue related to the odd focusing behaviour from bug 1108555. Essentially, trying to focus a new tab while it is opening is futile since focus shifts around several times.\n\nEssentially, we need to wait for the focus event to occur after the TabSelect event has fired.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-03-30T17:18:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1249485\nrepository: mozilla-central\nstart_time: 2015-03-30T10:39:34\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0037\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 2d96bfd6fdb9\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T18:00:44Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8245815\nrepository: mozilla-inbound\nstart_time: 2015-03-30T12:04:16\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0020\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 2c8dacaae28c\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T19:22:49Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8246181\nrepository: mozilla-inbound\nstart_time: 2015-03-30T12:10:26\nwho: amccreight[at]mozilla[dot]com\nmachine: t-yosemite-r5-0006\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 8854fd9c5e73\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T19:25:28Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8248373\nrepository: mozilla-inbound\nstart_time: 2015-03-30T13:23:16\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0006\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 7fb698f70e79\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T20:46:00Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1251225\nrepository: mozilla-central\nstart_time: 2015-03-30T13:55:51\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0024\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 26d6392b5403\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-30T21:19:00Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8254912\nrepository: mozilla-inbound\nstart_time: 2015-03-30T17:04:25\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0020\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 9db244d84c0b\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T00:29:43Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8255399\nrepository: mozilla-inbound\nstart_time: 2015-03-30T17:17:15\nwho: wkocher[at]mozilla[dot]com\nmachine: t-yosemite-r5-0038\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 912d7039be45\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T00:47:07Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8267385\nrepository: mozilla-inbound\nstart_time: 2015-03-30T21:59:23\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0050\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: f7e820f8572a\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T05:26:38Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8266253\nrepository: mozilla-inbound\nstart_time: 2015-03-30T22:07:51\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0010\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 370d0db5b97c\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T05:26:41Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2485506\nrepository: fx-team\nstart_time: 2015-03-30T20:54:23\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0005\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 042755670a6d\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T05:33:40Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2488228\nrepository: fx-team\nstart_time: 2015-03-30T23:14:08\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0050\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 568ab0081a4e\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T06:31:06Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8272720\nrepository: mozilla-inbound\nstart_time: 2015-03-31T00:59:45\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0002\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 129deced715e\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T10:18:58Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8276957\nrepository: mozilla-inbound\nstart_time: 2015-03-31T03:06:08\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0053\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 5ddc5807af3e\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T10:26:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8277984\nrepository: mozilla-inbound\nstart_time: 2015-03-31T03:31:14\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0006\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: cb4ecfdcf4b1\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T10:49:46Z"
  }, {
    "text" : "This failure seems to becaused by e10s' async tab switcher. if updateDisplay() calls _adjustFocusAfterTabSwitch() before the test checks the focus then we're good. In that case updateDisplay() is called by postActions(), called by requestTab(), the last caused by setting gBrowser.selectedTab at line 27 in the test.\n\nadjustFocusAfterTabSwitch@chrome://browser/content/tabbrowser.xml:1235:51\n_getSwitcher/switcher.updateDisplay@chrome://browser/content/tabbrowser.xml:3126:21\n_getSwitcher/switcher.postActions@chrome://browser/content/tabbrowser.xml:3217:15\n_getSwitcher/switcher.requestTab@chrome://browser/content/tabbrowser.xml:3333:15\nset_selectedIndex@chrome://browser/content/tabbrowser.xml:5917:11\nset_selectedPanel@chrome://global/content/bindings/tabbox.xml:671:13\nset_selectedIndex@chrome://global/content/bindings/tabbox.xml:399:15\nset_selectedItem@chrome://global/content/bindings/tabbox.xml:431:34\nset_selectedTab@chrome://global/content/bindings/tabbox.xml:110:15\nset_selectedTab@chrome://browser/content/tabbrowser.xml:2694:11\n@chrome://mochitests/content/browser/testing/mochitest/tests/browser/browser_waitForFocus.js:27:3\n\nSometimes though switching takes longer and then the whole focus thing doesn't work out. This is quite reproducible on OS X 10.10 with the following command:\n\n./mach build browser; while [ $? -eq 0 ]; do ./mach mochitest testing/mochitest/tests/browser/browser_waitForFocus.js --e10s --run-until-failure --repeat 3; done\n\nMike, you know the switcher very well, can you maybe dive into what's happening here? Or shed some more light?",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-31T11:25:23Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8282384\nrepository: mozilla-inbound\nstart_time: 2015-03-31T04:36:08\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0087\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 41386efec948\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T11:54:13Z"
  }, {
    "text" : "waitForFocus/promiseFocus expects to be able to focus a window by calling window.focus() which doesn't work well during a tab switch since the focus gets shuffled around a bit when switching tabs. Sometimes, the new tab will get focused, blurred and then focused again, and we actually want promiseFocus to return once all of this has settled.\n\nGenerally, we can fix the issue with tests by instead waiting for the TabSwitchDone event, as this has worked for some other tests with this problem. We should be able to do this here.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-03-31T12:20:39Z"
  }, {
    "text" : "Created attachment 8586055\nwaitforfocusfix\n\nAs described.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-03-31T12:40:24Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8287927\nrepository: mozilla-inbound\nstart_time: 2015-03-31T06:22:24\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0050\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 488aa4e61296\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T13:50:22Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8285464\nrepository: mozilla-inbound\nstart_time: 2015-03-31T05:22:08\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0035\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 0ed276937783\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T13:51:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=8283697\nrepository: mozilla-inbound\nstart_time: 2015-03-31T05:09:05\nwho: tomcat[at]mozilla[dot]com\nmachine: t-yosemite-r5-0070\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: fcfa9f1a1ecb\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T14:01:32Z"
  }, {
    "text" : "Since this is quite common, I checked this in to see if it helps:\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f2284790d81e",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-03-31T14:02:03Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1254842\nrepository: mozilla-central\nstart_time: 2015-03-31T05:00:55\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0012\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 8af276ab8636\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T14:21:25Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2491870\nrepository: fx-team\nstart_time: 2015-03-31T07:13:00\nwho: philringnalda[at]gmail[dot]com\nmachine: t-yosemite-r5-0010\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 0692b35349e1\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T14:30:20Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1257176\nrepository: mozilla-central\nstart_time: 2015-03-31T07:46:30\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-snow-r4-0138\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: c20f8549d631\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T15:06:38Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2492483\nrepository: fx-team\nstart_time: 2015-03-31T08:00:03\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-snow-r4-0076\nbuildname: Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: e16e61bb2a91\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T15:20:14Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2494445\nrepository: fx-team\nstart_time: 2015-03-31T09:17:08\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0072\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 1152f5ef0bc1\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T17:27:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2494329\nrepository: fx-team\nstart_time: 2015-03-31T09:13:08\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0020\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: d9b8b80e9039\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T17:28:03Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=6116543\nrepository: try\nstart_time: 2015-03-31T11:00:05\nwho: bowen[at]mozilla[dot]com\nmachine: t-snow-r4-0147\nbuildname: Rev4 MacOSX Snow Leopard 10.6 try opt test mochitest-e10s-browser-chrome-3\nrevision: d32d187e416a\n\n67 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T18:19:30Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/f2284790d81e",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-31T18:19:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2495835\nrepository: fx-team\nstart_time: 2015-03-31T11:18:31\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0004\nbuildname: Rev5 MacOSX Yosemite 10.10 fx-team opt test mochitest-e10s-browser-chrome-3\nrevision: 4e58a41d5fa0\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T18:36:27Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1260533\nrepository: mozilla-central\nstart_time: 2015-03-31T12:34:08\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-yosemite-r5-0012\nbuildname: Rev5 MacOSX Yosemite 10.10 mozilla-central opt test mochitest-e10s-browser-chrome-3\nrevision: 68e752bfd992\n\n57 INFO TEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | Browser is focused when about:blank is loaded - Got [object XULElement], expected [object XULElement]",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-31T19:49:31Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/6c1135b64f69",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-01T15:15:15Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/3f7826efc5de",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-03T03:04:17Z"
  }, {
    "text" : "That wasn't a good idea.\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/ffb13ef5ff0a",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-03T03:12:33Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=10501600\nrepository: mozilla-inbound\nstart_time: 2015-06-05T17:07:41\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-1231\nbuildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-browser-chrome-3\nrevision: 3cc68a7a811a\n\nTEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | application terminated with exit code -11",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-06-08T11:53:05Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=2260158\nrepository: mozilla-central\nstart_time: 2015-09-22T03:58:59\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-018\nbuildname: Ubuntu ASAN VM 12.04 x64 mozilla-central opt test mochitest-e10s-browser-chrome-2\nrevision: 2235e56c94cf\n\nTEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | application terminated with exit code -11",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-09-22T13:16:51Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=2320418\nrepository: mozilla-central\nstart_time: 2015-09-29T16:42:00\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-1454\nbuildname: Ubuntu ASAN VM 12.04 x64 mozilla-central opt test mochitest-e10s-browser-chrome-4\nrevision: 70d0481d618f\n\nTEST-UNEXPECTED-FAIL | testing/mochitest/tests/browser/browser_waitForFocus.js | application terminated with exit code -11",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-09-30T11:51:19Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-03-29T11:07:36Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-31T18:19:36Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-31T18:19:36Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mak77@bonardo.net",
      "date" : "2015-01-14T21:28:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "enndeakin@gmail.com, mak77@bonardo.net"
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-03-29T11:07:36Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "enndeakin@gmail.com"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-03-30T17:45:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gwright@mozilla.com"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-31T11:25:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-31T18:19:36Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-31T18:19:36Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-31 11:19:36"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-31T18:19:36Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-01T14:54:32Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-01T14:54:32Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-01T14:54:32Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-01T15:15:15Z",
      "what" : "cf_status_firefox39",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-04-02T16:43:14Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-03T03:04:17Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-03T03:12:33Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "wontfix"
    } ],
    "flagEvents" : [ {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-31T11:25:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-31T18:19:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-03T03:12:33Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121671,
  "cclist" : [ "enndeakin@gmail.com", "gijskruitbosch+bugs@gmail.com", "gw@gwright.org.uk", "mak77@bonardo.net", "mconley@mozilla.com", "ttaubert@mozilla.com" ]
}, {
  "component" : "Search",
  "summary" : "One-off button list header half visible when there's no one-off engine to display in the search panel",
  "reporter" : "florian@queze.net",
  "assigned" : "florian@queze.net",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8548991\nScreenshot\n\nIn bug 1109854 we changed a xul:hbox to a xul:deck. Now, because of bug 589569, the deck is half visible even when collapsed. See attached screenshot. Looking at this through DOM Inspector shows that the height of the collapsed deck is 7px, that is, the border top (1px) + padding top (3px) + padding bottom (3px).",
  "comments" : [ {
    "text" : "Created attachment 8548991\nScreenshot\n\nIn bug 1109854 we changed a xul:hbox to a xul:deck. Now, because of bug 589569, the deck is half visible even when collapsed. See attached screenshot. Looking at this through DOM Inspector shows that the height of the collapsed deck is 7px, that is, the border top (1px) + padding top (3px) + padding bottom (3px).",
    "authour" : "florian@queze.net",
    "created" : "2015-01-14T17:00:30Z"
  }, {
    "text" : "Created attachment 8548993\nPatch\n\nUsing hidden instead of collapsed works around this.\n\nI would prefer if bug 589569 could be fixed, but we may have to go with a workaround.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-14T17:02:53Z"
  }, {
    "text" : "Comment on attachment 8548993\nPatch\n\nReview of attachment 8548993:\n-----------------------------------------------------------------\n\njust mention bug 589569 in a comment",
    "authour" : "felipc@gmail.com",
    "created" : "2015-01-16T18:36:19Z"
  }, {
    "text" : "Hi Florian, can you provide a point value.",
    "authour" : "mmucci@mozilla.com",
    "created" : "2015-01-16T18:42:17Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/a46d323baa06",
    "authour" : "florian@queze.net",
    "created" : "2015-01-16T21:28:40Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/a46d323baa06",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-17T00:48:19Z"
  }, {
    "text" : "Comment on attachment 8548993\nPatch\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1109854\n[User impact if declined]: the last search suggestion may be cut, see attachment 8548991, when all one-off engines are hidden.\n[Describe test coverage new/current, TBPL]: on m-c, will be verified by QA\n[Risks and why]: very low, one line fix.\n[String/UUID change made/needed]: none.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-17T11:04:28Z"
  }, {
    "text" : "Verified that the last suggestion is not cut when all the one-click search engines are hidden using Nightly 38.0a1 2014-01-18 under Ubuntu 12.04 LTS 32-bit, Windows 7 64-bit and Mac OS X 10.9.5.",
    "authour" : "petruta.rasa@softvision.ro",
    "created" : "2015-01-19T15:29:33Z"
  }, {
    "text" : "Comment on attachment 8548993\nPatch\n\nAurora+",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-01-20T15:48:04Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/1b5f44480b65",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-20T18:14:18Z"
  }, {
    "text" : "Verified as fixed using Developer Edition 37.0a2 2014-01-21 under Ubuntu 12.04 LTS 32-bit, Windows 7 64-bit and Mac OS X 10.9.5.",
    "authour" : "petruta.rasa@softvision.ro",
    "created" : "2015-01-22T11:33:40Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-16T18:42:17Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:19Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-01-19T15:29:33Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:19Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-14T20:38:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-16T18:42:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florian@queze.net"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-16T18:42:17Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.1 - 26 Jan"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-16T18:42:17Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "florian@queze.net"
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-01-16T18:45:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "felipc@gmail.com"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-16T18:46:44Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "1"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-16T21:28:40Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:19Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:19Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:19Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-16 16:48:19"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-17T11:01:54Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-17T11:01:54Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-17T11:01:54Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-01-19T08:35:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "petruta.rasa@softvision.ro"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-01-19T08:35:10Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "petruta.rasa@softvision.ro"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-01-19T13:51:10Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123311"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-01-19T15:29:33Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-20T18:14:18Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-01-22T11:33:40Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-01-14T17:00:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-01-16T18:36:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548993,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-16T18:42:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-16T18:46:44Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(florian@queze.net), qe-verify?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-17T11:04:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548993,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-01-20T15:48:04Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8548993,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121550,
  "cclist" : [ "felipc@gmail.com", "florian@queze.net", "mmucci@mozilla.com", "petruta.rasa@softvision.ro" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "Dev tools DOM inspector is sometime empty",
  "reporter" : "thomasbelin4@gmail.com",
  "assigned" : "pbrosset@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8548966\nScreen Shot 2015-01-14 at 12.20.59.png\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:36.0) Gecko/20100101 Firefox/36.0\nBuild ID: 20150112004004\n\nSteps to reproduce:\n\nCannot find a clear way to reproduce the bug. \nJust opened the dev tools, then navigating on the app I am inspecting and, eventually, the DOM inspector will ends up being totally empty.\n\n\nActual results:\n\nThe DOM inspector is empty.\nThis used to happen to me sometime on Firefox 34 (stable channel) and still happens to me on FirefoxDeveloperEdition 36.0a2.\n\nHere is my user agent : \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:36.0) Gecko/20100101 Firefox/36.0\"\n\n\nExpected results:\n\nThe DOM inspector should show me the DOM tree of the current page.",
  "comments" : [ {
    "text" : "Created attachment 8548966\nScreen Shot 2015-01-14 at 12.20.59.png\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:36.0) Gecko/20100101 Firefox/36.0\nBuild ID: 20150112004004\n\nSteps to reproduce:\n\nCannot find a clear way to reproduce the bug. \nJust opened the dev tools, then navigating on the app I am inspecting and, eventually, the DOM inspector will ends up being totally empty.\n\n\nActual results:\n\nThe DOM inspector is empty.\nThis used to happen to me sometime on Firefox 34 (stable channel) and still happens to me on FirefoxDeveloperEdition 36.0a2.\n\nHere is my user agent : \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:36.0) Gecko/20100101 Firefox/36.0\"\n\n\nExpected results:\n\nThe DOM inspector should show me the DOM tree of the current page.",
    "authour" : "thomasbelin4@gmail.com",
    "created" : "2015-01-14T16:26:12Z"
  }, {
    "text" : "Thanks for reporting this. We can't really act upon this bug without having steps to reproduce, but it will be useful to keep track of this issue. If more people start reporting this bug, we will eventually have to take a closer look.",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-14T16:36:11Z"
  }, {
    "text" : "Looking at the browser console, I found this trace. As it occurs in the inspector.js file, I guess it might be related. Hope it helps.\n\nTypeError: can't access dead object\nStack trace:\nWalkerActor<.querySelector<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/inspector.js:1727:9\nactorProto/</handler@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1004:19\nDSC_onPacket@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/main.js:1485:15\nLocalDebuggerTransport.prototype.send/<@resource://gre/modules/devtools/dbg-client.jsm -> resource://gre/modules/devtools/transport/transport.js:545:11\nmakeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/DevToolsUtils.js:83:14\nmakeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/DevToolsUtils.js:83:14",
    "authour" : "thomasbelin4@gmail.com",
    "created" : "2015-01-14T16:56:25Z"
  }, {
    "text" : "Patrick, could the stack trace in comment #1 explain the behavior we're seeing here?",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-19T13:35:35Z"
  }, {
    "text" : "It could definitely explain the blank markup-view.\nIt probably is a timing issue whereby the request to walker.querySelector gets handled after the page has navigated or something, and therefore the node it tries to execute it on is a DeadObject.\nAt least that's my guess right now, it's hard to confirm without steps to reproduce.\n\nThomas, was there a page navigation or redirect when that occurred?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-19T13:49:46Z"
  }, {
    "text" : "Oh yeah I am pretty sure this bug only shows up on a navigation or a reload.",
    "authour" : "thomasbelin4@gmail.com",
    "created" : "2015-01-19T20:12:23Z"
  }, {
    "text" : "Thanks. So, walker.querySelector isn't the only actor method to use a node, in fact, most of the walker's methods do this, so potentially all methods are subject to this if they happen to be called during/just before a refresh/navigation.\n2 things to investigate:\n- make the actor less prone to these timing issues\n- try and make the front-end carry on initializing even though one of the requests failed. In this particular case, I'm almost sure the querySelector is called to retrieve the default inspector selection, so if that fails, it shouldn't be a big deal, the markup view should still be able to load even though the default node selection is incorrect.\nNow the hard part is actually finding a way to reproduce this bug.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-20T08:06:50Z"
  }, {
    "text" : "Changing a few flags, as I think this doesn't only happen on OSX and I can't think of anything in 37 that would have fixed this, so it must still be here.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-20T08:07:56Z"
  }, {
    "text" : "Needinfo'ing thomas in case he didn't see the comment from pbrosset above.",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-26T12:26:38Z"
  }, {
    "text" : "Ok so having paid a little more attention to when the bug occurs, it is definitely on a page reload/navigation.  \n\nI hope it was the info you needed because I am not sure I see any other question from pbrosset in the thread and I (almost :)) already answered this question here https://bugzilla.mozilla.org/show_bug.cgi?id=1121528#c5",
    "authour" : "thomasbelin4@gmail.com",
    "created" : "2015-02-05T10:01:04Z"
  }, {
    "text" : "Created attachment 8559796\nnavigate-quickly.js\n\nI can't reproduce this bug easily by hand, so I ended up creating a scratchpad script that causes the issue.\nThis goal of this script is not to be beautiful, so it's not :) but it does load a new URL in the tab in an interval, very quickly, and after some time, it stops the interval, waits for the inspector to settle, and checks its content. If it's empty, it stops there. Otherwise it starts again.\nI was able very easily to get the inspector empty a few times with this, although I didn't get the same error as reported in this bug. I suspect we may uncover a lot of different timing issues with this kind of test.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-05T14:15:14Z"
  }, {
    "text" : "I have fixed the first few obvious errors this script has shown me (I may upload a patch later, but for now, it's very messy, just early returns here and there to avoid errors).\nOnce done, I still had a few issues, but I realized they were all due to 404 responses. If I put only real URLs in my script, then the inspector is never blank again. But 404 responses seem to have special treatment.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-05T14:40:16Z"
  }, {
    "text" : "Created attachment 8559826\nbug1121528-blank-inspector.patch\n\nThis is the patch I'm using right now to avoid the issue. It's basically making the walker's methods defensive by checking if the provided node is a deadWrapper first.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-05T15:26:15Z"
  }, {
    "text" : "Created attachment 8589309\nnavigate-quickly-no404.js\n\nSame snippet to reproduce errors, not dealing with 404s for now",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-07T21:32:41Z"
  }, {
    "text" : "Created attachment 8589316\nblank-inspector.patch\n\nRebased and a slightly different approach to isDead() by making a separate isNodeDead function that will handle a null node also.  Additionally, not making document/documentElement nullable and instead just returning the proper element if a dead node is passed in.\n\nThis still isn't passing my test case in Bug 1036324, but seems like a good start.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-07T21:37:18Z"
  }, {
    "text" : "We should probably wait for the test rewrite in 1137285 before landing anything here",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-07T21:54:48Z"
  }, {
    "text" : "Assigning P1 priority for some devedition-40 bugs. \n\nFilter on '148DD49E-D162-440B-AE28-E22632FC20AC'",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-04-08T18:34:45Z"
  }, {
    "text" : "Created attachment 8592805\nbug1121528-blank-inspector-on-quick-navigation.patch\n\nRebased, and added some more checks. With this patch in, the navigate-quickly script doesn't seem to be able to break the inspector (it does sometimes remain blank, but that's when Firefox itself becomes unresponsive for a while, never managing to fully load a URL).",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-15T13:39:28Z"
  }, {
    "text" : "Not sure what test I could add for this, it's mostly a big list of early returns from various functions for hard to reach cases.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-15T13:48:22Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #18)\n> Not sure what test I could add for this, it's mostly a big list of early\n> returns from various functions for hard to reach cases.\n\nI have two ideas:\n1) We could add a server test that exercises the full walker API, passing in null to each and expecting the appropriate return value.\n2) We could use something like the test case in Bug 1036324 -> createTestHTTPServer where we set up URLs that take various times to respond and then do something like the navigate-quickly scratchpad test.  Only we should try to take away any randomness..  It'd be a great regression test if we could get something like that set up but I'm not sure how much the element of randomness has to do with with it.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-15T15:09:37Z"
  }, {
    "text" : "Comment on attachment 8592805\nbug1121528-blank-inspector-on-quick-navigation.patch\n\nReview of attachment 8592805:\n-----------------------------------------------------------------\n\nSee comment 19.  The changes look fine - I'd be OK with a simple server test to ensure that the walker functions return the expected results when a null element is passed in.  If it's not too much work, it'd be great to also add a regression test that simulates this problem, but if it's not possible to come up with a reproducible test I'd be fine with the server side test only",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-15T17:30:11Z"
  }, {
    "text" : "I spent most of this morning trying to come up with a complex test case that would make the inspector blank. I tried a number of things, mostly combining making the protocol requests slow, and making the http server slow. I wasn't able to get an empty markup-view.\nAnd in fact, I've tried running the navigate-quickly script on dev-edition just now, for a long while, and couldn't get it to have an empty markup-view either!\nSo at this stage, this patch is really more of a cleanup patch that avoids lots of exceptions in the logs, and errors in the walker.\nSo I will now be working on the simpler server-side test you suggested.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-16T10:56:27Z"
  }, {
    "text" : "Created attachment 8593420\nMozReview Request: bz://1121528/pbrosset\n\n/r/7127 - Bug 1121528 - Avoid the inspector going blank when quickly navigating; r=bgrins\n\nPull down this commit:\n\nhg pull -r e7cff0254b9cd634b434d0508469fe102b6148c8 https://reviewboard-hg.mozilla.org/gecko/",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-16T15:31:46Z"
  }, {
    "text" : "Comment on attachment 8593420\nMozReview Request: bz://1121528/pbrosset\n\nhttps://reviewboard.mozilla.org/r/7125/#review5917\n\nNice!\n\n::: browser/devtools/styleinspector/rule-view.js\n(Diff revision 1)\n> +      return \"\";\n\nI'm assuming the return is in place to catch the rejection? If this is the case I think the following is equivalent: \n\n}).catch(console.error);\n\n::: toolkit/devtools/server/actors/inspector.js\n(Diff revision 1)\n> -    if (this.rawNode.nodeType !== Ci.nsIDOMNode.ELEMENT_NODE ||\n> +    if (!this.rawNode ||\n\nShould this be !isNodeDead(this) to catch the dead wrapper case?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-16T15:49:33Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=f0da58c8e096",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-16T16:46:19Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/7125/#review5951\n\n::: browser/devtools/styleinspector/rule-view.js\n(Diff revision 1)\n> +      return \"\";\n\nI originally  added `return \"\"` to make sure `getOriginalSourceStrings` would always return a value so that the caller wouldn't have to deal with `getOriginalLocation` rejections. Using catch wouldn't make this work.\nBut upon further investigation, I found that returning the `\"\"` string wasn't a good idea, because when the call succeeds, it doesn't return a string, but an object containing strings (`sourceStrings`).\nAnd the caller (`updateSourceLink`) already has a rejection handler, so no need for one here, we should just let the error bubble up to the caller.\n\n::: toolkit/devtools/server/actors/inspector.js\n(Diff revision 1)\n> -    if (this.rawNode.nodeType !== Ci.nsIDOMNode.ELEMENT_NODE ||\n> +    if (!this.rawNode ||\n\nYes you're right, will change this.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-17T10:11:23Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/be78b7a11cdd",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-17T10:12:54Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/be78b7a11cdd",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-17T19:22:05Z"
  }, {
    "text" : "Comment on attachment 8593420\nMozReview Request: bz://1121528/pbrosset",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:20Z"
  }, {
    "text" : "Created attachment 8619126\nMozReview Request: Bug 1121528 - Avoid the inspector going blank when quickly navigating; r=bgrins",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-19T13:35:35Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-14T12:49:12Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:22:05Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:22:05Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "thomasbelin4@gmail.com",
      "date" : "2015-01-14T16:27:14Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "Developer Tools: Inspector"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-14T16:36:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ejpbruel@mozilla.com"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-19T13:35:35Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-19T13:35:35Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-19T13:49:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "thomasbelin4@gmail.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-20T08:07:56Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-20T08:07:56Z",
      "what" : "version",
      "removed" : "36 Branch",
      "added" : "unspecified"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-20T08:07:56Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "aleksandrs@ledovskis.lv",
      "date" : "2015-02-17T15:26:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "aleksandrs@ledovskis.lv"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-07T16:42:18Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[devedition-40]"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:43:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:43:38Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1036324"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:50:53Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1151909"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T21:37:18Z",
      "what" : "attachments.isobsolete:8559826",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T21:54:48Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137285"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-08T18:34:45Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-08T19:52:26Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40]",
      "added" : "[devedition-40][difficulty=medium]"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-14T12:49:12Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-15T13:39:28Z",
      "what" : "attachments.isobsolete:8589316",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-17T01:35:56Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1036324"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:22:05Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:22:05Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-04-17 12:22:05"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:22:05Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-28T21:24:31Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=939012"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:20Z",
      "what" : "attachments.isobsolete:8593420",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-07-25T05:38:25Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40][difficulty=medium]",
      "added" : "[polish-backlog][difficulty=medium]"
    } ],
    "flagEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-19T13:35:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-19T13:49:46Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "thomasbelin4@gmail.com",
      "date" : "2015-01-19T20:12:23Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(thomasbelin4@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-26T12:26:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "thomasbelin4@gmail.com",
      "date" : "2015-02-05T10:01:04Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(thomasbelin4@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-15T13:39:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592805,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-15T17:30:11Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8592805,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-16T15:31:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8593420,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-16T15:49:33Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8593420,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:22:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619126,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121528,
  "cclist" : [ "aleksandrs@ledovskis.lv", "bgrinstead@mozilla.com", "ejpbruel@mozilla.com", "pbrosset@mozilla.com", "thomasbelin4@gmail.com" ]
}, {
  "component" : "General",
  "summary" : "Remove use of expression closures (shorthand function syntax) from browser-ctrlTab.js",
  "reporter" : "dao+bmo@mozilla.com",
  "assigned" : "vikramcse.10@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "+++ This bug was initially created as a clone of Bug #1120159 +++\n\nExpression closures (shorthand function syntax) are a nonstandard language extension we'd like to remove from SpiderMonkey.\n\nIn browser-ctrlTab.js, this affects the selected, isOpen, tabCount and tabPreviewCount getters:\n\nhttps://hg.mozilla.org/mozilla-central/annotate/21edbaa22144/browser/base/content/browser-ctrlTab.js#l187\n\ne.g.:\n\nget selected () this._selectedIndex < 0 ?\n                  document.activeElement :\n                  this.previews.item(this._selectedIndex),\n\nshould be replaced with:\n\nget selected () {\n  return this._selectedIndex < 0 ?\n           document.activeElement :\n           this.previews.item(this._selectedIndex);\n},",
  "comments" : [ {
    "text" : "+++ This bug was initially created as a clone of Bug #1120159 +++\n\nExpression closures (shorthand function syntax) are a nonstandard language extension we'd like to remove from SpiderMonkey.\n\nIn browser-ctrlTab.js, this affects the selected, isOpen, tabCount and tabPreviewCount getters:\n\nhttps://hg.mozilla.org/mozilla-central/annotate/21edbaa22144/browser/base/content/browser-ctrlTab.js#l187\n\ne.g.:\n\nget selected () this._selectedIndex < 0 ?\n                  document.activeElement :\n                  this.previews.item(this._selectedIndex),\n\nshould be replaced with:\n\nget selected () {\n  return this._selectedIndex < 0 ?\n           document.activeElement :\n           this.previews.item(this._selectedIndex);\n},",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-14T14:42:33Z"
  }, {
    "text" : "Hi, I am a first time beginner and I would like to work on this bug :) I will need some mentorship to get setup.",
    "authour" : "mazzone_496@hotmail.com",
    "created" : "2015-01-14T20:08:23Z"
  }, {
    "text" : "(In reply to Adrian C from comment #1)\n> Hi, I am a first time beginner and I would like to work on this bug :) I\n> will need some mentorship to get setup.\n\nHi. Have you read <https://developer.mozilla.org/en-US/docs/Introduction>? For any fundamental questions e.g. about how to build Firefox or how to generate a patch, it's probably best to ask in the #introduction chat room on irc.mozilla.org. If anything is unclear about this particular bug, I'm the best person to ask -- please don't hesitate.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-15T09:29:22Z"
  }, {
    "text" : "Hi I am a beginner.\nI would like to work on this bug.\nI already build the firefox code.\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-15T15:24:05Z"
  }, {
    "text" : "As long as this bug isn't assigned to a particular person, feel free to upload a patch or ask questions.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-15T15:31:03Z"
  }, {
    "text" : "Hi\nI updated the code\nso are there any tests so i can be sure about it?",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-15T18:01:48Z"
  }, {
    "text" : "Yes, there's browser/base/content/test/general/browser_ctrlTab.js",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-15T18:33:54Z"
  }, {
    "text" : "(In reply to DÃ£o Gottwald [:dao] from comment #6)\n> Yes, there's browser/base/content/test/general/browser_ctrlTab.js\n\nYou can run that this way:\n\n./mach mochitest-browser browser/base/content/test/general/browser_ctrlTab.js",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-15T19:14:33Z"
  }, {
    "text" : "Created attachment 8550268\nBug1121471_Remove_use_of_expression_closures.diff\n\nHere i uploaded the patch.\nremoved all the expression closures.\nAnd the tests had no error.\nPlease let me know if there is any problem or wrong step.\nThanks",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-16T13:47:23Z"
  }, {
    "text" : "Comment on attachment 8550268\nBug1121471_Remove_use_of_expression_closures.diff\n\nThere are some tab stops in there messing up the indentation ... please use spaces instead. Looks good otherwise.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-16T13:49:46Z"
  }, {
    "text" : "Created attachment 8550282\nBug1121471_Remove_use_of_expression_closures.diff\n\nIs this looks good now?\nIf any query please let me know?\nthanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-16T14:22:21Z"
  }, {
    "text" : "Comment on attachment 8550282\nBug1121471_Remove_use_of_expression_closures.diff\n\n>+    return this._selectedIndex < 0 ?\n>+\t    document.activeElement :\n>+\t    this.previews.item(this._selectedIndex);\n\nStill two tabs left :)\nThe last two lines should be indented like I did in comment 0.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-16T14:33:54Z"
  }, {
    "text" : "Created attachment 8550298\nBug1121471_Remove_use_of_expression_closure_rev2.diff\n\nActually I updated the indentation of code but somehow my queue is not updated so i created new queue.\nso is this sounds good?",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-16T15:17:37Z"
  }, {
    "text" : "Comment on attachment 8550298\nBug1121471_Remove_use_of_expression_closure_rev2.diff\n\nThis looks good, but in order to land this we'll need all changes in one patch.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-16T16:33:00Z"
  }, {
    "text" : "Sorry but how to do that can you tell me!!",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-16T16:47:41Z"
  }, {
    "text" : "(In reply to Vikram Jadhav from comment #14)\n> Sorry but how to do that can you tell me!!\n\nI don't use mercurial queues myself, so I'm not sure what went wrong. It's probably best to ask in the #introduction channel on irc.mozilla.org.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-16T17:07:07Z"
  }, {
    "text" : "Vikram, were you able to get any help yet? You can easily join the #introduction channel here: https://chat.mibbit.com/?url=irc%3A%2F%2Firc.mozilla.org%2F%23introduction",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-17T23:43:30Z"
  }, {
    "text" : "Created attachment 8551274\nBug1121471_Remove_use_of_expression_closure_rev3.diff\n\nAll changes into one file.\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T14:10:16Z"
  }, {
    "text" : "Comment on attachment 8551274\nBug1121471_Remove_use_of_expression_closure_rev3.diff\n\n>-\t  get selected () {\n>-\t    return this._selectedIndex < 0 ?\n>-\t\t     document.activeElement :\n>-\t\t     this.previews.item(this._selectedIndex);\n>-\t  },\n>-\t  get isOpen () {\n>-\t    return this.panel.state == \"open\" || this.panel.state == \"showing\" || this._timer;\n>-\t  },\n>-\t  get tabCount () {\n>-\t    return this.tabList.length;\t\n>-\t  },\n>-\t  get tabPreviewCount () {\n>-\t    return Math.min(this.maxTabPreviews, this.tabCount);\t\n>-\t  },\n>-\t  get tabList () {\n>-\t    return this._recentlyUsedTabs;\n>-\t  },\n\nHmm, this patch says you removed lines with tab stops here, but I don't see these tab stops here: https://hg.mozilla.org/mozilla-central/file/tip/browser/base/content/browser-ctrlTab.js#l187\n\n>+   get selected () {\n>+     return this._selectedIndex < 0 ?\n>+              document.activeElement :\n>+\t      this.previews.item(this._selectedIndex);\n>+     },\n>+     get isOpen () {\n>+       return this.panel.state == \"open\" || this.panel.state == \"showing\" || this._timer;\n>+     },\n>+     get tabCount () {\n>+       return this.tabList.length;\t\n>+     },\n>+     get tabPreviewCount () {\n>+       return Math.min(this.maxTabPreviews, this.tabCount);\t\n>+     },\n>+     get tabList () {\n>+       return this._recentlyUsedTabs;\n>+     },\n\nAll lines but the first one are indented too far. Also, there are tab stops after \"return this.tabList.length;\" and \"return Math.min(this.maxTabPreviews, this.tabCount);\" that shouldn't be there.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-19T14:20:46Z"
  }, {
    "text" : "  get selected () {\n    return this._selectedIndex < 0 ?\n             document.activeElement :\n             this.previews.item(this._selectedIndex);\n  },\n  get isOpen () {\n    return this.panel.state == \"open\" || this.panel.state == \"showing\" || this._timer;\n  },\n  get tabCount () {\n    rerurn this.tabList.length\n  },\n  get tabPreviewCount () {\n    return Math.min(this.maxTabPreviews, this.tabCount);\n  },\n\nwhat about the indentation, is it right?",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T14:43:19Z"
  }, {
    "text" : "(In reply to Vikram Jadhav from comment #19)\n>   get selected () {\n>     return this._selectedIndex < 0 ?\n>              document.activeElement :\n>              this.previews.item(this._selectedIndex);\n>   },\n>   get isOpen () {\n>     return this.panel.state == \"open\" || this.panel.state == \"showing\" ||\n> this._timer;\n>   },\n>   get tabCount () {\n>     rerurn this.tabList.length\n>   },\n>   get tabPreviewCount () {\n>     return Math.min(this.maxTabPreviews, this.tabCount);\n>   },\n> \n> what about the indentation, is it right?\n\nYes, this looks perfect.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-19T14:47:32Z"
  }, {
    "text" : "Created attachment 8551331\nBug1121471_removed_indentation_problem\n\nSorry,\nActually i just messed out my hg queue that's why my code was not updationg.\ni think this patch would work!!\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T15:44:42Z"
  }, {
    "text" : "Comment on attachment 8551331\nBug1121471_removed_indentation_problem\n\nLooks good!",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-20T08:28:09Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/bac9e28a8d6c",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-20T08:32:28Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/bac9e28a8d6c",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-21T01:59:52Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T01:59:52Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T01:59:52Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-14T14:42:47Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-14T14:42:47Z",
      "what" : "op_sys",
      "removed" : "Linux",
      "added" : "All"
    }, {
      "name" : "mazzone_496@hotmail.com",
      "date" : "2015-01-14T20:08:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mazzone_496@hotmail.com"
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-15T15:24:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vikramcse.10@gmail.com"
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-16T13:47:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dao@mozilla.com"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-16T19:03:43Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vikramcse.10@gmail.com"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-20T08:28:30Z",
      "what" : "attachments.ispatch:8551331",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-20T08:28:49Z",
      "what" : "attachments.isobsolete:8551274",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-20T08:28:55Z",
      "what" : "attachments.isobsolete:8550268",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-20T08:29:02Z",
      "what" : "attachments.isobsolete:8550298",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-20T08:29:12Z",
      "what" : "attachments.isobsolete:8550282",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T01:59:52Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-21T01:59:52Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-20 17:59:52"
    } ],
    "flagEvents" : [ {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-16T13:47:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550268,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-16T13:49:46Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8550268,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-16T14:22:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550282,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-16T14:33:54Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8550282,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-16T15:17:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550298,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-16T16:33:00Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8550298,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-19T14:10:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8551274,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-19T14:20:46Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8551274,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-19T15:44:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8551331,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-20T08:28:09Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8551331,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121471,
  "cclist" : [ "dao+bmo@mozilla.com", "mazzone_496@hotmail.com", "vikramcse.10@gmail.com" ]
}, {
  "component" : "Preferences",
  "summary" : "In-content preferences: the subcategories name is not aligned with the other elements of the page",
  "reporter" : "camelia.badau@softvision.ro",
  "assigned" : "richard.marti@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8548872\n1.png\n\nThis bug was filled based on the discussion from bug 1013689 comment 12.\n\nReproducible on the latest Nightly 38.0a1(BuildID: 20150113030205)\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\nReproducible on the latest Aurora 37.0a2(BuildID: 20150113004007)\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:37.0) Gecko/20100101 Firefox/37.0\n\nGo to Preferences (about:preferences) -> The subcategories name is not aligned with the other elements of the page. Please see screenshot \"1.png\".",
  "comments" : [ {
    "text" : "Created attachment 8548872\n1.png\n\nThis bug was filled based on the discussion from bug 1013689 comment 12.\n\nReproducible on the latest Nightly 38.0a1(BuildID: 20150113030205)\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\nReproducible on the latest Aurora 37.0a2(BuildID: 20150113004007)\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:37.0) Gecko/20100101 Firefox/37.0\n\nGo to Preferences (about:preferences) -> The subcategories name is not aligned with the other elements of the page. Please see screenshot \"1.png\".",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-01-14T13:32:50Z"
  }, {
    "text" : "Created attachment 8549771\nBug1121444.patch\n\nSimply remove the caption's start padding.",
    "authour" : "richard.marti@gmail.com",
    "created" : "2015-01-15T18:36:54Z"
  }, {
    "text" : "Comment on attachment 8549771\nBug1121444.patch\n\nReview of attachment 8549771:\n-----------------------------------------------------------------\n\nI can't reproduce this issue on Windows, so I suspect that it is OSX only (as your patch alludes to). Can you make sure that it is not also needed on Linux?",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-01-20T15:37:00Z"
  }, {
    "text" : "Yes, this is OS X only. Checked again on Ubuntu to be sure.",
    "authour" : "richard.marti@gmail.com",
    "created" : "2015-01-20T17:06:59Z"
  }, {
    "text" : "Cool, thanks",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-01-20T19:11:24Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/83fa0bab1486",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-21T00:23:36Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/83fa0bab1486",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-21T13:17:04Z"
  }, {
    "text" : "Created attachment 8554419\nissue Search.png\n\nVerified on Mac OSX 10.9.5 using latest Nightly 38.0a1 (buildID: 20150125030202) and the subcategories name is aligned with the other elements of the page. There still are alignement issues on Search and Advanced panels. Please see screenshots \"issue Advanced.png\" and \"issue Search.png\". These issues will be fixed separately? Should I fill a new bug for these?",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-01-26T09:11:46Z"
  }, {
    "text" : "Created attachment 8554420\nissue Advanced.png",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-01-26T09:12:14Z"
  }, {
    "text" : "Please fill new bugs for this.",
    "authour" : "richard.marti@gmail.com",
    "created" : "2015-01-26T10:46:34Z"
  }, {
    "text" : "(In reply to Richard Marti (:Paenglab) from comment #9)\n> Please fill new bugs for this.\n\nI filled bug 1126189 and bug 1126196.",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-01-27T08:46:11Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-15T18:36:54Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:17:04Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "camelia.badau@softvision.ro",
      "date" : "2015-01-27T08:46:11Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:17:04Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-14T13:35:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "richard.marti@gmail.com"
    }, {
      "name" : "xtc4uall@gmail.com",
      "date" : "2015-01-14T17:13:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "xtc4uall@gmail.com"
    }, {
      "name" : "xtc4uall@gmail.com",
      "date" : "2015-01-14T17:13:11Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-15T18:36:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-15T18:36:54Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "richard.marti@gmail.com"
    }, {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-20T17:06:59Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-21T00:23:36Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-21T00:23:36Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:17:04Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:17:04Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-21T13:17:04Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-21 05:17:04"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-03T22:22:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-03T22:22:36Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1013689"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-03T22:23:37Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1013689"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-03T22:23:37Z",
      "what" : "depends_on",
      "removed" : "1013689",
      "added" : ""
    } ],
    "flagEvents" : [ {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-15T18:36:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549771,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-01-20T15:37:00Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8549771,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-21T00:23:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121444,
  "cclist" : [ "jaws@mozilla.com", "ntim.bugs@gmail.com", "richard.marti@gmail.com", "xtc4uall@gmail.com" ]
}, {
  "component" : "Search",
  "summary" : "Search plugins with diacritics in their name cannot be hidden (only removed)",
  "reporter" : "mstanke@mozilla.cz",
  "assigned" : "chrishood@eagles.ewu.edu",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Happens in Czech Firefox 35 with plugins HeurÃ©ka and SluneÄ�nice (default ones), or with any plugin I add myself (e.g. on Seznam.cz website).\n\nHow to reproduce it:\n1. Go to the search options.\n2. Uncheck a search plugin with diacritics in its name.\n3. Now the plugin shouldn't be shown in the search tooltip.\n4. But it is even after restarting Firefox. The options stays unchecked.\n\nI tried to remove the diacritics from the name to be without diacritics, and after that the hiding works OK.\n\nBtw. I also wonder, why its necessary to run Firefox once without the plugin .xml file, just changing the file contents makes no change in Firefox even after restart - maybe another standalone bug?",
  "comments" : [ {
    "text" : "Happens in Czech Firefox 35 with plugins HeurÃ©ka and SluneÄ�nice (default ones), or with any plugin I add myself (e.g. on Seznam.cz website).\n\nHow to reproduce it:\n1. Go to the search options.\n2. Uncheck a search plugin with diacritics in its name.\n3. Now the plugin shouldn't be shown in the search tooltip.\n4. But it is even after restarting Firefox. The options stays unchecked.\n\nI tried to remove the diacritics from the name to be without diacritics, and after that the hiding works OK.\n\nBtw. I also wonder, why its necessary to run Firefox once without the plugin .xml file, just changing the file contents makes no change in Firefox even after restart - maybe another standalone bug?",
    "authour" : "mstanke@mozilla.cz",
    "created" : "2015-01-14T11:42:02Z"
  }, {
    "text" : "browser.search.hiddenOneOffs is read/set using getCharPref/setCharPref, which likely loses data here.\n\nWe should just use Preferences.jsm for this, which uses getComplexValue(..., nsISupportsString) automatically.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-01-19T20:19:13Z"
  }, {
    "text" : "*** Bug 1122528 has been marked as a duplicate of this bug. ***",
    "authour" : "florian@queze.net",
    "created" : "2015-01-19T20:24:40Z"
  }, {
    "text" : "[Tracking Requested - why for this release]: hiding search providers doesn't work reliably on localized builds.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-19T20:27:01Z"
  }, {
    "text" : "If I can get a DXR link up in here I bet this'd be a good mentored or first bug.",
    "authour" : "mhoye@mozilla.com",
    "created" : "2015-01-20T20:06:56Z"
  }, {
    "text" : "Here is where the preference is defined for the preference UIs, they probably both need to be switched to unichar types:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/components/preferences/in-content/search.xul#9\nhttp://mxr.mozilla.org/mozilla-central/source/browser/components/preferences/search.xul#29\n\nWe also get the pref in the main UI here and there we need to use Preferences.jsm:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/urlbarBindings.xml#1144",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-20T20:12:15Z"
  }, {
    "text" : "(In reply to Mike Hoye [:mhoye] from comment #4)\n> If I can get a DXR link up in here I bet this'd be a good mentored or first\n> bug.\n\nIt would certainly be a good mentored bug. My only concern is it might bitrot with the patch I'm currently mentoring in bug 1106926.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-20T20:13:51Z"
  }, {
    "text" : "I'll take a look into this.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-01-28T23:44:41Z"
  }, {
    "text" : "Chris, any news on this? Thanks",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-02-04T08:48:39Z"
  }, {
    "text" : "Hey Sylv, I've been waiting on bug 1106926 to resolve (It looks like it just has) since I'll need to switch the code added for it from using the browser.search.hiddenOneOffs pref to using Preferences.jsm.\n\nI've already done what should be most of the work for this bug and should have a patch posted sometime later this week or this weekend when time permits.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-04T18:08:44Z"
  }, {
    "text" : "Created attachment 8561143\nbug-1121417.patch\n\nI'm almost finished, but I'm having some issues with getting the test case to work properly.  I've varified that my changes work manually but on the test case, when I check the value of shownOneOffs in browser_hiddenOneOffs_diacritics.js it doesn't contain the test engine that I added regardless of whether or not I add it to the hiddenOneOffs pref.\n\nI also added another test case to browser_hiddenOneOffs_cleanup.js to make sure that the observer is handling diacritics correctly (Using Preferences.jsm instead of Service.prefs).",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-09T01:40:35Z"
  }, {
    "text" : "Comment on attachment 8561143\nbug-1121417.patch\n\nReview of attachment 8561143:\n-----------------------------------------------------------------\n\nThanks for the patch and the tests!\n\n::: browser/components/nsBrowserGlue.js\n@@ +424,3 @@\n>            let hiddenEngines = hiddenPref ? hiddenPref.split(\",\") : [];\n>            hiddenEngines = hiddenEngines.filter(x => x !== engineName);\n>            Services.prefs.setCharPref(\"browser.search.hiddenOneOffs\",\n\nThis should use Preferences.jsm too.\n\n::: browser/components/search/test/browser_hiddenOneOffs_cleanup.js\n@@ +71,5 @@\n> +  const diacritic_engine = \"Foo \\u2661\";\n> +  let ns = {};\n> +  Cu.import(\"resource://gre/modules/Preferences.jsm\", ns);\n> +\n> +  Services.prefs.setCharPref(\"browser.search.hiddenOneOffs\", diacritic_engine);\n\nThis needs to use Preferences.jsm\n\n@@ +79,5 @@\n> +    ns.Preferences.get(\"browser.search.hiddenOneOffs\").split(\",\");\n> +  is(hiddenOneOffs.includes(diacritic_engine), false,\n> +     \"Observer cleans up added hidden engines that include a diacritic.\");\n> +\n> +  Services.prefs.setCharPref(\"browser.search.hiddenOneOffs\", diacritic_engine);\n\nThis too.\n\n::: browser/components/search/test/browser_hiddenOneOffs_diacritics.js\n@@ +38,5 @@\n> +\n> +add_task(function* test_hidden() {\n> +  let ns = {};\n> +  Cu.import(\"resource://gre/modules/Preferences.jsm\", ns);\n> +  Services.prefs.setCharPref(\"browser.search.hiddenOneOffs\", diacritic_engine);\n\nYou are importing Preferences.jsm here, but not using it; that's probably the reason why your test doesn't pass.\n\n@@ +45,5 @@\n> +  info(\"Opening search panel\");\n> +  searchbar.focus();\n> +  yield promise;\n> +\n> +  let shownOneOffs = Array.from(getOneOffs(), x => x.getAttribute(\"label\"));\n\ngetOneOffs() already returns an array, so you don't need to use Array.from, Array.map would be enough.\n\n@@ +46,5 @@\n> +  searchbar.focus();\n> +  yield promise;\n> +\n> +  let shownOneOffs = Array.from(getOneOffs(), x => x.getAttribute(\"label\"));\n> +  is(shownOneOffs.includes(diacritic_engine), false,\n\ncomparing the value with |false| isn't really useful, so you could just do ok(!..., \n\nThis could probably be simplified even more with Array.some:\nok(!getOneOffs().some(x => x.getAttribute(\"label\") == diacritic_engine),\n   \"shown oneOffs...",
    "authour" : "florian@queze.net",
    "created" : "2015-02-09T13:25:32Z"
  }, {
    "text" : "We are late in the 36 cycle. I don't think we should rush to fix it. We can however accept a patch in 37.",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-02-13T15:48:48Z"
  }, {
    "text" : "Created attachment 8564785\nbug-1121417.patch\n\nI corrected the errors that were present in the test case, swapped out Services.prefs for Preferences.jsm, and added a new test to ensure that engines with Diacritics are shown after being removed from hiddenOneOffs.\n\nI applied this patch on top of the patch for Bug 1132028 so that will need to land before this patch does.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-15T21:03:33Z"
  }, {
    "text" : "Comment on attachment 8564785\nbug-1121417.patch\n\nReview of attachment 8564785:\n-----------------------------------------------------------------\n\nDid you mean to request review on this updated patch?\n\n::: browser/components/nsBrowserGlue.js\n@@ +427,1 @@\n>                                       hiddenEngines.join(\",\"));\n\nnit: Please fix the indent on this line.\n\n::: browser/components/search/test/browser_hiddenOneOffs_diacritics.js\n@@ +11,5 @@\n> +\n> +let ns = {};\n> +Cu.import(\"resource://gre/modules/Preferences.jsm\", ns);\n> +\n> +function promiseNewEngine(basename) {\n\nI wonder if it would be possible to use the promiseNewEngine function from head.js (http://mxr.mozilla.org/mozilla-central/source/browser/components/search/test/head.js#139) instead of duplicating it.",
    "authour" : "florian@queze.net",
    "created" : "2015-02-16T12:53:54Z"
  }, {
    "text" : "I agree that using the promiseNewEngine in head.js would be the preferred option, but the cleanup functions that it registered weren't working properly after adding two engines (nsSearchService complained about an engine not being in store).  The only real difference between the two functions is that my version isn't doing anything with the current engine.  Instead I took care of that in the init function since that seems to work better and nsSearchService doesn't complain.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-16T17:15:44Z"
  }, {
    "text" : "(In reply to Chris from comment #15)\n\n> The only real difference between the two\n> functions is that my version isn't doing anything with the current engine. \n\nShould we add a parameter to disable that behavior?",
    "authour" : "florian@queze.net",
    "created" : "2015-02-16T17:17:05Z"
  }, {
    "text" : "Created attachment 8567324\nbug-1121417.patch\n\nMade the fixes suggested, I added an optional parameter to promiseNewEngine in head.js and removed the function from the diacritic test case.\n\nPush to try:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=23e245510855\n\nThere's an extra try job at https://treeherder.mozilla.org/#/jobs?repo=try&revision=8a2b5f4fe299 that I still can't seem to cancel.\n\nI thought that it might be related to me giving the system wrong credentials when I cancelled it last time but I gave it the same username/password that I have set up for pushing to try server and it still won't allow me to cancel.  So I'll have to look into what Gavin was saying for that.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-20T22:09:21Z"
  }, {
    "text" : "Created attachment 8567551\nbug-1121417.patch\n\nFixed indent.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-21T22:15:18Z"
  }, {
    "text" : "Comment on attachment 8567551\nbug-1121417.patch\n\nReview of attachment 8567551:\n-----------------------------------------------------------------\n\nThanks for removing the promiseNewEngine code duplication! :-)\n\n::: browser/components/nsBrowserGlue.js\n@@ +437,1 @@\n>                                       hiddenEngines.join(\",\"));\n\nPlease fix the indent of this line. Already requested in comment 14.\n\n::: browser/components/search/test/head.js\n@@ +142,5 @@\n>      Services.search.init({\n>        onInitComplete: function() {\n>          let url = getRootDirectory(gTestPath) + basename;\n> +        if (swapCurrent) {\n> +          var current = Services.search.currentEngine;\n\nWhile this (using 'var') works, I think there's a risk that it would confuse someone in the future, so I would prefer if you instead either just added \"let current;\" before the if, or just kept doing \"let current = Services.search.currentEngine;\" unconditionally (this code is only running in tests; not in the product itself, so a tiny amount of extra unneeded code execution isn't really a problem).\n\n@@ +167,5 @@\n>          });\n>        }\n>      });\n>    });\n> +}\n\\ No newline at end of file\n\nPlease keep a line break at the end of the file.",
    "authour" : "florian@queze.net",
    "created" : "2015-02-23T18:31:47Z"
  }, {
    "text" : "Created attachment 8568053\nbug-1121417.patch\n\nI apologize about the indent.  I changed promiseNewEngine to just instantiate current and set it to current engine regardless of whether or not it's used.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-23T18:54:51Z"
  }, {
    "text" : "Comment on attachment 8568053\nbug-1121417.patch\n\nReview of attachment 8568053:\n-----------------------------------------------------------------\n\nThanks!",
    "authour" : "florian@queze.net",
    "created" : "2015-02-23T19:40:44Z"
  }, {
    "text" : "Created attachment 8568087\nbug-1121417.patch\n\ncheckin-patch",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-23T19:51:36Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/a7923665bfa0",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-24T01:29:15Z"
  }, {
    "text" : "Backed out in https://hg.mozilla.org/integration/fx-team/rev/3554805703a7 since e10s bc1 was unhappy about it, https://treeherder.mozilla.org/logviewer.html#?job_id=2081232&repo=fx-team",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-02-24T05:19:56Z"
  }, {
    "text" : "I've narrowed the problem down to the tests in browser_diacritic_engine.js.  It looks like something in those tests is causing issues when run with e10s.  I'll have to take another look and see why it's not cleaning up properly when run with e10s.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-24T06:01:32Z"
  }, {
    "text" : "The issue is being caused by this snippet of code.\n\n>  let promise = promiseEvent(searchPopup, \"popupshown\");\n>  searchbar.focus();\n>  yield promise;\n\nKeyboard navigation tests seem to be the only tests affected by this.  I'm not entirely sure about the best way to change this to get keyboard navigation tests and diacritic one offs test to play nice together.  The only thing I can think of is to remove the diacritic tests from the e10s test suite.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-24T21:47:43Z"
  }, {
    "text" : "Asking Gavin since Florian is unavailable.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-25T20:02:07Z"
  }, {
    "text" : "Created attachment 8569438\nbug-1121417.patch\n\nUploading an updated patch since the old one had bitrotted.  There aren't any changes in here to fix the e10s testing issue.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-25T21:30:21Z"
  }, {
    "text" : "I think I found out what the devious problem was.  I've pushed the updated patch to try at https://treeherder.mozilla.org/#/jobs?repo=try&revision=5f46fd900d2d\n\nIt looks like opening the search popup by changing the textbox's value caused an issue with keyboard navigation tests, for some reason it interfered with that test's ability to alter the search history when run under e10s.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-26T20:27:01Z"
  }, {
    "text" : "Created attachment 8570521\nbug-1121417.patch\n\nThe e10s try run looks good, this patch should good to go.  I had to make some pretty substantial changes to the way to test case worked in order to pass e10s.  Gavin would you mind taking a look at the test case since Florian is away?",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-27T15:58:41Z"
  }, {
    "text" : "Comment on attachment 8570521\nbug-1121417.patch\n\n>diff --git a/browser/base/content/urlbarBindings.xml b/browser/base/content/urlbarBindings.xml\n\n>+        let ns = {};\n>+        Cu.import(\"resource://gre/modules/Preferences.jsm\", ns);\n>+        let pref =\n>+          ns.Preferences.get(\"browser.search.hiddenOneOffs\");\n\nYou should be able to re-write this a bit more clearly as:\n\nlet Preferences = Cu.import(\"resource://gre/modules/Preferences.jsm\", {}).Preferences;\nlet pref = Preferences.get(\"browser.search.hiddenOneOffs\");\n\n(and then use this pattern more consistently throughout the patch)\n\n>diff --git a/browser/components/search/test/browser_hiddenOneOffs_diacritics.js b/browser/components/search/test/browser_hiddenOneOffs_diacritics.js\n\n>+add_task(function* init() {\n>+  const cachedPref = Services.prefs.getCharPref(\"browser.search.hiddenOneOffs\");\n\nShouldn't you avoid using getCharPref here? Though actually, I don't think you need to store the old value - you can just clearUserPref at the end of the test?\n\n>diff --git a/browser/components/search/test/head.js b/browser/components/search/test/head.js\n\n>+function promiseNewEngine(basename, swapCurrent = true) {\n\nBoolean parameters are a little bit evil. To make the callers clearer, you could make this an optional \"options\" parameter, defined as an object that optionally has the \"setAsCurrent\" property. E.g.:\n\nfunction promiseNewEngine(basename, options = {}) {\n  let setAsCurrent = options.setAsCurrent || false;\n  // ...\n}\n\n>diff --git a/browser/components/search/test/testEngine_diacritics.xml b/browser/components/search/test/testEngine_diacritics.xml\n\n>+  <ShortName>Foo &#9825;</ShortName>\n>+  <Description>Diacritics Test Engine</Description>\n\nI might adjust this just to explain what's unique about this engine in more detail: \"Engine whose ShortName contains non-BMP Unicode characters\"\n\nIt looks like there's no coverage for the preferences window getting/setting of this pref, but that's probably not worth worrying about too much.\n\nGood job chasing down the e10s issue!\n\nr=me with those comments addressed.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-27T21:08:16Z"
  }, {
    "text" : "Created attachment 8570834\nbug-1121417.patch\n\nThanks Gavin.\n\n> function promiseNewEngine(basename, options = {}) {\n>  let setAsCurrent = options.setAsCurrent || false;\n>  // ...\n> }\n\nI changed the optional parameter as suggested but I decided to use\n\nlet setAsCurrent = \n  options.setAsCurrent == undefined ? true : options.setAsCurrent;\n\nI want to default setAsCurrent to true to match the most likely use case without having to alter other parts of the code.\n\nI made the other changes that you suggested.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-02-28T02:21:15Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/0bc001f799df",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-03-02T22:02:52Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0bc001f799df",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-03T12:52:54Z"
  }, {
    "text" : "Setting as qe-verify- since this seems to be well covered by automated tests, so I don't think additional manual testing is needed. Feel free to set it back if you think otherwise.",
    "authour" : "florin.mezei@softvisioninc.eu",
    "created" : "2015-03-04T10:17:32Z"
  }, {
    "text" : "Comment on attachment 8570834\nbug-1121417.patch\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1088660 (new search bar)\n[User impact if declined]: impossible to hide the one-off buttons of some default engines in some localized builds (eg. cz).\n[Describe test coverage new/current, TreeHerder]: tests included in the patch.\n[Risks and why]: low risk; most of the patch is test additions.\n[String/UUID change made/needed]: none.",
    "authour" : "florian@queze.net",
    "created" : "2015-03-04T10:25:45Z"
  }, {
    "text" : "Comment on attachment 8570834\nbug-1121417.patch\n\nGiven the test coverage in this patch and that it is QE-, let's take this in Beta 3. Note that this is a fix for an issue introduced in 34. Beta+ Aurora+",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-04T17:42:30Z"
  }, {
    "text" : "(In reply to Lawrence Mandel [:lmandel] (use needinfo) from comment #37)\n\n> this is a fix for an issue introduced in 34.\n\nWhile the problem in the code was indeed introduced in 34, we only started localizing the new search UI in 35, so this problem was unlikely to impact significant numbers of users in 34.",
    "authour" : "florian@queze.net",
    "created" : "2015-03-04T17:48:55Z"
  }, {
    "text" : "Needs rebasing for beta uplift.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-04T18:41:34Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/06d70b82938e",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-04T18:52:25Z"
  }, {
    "text" : "Created attachment 8572788\nbug-1121417_r.patch\n\nI rebased this on top of the changeset with the tag FIREFOX_AURORA_38_BASE using the command hg update -r FIREFOX_AURORA_38_BASE.  This is the first time that I have rebased a patch to match the beta channel of firefox so please feel free to correct me if I've made a mistake.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-04T19:16:42Z"
  }, {
    "text" : "Comment on attachment 8570834\nbug-1121417.patch\n\nYou need to rebase on top of Gecko 37, not 38. Also, please don't obsolete the original patch as in this case, the branch patch is something entirely different.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-04T19:20:45Z"
  }, {
    "text" : "Created attachment 8572877\nbug-1121417_r.patch\n\nI based this patch off of FIREFOX_AURORA_37_BASE as requested.  I ran the tests on my box for safety and they all passed.  I'll push to try if necassary as soon as I know that this is the right patch.\n\nThis patch does include stuff from the patch for Bug 1106926 which is necassary since the this patch changes code that was made in that patch (I've also included the test cases for Bug 1106926 to make sure we don't lose coverage).",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-04T22:12:01Z"
  }, {
    "text" : "Gavin, I'm not sure if this needs re-review or not given the inclusion of changes from another bug. Likewise on approval. What are your thoughts?",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-05T15:43:58Z"
  }, {
    "text" : "If this is built on bug 1106926, we should just also uplift that to 37. Does the patch in that bug apply cleanly?",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-03-06T01:38:02Z"
  }, {
    "text" : "I included the code changes for bug 1106926 in bug-1121417_r.patch since the patch for this bug was written on top of the patch for bug 1106926.\n\nI could split bug-1121417_r.patch up into two patches, one that makes changes to http://mxr.mozilla.org/mozilla-central/source/browser/base/content/urlbarBindings.xml and one that makes changes to http://mxr.mozilla.org/mozilla-central/source/browser/components/nsBrowserGlue.js and other code files affected by bug 1106926.  Just let me know which you would prefer.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-06T03:42:52Z"
  }, {
    "text" : "It does look like the patch for bug 1106926 will apply cleanly to 37.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-06T03:53:19Z"
  }, {
    "text" : "It'd probably be better for blame and consistency if we just uplift bug 1106926 separately in that case. How risky would that be? If you don't see that as a big deal, go ahead and nominate it.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-06T15:49:13Z"
  }, {
    "text" : "Created attachment 8574094\nbug-1121417_r37.patch\n\nI went ahead and made a patch for 37 that should apply cleanly as long as the patch for bug 1106926 is uplifted first, from what I tested the patch for bug 1106926 should just apply clean to 37 without any issues (Tested using hg import).\n\nI added the promiseNewEngine function to http://mxr.mozilla.org/mozilla-central/source/browser/components/search/test/head.js since the tests in http://mxr.mozilla.org/mozilla-central/source/browser/components/search/test/browser_hiddenOneOffs_diacritics.js rely on it and it didn't exist when 37 was cut.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-06T19:25:45Z"
  }, {
    "text" : "I don't see a big concern in uplifting bug 1106926 to Beta. Let's get a nom on that bug and another nom on the branch patch in this bug. If the branch patch in this bug is close enough to the original, I think we can carry forward the r+. If not, let's get another review on the patch before landing it on Beta.",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-06T22:01:39Z"
  }, {
    "text" : "Created attachment 8574212\nbug-1121417_r37.patch\n\nFixed missing newline at end of file.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-07T00:05:39Z"
  }, {
    "text" : "The patch that I uploaded earlier today is pretty much identical to the original patch except for the changes mentioned in my previous post.  We may want to go ahead and do a review for that function but everything else should be fine.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-07T00:14:09Z"
  }, {
    "text" : "Comment on attachment 8574212\nbug-1121417_r37.patch\n\nThis will need to be adjusted to include a proper commit message (include the a=lmandel).",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-03-09T10:43:09Z"
  }, {
    "text" : "Comment on attachment 8574212\nbug-1121417_r37.patch\n\nI have already approved bug 1106926 for uplift. Approving this patch as well. Please note comment 53 about the required commit message. Beta+",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-09T15:44:11Z"
  }, {
    "text" : "Created attachment 8574780\nbug-1121417_r37.patch\n\nThe patch for bug 1106926 will need to be uplifted to 37 first otherwise this patch will fail to apply cleanly.  The patch for bug 1106926 was approved to be uplifted in bug 1106926 comment 43.  Once it lands this patch should apply cleanly.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-09T18:37:37Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/513cff18abaa",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-09T19:25:49Z"
  }, {
    "text" : "I had to back this out for hitting mochitest-bc failures. Please rebase your patch on top of mozilla-beta tip.\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/89b593b91e5e\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=293807&repo=mozilla-beta",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-09T21:07:49Z"
  }, {
    "text" : "ni Chris to fix this up for potential relanding for Beta 5 by Thu, Mar 12.",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-09T23:05:44Z"
  }, {
    "text" : "Created attachment 8575052\nbug-1121417_r37.patch\n\nRebasad on mozilla-beta tip.",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-10T03:24:42Z"
  }, {
    "text" : "Created attachment 8575055\nbug-1121417_r37.patch\n\nIndenting",
    "authour" : "chrishood@eagles.ewu.edu",
    "created" : "2015-03-10T03:32:42Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/90a33a9f129e",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-10T15:54:49Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-02-09T13:59:56Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-03T12:52:54Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-03T12:52:54Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-19T20:19:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com, florian@queze.net, gavin.sharp@gmail.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-19T20:19:13Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "2"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-19T20:27:01Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "wontfix"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-19T20:27:01Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-19T20:27:01Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-19T20:27:01Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-19T20:27:01Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-19T22:17:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mhoye@mozilla.com",
      "date" : "2015-01-20T20:06:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mhoye@mozilla.com"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-01-28T23:44:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "chrishood@eagles.ewu.edu"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-29T12:26:10Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "chrishood@eagles.ewu.edu"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-29T12:26:10Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "florian@queze.net"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-04T08:48:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-13T15:48:48Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "?",
      "added" : "-"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-13T15:48:48Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "wontfix"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-13T15:48:48Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "---",
      "added" : "+"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-15T21:03:33Z",
      "what" : "attachments.isobsolete:8561143",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-20T22:09:21Z",
      "what" : "attachments.isobsolete:8564785",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-21T22:15:18Z",
      "what" : "attachments.isobsolete:8567324",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-23T18:54:51Z",
      "what" : "attachments.isobsolete:8567551",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-23T19:51:36Z",
      "what" : "attachments.isobsolete:8568053",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-23T19:52:12Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T01:29:15Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T01:29:15Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-24T05:19:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "philringnalda@gmail.com"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-24T05:19:56Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-25T21:30:21Z",
      "what" : "attachments.isobsolete:8568087",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-27T15:58:41Z",
      "what" : "attachments.isobsolete:8569438",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-28T02:21:15Z",
      "what" : "attachments.isobsolete:8570521",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-28T02:23:02Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-03-02T22:02:52Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-03-02T22:02:52Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-03T12:52:54Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-03T12:52:54Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-03T12:52:54Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-03 04:52:54"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-03T12:52:54Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-03T17:32:34Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "39.1 - 9 Mar"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-03-04T10:17:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-04T17:41:06Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "---",
      "added" : "+"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-04T17:41:06Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-04T18:41:34Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "branch-patch-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-04T18:52:25Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-04T19:16:42Z",
      "what" : "attachments.isobsolete:8570834",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-04T19:20:45Z",
      "what" : "attachments.isobsolete:8570834",
      "removed" : "1",
      "added" : "0"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-04T22:12:01Z",
      "what" : "attachments.isobsolete:8572788",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-05T15:43:58Z",
      "what" : "keywords",
      "removed" : "branch-patch-needed",
      "added" : ""
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-06T19:25:45Z",
      "what" : "attachments.isobsolete:8572877",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-07T00:05:39Z",
      "what" : "attachments.isobsolete:8574094",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-09T18:37:37Z",
      "what" : "attachments.isobsolete:8574212",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-09T19:25:49Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-09T21:07:49Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "affected"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-10T03:24:42Z",
      "what" : "attachments.isobsolete:8574780",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-10T03:32:42Z",
      "what" : "attachments.isobsolete:8575052",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-10T15:54:49Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-19T20:19:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-04T08:48:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-04T18:08:44Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chrishood@eagles.ewu.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-09T01:40:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-09T13:25:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561143,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-09T13:43:25Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(florian@queze.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-16T12:53:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564785,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-20T22:09:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567324,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-21T22:15:18Z",
      "what" : "flagtypes.name",
      "removed" : "review?(florian@queze.net)",
      "added" : "",
      "attachmentId" : 8567324,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-21T22:15:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567551,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-23T18:31:47Z",
      "what" : "flagtypes.name",
      "removed" : "review?(florian@queze.net)",
      "added" : "",
      "attachmentId" : 8567551,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-23T18:54:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568053,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-23T19:40:44Z",
      "what" : "flagtypes.name",
      "removed" : "review?(florian@queze.net)",
      "added" : "",
      "attachmentId" : 8568053,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-24T21:47:43Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-25T20:02:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-26T20:27:01Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(florian@queze.net), needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-02-27T15:58:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8570521,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-27T21:08:16Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : 8570521,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-03-02T22:02:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-03-04T10:17:32Z",
      "what" : "flagtypes.name",
      "removed" : "qe-verify+",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-03-04T10:25:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8570834,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-04T17:42:30Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8570834,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-04T18:41:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-04T19:16:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chrishood@eagles.ewu.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-05T15:43:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-06T01:38:02Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-06T03:42:52Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chrishood@eagles.ewu.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-06T22:01:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-07T00:14:09Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chrishood@eagles.ewu.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-07T00:16:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574212,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-09T10:43:09Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : 8574212,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-09T15:44:11Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8574212,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-09T23:05:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chrishood@eagles.ewu.edu",
      "date" : "2015-03-10T03:24:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chrishood@eagles.ewu.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121417,
  "cclist" : [ "chrishood@eagles.ewu.edu", "dtownsend@mozilla.com", "florian@queze.net", "florin.mezei@softvisioninc.eu", "gavin.sharp@gmail.com", "mhoye@mozilla.com", "mmucci@mozilla.com", "pcvrcek@mozilla.cz", "philringnalda@gmail.com", "sledru@mozilla.com" ]
}, {
  "component" : "Developer Tools: Debugger",
  "summary" : "_breakOnEnter should not use setBreakpoint",
  "reporter" : "ejpbruel@mozilla.com",
  "assigned" : "ejpbruel@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8548775\npatch\n\nCurrently setBreakpoint is called with either an original location or a generated location. Not only is this very confusing, its also conceptually wrong in some cases (i.e. breakpoint sliding on generated sources).\n\nI'm trying to move things to where setBreakpoint always takes an original location, but one thing that is blocking me from getting there is the fact that _breakOnEnter uses setBreakpoint to set hidden breakpoints. This is wrong in my opinion.\n\nsetBreakpoint doesn't need most of the machinery of setBreakpoint. In particular, breakpoint sliding is not needed, because the very point of breakOnEnter is to set a breakpoint on a script and line that are guaranteed to exist. The attached patch removes _breakOnEnter's dependency on setBreakpoint, and simplifies it in the process.\n\nA couple of notes of interest:\n- findEntryPointsForLine and setBreakpointOnEntryPoints shouldn't live on     \n  SourceActor, because they don't need any of state of instances of that class.\n  Since _breakOnEnter also needs these functions, but lives on the ThreadActor,\n  it makes sense to make them global.\n- The second argument to BreakPointActor.prototype.setActor is actually not\n  required. The thread actor for a breakpoint actor is already set in its\n  constructor, and is never supposed to change after that.",
  "comments" : [ {
    "text" : "Created attachment 8548775\npatch\n\nCurrently setBreakpoint is called with either an original location or a generated location. Not only is this very confusing, its also conceptually wrong in some cases (i.e. breakpoint sliding on generated sources).\n\nI'm trying to move things to where setBreakpoint always takes an original location, but one thing that is blocking me from getting there is the fact that _breakOnEnter uses setBreakpoint to set hidden breakpoints. This is wrong in my opinion.\n\nsetBreakpoint doesn't need most of the machinery of setBreakpoint. In particular, breakpoint sliding is not needed, because the very point of breakOnEnter is to set a breakpoint on a script and line that are guaranteed to exist. The attached patch removes _breakOnEnter's dependency on setBreakpoint, and simplifies it in the process.\n\nA couple of notes of interest:\n- findEntryPointsForLine and setBreakpointOnEntryPoints shouldn't live on     \n  SourceActor, because they don't need any of state of instances of that class.\n  Since _breakOnEnter also needs these functions, but lives on the ThreadActor,\n  it makes sense to make them global.\n- The second argument to BreakPointActor.prototype.setActor is actually not\n  required. The thread actor for a breakpoint actor is already set in its\n  constructor, and is never supposed to change after that.",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-14T10:02:44Z"
  }, {
    "text" : "Try run for the above patch:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=e8807b61e038",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-19T13:51:02Z"
  }, {
    "text" : "Ugh, that try run is for the wrong patch :-(\n\nSecond attempt:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=6f8ba630e889",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-21T11:39:38Z"
  }, {
    "text" : "Comment on attachment 8548775\npatch\n\nReview of attachment 8548775:\n-----------------------------------------------------------------\n\nI like it! This makes a lot more sense.\n\n::: toolkit/devtools/server/actors/script.js\n@@ +455,5 @@\n> +    actor.addScript(script);\n> +  }\n> +}\n> +\n> +/**\n\nWe have a bunch of utility functions at the bottom of the file instead of the top. They should all probably be in the same place. If you feel strongly about where they should go, feel free to move stuff from the bottom up here, but I'd like to avoid having utility functions both at the top and bottom of the file.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-21T20:57:39Z"
  }, {
    "text" : "There were some test failures in the above try push because I forgot to add the breakpoint actor to the thread life time pool. Here's a new try push, with that problem addressed:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=28801d6b3e07",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-22T10:58:57Z"
  }, {
    "text" : "Try looks green, pushed to fx-team:\nhttps://hg.mozilla.org/integration/fx-team/rev/74cf2c833a3c",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-23T11:41:45Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/74cf2c833a3c",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-23T17:25:59Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:59Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:59Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-14T10:02:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jlong@mozilla.com"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-21T16:58:00Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ejpbruel@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:59Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-23T17:25:59Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-23 09:25:59"
    } ],
    "flagEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-14T10:02:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548775,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-21T20:57:39Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jlong@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548775,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121395,
  "cclist" : [ "jlong@mozilla.com" ]
}, {
  "component" : "Search",
  "summary" : "Add telemetry to compare OSX system country data with geoip data",
  "reporter" : "markh@mozilla.com",
  "assigned" : "markh@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Bug 1102295 gave us exposure to a Mac API for fetching country data.  We'd like to compare the data that gives us with the country-code we fetch via geo-ip so we can ascertain if this would make a reasonable fallback (or possibly even default) in the case the geoip request fails.\n\nIn bug 1102295, it seems unclear exactly what the country codes returned are (ie, whether they are the ISO codes or Apple specific).  We do know the code for the US, and currently that's the only requirement for search, so I suggest we add 2 probes:\n\n* Do the geoip and OSX calls agree about \"is it US\"?\n* Do the geoip and OSX calls agree on the actual value?\n\nGavin, does that sound right to you?",
  "comments" : [ {
    "text" : "Bug 1102295 gave us exposure to a Mac API for fetching country data.  We'd like to compare the data that gives us with the country-code we fetch via geo-ip so we can ascertain if this would make a reasonable fallback (or possibly even default) in the case the geoip request fails.\n\nIn bug 1102295, it seems unclear exactly what the country codes returned are (ie, whether they are the ISO codes or Apple specific).  We do know the code for the US, and currently that's the only requirement for search, so I suggest we add 2 probes:\n\n* Do the geoip and OSX calls agree about \"is it US\"?\n* Do the geoip and OSX calls agree on the actual value?\n\nGavin, does that sound right to you?",
    "authour" : "markh@mozilla.com",
    "created" : "2015-01-14T06:45:49Z"
  }, {
    "text" : "Sounds good to me. smichaud may be able to point to documentation about what kind of country codes are returned by this API.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-01-19T19:10:34Z"
  }, {
    "text" : "As I said in bug 1102295 comment #13 and bug 1102295 comment #15, Apple has no documentation on the API used to fix that bug.  (Though it's also clear that Apple uses it themselves, so it's safe to use it.)\n\nI suggest (as I already did at bug 1102295 comment #10) that someone come up with a list of country codes that we're \"interested in\".  Then we can check Apple's \"CountryCode\" for each of them (by deliberately choosing the wrong \"closest city\" in the Date & Time preference panel).",
    "authour" : "smichaud@pobox.com",
    "created" : "2015-01-20T16:42:26Z"
  }, {
    "text" : "Thanks for the comment, and particularly the test program in bug 1102295. I did previously see your comments there about the lack of documentation on the country-codes, which is why I proposed the probes in comment 0.\n\n(In reply to Steven Michaud from comment #2)\n> As I said in bug 1102295 comment #13 and bug 1102295 comment #15, Apple has\n> no documentation on the API used to fix that bug.  (Though it's also clear\n> that Apple uses it themselves, so it's safe to use it.)\n\nThis is why one of the probes I want to add is specifically a check for \"US\" - this is the only one we know we care about at the moment.\n\n> I suggest (as I already did at bug 1102295 comment #10) that someone come up\n> with a list of country codes that we're \"interested in\".  Then we can check\n> Apple's \"CountryCode\" for each of them (by deliberately choosing the wrong\n> \"closest city\" in the Date & Time preference panel).\n\nI suspect these are ISO 3166 codes.  Of the 20 or so random countries I tested, all correspond to the ISO code, including ones that aren't obvious from the abbreviation (eg, Ukraine is UA, United Arab Emirates is AE, Democratic Republic of the Congo is CD, \"Myanmar/Burma\" is MM, etc)\n\nSo while this obviously isn't conclusive, I think it's reasonable to suggest that Apple aren't likely to change existing codes (for the same reason we can consider the API safe to use) and it sure *looks* like it's using ISO codes - which is the reason I'm suggesting we add a second probe to see if we find a strong correlation between the ISO code our geoip service reports and the country-code the OSX technique offers.\n\nSteven, other than us making assumptions about an undocumented API, do you see any problems with the probes I'm suggesting?",
    "authour" : "markh@mozilla.com",
    "created" : "2015-01-21T06:50:41Z"
  }, {
    "text" : "> do you see any problems with the probes I'm suggesting?\n\nNo, I don't :-)",
    "authour" : "smichaud@pobox.com",
    "created" : "2015-01-21T16:26:50Z"
  }, {
    "text" : "Created attachment 8556328\n0001-Bug-1121340-add-telemetry-to-determine-how-consisten.patch\n\nThis patch adds 2 new probes, both bools, and mutually exclusive:\n\n* SEARCH_SERVICE_US_COUNTRY_MISMATCHED_PLATFORM_OSX is set if *either* geoip or OSX says we are in the US.  It is set to false if they both are (ie, no mismatch) and true if only 1 is.  There's no way of knowing *which* said US and which didn't (but I guess there's also no way of knowing which one is accurate in that case)\n\n* SEARCH_SERVICE_NONUS_COUNTRY_MISMATCHED_PLATFORM_OSX is set when neither say US, and similarly, set to false if they agree and true is they don't.  There's no way to know what countries these might be.\n\nIncludes a test.  Is this what you had in mind?",
    "authour" : "markh@mozilla.com",
    "created" : "2015-01-29T07:23:18Z"
  }, {
    "text" : "Also, when using the telemetry dashboard, I couldn't find a way to combine probes or otherwise sort by platform.  If there is a way the \"_OSX\" suffix could be dropped.",
    "authour" : "markh@mozilla.com",
    "created" : "2015-01-29T07:24:50Z"
  }, {
    "text" : "Not exactly sure what you mean by \"combine probes or otherwise sort by platform\" but you can filter by platform once you select reason=saved_session, appName=Firefox.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-30T06:19:27Z"
  }, {
    "text" : "(In reply to Matthew N. [:MattN] from comment #7)\n> Not exactly sure what you mean by \"combine probes or otherwise sort by\n> platform\" but you can filter by platform once you select\n> reason=saved_session, appName=Firefox.\n\nThanks Matt, that's exactly what I was after.  Gavin, that would make it possible to use a platform-agnostic probe name here with only a relatively minor inconvenience to filter by platform - do you think we should do that?",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-01T23:25:00Z"
  }, {
    "text" : "Not sure it's good to rely on that, I'd just leave it as-is.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-02T22:53:03Z"
  }, {
    "text" : "Comment on attachment 8556328\n0001-Bug-1121340-add-telemetry-to-determine-how-consisten.patch\n\nGavin, can you propose a delegate for review?",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-02T23:09:49Z"
  }, {
    "text" : "Comment on attachment 8556328\n0001-Bug-1121340-add-telemetry-to-determine-how-consisten.patch\n\n>diff --git a/toolkit/components/search/tests/xpcshell/head_search.js b/toolkit/components/search/tests/xpcshell/head_search.js\n\n>+// Stash the real OS value so tests that need it don't find themselves with \"XPCShell\"\n>+var OS = XULRuntime.OS;\n\nCan you just mirror this to XULAppInfo instead, as with processType? Or does that break something?\n\n>diff --git a/toolkit/components/search/tests/xpcshell/test_location.js b/toolkit/components/search/tests/xpcshell/test_location.js\n\n>+    print(\"This OS is\", OS)\n\nremove",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-04T21:37:25Z"
  }, {
    "text" : "(In reply to :Gavin Sharp [email: gavin@gavinsharp.com] from comment #11)\n> Can you just mirror this to XULAppInfo instead, as with processType? Or does\n> that break something?\n\nThat works fine.\n\n> >+    print(\"This OS is\", OS)\n> \n> remove\n\nDone.\n\nhttps://hg.mozilla.org/integration/fx-team/rev/eef81ecfb729",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-05T01:25:32Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/eef81ecfb729",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-05T13:39:21Z"
  }, {
    "text" : "Mark, let's get this uplifted to 37.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-11T16:29:45Z"
  }, {
    "text" : "Comment on attachment 8556328\n0001-Bug-1121340-add-telemetry-to-determine-how-consisten.patch\n\nApproval Request Comment\n[Feature/regressing bug #]: Locale-based search defaults\n[User impact if declined]: None, but we lose the ability to quickly measure how feasible it is to avoid geoip requests completely for OSX users.\n[Describe test coverage new/current, TreeHerder]: Has tests\n[Risks and why]: Low risk - only records telemetry.\n[String/UUID change made/needed]: None",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-11T22:14:09Z"
  }, {
    "text" : "Comment on attachment 8556328\n0001-Bug-1121340-add-telemetry-to-determine-how-consisten.patch\n\nThis will assist with information about how we set search defaults. Aurora+",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-02-12T04:09:58Z"
  }, {
    "text" : "Note to sheriffs - to avoid Aurora recording bad telemetry data, please uplift bug 1130132 at the same time (but note that this bug depends on that)",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-12T04:27:58Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/c5e12814f601",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-12T14:59:28Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:21Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:21Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-14T06:45:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gavin.sharp@gmail.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-19T19:10:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "smichaud@pobox.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-27T16:48:30Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.3 - 23 Feb",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-30T06:19:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "MattN+bmo@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:21Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:21Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-05 05:39:21"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:21Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-11T16:29:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mhammond@mozilla.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-11T16:30:13Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "---",
      "added" : "+"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-11T16:30:13Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-12T04:27:58Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[sheriff note in comment 16]"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-12T04:28:22Z",
      "what" : "whiteboard",
      "removed" : "[sheriff note in comment 16]",
      "added" : "[sheriff note in comment 17]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T14:59:28Z",
      "what" : "whiteboard",
      "removed" : "[sheriff note in comment 17]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T14:59:28Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-14T06:45:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-19T19:10:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smichaud@pobox.com",
      "date" : "2015-01-20T16:42:26Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smichaud@pobox.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-21T06:50:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smichaud@pobox.com",
      "date" : "2015-01-21T16:26:50Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smichaud@pobox.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-29T07:23:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556328,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-30T16:37:31Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : 8556328,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-01T23:25:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-02T22:53:03Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-02T23:09:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556328,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-04T21:37:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : 8556328,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-11T16:29:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-11T22:14:09Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mhammond@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-11T22:14:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556328,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-12T04:09:58Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8556328,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T14:59:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121340,
  "cclist" : [ "gavin.sharp@gmail.com", "markh@mozilla.com", "MattN+bmo@mozilla.com", "mmucci@mozilla.com", "smichaud@pobox.com" ]
}, {
  "component" : "Tours",
  "summary" : "Loop: info panel position breaks when \"Contacts\" tab is activated in Hello panel",
  "reporter" : "clauber.halic@gmail.com",
  "assigned" : "mdeboer@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8548475\nWelcome box broken when contacts tab activated\n\nSteps to reproduce:\n\n1. Click on the Firefox Hello icon;\n2. Click on the Contacts icon;\n\nThis happens just when the \"Welcome\" box is on the screen.",
  "comments" : [ {
    "text" : "Created attachment 8548475\nWelcome box broken when contacts tab activated\n\nSteps to reproduce:\n\n1. Click on the Firefox Hello icon;\n2. Click on the Contacts icon;\n\nThis happens just when the \"Welcome\" box is on the screen.",
    "authour" : "clauber.halic@gmail.com",
    "created" : "2015-01-13T22:47:52Z"
  }, {
    "text" : "Created attachment 8548477\nThe default behavior when Online tab is activated",
    "authour" : "clauber.halic@gmail.com",
    "created" : "2015-01-13T22:51:34Z"
  }, {
    "text" : "Note that this can only happen if the user signed in with FxA otherwise the contact tab doesn't show.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-13T22:59:33Z"
  }, {
    "text" : "[:MattN], yes, you're right, I forgot to mention that I'm using the FxA.\n\nThanks [:ckprice] and [:MattN] for improve this bug description :)",
    "authour" : "clauber.halic@gmail.com",
    "created" : "2015-01-14T02:17:50Z"
  }, {
    "text" : "*** Bug 1121401 has been marked as a duplicate of this bug. ***",
    "authour" : "agibson@mozilla.com",
    "created" : "2015-01-14T13:40:34Z"
  }, {
    "text" : "Marking this as a P2 for Hello 36 tours. Although it will not impede development, we're at risk for a much larger audience being exposed to this UX.\n\nIf the larger platform fix can't be implemented, let's see if we can execute a smaller scale fix, e.g. notifying web that the tab has changed.",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-01-15T17:29:08Z"
  }, {
    "text" : "(In reply to Clauber Stipkovic [:cstipkovic] from comment #3)\n> Thanks [:ckprice] and [:MattN] for improve this bug description :)\nThank you for bringing this to our attention! It is very much appreciated.",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-01-15T17:52:52Z"
  }, {
    "text" : "Matt: I think you said you had an idea for how to workaround this specific case without the general fix in bug 1109868? What was it? Something about adding a hack to hire/reposition the infopanel when the contacts tab was clicked?\n\nI think we also talked about me being confused what's triggering this bug -- I thought panels got positioned when first shown, and stayed put... What's causing it to reposition when Contacts is clicked?\n\nAlso, I noticed the panel will go back to the correct position when clicking the Conversations tab again, so I think that makes this less important to fix.",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-01-30T06:14:10Z"
  }, {
    "text" : "I'll implement a workaround with possibility to provide a secondary anchor, which will be used when the original anchor is hidden.\nSo in this case that would be the conversations tab button.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-03T11:48:18Z"
  }, {
    "text" : "Or not. After some investigation, this bug is really caused by the panel implementation and bug 1109868 would fix this properly.\n\nI'll attach a patch that introduces the 'Loop:SelectedTabChanged' UITour notification, which the content page should act upon.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-03T14:03:08Z"
  }, {
    "text" : "Created attachment 8558507\nPatch v1: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-03T14:05:14Z"
  }, {
    "text" : "Comment on attachment 8558507\nPatch v1: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8558507:\n-----------------------------------------------------------------\n\nThis approach may work but sometimes the panel gets in a broken state before the page has time to react. Alex is able to get the panel in a broken state but I'm not on my machine. Alex should try a try-build to confirm that this approach works.\n\n::: browser/components/loop/content/js/panel.jsx\n@@ +37,5 @@\n>  \n> +    shouldComponentUpdate: function(nextProps, nextState) {\n> +      var tabChange = this.state.selectedTab !== nextState.selectedTab;\n> +      if (tabChange) {\n> +        this.props.mozLoop.notifyUITour(\"Loop:SelectedTabChanged\");\n\ns/Selected/Panel/\n\nSelectedTab is too easy to confuse with tabbrowser tabs IMO and makes it more clear this is related to the panel instead of some other Loop UI.\n\n::: browser/components/uitour/UITour.jsm\n@@ +148,5 @@\n>          // doesn't overlap the panel contents much.\n>          return loopBrowser.contentDocument.querySelector(\".new-room-button\").parentElement;\n>        },\n>      }],\n>      [\"loop-roomList\", {\n\nloop-RoomList has the same problem I think",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-03T21:47:05Z"
  }, {
    "text" : "(In reply to Justin Dolske [:Dolske] from comment #7)\n> Matt: I think you said you had an idea for how to workaround this specific\n> case without the general fix in bug 1109868? What was it? Something about\n> adding a hack to hire/reposition the infopanel when the contacts tab was\n> clicked?\n\nYeah, either the approach that Mike has where we tell the page and it hides the highlight or we just listen for the tab change ourselves in UITour and hide.\n\n> I think we also talked about me being confused what's triggering this bug --\n> I thought panels got positioned when first shown, and stayed put... What's\n> causing it to reposition when Contacts is clicked?\n\nIt's layout/XUL code that makes the panel follow the anchor e.g. when you move the wrowser window.\n\n> Also, I noticed the panel will go back to the correct position when clicking\n> the Conversations tab again, so I think that makes this less important to\n> fix.\n\nYeah, that can happen in some cases as long as the element is identical and hasn't been re-created to simply look the same.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-03T21:49:26Z"
  }, {
    "text" : "Comment on attachment 8558507\nPatch v1: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8558507:\n-----------------------------------------------------------------\n\n::: browser/components/loop/content/js/panel.jsx\n@@ +37,5 @@\n>  \n> +    shouldComponentUpdate: function(nextProps, nextState) {\n> +      var tabChange = this.state.selectedTab !== nextState.selectedTab;\n> +      if (tabChange) {\n> +        this.props.mozLoop.notifyUITour(\"Loop:SelectedTabChanged\");\n\nYou should pass along the selectedTab name with notifyUITour so the page can handle switching back to the room tab if it wants.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-03T21:50:35Z"
  }, {
    "text" : "Created attachment 8560405\nPatch v2: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nThanks for the feedback Matt! I updated the patch to incorporate your suggestions. Could you review those for me?",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-06T11:38:57Z"
  }, {
    "text" : "Comment on attachment 8560405\nPatch v2: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8560405:\n-----------------------------------------------------------------\n\n::: browser/components/uitour/UITour.jsm\n@@ +84,5 @@\n> +/**\n> + * Checks if a certain tab is selected inside the Loop panel.\n> + *\n> + * @param  {XULElement} loopBrowser Reference to the Loop browser element\n> + * @param  {String}     tabName     Name of the tab that's expected to be selected\n\nnit: I removed the superfluous space in the two lines above.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-06T11:40:23Z"
  }, {
    "text" : "Comment on attachment 8560405\nPatch v2: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8560405:\n-----------------------------------------------------------------\n\nI think the approach is good but I think there should be a test and the helpers should move to LoopUI (or somewhere else in Loop code).\n\n::: browser/components/uitour/UITour.jsm\n@@ +76,5 @@\n> + *\n> + * @param {XULDocument} document XUL document that contains the Loop panel\n> + * @type {XULElement}\n> + */\n> +const getLoopBrowser = function(document) {\n\nPlease make these underscore prefixed helper method on the UITour object to align with the others. I also try to keep as much non-tour code out of UITour.jsm so I would prefer if these were actually helpers in Loop code instead e.g. LoopUI. The advantage is that the code stays closer to the implementation so it's less likely to get overlooked in a refactoring. With that in mind, I also think a test for dealing with tabs would be good as I can see that breaking because it relies even more on the document structure.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-06T21:11:08Z"
  }, {
    "text" : "Created attachment 8561380\nPatch v3: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nHi Matt, thanks for the excellent feedback! I think the changes you suggested are indeed for the better and allows for increased test coverage.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-09T14:14:55Z"
  }, {
    "text" : "Created attachment 8561381\nPatch v3: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-09T14:17:51Z"
  }, {
    "text" : "Comment on attachment 8561381\nPatch v3: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8561381:\n-----------------------------------------------------------------\n\n::: browser/components/uitour/UITour.jsm\n@@ +138,5 @@\n>      }],\n>      [\"loop-newRoom\", {\n>        infoPanelPosition: \"leftcenter topright\",\n>        query: (aDocument) => {\n> +        let LoopUI = aDocument.contentWindow.LoopUI;\n\naDocument.contentWindow? I think you want document.defaultView.LoopUI and I don't think aDocument.contentWindow exists.\n\n@@ +144,5 @@\n>            return null;\n>          }\n>          // Use the parentElement full-width container of the button so our arrow\n>          // doesn't overlap the panel contents much.\n> +        return loopUI.browser.contentDocument.querySelector(\".new-room-button\").parentElement;\n\nI guess you didn't test the patch since this should also be s/loopUI/LoopUI/ :)\n\n@@ +156,3 @@\n>            return null;\n>          }\n> +        return loopUI.browser.contentDocument.querySelector(\".room-list\");\n\nDitto about the case of \"loopUI\"",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-09T18:48:23Z"
  }, {
    "text" : "Brrr, indeed, I didn't test the patch :/",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-09T21:45:51Z"
  }, {
    "text" : "Created attachment 8562039\nPatch v4: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nI added a test for the PanelTabChanged notification. If this doesn't work, I'll eat my hat. (I don't wear a hat).",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-10T12:06:41Z"
  }, {
    "text" : "Comment on attachment 8562039\nPatch v4: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8562039:\n-----------------------------------------------------------------\n\n::: browser/components/uitour/test/browser_UITour_loop.js\n@@ +206,5 @@\n> +      gContentAPI.observe((event, params) => {\n> +        is(event, \"Loop:PanelTabChanged\", \"Check Loop:PanelTabChanged notification\");\n> +        is(params, \"contacts\", \"Check the tab name param\");\n> +\n> +        // After\n\nnit: I removed this incomplete comment locally.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-10T12:09:11Z"
  }, {
    "text" : "Comment on attachment 8562039\nPatch v4: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nReview of attachment 8562039:\n-----------------------------------------------------------------\n\nThanks\n\n::: browser/components/uitour/test/browser_UITour_loop.js\n@@ +198,5 @@\n> +    MozLoopServiceInternal.fxAOAuthProfile = fxASampleProfile;\n> +    yield MozLoopServiceInternal.notifyStatusChanged(\"login\");\n> +\n> +    // Show the Loop menu.\n> +    yield new Promise(resolve => gContentAPI.showMenu(\"loop\", () => resolve()));\n\nyield showMenuPromise(\"loop\") (from head.js)",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-10T19:36:46Z"
  }, {
    "text" : "Thanks!\n\nPushed to fx-team as https://hg.mozilla.org/integration/fx-team/rev/b04123c901ac",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-10T22:38:17Z"
  }, {
    "text" : "Backed out in https://hg.mozilla.org/integration/fx-team/rev/f02908372053 for Marionette test bustage:\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=1957748&repo=fx-team",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-10T23:20:51Z"
  }, {
    "text" : "Sorry to have caused a backout, it was a simple fix:\n\nRe-landed as: https://hg.mozilla.org/integration/fx-team/rev/3fc96df801ff",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-11T13:05:27Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/3fc96df801ff",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-11T21:25:15Z"
  }, {
    "text" : "Comment on attachment 8562039\nPatch v4: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected\n\nApproval Request Comment\n[Feature/regressing bug #]: UITour Fx36\n[User impact if declined]: The info panel will be anchored to the edge of the Fx window when the contacts tab is selected.\n[Describe test coverage new/current, TreeHerder]: landed on m-c, tests pass.\n[Risks and why]: minor.\n[String/UUID change made/needed]: n/a.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-12T10:13:59Z"
  }, {
    "text" : "Needs rebasing for uplift.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-12T14:42:53Z"
  }, {
    "text" : "Pushed to release branches:\n\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/c5a75d4964d0, backed it out because I thought I missed something in https://hg.mozilla.org/releases/mozilla-aurora/rev/26753029dbf5, but these are the final SHA1's:\n\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/d2fad87c4e02\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/6c0ded9eb9aa",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-12T15:59:53Z"
  }, {
    "text" : "Corey, the UITour content will now receive a notification when the Loop panel tab changes: 'Loop:PanelTabChanged', with one param: {String} roomName. The values for `roomName` at this time may be 'rooms' or 'contacts'.\nWhen the 'rooms' tab is not selected to begin with when contents calls to show the info panels, they will be ignored and the panels won't be shown.\n\nI recommend to implement the following in the UITour content page: observe the 'Loop:PanelTabChanged' notification and hide the info panel for the 'Start Conversation' button and the room list when it switches to any tab other than 'rooms'.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-12T16:36:50Z"
  }, {
    "text" : "Sorry, it's Cory!",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-12T16:38:14Z"
  }, {
    "text" : "(In reply to Mike de Boer [:mikedeboer] from comment #32)\n> Sorry, it's Cory!\nHa, no problem :) I'll add this fix here bug1130198comment4",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-02-12T20:31:19Z"
  }, {
    "text" : "Created attachment 8566539\ndoor-hanger-odd-size-size.jpg\n\nWhile this event is working ok, as we discussed prior to implementing this solution - sometimes there is a delay between the tabs switching, and the web page being notified in time.\n\nOn my machine, this can result in info-panels becoming incorrectly sized when not hidden in time (see attachment). This effects info panel sizing until the next time I restart Firefox.",
    "authour" : "agibson@mozilla.com",
    "created" : "2015-02-19T15:54:13Z"
  }, {
    "text" : "Yeah, we knew this was likely to happen but it only affects certain configurations and it was the most straightforward solution. We'll see how many people complain.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-24T05:30:02Z"
  }, {
    "text" : "(In reply to Mike de Boer [:mikedeboer] from comment #31)\n> Corey, the UITour content will now receive a notification when the Loop\n> panel tab changes: 'Loop:PanelTabChanged', with one param: {String}\n> roomName. The values for `roomName` at this time may be 'rooms' or\n> 'contacts'.\n\nI see some activity on this bug, just want to add a quick note that the event is not quite working as described here.\n\nSee manual[0]. There's no 'roomName' param.\n\n> 'Loop:PanelTabChanged' - User clicks on the Contacts or Room tab in the panel.\n> Event will return data = rooms or contacts depending on which tab the user clicked on.\n\nNoting because the tours are expecting the current behavior, so please don't change back :)\n\n[0] UITour readthedocs - https://bedrock.readthedocs.org/en/latest/uitour.html",
    "authour" : "cbkprice@gmail.com",
    "created" : "2015-02-26T16:17:51Z"
  }, {
    "text" : "(In reply to Cory Price [:ckprice] from comment #36)\n> (In reply to Mike de Boer [:mikedeboer] from comment #31)\n> > Corey, the UITour content will now receive a notification when the Loop\n> > panel tab changes: 'Loop:PanelTabChanged', with one param: {String}\n> > roomName. The values for `roomName` at this time may be 'rooms' or\n> > 'contacts'.\n> \n> I see some activity on this bug, just want to add a quick note that the\n> event is not quite working as described here.\n\nThis is a new notification with the name 'Loop:PanelTabChanged' and the parameter passed in is a String, not an Object. The value of this string is the actual tab name.\n\nSee also bug 1137141 for a current problem that this bug introduced.",
    "authour" : "mdeboer@mozilla.com",
    "created" : "2015-02-26T16:22:21Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T11:48:18Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-11T21:25:15Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-11T21:25:15Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-13T22:58:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "agibson@mozilla.com, cprice@mozilla.com, MattN+bmo@mozilla.com"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-13T22:58:41Z",
      "what" : "component",
      "removed" : "Client",
      "added" : "Tours"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-13T22:58:41Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-13T22:58:41Z",
      "what" : "product",
      "removed" : "Loop",
      "added" : "Firefox"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-13T22:58:41Z",
      "what" : "summary",
      "removed" : "Welcome box layout breaks when contacts tab activated",
      "added" : "Loop: info panel position breaks when \"Contacts\" tab is activated in Hello panel"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-13T22:58:41Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-13T22:59:33Z",
      "what" : "bug_mentor",
      "removed" : "felipc@gmail.com, reuben.bmo@gmail.com",
      "added" : ""
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-13T23:00:17Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1080942"
    }, {
      "name" : "agibson@mozilla.com",
      "date" : "2015-01-14T13:40:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "lourens_M@hotmail.com"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-14T17:16:03Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1118874"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-14T22:40:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1109868"
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-01-15T17:29:08Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[UITour:P2]"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T10:21:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mdeboer@mozilla.com"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T11:48:18Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T11:48:18Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T11:48:18Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mdeboer@mozilla.com"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T14:05:44Z",
      "what" : "attachments.description:8558507",
      "removed" : "Patch v1: notify UITour when the active tab changes and don't show the get started info panel when the contact tab is not selected",
      "added" : "Patch v1: notify UITour when the active tab changes and don't show the get started info panel when the rooms tab is not selected"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-03T21:51:05Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "wontfix"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-03T21:51:05Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-03T21:51:05Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-03T21:51:05Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-06T11:38:57Z",
      "what" : "attachments.isobsolete:8558507",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-09T14:14:55Z",
      "what" : "attachments.isobsolete:8560405",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-09T14:17:51Z",
      "what" : "attachments.isobsolete:8561380",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-10T12:06:41Z",
      "what" : "attachments.isobsolete:8561381",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-10T23:20:51Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wkocher@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-11T21:25:15Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-11T21:25:15Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-11 13:25:15"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-11T21:25:15Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T14:42:53Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "branch-patch-needed"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-12T15:59:53Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-12T15:59:53Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T16:03:38Z",
      "what" : "keywords",
      "removed" : "branch-patch-needed",
      "added" : ""
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-26T11:25:16Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137141"
    } ],
    "flagEvents" : [ {
      "name" : "dolske@mozilla.com",
      "date" : "2015-01-30T06:14:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T11:48:18Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-03T14:05:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558507,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-03T21:47:05Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558507,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-06T11:38:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560405,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-06T21:11:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8560405,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-09T14:14:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561380,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-09T14:17:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8561380,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-09T14:17:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561381,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-09T18:48:23Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8561381,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-10T12:06:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8562039,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-10T19:36:46Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8562039,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-10T23:20:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-11T13:05:27Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mdeboer@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-11T21:25:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-12T10:13:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8562039,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-12T14:41:26Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8562039,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T14:42:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-12T15:59:53Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mdeboer@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mdeboer@mozilla.com",
      "date" : "2015-02-12T16:36:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "cbkprice@gmail.com",
      "date" : "2015-02-12T20:31:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cprice@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121210,
  "cclist" : [ "agibson@mozilla.com", "cbkprice@gmail.com", "lourens_M@hotmail.com", "MattN+bmo@mozilla.com", "mdeboer@mozilla.com", "wkocher@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "FlameGraph should be toggled when switching recordings in perf tool",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This was missed in the patch that added multiple recordings due to them being landed concurrently",
  "comments" : [ {
    "text" : "This was missed in the patch that added multiple recordings due to them being landed concurrently",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-13T22:07:49Z"
  }, {
    "text" : "Created attachment 8548948\n1121196-rerender-flame-graph.patch\n\nThis rerenders the flamegraph when switching between recordings. Also, added few more isRecording checks so we dont rerender when going to a currently recording model. This looks a bit weird, but will be more performant, and will look nicer once bug 1121086 lands, which will hide details view for an active recording.\n\nTry tree closed, but this doesn't touch any other code anyway as no performance tests get run.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-14T15:55:50Z"
  }, {
    "text" : "Comment on attachment 8548948\n1121196-rerender-flame-graph.patch\n\nReview of attachment 8548948:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/views/details-flamegraph.js\n@@ +63,5 @@\n> +\n> +  /**\n> +   * Called when a recording has been selected.\n> +   */\n> +  _onRecordingSelected: function (_, recording) {\n\nLooks like 'stopped' and 'selected' are synonymous here. Maybe it'd be nice to refactor this into using a single function. Better yet, make sure that's the case everywhere in the new perf tool (if two event listeners do the exact same thing, then just have a single function).",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-15T17:33:25Z"
  }, {
    "text" : "Created attachment 8549788\n1121196-rerender-flame-graph.patch\n\nConsolidated stopped/selected for all detail views since they're all the same",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-15T19:05:36Z"
  }, {
    "text" : "Comment on attachment 8549788\n1121196-rerender-flame-graph.patch\n\nReview of attachment 8549788:\n-----------------------------------------------------------------\n\nAwesomesauce",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-15T20:01:44Z"
  }, {
    "text" : "Try link? :)",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-16T16:11:49Z"
  }, {
    "text" : "Created attachment 8550355\n1121196-rerender-flame-graph.patch\n\nFreshly rebased, and with a try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=5d93a5378a96",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-16T17:14:20Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/2b94eb1efedf",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-18T15:50:38Z"
  }, {
    "text" : "(In reply to Victor Porof [:vporof][:vp] from comment #7)\n> https://hg.mozilla.org/integration/fx-team/rev/2b94eb1efedf\n\nseems i can remove the checkin-needed request :)",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-19T09:33:46Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2b94eb1efedf",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-19T15:17:09Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T15:48:11Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T15:17:09Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T15:17:09Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T22:08:05Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T22:08:05Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1121086, 1111004"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T15:47:55Z",
      "what" : "depends_on",
      "removed" : "1121086",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T15:48:11Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T15:55:50Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T19:05:36Z",
      "what" : "attachments.isobsolete:8548948",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T19:05:54Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-16T16:11:49Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-16T17:14:20Z",
      "what" : "attachments.isobsolete:8549788",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-17T01:42:25Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-18T15:50:38Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T09:33:46Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T09:33:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cbook@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T15:17:09Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T15:17:09Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-19T15:17:09Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-19 07:17:09"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T15:55:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548948,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-15T17:33:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548948,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-15T19:05:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549788,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-16T17:14:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8550355,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121196,
  "cclist" : [ "cbook@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Support vertical panning for the flamegraph in the new performance tool",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-13T22:05:55Z"
  }, {
    "text" : "Created attachment 8575470\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-10T19:00:54Z"
  }, {
    "text" : "Comment on attachment 8575470\nv1\n\nReview of attachment 8575470:\n-----------------------------------------------------------------\n\nSlick. When trying it out, one thing I kept running into, not sure if something we can do right now. When dragging up, once you're in the overview chart area and you mouseup the overview graph will change selection, most likely moving you away of the flames you were looking at. Maybe similar to the other bugs where we should clamp down the mouse events to the originator (mousedown) graph\n\n::: browser/devtools/shared/widgets/FlameGraph.jsm\n@@ +505,3 @@\n>     */\n>    _drawBlocksFill: function(\n> +    color, blocks, verticalOffset, dataOffset, dataScale,\n\nhow do you remember this argument order?!",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-10T19:25:01Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/2834be532b6f",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-12T16:56:52Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2834be532b6f",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-12T22:02:36Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T19:00:54Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-13T22:10:48Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-04T13:50:42Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : "1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T19:00:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T19:00:54Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T16:56:52Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-12 15:02:36"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T19:00:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575470,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T19:25:01Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8575470,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T22:02:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121194,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Mouse events sometimes don't fire in the canvas graphs",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Apparently, adding the event listeners on the window instead of the iframe fixes things: https://github.com/bgirard/cleopatra/commit/04d74d4dc04cb6111de185ee049cf19bfa3ecd96",
  "comments" : [ {
    "text" : "Apparently, adding the event listeners on the window instead of the iframe fixes things: https://github.com/bgirard/cleopatra/commit/04d74d4dc04cb6111de185ee049cf19bfa3ecd96",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-13T22:03:57Z"
  }, {
    "text" : "Created attachment 8560299\nv1\n\nI wish I could just go to sleep.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-06T07:00:56Z"
  }, {
    "text" : "Created attachment 8560301\nv1\n\nI might have said something about spam in a different bug. Ok, good night.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-06T07:03:27Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/dee2c8135242",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-06T20:51:44Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/dee2c8135242",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-06T22:42:13Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:00:56Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:13Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:13Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-13T22:04:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-27T17:42:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:00:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:00:56Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:03:27Z",
      "what" : "attachments.isobsolete:8560299",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T20:51:44Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:13Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:13Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:13Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-06 14:42:13"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:13Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:00:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560299,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:03:27Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8560299,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-06T07:03:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560301,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-06T16:07:05Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8560301,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121192,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Support dark theme for flamechart",
  "reporter" : "ntim.bugs@gmail.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "On dark theme, there are 2 issues :\n- The timestamp text is invisible (black text on dark background)\n- The time \"dividers\" are too bright",
  "comments" : [ {
    "text" : "On dark theme, there are 2 issues :\n- The timestamp text is invisible (black text on dark background)\n- The time \"dividers\" are too bright",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-13T21:40:33Z"
  }, {
    "text" : "Created attachment 8588116\n1121180-dark-flamegraph.patch\n\nLowered opacity, increased saturation/brightness on blocks -- looks better.\nMoved the timeline stroke ticks to render behind the flames (visible because blocks are more transparent, but do not get in the way of the text, which was really apparent in the dark theme)\nColors now appropriate for each theme\nFlameGraph now a commonjs module\nFlameGraph now has `force` option for `refresh`\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=4591a6eafb86",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-03T19:29:47Z"
  }, {
    "text" : "Comment on attachment 8588116\n1121180-dark-flamegraph.patch\n\nReview of attachment 8588116:\n-----------------------------------------------------------------\n\nThis looks much better ! One thing though, can you reduce the opacity of the dividers a bit ? They are much brighter than the ones in the overview view.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-04-03T22:06:09Z"
  }, {
    "text" : "Comment on attachment 8588116\n1121180-dark-flamegraph.patch\n\nReview of attachment 8588116:\n-----------------------------------------------------------------\n\nScreenshot?\n\n::: browser/devtools/shared/widgets/FlameGraph.js\n@@ +31,5 @@\n>  const OVERVIEW_HEADER_TEXT_FONT_SIZE = 9; // px\n>  const OVERVIEW_HEADER_TEXT_FONT_FAMILY = \"sans-serif\";\n>  const OVERVIEW_HEADER_TEXT_PADDING_LEFT = 6; // px\n>  const OVERVIEW_HEADER_TEXT_PADDING_TOP = 5; // px\n> +const OVERVIEW_HEADER_TIMELINE_STROKE_COLOR = \"#aaaaaa\";\n\nPossibly rgba this, so the dividers aren't so gnarly. Using rgba(128,136,144,0.15) like the netmonitor could possibly work, or just (128 ..., 0.25).\n\n@@ +928,5 @@\n>      }\n>    }\n>  };\n>  \n> +const FLAME_GRAPH_BLOCK_HEIGHT = 12; // px\n\nMight want to change this in the other bug regarding text readability.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-04-04T18:33:21Z"
  }, {
    "text" : "Screenshot from bug 1138928 has this patch applied https://bug1138928.bugzilla.mozilla.org/attachment.cgi?id=8588127",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-04T19:27:35Z"
  }, {
    "text" : "Bug 1144034 for flamechart readability is partially size, but the windows screenshots there I think is something else.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-04T19:30:42Z"
  }, {
    "text" : "Created attachment 8588350\n1121180-dark-flamegraph.patch\n\nUpdated timeline stroke color -- looks good!",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-04T19:36:40Z"
  }, {
    "text" : "Created attachment 8588372\n1121180-dark-flamegraph.patch\n\nHad to update tests due to size changes. Flame graph tests have always failed locally for me, so this'll be fun to test.\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=403f551d5adc",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-04T22:38:45Z"
  }, {
    "text" : "Created attachment 8588394\n1121180-dark-flamegraph.patch\n\nYou should probably check out the changes to the tests, to make sure everything still makes sense, because of the text size change\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=9b1ca9d91b4a",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-05T03:46:08Z"
  }, {
    "text" : "Comment on attachment 8588394\n1121180-dark-flamegraph.patch\n\nReview of attachment 8588394:\n-----------------------------------------------------------------\n\n::: browser/devtools/shared/test/browser_flame-graph-utils-01.js\n@@ +253,2 @@\n>      width: 40,\n> +    height: 12,\n\nMaybe take the opportunity to make all of these computations dynamic based on the const? Here and in all the other tests. Or file a followup.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-04-06T16:57:43Z"
  }, {
    "text" : "Created attachment 8588684\n1121180-dark-flamegraph.patch\n\nTests now use FLAME_GRAPH_BLOCK_HEIGHT constant\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=e240af53dc2c",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-06T18:53:01Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/dbc2bad09146",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-07T15:17:06Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/dbc2bad09146",
    "authour" : "ananuti@gmail.com",
    "created" : "2015-04-08T03:02:59Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-03T19:29:47Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ananuti@gmail.com",
      "date" : "2015-04-08T03:02:59Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ananuti@gmail.com",
      "date" : "2015-04-08T03:02:59Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T21:44:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T21:44:27Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1110550"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-05T15:55:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-05T15:55:24Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:05:52Z",
      "what" : "blocks",
      "removed" : "1075567, 1077459",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-27T23:07:14Z",
      "what" : "blocks",
      "removed" : "1110550",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-27T23:52:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1145697"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-01T00:44:20Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1149846"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-03T19:29:47Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-03T19:31:53Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1138928"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-04T19:36:40Z",
      "what" : "attachments.isobsolete:8588116",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-04T19:37:10Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-04T19:44:47Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-04T22:38:45Z",
      "what" : "attachments.isobsolete:8588350",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-05T03:46:08Z",
      "what" : "attachments.isobsolete:8588372",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-06T18:53:01Z",
      "what" : "attachments.isobsolete:8588394",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-06T22:45:03Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-07T15:17:06Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-07T15:17:06Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ananuti@gmail.com",
      "date" : "2015-04-08T03:02:59Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "ananuti@gmail.com",
      "date" : "2015-04-08T03:02:59Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ananuti@gmail.com",
      "date" : "2015-04-08T03:02:59Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-04-07 20:02:59"
    }, {
      "name" : "ananuti@gmail.com",
      "date" : "2015-04-08T03:02:59Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-03T19:29:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588116,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-04T18:33:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8588116,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-04T19:36:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588350,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-04T22:38:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588372,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-05T03:46:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588394,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-06T16:57:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8588394,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-06T18:53:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588684,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-07T15:17:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121180,
  "cclist" : [ "jordan@jsantell.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Framework",
  "summary" : "Add a shared.properties file for localizing strings used across tools",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "bgrinstead@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "For strings like \"widthÃ—height\", \"ms\", and other hardcoded strings that we have throughout the tools, we should have a shared properties file. This, combined with ViewHelpers.L10N should make it easy to replace hardcoded strings with their localized forms.",
  "comments" : [ {
    "text" : "For strings like \"widthÃ—height\", \"ms\", and other hardcoded strings that we have throughout the tools, we should have a shared properties file. This, combined with ViewHelpers.L10N should make it easy to replace hardcoded strings with their localized forms.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-13T19:47:40Z"
  }, {
    "text" : "Created attachment 8548391\nshared-strings.patch\n\nAdds shared.properties file and replaces hardcoded occurrences of widthÃ—height in frontend with a localized version.\n\nI tried to keep L10N usage / declarations consistent with how it was used elsewhere in the file.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-13T20:03:44Z"
  }, {
    "text" : "Note: this patch is built on top of the patch from bug 1042619",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-14T16:27:41Z"
  }, {
    "text" : "Comment on attachment 8548391\nshared-strings.patch\n\nReview of attachment 8548391:\n-----------------------------------------------------------------\n\nNice\n\n::: browser/devtools/canvasdebugger/canvasdebugger.js\n@@ +1050,5 @@\n>  /**\n>   * Localization convenience methods.\n>   */\n>  let L10N = new ViewHelpers.L10N(STRINGS_URI);\n> +let SHARED_L10N = new ViewHelpers.L10N(\"chrome://browser/locale/devtools/shared.properties\");\n\nNit: have a const for the shared properties file, along with STRINGS_URI.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-15T17:28:15Z"
  }, {
    "text" : "Created attachment 8555416\nshared-strings-r=vporof.patch\n\nRebased and updated as per Comment 3.  Try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=e2b10d9a3635",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-27T19:30:39Z"
  }, {
    "text" : "Created attachment 8555900\nshared-strings-r=vporof.patch\n\nNeeded on assertion fix in browser_canvas-frontend-img-screenshots.js (it was expecting a space between the multiplication symbol and dimensions).\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=621fe0ea9dbe",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-28T15:56:55Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/a19de49dacb8",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-28T19:57:58Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/a19de49dacb8",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T02:39:43Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-13T20:03:44Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T02:39:43Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T02:39:43Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-13T20:03:44Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "aaron@raim.ist",
      "date" : "2015-01-18T18:03:15Z",
      "what" : "cc",
      "removed" : "",
      "added" : "aaronraimist@protonmail.ch"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T15:56:55Z",
      "what" : "attachments.isobsolete:8548391",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T15:56:55Z",
      "what" : "attachments.isobsolete:8555416",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T15:57:09Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T19:57:58Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T19:57:58Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T02:39:43Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T02:39:43Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T02:39:43Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-28 18:39:43"
    } ],
    "flagEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-13T20:03:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548391,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-15T17:28:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548391,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-27T19:30:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555416,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T15:56:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555900,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121110,
  "cclist" : [ "aaron@raim.ist", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Web Audio Editor",
  "summary" : "[meta] Web Audio Editor Fx38",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-13T18:38:40Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T18:39:01Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T19:46:57Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T19:46:57Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T18:39:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1108928"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T18:39:01Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T14:18:08Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1121458"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-21T00:14:41Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1118497"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-21T00:14:53Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1055217"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-21T00:15:18Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1122957"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-25T10:03:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1125600"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-26T13:56:25Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1125819"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-26T13:56:33Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1112378"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-26T14:17:32Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1125817"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T00:16:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1130901"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-18T00:12:30Z",
      "what" : "depends_on",
      "removed" : "1125600",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-18T00:15:30Z",
      "what" : "depends_on",
      "removed" : "1121458, 1122957",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T19:46:57Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-23 11:46:57"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1121073,
  "cclist" : [ ]
}, {
  "component" : "General",
  "summary" : "Tab does not load on start up with two windows and minimum two tabs per window",
  "reporter" : "mcote@mozilla.com",
  "assigned" : "wmccloskey@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This is similar, or possibly the same, as bug 1090430, but mconley indicated that I should file a new bug.\n\nI reproduced this in a fresh profile, which is how I was able to isolate it to a very precise set of circumstances.  With a new profile,\n\n1. Open two windows.\n2. Open two tabs per window and load pages in all four tabs.\n3. Close Firefox.\n4. Open Firefox.\n\nExpected:\n\nVisible tab in both windows loads and displays content normally.\n\nActual:\n\nOne window (background, I believe) appears to load content but does not display it.  Instead there is just a throbber, usually frozen (I think I saw it continue to spin once in my testing).  Switching to the other tab and back causes the content to display.  The other window displays content as normal.\n\nThe conditions have to be very specific for this to happen.  It *only* happens with two or more windows, and at least two windows must have two or more open tabs.  I verified that the problem does not occur with two windows and only one open tab in one or both windows.  With three windows, at least two must have two open tabs to reproduce; the third window can only have one open tab and even be in the foreground to continue to reproduce the error, as long as the other two windows have two or more open tabs.",
  "comments" : [ {
    "text" : "This is similar, or possibly the same, as bug 1090430, but mconley indicated that I should file a new bug.\n\nI reproduced this in a fresh profile, which is how I was able to isolate it to a very precise set of circumstances.  With a new profile,\n\n1. Open two windows.\n2. Open two tabs per window and load pages in all four tabs.\n3. Close Firefox.\n4. Open Firefox.\n\nExpected:\n\nVisible tab in both windows loads and displays content normally.\n\nActual:\n\nOne window (background, I believe) appears to load content but does not display it.  Instead there is just a throbber, usually frozen (I think I saw it continue to spin once in my testing).  Switching to the other tab and back causes the content to display.  The other window displays content as normal.\n\nThe conditions have to be very specific for this to happen.  It *only* happens with two or more windows, and at least two windows must have two or more open tabs.  I verified that the problem does not occur with two windows and only one open tab in one or both windows.  With three windows, at least two must have two open tabs to reproduce; the third window can only have one open tab and even be in the foreground to continue to reproduce the error, as long as the other two windows have two or more open tabs.",
    "authour" : "mcote@mozilla.com",
    "created" : "2015-01-13T18:38:38Z"
  }, {
    "text" : "I can still reproduce this with the patch from bug 1132072, so it is unrelated. I will be looking at this this week.",
    "authour" : "gw@gwright.org.uk",
    "created" : "2015-03-09T15:22:10Z"
  }, {
    "text" : "Created attachment 8576803\nAlways notify when layers cleared\n\nIf we ask for the mozLayerTreeCleared event and the layer tree isn't set up yet, we should still fire the event so that the frontend can carry on. This patch does that.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-12T18:35:30Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/mozilla-inbound/rev/a96b3ce0784c",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-27T15:39:32Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/a96b3ce0784c",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-27T23:40:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T23:40:20Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T23:40:20Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mcote@mozilla.com",
      "date" : "2015-01-13T18:39:05Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-01-13T21:19:07Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gwright@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-01-13T21:19:07Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "m5+"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-01-13T21:21:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gwright@mozilla.com"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-02-19T17:57:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1131167"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-03-12T16:21:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wmccloskey@mozilla.com"
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-03-12T18:36:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dvander@alliedmods.net"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-03-12T19:41:08Z",
      "what" : "assigned_to",
      "removed" : "gwright@mozilla.com",
      "added" : "wmccloskey@mozilla.com"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T23:40:20Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T23:40:20Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-27 16:40:20"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T23:40:20Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-01-13T21:21:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-02-19T17:57:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gwright@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-03-12T16:21:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-03-12T18:36:09Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-03-12T18:36:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8576803,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dvander@alliedmods.net",
      "date" : "2015-03-13T01:13:33Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dvander@alliedmods.net)",
      "added" : "",
      "attachmentId" : 8576803,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121072,
  "cclist" : [ "dvander@alliedmods.net", "gw@gwright.org.uk", "mconley@mozilla.com", "wmccloskey@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "about:tabcrashed displays at the zoom level of the crashed page",
  "reporter" : "dtownsend@mozilla.com",
  "assigned" : "mrbkap@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "The zoom level of the page that crashed is retained when showing the about:tabcrashed UI, we should reset the zoom level in this case.",
  "comments" : [ {
    "text" : "The zoom level of the page that crashed is retained when showing the about:tabcrashed UI, we should reset the zoom level in this case.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-13T17:51:32Z"
  }, {
    "text" : "Created attachment 8657337\nPatch v1\n\nThis seems to do the trick. I don't know how to write a test for it, though.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=71c518a8a2a3",
    "authour" : "mrbkap@mozilla.com",
    "created" : "2015-09-04T22:10:22Z"
  }, {
    "text" : "Comment on attachment 8657337\nPatch v1\n\nReview of attachment 8657337:\n-----------------------------------------------------------------\n\nI'd like to see a test for this before reviewing, browser_crashedTabs.js has a number of tests of this page that you should be able to work from.\n\n::: browser/base/content/browser.js\n@@ +1142,5 @@\n>        });\n>  #endif\n> +\n> +      // Reset the zoom for the tabcrashed page.\n> +      ZoomManager.setZoomForBrowser(browser, 1);\n\nDoes this end up resetting the zoom level for this site even after being crashed?",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-09-08T17:24:07Z"
  }, {
    "text" : "Would it be better to add a check for about:tabcrashed in this condition?\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser-fullZoom.js?rev=b23b2fa33a9d#214",
    "authour" : "felipc@gmail.com",
    "created" : "2015-09-08T19:23:58Z"
  }, {
    "text" : "Created attachment 8658455\nPatch v1.1\n\nI tried Felipe's suggestion from comment 3 and it doesn't work. I think that's because we don't actually send a locationchange event when we load about:tabcrashed (otherwise, we wouldn't need the custom AboutTabCrashedLoad event).\n\nI tested that we restore the zoom level correctly.",
    "authour" : "mrbkap@mozilla.com",
    "created" : "2015-09-09T00:21:20Z"
  }, {
    "text" : "Ah ok, fair. Thanks for testing that!",
    "authour" : "felipc@gmail.com",
    "created" : "2015-09-09T05:09:57Z"
  }, {
    "text" : "Comment on attachment 8658455\nPatch v1.1\n\nReview of attachment 8658455:\n-----------------------------------------------------------------\n\nGreat, thanks for the test",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-09-10T16:03:15Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/eab8b499b5ed",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-09-11T05:53:02Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/eab8b499b5ed",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-09-12T16:17:04Z"
  }, {
    "text" : "I have reproduced this bug on Nightly 38.0a1(2015-01-13) on ubuntu 14.04 LTS, 32 bit!\n\nThe bug's fix is now verified on Latest Aurora 44.0a2!\n\nBuild ID: 20151029045227\nUser Agent: Mozilla/5.0 (X11; Linux i686; rv:44.0) Gecko/20100101 Firefox/44.0\n\n[testday-20151030]",
    "authour" : "khalid.z547@gmail.com",
    "created" : "2015-10-30T17:20:40Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T16:17:04Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "paul.silaghi@softvision.ro",
      "date" : "2015-11-02T12:53:16Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T16:17:04Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-01-13T21:18:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-01-13T21:18:10Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "m8+"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-06-26T17:37:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-06-26T17:37:42Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mrbkap@mozilla.com"
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-06-26T17:37:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "felipc@gmail.com"
    }, {
      "name" : "mrbkap@mozilla.com",
      "date" : "2015-09-04T22:10:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "mrbkap@mozilla.com",
      "date" : "2015-09-09T00:21:20Z",
      "what" : "attachments.isobsolete:8657337",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mrbkap@mozilla.com",
      "date" : "2015-09-10T18:52:30Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-09-11T05:53:02Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T16:17:04Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 43"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T16:17:04Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-09-12 09:17:04"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-09-12T16:17:04Z",
      "what" : "cf_status_firefox43",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "andrei.vaida@softvision.ro",
      "date" : "2015-10-23T09:29:09Z",
      "what" : "cf_qa_whiteboard",
      "removed" : "",
      "added" : "[good first verify]"
    }, {
      "name" : "andrei.vaida@softvision.ro",
      "date" : "2015-10-23T09:29:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "andrei.vaida@softvision.ro"
    }, {
      "name" : "khalid.z547@gmail.com",
      "date" : "2015-10-30T17:20:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "khalid.z547@gmail.com"
    }, {
      "name" : "paul.silaghi@softvision.ro",
      "date" : "2015-11-02T12:53:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "paul.silaghi@softvision.ro"
    } ],
    "flagEvents" : [ {
      "name" : "mrbkap@mozilla.com",
      "date" : "2015-09-04T22:10:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8657337,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-09-08T17:24:07Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8657337,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mrbkap@mozilla.com",
      "date" : "2015-09-09T19:04:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8658455,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-09-10T16:03:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8658455,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121052,
  "cclist" : [ "andrei.vaida@softvision.ro", "blassey.bugs@lassey.us", "dtownsend@mozilla.com", "felipc@gmail.com", "khalid.z547@gmail.com", "mconley@mozilla.com", "paul.silaghi@softvision.ro" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Minor tweaks to new perf tool icons",
  "reporter" : "ntim.bugs@gmail.com",
  "assigned" : "ntim.bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-13T17:48:21Z"
  }, {
    "text" : "Created attachment 8548313\nPatch\n\nThis just adds back the round corners to the shapes inside the icons, to make the icons consistent.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-13T17:51:26Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/492134f929e2",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-13T20:19:57Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/492134f929e2",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-14T01:48:03Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T17:48:42Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-14T01:48:03Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-14T01:48:03Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T17:48:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T17:48:42Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T17:51:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T19:49:47Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-13T20:19:57Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-13T20:19:57Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-14T01:48:03Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-14T01:48:03Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-14T01:48:03Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-13 17:48:03"
    } ],
    "flagEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T17:51:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548313,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T18:48:53Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548313,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121048,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Debugger",
  "summary" : "Pass breakpoint conditions as a separate argument.",
  "reporter" : "ejpbruel@mozilla.com",
  "assigned" : "ejpbruel@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8548296\npatch\n\nCurrently, breakpoint conditions are passed inside a location object. They really should be passed as a separate argument, since they have nothing to do with locations at all.\n\nThis bug is part of the cleanup of the breakpoint code, and should make it easier to implement breakpoint sliding on original locations later.",
  "comments" : [ {
    "text" : "Created attachment 8548296\npatch\n\nCurrently, breakpoint conditions are passed inside a location object. They really should be passed as a separate argument, since they have nothing to do with locations at all.\n\nThis bug is part of the cleanup of the breakpoint code, and should make it easier to implement breakpoint sliding on original locations later.",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-13T17:18:03Z"
  }, {
    "text" : "Comment on attachment 8548296\npatch\n\nReview of attachment 8548296:\n-----------------------------------------------------------------\n\nTo be clear, this doesn't affect the protocol, right?\n\nBumping this over to James.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-13T17:21:27Z"
  }, {
    "text" : "Comment on attachment 8548296\npatch\n\nReview of attachment 8548296:\n-----------------------------------------------------------------\n\nr+ We've been needing to do this for a while. I don't see anything wrong in here. This doesn't change the protocol (`onSetBreakpoint` still takes an object with all the location and condition info).",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-01-13T18:32:29Z"
  }, {
    "text" : "Try run for the above patch:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a183238fec34",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-21T11:31:54Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e91444745291",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-22T22:39:46Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-22T22:39:46Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-22T22:39:46Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-13T17:18:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-13T17:21:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jlong@mozilla.com"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-22T22:39:46Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-22T22:39:46Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-22 14:39:46"
    } ],
    "flagEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-13T17:18:03Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548296,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-13T17:21:27Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548296,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-01-13T18:32:29Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jlong@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548296,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1121034,
  "cclist" : [ "jlong@mozilla.com", "nfitzgerald@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "[UX] Reconsider add-on installation flow",
  "reporter" : "philipp@mozilla.com",
  "assigned" : "mjaritz@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86",
  "priority" : "P4",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "With add-on signing becoming more rigorous, we can make the flow for approved add-ons easier. At the same time, we need UI for when an add-on gets blocked.",
  "comments" : [ {
    "text" : "With add-on signing becoming more rigorous, we can make the flow for approved add-ons easier. At the same time, we need UI for when an add-on gets blocked.",
    "authour" : "philipp@mozilla.com",
    "created" : "2015-01-13T16:24:30Z"
  }, {
    "text" : "Created attachment 8551954\npreliminary-new-Add-on-Process.jpg\n\nFirst UX-draft on the new flow as discussed today. \n- additional case sideload will be covered. \n- unsigned allowed at first will be covered.\n- switching tab during process will be covered.\n- copy and Icons will be refined.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-20T19:50:43Z"
  }, {
    "text" : "*** Bug 1123926 has been marked as a duplicate of this bug. ***",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-21T18:00:49Z"
  }, {
    "text" : "Created attachment 8552725\npreliminary-new-Add-on-Process.pdf\n\nAdditional flows have been added.\n\n- [:matej] please let's talk about how to refine the copy.\n\n- [:shorlander] please let's talk about refining the icons and UI.\n\n- flow needs to be approved.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-21T23:16:38Z"
  }, {
    "text" : "Dave, is it possible that there might occur an error that might stop the addon installation?\nThis might be another state I have to cover.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-22T16:35:31Z"
  }, {
    "text" : "Some special cases/questions came up during our ux design review session:\n - Why do we do side-load at all, as it seems to be more danger than advantage? And how is sideloading used?\nmossop: Other applications on the system use it to integrate with Firefox. We provide the option because frankly we are in an arms race, either we give them a controlled way to integrate or the apps do it anyway in a more user hostile manner. The signing requirement is partly aimed at adding another layer of control to what can sideload.\n\n - Is the 3sec timer before installing an addon needed as a security feature, can we go without it?\nmossop: Yes, to avoid clickjacking, we're probably going to need to do a security review for removing it.\n\n - If the addon is certified, is there still a reason to need user-confirmation to install? Or is it enough that the user clicked install/download on the website?\nmossop: That would be a question for the security team to answer.\n\ndveditz: can you please comment on these issues and have a look at the flow from a security perspective. Thanks.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-22T22:47:07Z"
  }, {
    "text" : "Had a meeting with Markus today and we worked on copy edits to the flow.",
    "authour" : "matej@mozilla.com",
    "created" : "2015-01-23T21:02:05Z"
  }, {
    "text" : "Created attachment 8553942\npreliminary-new-Add-on-Process.pdf\n\nUpdated the attachment to reflect our copy-changes.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-23T21:16:12Z"
  }, {
    "text" : "(In reply to Markus Jaritz [:maritz] from comment #5)\n>  - Is the 3sec timer before installing an addon needed as a security\n> feature, can we go without it?\n\nIt's not a 3 second timer, security.dialog_enable_delay is currently set to 1 second. The countdown is dumb and draws negative attention, and counting in 1/2 second increments (+1, yay fenceposts) makes people think it's longer than it is (as it did for you, for instance).\n\nThe delay itself is necessary to solve lured-click attacks as originally described in bug 162020, but also many variant proofs of concept attacks scattered throughout bugzilla.",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-01-24T02:23:23Z"
  }, {
    "text" : "Taking at stab at the other questions:\n> If the addon is certified, is there still a reason to need user-confirmation to install?\n> Or is it enough that the user clicked install/download on the website?\n\nEven if we have reviewed an add-on as OK for its purpose, those purposes might be harmful or unwanted by the user and we must ask them. It could be an old known-vulnerable version of something, for instance, and we can't afford to stuff the blocklist with every old version of everything just in case some bad guy tries to make someone install it.\n\nYou say the user clicked on \"THE website\". On AMO users click on a big obvious install button, and we have the space and expectation that the user have the opportunity to read an add-on's privacy policy before starting an install. When we allow installs from other sites there is no way to enforce the same; we need to at least give a user a chance to cancel if they click on a disguised link. (Actually there is a solution to the privacy policy problem: we could require that those links be in the reviewed-and-signed install manifest. But we'd still have to have a dialog to stop and give the user the opportunity to read the policy or cancel the install if they didn't like the policy.)\n\nThe attached install flows seem to be missing some cases. And I'm not quite sure what you mean by \"3rd party\"--is that hosted on a 3rd party or signed by a 3rd party?\n\nYou also seem to have done away with the install confirmation dialog for installs triggered by AMO. I understand the desire to make a nicer experience but it's dangerous. That means if there's ever a simple website flaw on AMO such as XSS (and they come up from time to time) a bad guy could force any install on someone without any chance to protect themselves by canceling the unexpected action. As a user it gives me a sense of security knowing sites can't just stuff things in my browser: if even a trusted site can't then none of them can. But I am admittedly not the average user, I actually like it and feel safe when my computer makes me enter the login password before programs can do dangerous things.\n\nIn any case, even if we do away with that on AMO we still need to design it for when other sites trigger installs. Also consider the case when a 3rd party site navigates to an AMO .xpi link (or opens one in a frame). That will trigger an install without the contents changing to AMO. Can we make sure that doesn't get a clickless UI flow?\n\nOther than the \"lightweight\" variety, themes are not as innocuous as people think--they should get a confirmation step too. ESPECIALLY if they're triggered elsewhere than AMO.\n\nThe dialogs say things like \"certified by Mozilla\". We will almost certainly be issuing certificates to 3rd parties at some point for them to sign their own add-ons outside our review process (but under contractual conditions they will be responsible for). We obviously shouldn't say \"certified by Mozilla\" in those cases. The dialogs need to be flexible enough to use text from the actual certificate.",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-01-24T18:30:54Z"
  }, {
    "text" : "(In reply to Markus Jaritz [:maritz] from comment #4)\n> Dave, is it possible that there might occur an error that might stop the\n> addon installation?\n> This might be another state I have to cover.\n\nYes, download errors or corrupt files are common. Here are the current error messages we use in the doorhanger: http://mxr.mozilla.org/mozilla-central/source/browser/locales/en-US/chrome/browser/browser.properties#52",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-26T17:44:34Z"
  }, {
    "text" : "In addition to download errors or corrupt files, the add-on signing requirement will create additional failure modes. I expect at least at first lots of people will run into unsigned add-ons because folks also want to relax the requirement that add-on installs be triggered from whitelisted sites like AMO. (I recommend that we don't do that, or at least don't allow it until a release or two after we start requiring signed add-ons.)",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-01-28T13:49:29Z"
  }, {
    "text" : "(In reply to Daniel Veditz [:dveditz] from comment #8)\n> (In reply to Markus Jaritz [:maritz] from comment #5)\n> >  - Is the 3sec timer before installing an addon needed as a security\n> > feature, can we go without it?\n> \n> It's not a 3 second timer, security.dialog_enable_delay is currently set to\n> 1 second. The countdown is dumb and draws negative attention, and counting\n> in 1/2 second increments (+1, yay fenceposts) makes people think it's longer\n> than it is (as it did for you, for instance).\n> \n> The delay itself is necessary to solve lured-click attacks as originally\n> described in bug 162020, but also many variant proofs of concept attacks\n> scattered throughout bugzilla.\n\nThe delay happens after the download of the add-on. This is already a sort of dealyâ€¦ Is the delay after that still necessary? And if so. Is it necessary to repeat the delay each time the window get focus again?\n\nMy idea it to combine the download and wait (as a sort of verify) into one dialog with a disabled install button. After download and verify (delay) the dialog would change to information about the typ of add-on (certified, prelim. cert., uncert.) and an active install button.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-29T14:27:56Z"
  }, {
    "text" : "(In reply to Daniel Veditz [:dveditz] from comment #11)\n> In addition to download errors or corrupt files, the add-on signing\n> requirement will create additional failure modes. I expect at least at first\n> lots of people will run into unsigned add-ons because folks also want to\n> relax the requirement that add-on installs be triggered from whitelisted\n> sites like AMO. (I recommend that we don't do that, or at least don't allow\n> it until a release or two after we start requiring signed add-ons.)\n\nTherefore the plan is to let users install un-certified add-ons at first - with an intense warning. And only after some time completely deny install. ( as shown in my flow under: click uncertified (current) & click uncertified (future) )",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-29T14:36:22Z"
  }, {
    "text" : "(In reply to Daniel Veditz [:dveditz] from comment #9)\n> Taking at stab at the other questions:\n> > If the addon is certified, is there still a reason to need user-confirmation to install?\n> > Or is it enough that the user clicked install/download on the website?\n> \n> Even if we have reviewed an add-on as OK for its purpose, those purposes\n> might be harmful or unwanted by the user and we must ask them. It could be\n> an old known-vulnerable version of something, for instance, and we can't\n> afford to stuff the blocklist with every old version of everything just in\n> case some bad guy tries to make someone install it.\n\nI will add a confirmation for signed add-ons.\n\n> You say the user clicked on \"THE website\". On AMO users click on a big\n> obvious install button, and we have the space and expectation that the user\n> have the opportunity to read an add-on's privacy policy before starting an\n> install. When we allow installs from other sites there is no way to enforce\n> the same; we need to at least give a user a chance to cancel if they click\n> on a disguised link. (Actually there is a solution to the privacy policy\n> problem: we could require that those links be in the reviewed-and-signed\n> install manifest. But we'd still have to have a dialog to stop and give the\n> user the opportunity to read the policy or cancel the install if they didn't\n> like the policy.)\n\nHaving a dedicated button that has to be used on 3rd party websites as well is a good idea. This could maybe also provide feedback on weather the add-on is already installed, or notâ€¦\n\n> The attached install flows seem to be missing some cases. And I'm not quite\n> sure what you mean by \"3rd party\"--is that hosted on a 3rd party or signed\n> by a 3rd party?\n\nIn my flow 3rd party means 3rd party website. I was not aware that we will also allow 3rd parties to sign certificates. - if so, i can remove the \"by mozilla\" from the messages.\nWhat cases, besides errors, are missing?\n \n> You also seem to have done away with the install confirmation dialog for\n> installs triggered by AMO. I understand the desire to make a nicer\n> experience but it's dangerous. That means if there's ever a simple website\n> flaw on AMO such as XSS (and they come up from time to time) a bad guy could\n> force any install on someone without any chance to protect themselves by\n> canceling the unexpected action. As a user it gives me a sense of security\n> knowing sites can't just stuff things in my browser: if even a trusted site\n> can't then none of them can. But I am admittedly not the average user, I\n> actually like it and feel safe when my computer makes me enter the login\n> password before programs can do dangerous things.\n> \n> In any case, even if we do away with that on AMO we still need to design it\n> for when other sites trigger installs. Also consider the case when a 3rd\n> party site navigates to an AMO .xpi link (or opens one in a frame). That\n> will trigger an install without the contents changing to AMO. Can we make\n> sure that doesn't get a clickless UI flow?\n\nI will add a confirmation for signed add-ons. Or who can help here in finding out if it is possible to separate these cases so that we can save on click on AMO?\n\n> Other than the \"lightweight\" variety, themes are not as innocuous as people\n> think--they should get a confirmation step too. ESPECIALLY if they're\n> triggered elsewhere than AMO.\n\nThe themes installation flow is targeted on lightweight themes. Others will get the same flow as other add-ons.\n \n> The dialogs say things like \"certified by Mozilla\". We will almost certainly\n> be issuing certificates to 3rd parties at some point for them to sign their\n> own add-ons outside our review process (but under contractual conditions\n> they will be responsible for). We obviously shouldn't say \"certified by\n> Mozilla\" in those cases. The dialogs need to be flexible enough to use text\n> from the actual certificate.\n\nIf we can guarantee that certified add-ons are safe to use, we do not need to tell who signed it. I removed \"by Mozilla\".",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-29T14:45:34Z"
  }, {
    "text" : "Created attachment 8556477\npreliminary-new-Add-on-Process.png\n\nmodification after review with [:dveditz]\n(delay before clicking install is necessary.)\n\nmissing:\n- open security questions\n- error messages\n- multiple parallel side-loads",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-01-29T14:58:11Z"
  }, {
    "text" : "(In reply to Markus Jaritz [:maritz] from comment #15)\n> Created attachment 8556477\n> preliminary-new-Add-on-Process.png\n> \n> modification after review with [:dveditz]\n> (delay before clicking install is necessary.)\n> \n> missing:\n> - open security questions\n> - error messages\n> - multiple parallel side-loads\n\nIn the mockups is \"chromaticpixels.com\" the name of the add-on being installed or the website installing, it's unclear. If it's the latter then we don't show the user the name of the extension they are installing until it is installed.\n\nCan you clarify what the term \"certified\" means in these mockups? The \"click preliminary certified\" section shows a doorhanger saying that the add-on is uncertified which is confusing. I assume you mean it is signed but hasn't had full review. We should agree on terms to describe these with AMO, the information about the differences are here: https://addons.mozilla.org/en-US/developers/docs/policies/reviews\n\nCalling uncertified add-ons malicious is too strong and I suspect some developers would take offense at that. Unverified or something else would make more sense here.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-30T20:34:03Z"
  }, {
    "text" : "(In reply to Markus Jaritz [:maritz] from comment #12)\n> The delay happens after the download of the add-on. This is already a sort\n> of dealyâ€¦ Is the delay after that still necessary? And if so. Is it\n> necessary to repeat the delay each time the window get focus again?\n\nAre we guaranteed the user will see the download progress, that it can't be covered by another window? (I doubt we can make that guarantee.)\n\nThe picture looks like a \"door hanger\" notification, and those typically go away (collapse) if something else gets focus or the user clicks somewhere. If that's what happens then that solves a lot of problems. We'd still need the intial delay, but we wouldn't need a delay for re-focus because the only way the door hanger was shown again was if the user has already clicked once on the collapse icon in the url bar. But you don't show this state so I'm not sure that's what happens.\n\n> My idea it to combine the download and wait (as a sort of verify) into one\n> dialog with a disabled install button. After download and verify (delay) the\n> dialog would change to information about the typ of add-on (certified,\n> prelim. cert., uncert.) and an active install button.\n\nYou may find that if you kill the look-at-me countdown timer users won't actually find the short delay noticeable or objectionable.\n\n> Having a dedicated button that has to be used on 3rd party websites as well is a good idea.\n> This could maybe also provide feedback on weather the add-on is already installed, or notâ€¦\n\nFor a legitimate site, that is absolutely a good design to use. We can't force a malicious site to do so, however: they'll use whatever they can to mislead people.\n\n> In my flow 3rd party means 3rd party website. I was not aware that we will also allow 3rd\n> parties to sign certificates. - if so, i can remove the \"by mozilla\" from the messages.\n\nOnly Mozilla can issue certificates and at first only Mozilla will sign install packages, but there is a plan (or at least the possibility) to issue certificates to partners so they can sign their own packages. In these cases the install packages will be completely unreviewed by Mozilla, but in theory we will have a business agreement with those partners that they won't do Bad Stuff. IMHO it would be best to say who has signed a package so users can tell the difference between Mozilla-reviewed and someone-else-reviewed packages.\n\n> If we can guarantee that certified add-ons are safe to use, we do not need to tell who signed it.\n\nWe certainly cannot guarantee an add-on is safe to use. Mozilla-signed add-ons won't mean any more than is currently meant by AMO hosting today, namely that we've done our best to weed out malicious stuff (but we might make mistakes). Any add-on not signed by Mozilla will have even weaker guarantees: we thought those folks were OK at the time. We've seen lots of examples of formerly decent add-ons (and Chrome extensions) getting sold to people who were less upright. In the new signing system the certificate would no doubt be an asset that was part of the sale. Sure, we could revoke the certificate if we knew it was transferred, but would we find out before any damage was done?\n\nIf an add-on is signed by a name like Mozilla or Yahoo I'm sure most users would find that trustworthy. If it were signed by \"Foo Emporium\" all you know is that at one point Mozilla thought they knew who those people were.",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-02-01T00:46:57Z"
  }, {
    "text" : "Comment on attachment 8556477\npreliminary-new-Add-on-Process.png\n\nWe shouldn't talk about unsigned addons being \"malicious\". They might be, or it just might be a developer's site and they forgot to use a developer mode version of Firefox. In developer mode we should use a warning type look, and we could say it was unreviewed and /might/ be malicious, but otherwise it's just unsigned. In release mode we're simply blocking the install so we don't have to give any judgements really, just tell people it's unsigned or corrupt.\n\nOh yes: there are several different reasons a file could be incorrectly signed. Do we want to tell people what they are? Might help support, might just confuse people (in which case we can leave the more specific error on the web console).\n * no signature at all  (legacy, unsupported)\n * signed with an unknown certificate (probably legacy)\n * signed with a revoked certificate  (evil)\n * broken signature (tampered/modified)  (evil, or just random corruption)\n\nThe \"side-loading\" case is quite different than what we currently do, which is put up a dialog showing the new ones and give users the opportunity to opt-in (by default we don't install them). The proposed notice won't work well if there's more than one (quite possible in a new Firefox install/profile). I'm also not sure if we need the restart at that point if users do opt-in since it asks pretty early. The current dialog has no space to tell users about who signed them, though.",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-02-01T03:54:32Z"
  }, {
    "text" : "(In reply to Markus Jaritz [:maritz] from comment #12)\n\n> The delay happens after the download of the add-on. This is already a sort\n> of dealyâ€¦ Is the delay after that still necessary? And if so. Is it\n> necessary to repeat the delay each time the window get focus again?\n> \n> My idea it to combine the download and wait (as a sort of verify) into one\n> dialog with a disabled install button. After download and verify (delay) the\n> dialog would change to information about the typ of add-on (certified,\n> prelim. cert., uncert.) and an active install button.\n\nYou can count the time taken during download and verification toward the 1s security delay, sure. So if the download takes 900ms, the button would only be disabled for the first 100ms.\n\nBut why delay showing the install button until after the download is finished? Why not show it right away (disabled for the first second)? The web site would have to tell us the verification status, and we'd have to consider the download \"corrupt\" if it lied, but that doesn't seem like a problem to me.",
    "authour" : "jruderman@gmail.com",
    "created" : "2015-02-03T04:48:25Z"
  }, {
    "text" : "For add-ons that non-AMO sites want to install, please consider including a link to the extension's AMO page, along with its star rating.\n\n  Mozilla says: prolly safe   <link to AMO policy>\n  Users say: â˜…â˜…â˜…â˜…â˜†            <link to AMO listing for the extension>\n\nFor sideloaded addons, you might as well show the AMO page itself, since you need something to put behind the doorhanger. Heck, why show the doorhanger at all when the AMO page has a juicy Install button on it?",
    "authour" : "jruderman@gmail.com",
    "created" : "2015-02-03T04:54:49Z"
  }, {
    "text" : "(In reply to Jesse Ruderman from comment #20)\n> For add-ons that non-AMO sites want to install, please consider including a\n> link to the extension's AMO page, along with its star rating.\n> \n>   Mozilla says: prolly safe   <link to AMO policy>\n>   Users say: â˜…â˜…â˜…â˜…â˜†            <link to AMO listing for the extension>\n> \n> For sideloaded addons, you might as well show the AMO page itself, since you\n> need something to put behind the doorhanger. Heck, why show the doorhanger\n> at all when the AMO page has a juicy Install button on it?\n\nThis all assumes that the extension has a page on AMO which is less than likely for non-AMO install sources. Either way this is fine fodder for follow-up work.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-03T16:44:17Z"
  }, {
    "text" : "Right now AMO policy lets addons do a number of objectionable things as long as they are disclosed and covered by the Privacy Policy linked on the AMO page. When we allow these same addons to be installed from elsewhere (which seems to be a requirement) they are divorced from that context and can harm users. Since the privacy policy is already part of the review process for such addons we should require the policy link to be part of the signed addon manifest, and provide a link to it (if there is one) from our built-in install flow.",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-02-03T17:20:28Z"
  }, {
    "text" : "Created attachment 8560498\npreliminary-new-Add-on-Process.png\n\nBuilding on the current Add-On installation process I formulated a suggestion of how to unify the process:\nHandling all installation process in one doorhanger that changes his content, instead of opening new dialogs for each step. In this process the doorhanger is connected to the tab the Add-On is downloaded from and forms a bridge between site-related and system-related aspects of the installation. \nOptional this can be extended by a button that can be used in AMO and third party sites to start installation and indicate the state of the Add-On (already installed, update, certified,â€¦)\n \nreview of this suggestion resulted in security concerns and additional valuable feedback on how to improve and enrich the process.\n\nthis suggests the following next steps:\n- agree to pursue the suggested installation process based on one continuous doorhanger (thereby optimize for most common case and extend to special cases)\n- detail suggested installation process with security and engineering. (itâ€™s function strongly depends on the detailed behavior of the doorhanger and timing to make it secure and fluid)\n\t- meet on Vidyo to align on the proposed process\n\t- integrate install-delay gracefully \n\t- agree on terms / messages for different states of Add-Ons (signed, preliminary signed, unsigned) (and different signees)\n\t- show Add-On name and Author (Source?)\n\t- show Add-On privacy policy in doorhanger ?\n\t- unsigned Add-On: default to not install ?\n\n\n- handle side loaded Add-Ons (especially multiple parallel side loads.) (default to not load it) - probably in design of about:addons (or about:preferences)\n- create error messages\n- finalize UI screen flows (doorhanger style does not match the currently used one)\n\nnext optional steps:\n- design install button (and states) (for AMO and 3rd party)\n- include AMO rating in installation process (if on AMO)",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-02-06T16:17:07Z"
  }, {
    "text" : "Created attachment 8561741\nAIP_certified_flow.gif\n\nAs discussed on Friday with Philipp, a proposed flow of installing a certified add-on. (This might be better suited for a blog-post on add-ons)",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-02-10T00:01:24Z"
  }, {
    "text" : "Comment on attachment 8561741\nAIP_certified_flow.gif\n\nThat looks like a great default flow. Having everything take place inside the same doorhanger makes the process a lot less jarring (plus: no modals!).\n\nWhen we consider the various special cases we should make it a point to preserve the simplicity we have in this flow for the majority of cases.",
    "authour" : "philipp@mozilla.com",
    "created" : "2015-02-25T13:03:51Z"
  }, {
    "text" : "There are still some issues and questions to be answered, we aren't done here.\n\nIn the mockups, what is \"chromaticpixels.com\" and the icon immediately next to it? I'm assuming it is the website (hostname only?) and its favicon but it doesn't match the website in the tab you show in the mockups.\n\nYou show the extension displaying its own startup page after our confirmation doorhanger. Did we decide on exactly how to do this? Do you want to defer extension startup until after the user dismisses the doorhanger, after a fixed amount of time ...\n\nI'm still confused by what \"uncertified\" means in this UI. Looks like we show it in the case where it has been preliminarily reviewed by AMO? Those two things don't jive in my head.\n\nThere is a \"???\" in the uncertified line that needs filling in.\n\nIs the intention to get rid of the install whitelist immediately or leave it in place until the signing requirements become hard (probably a questions for Dan).\n\nBoth me and Dan pointed out that we shouldn't be calling unsigned extensions malicious. We don't know if they are or not.\n\nWhat should happen when the user closes the tab or even window in the middle of installation?\n\nIs there a reason the doorhanger showing that an extension and a lightweight theme are installed are so different? Wouldn't it make sense to unify these?\n\nIs the imagery shown here final? I ask because the buttons in the doorhangers look quite different to how things look elsewhere in Firefox. We're going to need design specs and imagery for implementation for all of this.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-27T01:24:23Z"
  }, {
    "text" : "Can we file a new bug to track the rest of the work here?",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-27T02:40:07Z"
  }, {
    "text" : "(In reply to :Gavin Sharp [email: gavin@gavinsharp.com] from comment #27)\n> Can we file a new bug to track the rest of the work here?\n\nWe can, I don't know what the benefit is to fragmenting the discussion though",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-27T04:12:57Z"
  }, {
    "text" : "Hello Dave, Gavin,\nI have written some bugs to fragment the discussion in reasonable sub-topics. These are currently reviewed by Philipp and I will file them as soon as I get feedback.\n\nTo address your questions: I see this bug as setting a vision for what we want an optimum install to look like and agree on that. (Attachment #8561741)\nWith that being achieved we can now focus on how we can implement this in detail (in close collaboration with engineering and security), and deal with all non-optimum install cases in a seperate bug. Where I see the second part as a separate discussion that will start with a focus on content, opposed to the first, that can deal with how we in detail implement one continuous doorhanger for most of addon installs.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-02-27T15:55:40Z"
  }, {
    "text" : "(In reply to Dave Townsend [:mossop] from comment #28)\n> (In reply to :Gavin Sharp [email: gavin@gavinsharp.com] from comment #27)\n> > Can we file a new bug to track the rest of the work here?\n> \n> We can, I don't know what the benefit is to fragmenting the discussion though\n\nNew bugs for new work. Discussion \"fragmentation\" is not really a problem in practice - very easy to cross-reference and link bugs.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-03-09T14:11:02Z"
  }, {
    "text" : "Current basic install flow see attachment 8578019 \nhttps://bugzilla.mozilla.org/attachment.cgi?id=8578019&action=edit\n150316_All-Doorhanger-Add-On-Install.jpg",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-03-31T12:36:07Z"
  }, {
    "text" : "Created attachment 8586113\n150331_All-Doorhanger-Add-On-Install.jpg\n\nUpdated UI flow based on the current fast approach to block install of uncertified add-ons by default in 39.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-03-31T14:24:38Z"
  }, {
    "text" : "Created attachment 8587657\n150402_All-Doorhanger-Add-On-Install.jpg\n\nUpdated flow to reflect installs from local file system (drag&drop, addon manager, sideloaded).\nMatej: Can you please review the copy again. Especially to see how we want to handle \"This site â€¦\" as we also use it for installs/blocks originating from the local file system.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-02T21:16:56Z"
  }, {
    "text" : "Looks good. Just a few thoughts:\n\nâ€¢Â I would change the button that says \"Restart Now\" to just \"Restart\" \n\nâ€¢ One string says \"extension\" instead of \"add-on\" (Firefox has prevented this site from installing an uncertified extension). Is that deliberate?\n\nâ€¢ Changes to the screen marked \"new domain\" â€” Are you sure you want to leave this page? If you do, the add-on will not be installed.\n\nThanks.",
    "authour" : "matej@mozilla.com",
    "created" : "2015-04-09T14:11:41Z"
  }, {
    "text" : "> If the add-on provides an own confirmation, this will be delayed by 2 seconds to ensure the user can see this confirmation.\n\nHow will you prevent add-ons from showing confirmations for the first 2 seconds? Will they not actually be installed until the \"... has been installed successfully\" thing has been visible for 2 seconds?",
    "authour" : "jruderman@gmail.com",
    "created" : "2015-04-10T01:23:07Z"
  }, {
    "text" : "> If add-on-install tab is closed in the background, it will be focused to ask if the install should be canceled.\n\n> New domain: The page is asking you to confirm that you want to leave\n\nPlease do not implement any such confirmation. The web may never fully recover from the mistake of adding onbeforeunload, but we should not make it worse by adding another way for web sites to pester users who are trying to leave. (See dependencies of https://bugzilla.mozilla.org/show_bug.cgi?id=eviltraps)\n\n> On [verify] add-on the user will be pulled back to the tab verifying the add-on.\n\nAgain, this adds a new vector for annoying users, and one that won't be easy to fix if the API is only designed to support this flow.\n\nI reiterate the last paragraph of comment 19. All these confusing and abuse-inviting states go away if we design the API and flow around the \"Install\" button being available quickly even for large add-ons.",
    "authour" : "jruderman@gmail.com",
    "created" : "2015-04-10T01:24:59Z"
  }, {
    "text" : "(In reply to Jesse Ruderman from comment #36)\n> > If add-on-install tab is closed in the background, it will be focused to ask if the install should be canceled.\n> \n> > New domain: The page is asking you to confirm that you want to leave\n> \n> Please do not implement any such confirmation. The web may never fully\n> recover from the mistake of adding onbeforeunload, but we should not make it\n> worse by adding another way for web sites to pester users who are trying to\n> leave. (See dependencies of\n> https://bugzilla.mozilla.org/show_bug.cgi?id=eviltraps)\n\nYou think sites will initiate long-running add-on installs in order to stop a user from leaving?\n\n> > On [verify] add-on the user will be pulled back to the tab verifying the add-on.\n> \n> Again, this adds a new vector for annoying users, and one that won't be easy\n> to fix if the API is only designed to support this flow.\n\nNote that this piece is no different to the add-on install flow we've had since before Firefox 1.0. Not saying that it is ideal but we aren't making things worse here.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-04-10T02:48:16Z"
  }, {
    "text" : "(In reply to Jesse Ruderman from comment #36)\n> > If add-on-install tab is closed in the background, it will be focused to ask if the install should be canceled.\n>\n> I reiterate the last paragraph of comment 19. All these confusing and\n> abuse-inviting states go away if we design the API and flow around the\n> \"Install\" button being available quickly even for large add-ons.\n\nI think this is a great idea and can provide an even simpler add-on install flow. I see this as a good next step after implementing the certification process. I filed a bug for it: https://bugzilla.mozilla.org/show_bug.cgi?id=1153226",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-10T13:30:51Z"
  }, {
    "text" : "Created attachment 8590925\n150410_Add-on-Process-v0.10.jpg\n\nUpdated flow with copy checked by :matej.\nFinal icons will be provided by :shorlander.\nFlow is complete, warnings for installed add-ons are tracked in bug 1148403, and some follow up work can be found here: 1153226, 1153303 .",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-10T16:23:04Z"
  }, {
    "text" : "> You think sites will initiate long-running add-on installs in order to stop a user from leaving?\n\nYes. Sites abuse onbeforeunload now and I see no reason this would be different.",
    "authour" : "jruderman@gmail.com",
    "created" : "2015-04-11T20:08:51Z"
  }, {
    "text" : "(In reply to Jesse Ruderman from comment #40)\n> > You think sites will initiate long-running add-on installs in order to stop a user from leaving?\n> \n> Yes. Sites abuse onbeforeunload now and I see no reason this would be\n> different.\n\nSo we would only block if an add-on download was in progress. This means the site has to keep an add-on downloading to stop a user navigating away. And remember sites can't even start an add-on download without the user clicking allow in the notification bar. beforeunload is an easy hack, this is way beyond that.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-04-12T00:26:41Z"
  }, {
    "text" : "> And remember sites can't even start an add-on download without the user clicking allow\n> in the notification bar.\n\nIs that going to remain true? I hope so but people keep talking about wanting to remove it.",
    "authour" : "dveditz@mozilla.com",
    "created" : "2015-04-13T17:22:01Z"
  }, {
    "text" : "Comment on attachment 8590925\n150410_Add-on-Process-v0.10.jpg\n\nLooking good!\nIcon question: will we modify the icon of uncertified add-ons somehow? In your mocks there's a red puzzle piece, but I assume that the add-on logo would actually show up there (which might not look threatening at all). This actually concerns all of the work on unsigned add-ons, but can be solved in a visual design bug (but should probably be indicated here as well).\n\nMinor nit: I *think* some of your arrow colors don't match anymore ;)",
    "authour" : "philipp@mozilla.com",
    "created" : "2015-04-14T12:50:26Z"
  }, {
    "text" : "(In reply to Philipp Sackl [:phlsa] please use needinfo from comment #43)\n> Comment on attachment 8590925\n> 150410_Add-on-Process-v0.10.jpg\n> \n> Looking good!\n> Icon question: will we modify the icon of uncertified add-ons somehow? In\n> your mocks there's a red puzzle piece, but I assume that the add-on logo\n> would actually show up there (which might not look threatening at all). This\n> actually concerns all of the work on unsigned add-ons, but can be solved in\n> a visual design bug (but should probably be indicated here as well).\n> \n> Minor nit: I *think* some of your arrow colors don't match anymore ;)\n\nI am planing to show an icon there, not the add-on logo. Icons for that have been created by shorelander and received this morning: http://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-Install-Flow.html\n\n*will check the arrow-colors.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-14T13:24:43Z"
  }, {
    "text" : "Created attachment 8592908\n150415_Add-on-Process-v0.11.jpg\n\nUpdate following UI review (by :phlsa):\n- updated arrow-colors\n\nand visual design input (by :shorlander):\nfor visual design files see: \nhttp://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-Install-Flow.html\n\n- provide icons for all cases (Kev: Do we want red or grey puzzle pieces for unreviewed?)\n- less spacing between elements and text (to match default doorhanger style)\n- alternative install add-on \"learn moreâ€¦\" placement (to match default doorhanger style)\n  (same for install uncertified add-on, and local install cases)\n- bold add-on name in restart (to align with other doorhangers)\n- rephrase error (remove url in string) (already shown in the line above)\n- \"learn moreâ€¦\" in serrate line in block add-on (to match default doorhanger style)\n\nDepending on how we decide to phrase unreviewed/uncertified/unsigned will we need to modify most strings.\n\n:shorlander will provide the individual icons here as well.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-15T17:28:02Z"
  }, {
    "text" : "(In reply to Daniel Veditz [:dveditz] from comment #42)\n> > And remember sites can't even start an add-on download without the user clicking allow\n> > in the notification bar.\n> \n> Is that going to remain true? I hope so but people keep talking about\n> wanting to remove it.\n\nI would very much like to leave out this interaction if we can. We do so on AMO already, and maybe we have another way to know that an add-on is legitimate before downloading it from a third-party-site as wellâ€¦",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-15T17:31:36Z"
  }, {
    "text" : ":shorlander can you please updated the red unverified icons to be yellow as discussed, and provide the assets for the icons you created. Thank you.\n:kev please review the unverified add-on install strings:\nhttps://docs.google.com/document/d/1r_KdSfOms3uwNJjWykSBusMjUHwqR1uw0r5H-gG_4k8/edit#\n\nI will then upload an updated flow and care about the sideloaded case Bug 1138898.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-24T09:23:23Z"
  }, {
    "text" : "Created attachment 8598797\n150428_Add-on-Process-v0.12.jpg\n\nFinal interaction flow and strings.\n\nFinal icons and visual polish will be provided by Stephen (:shorlander)\nhttp://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-Install-Flow.html",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-04-28T17:54:34Z"
  }, {
    "text" : "(In reply to Markus Jaritz [:maritz] from comment #48)\n> Created attachment 8598797\n> 150428_Add-on-Process-v0.12.jpg\n> \n> Final interaction flow and strings.\n> \n> Final icons and visual polish will be provided by Stephen (:shorlander)\n> http://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-\n> Install-Flow.html\n\nWe need the final icons as soon at possible, when can we expect them?",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-05-04T19:18:32Z"
  }, {
    "text" : "(In reply to Dave Townsend [:mossop] from comment #49)\n> (In reply to Markus Jaritz [:maritz] from comment #48)\n> > Created attachment 8598797\n> > 150428_Add-on-Process-v0.12.jpg\n> > \n> > Final interaction flow and strings.\n> > \n> > Final icons and visual polish will be provided by Stephen (:shorlander)\n> > http://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-\n> > Install-Flow.html\n> \n> We need the final icons as soon at possible, when can we expect them?\n\nI am out until Wednesday on a research trip. So likely Thursday at the earliest.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-05-05T04:08:20Z"
  }, {
    "text" : "(In reply to Dave Townsend [:mossop] from comment #49)\n> (In reply to Markus Jaritz [:maritz] from comment #48)\n> > Created attachment 8598797\n> > 150428_Add-on-Process-v0.12.jpg\n> > \n> > Final interaction flow and strings.\n> > \n> > Final icons and visual polish will be provided by Stephen (:shorlander)\n> > http://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-\n> > Install-Flow.html\n> \n> We need the final icons as soon at possible, when can we expect them?\n\nThere was a specific bug for the icon assets so I stuck them there: bug 1144599",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-05-14T15:20:32Z"
  }, {
    "text" : "Also updated the design specs / overview page: http://people.mozilla.org/~shorlander/mockups/Add-ons-Install-Flow/Add-ons-Install-Flow.html",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-05-14T15:23:15Z"
  }, {
    "text" : "Thank you for the design specs Stephen!\nFlow and Visual Design done.",
    "authour" : "mjaritz@mozilla.com",
    "created" : "2015-05-19T13:03:41Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T17:00:16Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-25T13:04:07Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-27T01:24:23Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "REOPENED"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-23T15:29:49Z",
      "what" : "status",
      "removed" : "REOPENED",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-05-19T13:03:41Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-25T13:04:07Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-27T01:24:23Z",
      "what" : "resolution",
      "removed" : "FIXED",
      "added" : "",
      "type" : "UNKNOWN"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-05-19T13:03:41Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "philipp@mozilla.com",
      "date" : "2015-01-13T16:26:16Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mjaritz@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T16:35:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T16:35:32Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "5"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T16:35:32Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.1 - 26 Jan"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-21T18:00:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-21T18:00:10Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "717779, 1047239, 1123914, 1123918"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-21T18:07:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gavin.sharp@gmail.com"
    }, {
      "name" : "xtc4uall@gmail.com",
      "date" : "2015-01-21T18:23:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "xtc4uall@gmail.com"
    }, {
      "name" : "jorge@mozilla.com",
      "date" : "2015-01-21T20:58:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jorge@mozilla.com"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-21T23:16:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "matej@mozilla.com, shorlander@mozilla.com"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-22T22:47:07Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dveditz@mozilla.com"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-23T21:16:12Z",
      "what" : "attachments.isobsolete:8551954",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-23T21:16:12Z",
      "what" : "attachments.isobsolete:8552725",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-23T21:17:17Z",
      "what" : "attachments.mimetype:8553942",
      "removed" : "application/x-download",
      "added" : "application/pdf"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-23T21:17:39Z",
      "what" : "attachments.description:8553942",
      "removed" : "preliminary-new-Add-on-Process.pdf - updated copy",
      "added" : "preliminary-new-Add-on-Process.pdf"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-27T16:48:39Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.1 - 26 Jan",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "kev@mozilla.com",
      "date" : "2015-01-28T18:15:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kev@mozilla.com"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-29T14:27:56Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.2 - 9 Feb",
      "added" : "38.1 - 26 Jan"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-29T14:58:11Z",
      "what" : "attachments.isobsolete:8553942",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-29T15:28:38Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.1 - 26 Jan",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "dewmigg@gmail.com",
      "date" : "2015-02-03T01:37:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dewmigg@gmail.com"
    }, {
      "name" : "bugzilla.spam2@grull.com",
      "date" : "2015-02-03T02:09:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugzilla.spam2@grull.com"
    }, {
      "name" : "jruderman@gmail.com",
      "date" : "2015-02-03T04:48:25Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jruderman@gmail.com"
    }, {
      "name" : "pwd.mozilla@yahoo.co.uk",
      "date" : "2015-02-03T07:24:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pwd.mozilla@yahoo.co.uk"
    }, {
      "name" : "david@illsley.org",
      "date" : "2015-02-03T08:10:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "david@illsley.org"
    }, {
      "name" : "kairo@kairo.at",
      "date" : "2015-02-03T15:14:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kairo@kairo.at"
    }, {
      "name" : "John99-bugs@live.co.uk",
      "date" : "2015-02-04T20:53:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "John99-bugs@live.co.uk"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-02-06T16:17:07Z",
      "what" : "cc",
      "removed" : "",
      "added" : "philipp@mozilla.com"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-02-06T16:18:06Z",
      "what" : "attachments.isobsolete:8556477",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-10T16:48:32Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.2 - 9 Feb",
      "added" : "38.3 - 23 Feb"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-24T16:52:28Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.3 - 23 Feb",
      "added" : "39.1 - 9 Mar"
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-25T13:04:07Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-25 05:04:07"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-27T01:24:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mjaritz@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-04T23:12:05Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1139656"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-10T15:49:24Z",
      "what" : "cf_fx_iteration",
      "removed" : "39.1 - 9 Mar",
      "added" : "39.2 - 23 Mar"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-24T15:32:38Z",
      "what" : "cf_fx_iteration",
      "removed" : "39.2 - 23 Mar",
      "added" : "39.3 - 30 Mar"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-31T13:19:33Z",
      "what" : "cf_fx_iteration",
      "removed" : "39.3 - 30 Mar",
      "added" : "40.1 - 13 Apr"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-03-31T14:24:38Z",
      "what" : "attachments.isobsolete:8560498",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-03-31T14:24:38Z",
      "what" : "attachments.isobsolete:8561741",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-31T17:39:50Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1149654"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-31T17:48:06Z",
      "what" : "blocks",
      "removed" : "1123918",
      "added" : ""
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-31T18:33:49Z",
      "what" : "blocks",
      "removed" : "1149654",
      "added" : ""
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-10T16:23:04Z",
      "what" : "attachments.isobsolete:8586113",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-10T16:23:04Z",
      "what" : "attachments.isobsolete:8587657",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-04-14T12:53:02Z",
      "what" : "cf_fx_iteration",
      "removed" : "40.1 - 13 Apr",
      "added" : "40.2 - 27 Apr"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-15T15:06:28Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1148403, 1138899, 1138898, 1138897, 1047247"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-15T17:01:49Z",
      "what" : "depends_on",
      "removed" : "1047247, 1148403",
      "added" : ""
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-15T17:03:23Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1148403"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-15T17:28:02Z",
      "what" : "attachments.isobsolete:8590925",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-04-27T19:37:08Z",
      "what" : "whiteboard",
      "removed" : "[ux]",
      "added" : "[ux][fxsearch][searchhijacking]"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-04-27T21:40:40Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P4"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-04-28T14:32:45Z",
      "what" : "cf_fx_iteration",
      "removed" : "40.2 - 27 Apr",
      "added" : "40.3 - 11 May"
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-28T17:54:34Z",
      "what" : "attachments.isobsolete:8592908",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-05-07T15:53:43Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1162584"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-05-12T15:16:21Z",
      "what" : "cf_rank",
      "removed" : "",
      "added" : "40"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-05-12T15:51:02Z",
      "what" : "whiteboard",
      "removed" : "[ux][fxsearch][searchhijacking]",
      "added" : "[hijacking][ux][fxsearch]"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-05-12T16:13:54Z",
      "what" : "cf_fx_iteration",
      "removed" : "40.3 - 11 May",
      "added" : "41.1 - May 25"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-05-14T17:33:49Z",
      "what" : "blocks",
      "removed" : "1162584",
      "added" : ""
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-05-19T13:03:41Z",
      "what" : "cf_last_resolved",
      "removed" : "2015-02-25 05:04:07",
      "added" : "2015-05-19 06:03:41"
    } ],
    "flagEvents" : [ {
      "name" : "philipp@mozilla.com",
      "date" : "2015-01-13T16:24:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T16:35:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-21T23:16:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-22T16:35:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-22T22:47:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "matej@mozilla.com",
      "date" : "2015-01-23T21:02:05Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(matej@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dveditz@mozilla.com",
      "date" : "2015-01-24T18:30:54Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dveditz@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-26T17:44:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-01-29T14:27:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dveditz@mozilla.com",
      "date" : "2015-02-01T00:46:57Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dveditz@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-02-06T16:17:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560498,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-02-10T00:01:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561741,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-25T12:39:57Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(philipp@mozilla.com)",
      "added" : "",
      "attachmentId" : 8560498,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-25T13:03:51Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(philipp@mozilla.com)",
      "added" : "",
      "attachmentId" : 8561741,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-27T01:24:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-02-27T15:55:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mjaritz@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-31T18:33:49Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-02T21:16:56Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "matej@mozilla.com",
      "date" : "2015-04-09T14:11:41Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(matej@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-10T16:23:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8590925,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-04-14T12:50:26Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(philipp@mozilla.com)",
      "added" : "",
      "attachmentId" : 8590925,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-15T17:28:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-24T09:23:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mjaritz@mozilla.com",
      "date" : "2015-04-28T17:54:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(kev@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "shorlander@mozilla.com",
      "date" : "2015-05-05T04:08:20Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120996,
  "cclist" : [ "bugzilla.spam2@grull.com", "david@illsley.org", "dewmigg@gmail.com", "dtownsend@mozilla.com", "dveditz@mozilla.com", "gavin.sharp@gmail.com", "John99-bugs@live.co.uk", "jorge@mozilla.com", "jruderman@gmail.com", "kairo@kairo.at", "kev@mozilla.com", "matej@mozilla.com", "mjaritz@mozilla.com", "mmucci@mozilla.com", "philipp@mozilla.com", "pwd.mozilla@yahoo.co.uk", "shorlander@mozilla.com", "xtc4uall@gmail.com" ]
}, {
  "component" : "Preferences",
  "summary" : "Broken middle/right click on links via about:preferences pages",
  "reporter" : "adalucin@gmail.com",
  "assigned" : "fliu@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Reproducible on 36 beta 1 (Build ID: 20150112201205), Aurora 37.0a2 (Build ID: 20150113004007) and Nightly 38.0a1 (Build ID: 20150113030205)\nPlatforms: Windows 7 32-bit, Windows 8.1 64-bit, Mac OSX 10.9.5 and Ubuntu 14.04 32-bit\n\nSteps to reproduce:\n1. Launch Firefox.\n2. Go to about:preferences\n3. Middle/right click on links via available pages - Eg:\n-- Go to about:preferences#privacy and right/middle click on 'Learn more', 'clear your recent history' and 'remove individual cookies'.\n\nExpected result: Links are opened in new tabs (same behavior as in about:preferences#sync).\nActual result: Nothing happens and 'uncaught exception: Load of # denied.' message is displayed in Browser console when middle click on 'clear your recent history' and 'remove individual cookies'.\n\nNotes:\n1. Not a regression - reproducible with Nightly 2014-05-19.\n2. In about:preferences#privacy, a context menu is displayed for 'clear your recent history' and 'remove individual cookies'; when 'Bookmark this link' is selected: 'NS_ERROR_MALFORMED_URI: Component returned failure code: 0x804b000a (NS_ERROR_MALFORMED_URI) [nsIIOService2.newURI]' message is thrown by BrowserUtils.jsm:70:0 in Browse Console.",
  "comments" : [ {
    "text" : "Reproducible on 36 beta 1 (Build ID: 20150112201205), Aurora 37.0a2 (Build ID: 20150113004007) and Nightly 38.0a1 (Build ID: 20150113030205)\nPlatforms: Windows 7 32-bit, Windows 8.1 64-bit, Mac OSX 10.9.5 and Ubuntu 14.04 32-bit\n\nSteps to reproduce:\n1. Launch Firefox.\n2. Go to about:preferences\n3. Middle/right click on links via available pages - Eg:\n-- Go to about:preferences#privacy and right/middle click on 'Learn more', 'clear your recent history' and 'remove individual cookies'.\n\nExpected result: Links are opened in new tabs (same behavior as in about:preferences#sync).\nActual result: Nothing happens and 'uncaught exception: Load of # denied.' message is displayed in Browser console when middle click on 'clear your recent history' and 'remove individual cookies'.\n\nNotes:\n1. Not a regression - reproducible with Nightly 2014-05-19.\n2. In about:preferences#privacy, a context menu is displayed for 'clear your recent history' and 'remove individual cookies'; when 'Bookmark this link' is selected: 'NS_ERROR_MALFORMED_URI: Component returned failure code: 0x804b000a (NS_ERROR_MALFORMED_URI) [nsIIOService2.newURI]' message is thrown by BrowserUtils.jsm:70:0 in Browse Console.",
    "authour" : "adalucin@gmail.com",
    "created" : "2015-01-13T14:57:26Z"
  }, {
    "text" : "@Jack & Tina,\nI guess we need to think about one unified behavior of middle/right click on links.\nPlease have a look, thanks",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-07-21T06:54:53Z"
  }, {
    "text" : "Created attachment 8775451\npopup window.png\n\nHi Fischer,\n\nWe would like to make browser experience consistent, so\n\nAbout right click,\n\n1.For opening a website link, such as \n    'Learn more', \n    'Question mark', \n    'Search-Add more search engines...', \n    'Privacy-Change preferences for search engine suggestions...', \n    'Sync-Manage Account', \n    'Sync-Android/iOS', \n    'Sync-Terms of Service/Privacy Notice', \ncan show a popup window like the attachment?\n\n2.For launching an action, such as 'clear your recent history' and 'remove individual cookies', please keep current design.\n\n\nAbout middle click,\n\nIs it possible to make middle click same as left click? For example,\n\n1. When the user presses middle click on a website link 'Learn more', open the website on a new tab. \n\n2. When the user presses middle click on a link 'clear your recent history', show 'Clear Recent History' popup window.\n\n3. When the user presses middle click on a button 'Make Default', show its popup window.\n\n\nThank you",
    "authour" : "jalin@mozilla.com",
    "created" : "2016-07-28T06:43:57Z"
  }, {
    "text" : "Created attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nReview commit: https://reviewboard.mozilla.org/r/71560/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/71560/",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-15T08:57:56Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/71560/diff/1-2/",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-15T09:04:02Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/71560/diff/2-3/",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-16T12:47:15Z"
  }, {
    "text" : "(In reply to Jack Lin[:jacklin] from comment #2)\n> Created attachment 8775451\n> popup window.png\n> \n> Hi Fischer,\n> \n> We would like to make browser experience consistent, so\n> \n> About right click,\n> \n> 1.For opening a website link, such as \n>     'Learn more', \n>     'Question mark', \n>     'Search-Add more search engines...', \n>     'Privacy-Change preferences for search engine suggestions...', \n>     'Sync-Manage Account', \n>     'Sync-Android/iOS', \n>     'Sync-Terms of Service/Privacy Notice', \n> can show a popup window like the attachment?\n> \n> 2.For launching an action, such as 'clear your recent history' and 'remove\n> individual cookies', please keep current design.\n> \n> \n> About middle click,\n> \n> Is it possible to make middle click same as left click? For example,\n> \n> 1. When the user presses middle click on a website link 'Learn more', open\n> the website on a new tab. \n> \n> 2. When the user presses middle click on a link 'clear your recent history',\n> show 'Clear Recent History' popup window.\n> \n> 3. When the user presses middle click on a button 'Make Default', show its\n> popup window.\n> \n> \n> Thank you\n\n\nAfter discussion and demo with the UX :jalin, the unified middle/right mouse click behaviors are:\n\n* For right-mouse clicking a website link, such as \n     'Learn more', \n     'Question mark'(The \"?\" button on the top-right side), \n     'Search-Add more search engines...', \n     'Sync-Manage Account',\n     'Sync-Android/iOS', \n     'Sync-Terms of Service/Privacy Notice', \nwill show a menu like the attachment of \"popup window.png\"\n\n* For middle-mouse clicking a website link will open that link in a new tab\n\n* For middle/right-mouse clicking\n     'Privacy - Change preferences for search engine suggestions...', \n     'Privacy - clear your recent history',\n     'Privacy - show 'Clear Recent History',\n     'Privacy - Manage your Do Not Track settings\"\nwill launch the corresponding function.",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-16T13:01:12Z"
  }, {
    "text" : "Hi Jared,\n\nThis patch implements the unified middle/right mouse click behaviors based on Comment 6.\nWhat it does is simply to put all website links inside html:a elements. As a result, the nsContextMenu at [1] would recognize and open the menu when right-mouse clicking.\nIn order to achieve this, this patch also modifies some utility JS functions and CSS rules.\n\nAs for the middle/right-mouse clicking parts, the patch basically do nothing about it since the default behavior of middle-mouse clicking on html:a would open that link and the default behavior on middle/right-mouse clicking on, like 'Privacy - clear your recent history', would trigger the corresponding function.\n\nThe try is at [2].\n\nThank you\n\n[1] https://dxr.mozilla.org/mozilla-central/source/browser/base/content/nsContextMenu.js#614\n[2] https://treeherder.mozilla.org/#/jobs?repo=try&revision=5d00977a868c",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-16T13:16:38Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nhttps://reviewboard.mozilla.org/r/71560/#review69414\n\n::: browser/components/preferences/in-content/privacy.xul:284\n(Diff revision 3)\n>              preference=\"browser.urlbar.suggest.bookmark\"/>\n>    <checkbox id=\"openpageSuggestion\" label=\"&locbar.openpage.label;\"\n>              accesskey=\"&locbar.openpage.accesskey;\"\n>              preference=\"browser.urlbar.suggest.openpage\"/>\n> -  <label class=\"text-link\" onclick=\"if (event.button == 0) gotoPref('search')\">\n> +  <label class=\"text-link\" onclick=\"gotoPref('search')\">\n>      &suggestionSettings.label;\n\nRemove the condition of if (event.button == 0) so middle/right mouse click would also work.",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-16T13:19:21Z"
  }, {
    "text" : "*** Bug 1273515 has been marked as a duplicate of this bug. ***",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-08-17T15:28:17Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nhttps://reviewboard.mozilla.org/r/71560/#review69906\n\nBug 1268943 should have made it so that you didn't need to make most of these changes. Anything that is a xul:label with class=\"text-link\" should work.",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-08-17T15:31:17Z"
  }, {
    "text" : "@Jared,\n\nBug 1268943 does not cover all of this bug.\nLike Comment 6, this patch enables context menu on external links when right-mouse clicking. \n\nBecause the namespace of <label class=\"text-link\"> is XUL namespace, context menu is not allowed to be displayed on it when calling nsContextMenu#setTarget at [1].\nThis patch moves external links from <label class=\"text-link\"> to <html:a> so as to enable context menu.\n\nThis change is quite reasonable because those external \"HTTP\" links should have context menu just like other links on web pages. Users would have consistent UX on links.\n\nAnd thanks for the works in Bug 1268943. This patch basically doesn't have to handle middle-mouse click.\n\nMaybe we should change this bug title to \"No context menu when right clicking on external links inside about:preferences page\".\n\nHow do you think about this UX improvement?\n\n[1] https://dxr.mozilla.org/mozilla-central/source/browser/base/content/nsContextMenu.js#627",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-18T09:12:40Z"
  }, {
    "text" : "We can relax the check in nsContextMenu since it was only added for right-clicking on buttons. If it's a label with class=\"text-link\" we could let it through, though some code may have to be refactored. This would also fix the same issue with about:addons when you right click on the author's name of an addon. \n\nIf we allow right-clicking we should also allow middle-clicking.\n\nI don't see much gain in changing the help buttons to html:a, as they already open in a new tab. I'm not sure what other actions people would do with these buttons.",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-08-18T17:23:48Z"
  }, {
    "text" : "I forgot to link it but it was bug 404536 which added the check for !XUL in nsContextMenu.js",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-08-18T21:30:29Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/71560/diff/3-4/",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-23T07:03:11Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nChange r? to f?\n-------------------------------\nHi Jared,\n\nTry the relaxing <label class=\"text-link\"> approach. Please notice that even relaxing <label class=\"text-link\">, still need to modify some JS utility methods in order to set href attribute.\n\n> If we allow right-clicking we should also allow middle-clicking.\n- Currently middle-clicking on <label class=\"text-link\"> already opens new tab so what else should be take cared ?\n\n> I don't see much gain in changing the help buttons to html:a, as they already open in a new tab.\n- From the UX's point, the right-click context menu provides user more options, such as \"Open Link in New Window\", \"Copy Link Location\". These options are what user may want to act on a link so that would be good to have it.\nTo change that \"?\" link, there are 2 approaches. One is change to <label class=\"text-link\">, another is <html:a>. Do we have any concern or I am thinking that using web standard <html:a> may be better.\n\nThank you",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-08-23T07:22:00Z"
  }, {
    "text" : "*** Bug 1297170 has been marked as a duplicate of this bug. ***",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-08-25T20:09:45Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nhttps://reviewboard.mozilla.org/r/71560/#review72992\n\nThis looks good (feedback+ from me).\n\nWe should add a test case the changes to nsContextMenu.js.\n\nI'm OK with changing the Help button to be an html:a link as long as we can keep the styling, keyboard access, and focus-ring behavior unchanged.\n\n::: browser/base/content/nsContextMenu.js:821\n(Diff revision 4)\n> -             ((elem instanceof HTMLAnchorElement && elem.href) ||\n> +             (isXULTextLinkLabel(elem) ||\n> +              (elem instanceof HTMLAnchorElement && elem.href) ||\n\nbrowser_contextMenu.js needs to have a test case added.",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-08-30T03:09:46Z"
  }, {
    "text" : "Created attachment 8788028\nhtml_a_help_button_UI.png",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-09-05T03:27:25Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/71560/diff/4-5/",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-09-05T03:27:54Z"
  }, {
    "text" : "@Jared,\n\nThe help buttons are updated to <html:a class=\"help-button>. The UI styling is kept, please see the html_a_help_button_UI.png.\n\nThe test case for xul text-link label has been added.\n\nThe local test is passed and the try is here: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a97085618b8c\n\nPlease have a look.\n\nThank you.",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-09-05T03:34:43Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nhttps://reviewboard.mozilla.org/r/71560/#review75208\n\n::: browser/components/preferences/in-content/preferences.js:85\n(Diff revision 5)\n> +  for (let i of items) {\n> +    // Extract category from id. For instance, extract \"sync\" from \"category-sync\".\n> +    id = i.getAttribute(\"id\");\n> +    category = id.substr(id.indexOf(\"-\") + 1);\n> +    helpBtn = document.querySelector(\"#header-\" + category + \" > .help-button\");\n> +    helpBtn.setAttribute(\"href\", getHelpLinkURL(i.getAttribute(\"helpTopic\")));\n> +  }\n\nWe already have code that will get the category name from the richlistitem's value. Also, please use `categories` instead of `items` and `category` instead of `i`. Also, please use template strings.\n\nfor (let category of categories) {\n  let value = category.value;\n  let name = internalPrefCategoryNameToFriendlyName(value);\n  let helpSelector = `#header-${name} > .help-button`;\n  let helpButton = document.querySelector(helpSelector);\n  helpButton.setAttribute(\"href\", getHelpLinkURL(category.getAttribute(\"helpTopic\")));\n}\n\n::: toolkit/themes/shared/in-content/common.inc.css:316\n(Diff revision 5)\n> +\n> +html|*.help-button:hover {\n> +  background-image: url(\"chrome://global/skin/in-content/help-glyph.svg#help-hover\");\n> +}\n> +\n> +html|*.help-button:active {\n\nhtml|*.help-button:hover:active {\n  ...\n}",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-09-06T19:51:22Z"
  }, {
    "text" : "Comment on attachment 8781045\nBug 1120967 - Broken middle/right click on links via about:preferences pages;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/71560/diff/5-6/",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-09-07T11:23:12Z"
  }, {
    "text" : "Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a639195ac0e5",
    "authour" : "fliu@mozilla.com",
    "created" : "2016-09-07T11:24:07Z"
  }, {
    "text" : "Pushed by ryanvm@gmail.com:\nhttps://hg.mozilla.org/integration/fx-team/rev/7ec0c9ca41df\nBroken middle/right click on links via about:preferences pages. r=jaws",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-09-07T21:53:06Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/7ec0c9ca41df",
    "authour" : "cbook@mozilla.com",
    "created" : "2016-09-08T10:08:11Z"
  }, {
    "text" : "I have reproduced this on firefox nightly according to(2015-01-13)\n\nFixing bug is verified on Latest Nightly-- Build ID:(20160908030434 ), User Agent: Mozilla/5.0 (Windows NT 10.0; rv:51.0) Gecko/20100101 Firefox/51.0\n\nThose issues are solved.It seems ok on latest Nightly. :-)\n\nTested OS--Windows10 32bit",
    "authour" : "saheda.antora@gmail.com",
    "created" : "2016-09-09T23:04:09Z"
  }, {
    "text" : "I have reproduce this bug with Nightly 38.0a1 (2015-01-13) on Ubuntu 16.04 LTS !\n\nThis bug's fix is verified with latest Beta !\n\nBuild Id   :   20161219140923\nUser Agent :   Mozilla/5.0 (X11; Linux x86_64; rv:51.0) Gecko/20100101 Firefox/51.0\n[testday-20170106]",
    "authour" : "maruf.rahman.95@gmail.com",
    "created" : "2017-01-06T11:25:42Z"
  }, {
    "text" : "Thanks!",
    "authour" : "jaws@mozilla.com",
    "created" : "2017-01-06T20:40:12Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2016-09-08T10:08:11Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2017-01-06T20:40:12Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2016-09-08T10:08:11Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "kairo@kairo.at",
      "date" : "2015-01-13T18:02:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kairo@kairo.at"
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-07-21T06:54:53Z",
      "what" : "cc",
      "removed" : "",
      "added" : "fliu@mozilla.com, jalin@mozilla.com, jyeh@mozilla.com, thsieh@mozilla.com"
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-11T09:40:50Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "fliu@mozilla.com"
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-16T12:47:15Z",
      "what" : "attachments.description:8781045",
      "removed" : "Bug 1120967 - Broken middle/right click on links via about:preferences pages",
      "added" : "Bug 1120967 - Broken middle/right click on links via about:preferences pages."
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-16T12:47:15Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-08-17T15:28:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nachtigall@web.de"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-08-22T17:20:29Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1028029"
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-23T07:03:11Z",
      "what" : "attachments.description:8781045",
      "removed" : "Bug 1120967 - Broken middle/right click on links via about:preferences pages.",
      "added" : "Bug 1120967 - Broken middle/right click on links via about:preferences pages"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-08-25T20:09:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "arai.unmht@gmail.com"
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-09-07T11:23:12Z",
      "what" : "attachments.description:8781045",
      "removed" : "Bug 1120967 - Broken middle/right click on links via about:preferences pages",
      "added" : "Bug 1120967 - Broken middle/right click on links via about:preferences pages;"
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-09-07T11:24:07Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2016-09-07T21:53:06Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-09-08T10:08:11Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 51"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-09-08T10:08:11Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-09-08 10:08:11"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-09-08T10:08:11Z",
      "what" : "cf_status_firefox51",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "saheda.antora@gmail.com",
      "date" : "2016-09-09T23:04:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "saheda.antora@gmail.com"
    }, {
      "name" : "saheda.antora@gmail.com",
      "date" : "2016-09-09T23:04:33Z",
      "what" : "cf_qa_whiteboard",
      "removed" : "",
      "added" : "[testday-20160909]"
    }, {
      "name" : "arai.unmht@gmail.com",
      "date" : "2016-09-09T23:35:51Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1301813"
    }, {
      "name" : "maruf.rahman.95@gmail.com",
      "date" : "2017-01-06T11:25:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "maruf.rahman.95@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2017-01-06T20:40:12Z",
      "what" : "cf_status_firefox51",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "fliu@mozilla.com",
      "date" : "2016-07-21T06:54:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jalin@mozilla.com",
      "date" : "2016-07-28T06:43:57Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jalin@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "thsieh@mozilla.com",
      "date" : "2016-07-29T09:22:47Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(thsieh@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-11T09:40:50Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(fliu@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-16T12:47:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-08-17T15:31:17Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-18T09:12:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-08-18T17:23:48Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-23T07:03:11Z",
      "what" : "flagtypes.name",
      "removed" : "review-",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-08-23T07:22:00Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-08-30T03:10:08Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "fliu@mozilla.com",
      "date" : "2016-09-05T03:27:54Z",
      "what" : "flagtypes.name",
      "removed" : "feedback+",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-09-06T19:51:22Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8781045,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120967,
  "cclist" : [ "arai.unmht@gmail.com", "fliu@mozilla.com", "jalin@mozilla.com", "jaws@mozilla.com", "jyeh@mozilla.com", "kairo@kairo.at", "maruf.rahman.95@gmail.com", "nachtigall@web.de", "saheda.antora@gmail.com", "thsieh@mozilla.com" ]
}, {
  "component" : "Search",
  "summary" : "Searches from the \"Paste & Search\" context menu item should be counted in telemetry.",
  "reporter" : "florian@queze.net",
  "assigned" : "vikramcse.10@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Bug 1102937 added telemetry support for the new search bar UI from bug 1088660, but it didn't take into account the \"Paste & Search\" context menu item case. Searches performed from this context menu of the searchbar are currently counted as \"unknown\".\n\nWe should change the code at http://hg.mozilla.org/mozilla-central/annotate/bb8d6034f5f2/browser/components/search/content/search.xml#l819 to pass the command event to handleSearchCommand, and then handleSearchCommand should be modified to support the command event and look at the anonid of the node that received the event.\n\nSee bug 1120389 for the related discussion that caused me to file this. Blake offered to mentor this :-).",
  "comments" : [ {
    "text" : "Bug 1102937 added telemetry support for the new search bar UI from bug 1088660, but it didn't take into account the \"Paste & Search\" context menu item case. Searches performed from this context menu of the searchbar are currently counted as \"unknown\".\n\nWe should change the code at http://hg.mozilla.org/mozilla-central/annotate/bb8d6034f5f2/browser/components/search/content/search.xml#l819 to pass the command event to handleSearchCommand, and then handleSearchCommand should be modified to support the command event and look at the anonid of the node that received the event.\n\nSee bug 1120389 for the related discussion that caused me to file this. Blake offered to mentor this :-).",
    "authour" : "florian@queze.net",
    "created" : "2015-01-13T14:35:07Z"
  }, {
    "text" : "Hi,\nI want to work for this bug.\nI already build the Firefox code.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-17T12:43:33Z"
  }, {
    "text" : "Welcome Vikram!\n\nI've assigned the bug to you, so please feel free to start working on it!  Do the instructions from Florian give you enough information to get started?  If you have any questions about the code or the process of getting it checked in, you can ask me in a comment here, and I'll reply as soon as I can.\n\nThanks,\nBlake.",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-17T16:01:26Z"
  }, {
    "text" : "Hi\nCan you tell me little about what actualy I have to do? and what is the function of the search.xml code snipet.\nActually i recently joined the mozilla community, and solved plenty of bugs.\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-17T16:23:28Z"
  }, {
    "text" : "Hmm.  So, I've thought about it a little, and I think we want to call BrowserUITelemetry.registerContextMenuInteraction (in addition to all the stuff that's already there) when the code snippet at https://dxr.mozilla.org/mozilla-central/source/browser/components/search/content/search.xml#838 runs.  We'll also need to figure out what we should pass in to that function.",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-17T21:14:40Z"
  }, {
    "text" : "BrowserUITelemetry and registerContextMenuInteraction are not int the given search.xml file.\nActually I am not getting what to do!!\nand how can I reproduce the bug in browser?\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T08:04:35Z"
  }, {
    "text" : "Okay, let's start with reproducing the bug.\n\nHere are the steps I'm thinking of:\nSelect some text on a page, and copy it to the clipboard.\nRight-click on the search bar and select the \"Paste & Search\" option.\nOpen about:telemetry in a tab.\nExpand the \"Simple Measurements\" section, and look for the \"UITelemetry\" entry.\nIn the data beside it should be the word \"contextmenu\", and near there should be the word \"paste-and-search\".  (Currently the word \"paste-and-search\" isn't in there.  This bug is about adding it. :)\n\nDoes that make sense to you?  Let me know if it makes sense, or if you have any questions, and I'll explain a little more about what the fix should look like, and how it will work.\n\nThanks!",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T14:41:20Z"
  }, {
    "text" : "Yes! Great.\nI got the idea! Thanks.\nNow please tell me how to fix this.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T14:52:56Z"
  }, {
    "text" : "Great!  So, registerContextMenuInteraction is a function defined on the BrowserUITelemetry object, which is in the global scope (which is why you don't see it defined).\n\nSo I think the next step is to add:\nconsole.log('Got here!!!', BrowserUITelemetry.registerContextMenuInteraction);\nto the string at https://dxr.mozilla.org/mozilla-central/source/browser/components/search/content/search.xml#838 and rebuild Firefox.  (As a side note, you can type \"./mach build browser/components && ./mach run\" to only rebuild the changed files, which will be _way_ faster!  :)\n\nOnce your changed version of Firefox is running, if you open the Browser Console (under Tools >> Web Developer >> Browser Console), then when you choose the \"Paste & Search\" menu item, you should see a line that has \"Got Here!!!\" and \"function ()\" in it.\n\nIf that works for you, then the next step will be to change the \"console.log\" to instead call \"BrowserUITelemetry.registerContextMenuInteraction\", and pass something in as parameters.",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T15:43:24Z"
  }, {
    "text" : "ok so when i do this step\nconsole.log('Got here!!!', BrowserUITelemetry.registerContextMenuInteraction); in string\nthen paste and  search dosent work!!!",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T16:31:06Z"
  }, {
    "text" : "Do you see the console message?  And did you replace the entire string, or just add that to the front of the string?",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T16:38:04Z"
  }, {
    "text" : "replacement:\n\nelement.setAttribute(\"oncommand\",\n              \"console.log('Got here!!!', BrowserUITelemetry.registerContextMenuInteraction);\");\n\nerror:\n(firefox:30868): Gtk-CRITICAL **: IA__gtk_clipboard_set_with_data: assertion `targets != NULL' failed",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T16:40:48Z"
  }, {
    "text" : "Okay.  So if you add it to the front instead of replacing it, it should work a little better.  Give that a try, and let me know how it goes!",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T16:49:15Z"
  }, {
    "text" : "is it like this.\nelement.setAttribute(\"oncommand\",\n              \"console.log('Got here!!!', BrowserUITelemetry.registerContextMenuInteraction);\n               BrowserSearch.searchBar.select(); goDoCommand('cmd_paste');      BrowserSearch.searchBar.handleSearchCommand();\");\n\nif yes so after paste and search option disappears.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T17:17:32Z"
  }, {
    "text" : "I think the string needs to all be on one line, but other than that it looks okay to meâ€¦",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T17:26:09Z"
  }, {
    "text" : "here what i did\n1) element.setAttribute(\"oncommand\",\n              \"BrowserUITelemetry.registerContextMenuInteraction(\"Hieee\");           BrowserSearch.searchBar.select();goDoCommand('cmd_paste');BrowserSearch.searchBar.handleSearchCommand();\");\n2) mach build\n3) mach run\n4) copy something to keyboard and right click and select paste and search\n\nBUT the paste and search option is not there.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T17:38:46Z"
  }, {
    "text" : "Ah!  Excellent!  So, \"BrowserUITelemetry.registerContextMenuInteraction(\"Hieee\")\" isn't going to work, because registerContextMenuInteraction is expecting an eventKey and a target!  :)\n\nThe target should probably be 'paste-and-search'.\nAnd let's try passing in ['[\"search\"]', 'withoutcustom']",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T17:47:36Z"
  }, {
    "text" : "ya i did \nelement.setAttribute(\"oncommand\",\n              \"BrowserUITelemetry.registerContextMenuInteraction(['[\"search\"]', 'withoutcustom']);\n               BrowserSearch.searchBar.select(); goDoCommand('cmd_paste'); BrowserSearch.searchBar.handleSearchCommand();\");\n\nbut still the option is not visible",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-19T17:56:06Z"
  }, {
    "text" : "Okay, I think we need a couple more tweaksâ€¦\nLet's try:\nelement.setAttribute(\"oncommand\", \"BrowserUITelemetry.registerContextMenuInteraction('[\\\"search\\\"]', 'withoutcustom');BrowserSearch.searchBar.select(); goDoCommand('cmd_paste'); BrowserSearch.searchBar.handleSearchCommand();\");\n\nand see what happensâ€¦\n\n(If that also doesn't work, let's undo all the changes, and see if we still get the problem.)",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T18:31:30Z"
  }, {
    "text" : "Whoops, I messed up the arguments in that codeâ€¦\n\nThe first argument to registerContextMenuInteraction should be the array ['[\"search\"]', 'withoutcustom'] (But note you'll need to escape the \"s, because it's in a string!)\n\nThe second argument should be the string 'paste-and-search'.\n\n(If you're on IRC and are still running into problems, feel free to message me directly.  That might be faster than trying to do it in the bugâ€¦  :)",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-19T19:35:07Z"
  }, {
    "text" : "Hi,\nhere what i did,\n\nelement.setAttribute(\"oncommand\",\"BrowserUITelemetry.registerContextMenuInteraction(['[\\\"search\\\"]', 'withoutcustom'], 'paste-and-search');BrowserSearch.searchBar.select(); goDoCommand('cmd_paste'); BrowserSearch.searchBar.handleSearchCommand();\");\n\nBut same problem is there the paste and search option is not there in right click menu!!",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-20T14:56:34Z"
  }, {
    "text" : "Okay, two more things to try:\n1) You're sure you're right-clicking in the search bar, not the url barâ€¦  (I know, it's a long shot, but it's worth asking!  ;)\n2) Undo all the changes you made, and rebuild, and see if it shows up then.  (It should, since it will be the default Firefox codeâ€¦)\n\nThank you for your persistence on this bug!  I'm sure we'll figure out what's going wrong soonâ€¦",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-20T16:12:03Z"
  }, {
    "text" : "Hi,\nThe problem in the ./mach build browser/components doesn't work when i did ./mach build it paste and search worked and i got the telemetry http://pastebin.mozilla.org/8261661 but the search gets failed even URL bar doesn't work.\ni got (firefox:25658): Gtk-CRITICAL **: IA__gtk_clipboard_set_with_data: assertion `targets != NULL' failed this error.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-20T18:05:45Z"
  }, {
    "text" : "Created attachment 8551937\nBug1120957_context_menu_item_should_be_counted_in_telemetry.diff\n\nhere i uploaded the patch file.\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-20T19:00:41Z"
  }, {
    "text" : "HI,\ncould you review this patch?",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-21T15:51:21Z"
  }, {
    "text" : "Comment on attachment 8551937\nBug1120957_context_menu_item_should_be_counted_in_telemetry.diff\n\nReview of attachment 8551937:\n-----------------------------------------------------------------\n\nI have nothing against adding a BrowserUITelemetry.registerContextMenuInteraction call, but the initial intent of this bug was to stop logging these searches as \"unknown\" and have a meaningful value instead. See the code at http://hg.mozilla.org/mozilla-central/annotate/540077a30866/browser/components/search/content/search.xml#l508 and the discussion in bug 1120389 comment 2 and before.\n\n::: browser/components/search/content/search.xml\n@@ +833,5 @@\n>            element = document.createElementNS(kXULNS, \"menuitem\");\n>            label = this._stringBundle.getString(\"cmd_pasteAndSearch\");\n>            element.setAttribute(\"label\", label);\n>            element.setAttribute(\"anonid\", \"paste-and-search\");\n> +          \n\nPlease avoid adding trailing whitespace. I'm also not sure why an empty line is needed here.\n\n@@ +838,2 @@\n>            element.setAttribute(\"oncommand\",\n> +              \"BrowserUITelemetry.registerContextMenuInteraction(['search', 'withoutcustom'], 'paste-and-search');BrowserSearch.searchBar.select(); goDoCommand('cmd_paste'); BrowserSearch.searchBar.handleSearchCommand();\");\n\nSo much code inlined here isn't readable, could you please move this to a separate function somewhere?",
    "authour" : "florian@queze.net",
    "created" : "2015-01-21T16:21:28Z"
  }, {
    "text" : "Thanks for review!!\nso where should i do changes?\ncan i talk with you on irc now? i unable to find you in #fx-team.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-21T16:30:27Z"
  }, {
    "text" : "(In reply to Vikram Jadhav from comment #26)\n> Thanks for review!!\n> so where should i do changes?\n\nI'll let Blake continue to mentor you through this bug :-).",
    "authour" : "florian@queze.net",
    "created" : "2015-01-21T16:35:51Z"
  }, {
    "text" : "I believe Vikram and I have talked about this on IRC.\n\nThe one remaining question was \"what do we pass\", and the answer to that I think is \"event\", which should be defined for us in the event handler.  Vikram, please ping me on IRC if that doesn't work.  :)",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-23T15:02:37Z"
  }, {
    "text" : "Hi,\nHere i made a first change, I passed the \"event\" in the handleSearchCommand method.\nso is this right change\nhttp://pastebin.mozilla.org/8440956",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-30T13:25:49Z"
  }, {
    "text" : "please check my recent hg diff! is this look good?\nhttp://pastebin.mozilla.org/8441024",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-01-30T13:33:06Z"
  }, {
    "text" : "For the record, Vikram and I chatted about this patch on IRC, and he's moving forward with an approach we agreed on.",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-01-31T20:58:56Z"
  }, {
    "text" : "Hi,\nThe paste-and-search got logged, what's next step?\nThnaks",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-03T14:21:21Z"
  }, {
    "text" : "Huh.  I could have sworn I replied to this.  My apologies for the delay!\n\nSo the next step will be to put your patch in pastebin, and I'll take a look at it, and we can see what still needs doing.  (The final goal is to pass something better than \"unknown\" as the source parameter at hg.mozilla.org/mozilla-central/annotate/540077a30866/browser/components/search/content/search.xml#l526 )",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-02-05T14:37:12Z"
  }, {
    "text" : "Hi,\nsorry for late reply, actually i was busy in my exams !!\nhere is the patch file- http://pastebin.mozilla.org/8760500\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-15T13:00:17Z"
  }, {
    "text" : "Okay!  So, we'll want to add an else case at line 523 that checks if the target's anonId attribute is 'paste-and-search', and if it is, set the \"source\" variable to \"paste\".  Sound good?",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-02-15T20:52:33Z"
  }, {
    "text" : "Ok here i made some changes...\nhttp://pastebin.mozilla.org/8783734",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-16T14:01:59Z"
  }, {
    "text" : "I think we might be good to post it to the bug, with a little cleanupâ€¦\n\n1) We can use \"target\" instead of \"aEvent.originalTarget\", to be more like the other cases.\n2) We should probably use double-quotes (\") around 'paste-and-search', to be consistent.\n3) The spacing on the \"source = \"paste\";\" line looks way offâ€¦  Can you double-check that you're not using tabs?\n\nOnce those are fixed, post the full set of changes, and ask Florian for a review!\n\nThanks!  :)",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-02-17T01:44:40Z"
  }, {
    "text" : "Created attachment 8565415\nBUG1120957_paste_and_search_context_menu.diff\n\nHere are the changes attachd the diff file\nthanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-17T14:31:23Z"
  }, {
    "text" : "Comment on attachment 8565415\nBUG1120957_paste_and_search_context_menu.diff\n\nReview of attachment 8565415:\n-----------------------------------------------------------------\n\n(Florian QuÃ¨ze [:florian] [:flo] from comment #25)\n\n> @@ +838,2 @@\n> >            element.setAttribute(\"oncommand\",\n> > +              \"BrowserUITelemetry.registerContextMenuInteraction(['search', 'withoutcustom'], 'paste-and-search');BrowserSearch.searchBar.select(); goDoCommand('cmd_paste'); BrowserSearch.searchBar.handleSearchCommand();\");\n> \n> So much code inlined here isn't readable, could you please move this to a\n> separate function somewhere?\n\nIt looks like this review comment hasn't been addressed yet.",
    "authour" : "florian@queze.net",
    "created" : "2015-02-17T15:23:37Z"
  }, {
    "text" : "Ok thanks,\nSo should i remove this?\nelement.setAttribute(\"oncommand\",\n> > +              \"BrowserUITelemetry.registerContextMenuInteraction(['search', 'withoutcustom'], 'paste-and-search');BrowserSearch.searchBar.select(); goDoCommand('cmd_paste'); BrowserSearch.searchBar.handleSearchCommand();\");",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-17T15:28:01Z"
  }, {
    "text" : "I think Florian is saying that you should add a new function, probably on the BrowserSearch object, and then move that code to the new function, and call the new function from the oncommand attribute.  Sound good?",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-02-17T15:34:09Z"
  }, {
    "text" : "Created attachment 8565483\nBUG1120957_paste_and_search.diff",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-17T16:56:42Z"
  }, {
    "text" : "Comment on attachment 8565483\nBUG1120957_paste_and_search.diff\n\nReview of attachment 8565483:\n-----------------------------------------------------------------\n\nMoving the review request to Gijs who wrote the context-menu-telemetry code and will know better how we are supposed to interact with it.\n\n::: browser/base/content/browser.js\n@@ +3479,5 @@\n>      if (engine) {\n>        BrowserSearch.recordSearchInHealthReport(engine, \"contextmenu\");\n>      }\n>    },\n> +  \n\nnit: trailing whitespace.\n\n@@ +3481,5 @@\n>      }\n>    },\n> +  \n> +  pasteAndSearch: function (event) {\n> +    BrowserUITelemetry.registerContextMenuInteraction([\"search\", \"withoutcustom\"], \"paste-and-search\");\n\nWithout the change you used to have at https://bugzilla.mozilla.org/attachment.cgi?id=8551937&action=diff#a/browser/modules/BrowserUITelemetry.jsm_sec1 this line will count the event as \"other-item\".\n\nGijs, is this something we can call for any context menu, or is it meant only for the context menu of the content area?",
    "authour" : "florian@queze.net",
    "created" : "2015-02-18T20:32:54Z"
  }, {
    "text" : "Hello,\ncan you tell me what florian sir want's to say?\nactually I didn't understand the comment.\nThanks.",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-02-19T03:56:35Z"
  }, {
    "text" : "Comment on attachment 8565483\nBUG1120957_paste_and_search.diff\n\nReview of attachment 8565483:\n-----------------------------------------------------------------\n\n::: browser/base/content/browser.js\n@@ +3481,5 @@\n>      }\n>    },\n> +  \n> +  pasteAndSearch: function (event) {\n> +    BrowserUITelemetry.registerContextMenuInteraction([\"search\", \"withoutcustom\"], \"paste-and-search\");\n\nIt's currently meant only for the content area's context menu, so I don't think this is a good idea.\n\nLooks like this should be doing the same as https://bug1102937.bugzilla.mozilla.org/attachment.cgi?id=8544913 and define a function that counts an event like \"search-paste\" in the same way it counts search-oneoff?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-19T08:35:19Z"
  }, {
    "text" : "Gijs and Florian are saying that we should probably remove the \"BrowserUITelemetry.registerContextMenuInteraction\" call, since that function is only for tracking right-clicks in the web page, not on the browser.\n\n(Also, the next review request should go to Gijs.  ;)",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-02-19T15:12:47Z"
  }, {
    "text" : "hello vikram, from BUG 1120957 here are the recent changes https://pastebin.mozilla.org/8824452",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-03-05T14:44:08Z"
  }, {
    "text" : "Can you attach this as a regular patch, including a commit message with the bug number and a short sentence describing what the patch does? See: https://developer.mozilla.org/en-US/docs/Mercurial_FAQ#How_can_I_generate_a_patch_for_somebody_else_to_check-in_for_me.3F .",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-05T17:54:15Z"
  }, {
    "text" : "Created attachment 8573907\nIn search.xml i first checked if the event is paste-and-searh then the source value will be \"search\", and created a new function in browser.js i.e pasteAndSearch",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-03-06T13:19:40Z"
  }, {
    "text" : "Comment on attachment 8573907\nIn search.xml i first checked if the event is paste-and-searh then the source value will be \"search\", and created a new function in browser.js i.e pasteAndSearch\n\nReview of attachment 8573907:\n-----------------------------------------------------------------\n\nI think this makes sense. Blake, can you doublecheck the telemetry stuff?\n\nNote the spacing issue below. Can you update the patch to use the correct indentation? Your patch also doesn't have a commit message. If you're using hg qnew/qrefresh, use the --edit or --message option to set one. If you're using real commits, you can change it by using hg commit --amend --message followed by your commit message.\n\n::: browser/base/content/browser.js\n@@ +3483,5 @@\n>  \n> +  pasteAndSearch: function (event) {\n> +  \tBrowserSearch.searchBar.select();\n> +  \tgoDoCommand(\"cmd_paste\");\n> +  \tBrowserSearch.searchBar.handleSearchCommand(event);\n\nYou should indent the function body with only spaces (specifically: two spaces more than the \"pasteAndSearch\" line above this), and not use tabs.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-06T13:32:02Z"
  }, {
    "text" : "Created attachment 8573944\nChanged the indendation",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-03-06T14:29:21Z"
  }, {
    "text" : "Comment on attachment 8573944\nChanged the indendation\n\n(In reply to Vikram Jadhav from comment #51)\n> Created attachment 8573944\n> Changed the indendation\n\nCan you use a commit message of the form \"Bug 1120957 - fix the source of searches made with paste & search, r=gijs,bwinton\" and request the next review from bwinton? :-)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-06T15:21:36Z"
  }, {
    "text" : "Comment on attachment 8573944\nChanged the indendation\n\nReview of attachment 8573944:\n-----------------------------------------------------------------\n\n::: browser/components/search/content/search.xml\n@@ +520,5 @@\n>                } else if (target.classList.contains(\"search-panel-header\") ||\n>                           target.parentNode.classList.contains(\"search-panel-header\")) {\n>                  source = \"header\";\n> +              } else if (target.getAttribute(\"anonid\") == \"paste-and-search\") {\n> +                source = \"paste\";\n\nSo, I tried to run this, but when I selected the \"paste-and-search\" menu item, I didn't see the string \"paste\" in about:telemetryâ€¦\n\nDigging in a little, it looks like the event we get isn't a mouse event, but is a XULCommandEvent instead, so we'll need to move this else-if out to a new block which tests for XULCommandEvent (like the way this tests for MouseEvent).",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-03-07T22:11:52Z"
  }, {
    "text" : "Created attachment 8574770\nPaste and search bug",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-03-09T18:20:18Z"
  }, {
    "text" : "Comment on attachment 8574770\nPaste and search bug\n\nThe code is good, but you forgot to update the commit message.  Please post a new patch with the better commit message before marking the bug as checkin-needed.  :)\n\nThank you!",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-03-09T18:40:13Z"
  }, {
    "text" : "Created attachment 8574796\nbug1120957_paste_and_search_March6.diff\n\nBug 1120957 - fix the source of searches made with paste & search",
    "authour" : "vikramcse.10@gmail.com",
    "created" : "2015-03-09T19:07:31Z"
  }, {
    "text" : "Comment on attachment 8574796\nbug1120957_paste_and_search_March6.diff\n\nExcellent, thank you!",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-03-09T19:18:55Z"
  }, {
    "text" : "And https://treeherder.mozilla.org/#/jobs?repo=try&revision=006051a5106c just in case.",
    "authour" : "bwinton@mozilla.com",
    "created" : "2015-03-09T19:35:59Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/52f076261baa",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-10T11:04:51Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/52f076261baa",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-10T22:36:03Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-01-17T16:01:26Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:36:03Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:36:03Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-01-13T14:38:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bwinton@mozilla.com"
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-01-16T15:14:40Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug] [lang=js] "
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-17T12:43:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vikramcse.10@gmail.com"
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-01-17T16:01:26Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vikramcse.10@gmail.com"
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-20T19:00:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florian@queze.net"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-18T20:32:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-03-09T19:19:18Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-10T11:04:51Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-10T11:04:51Z",
      "what" : "whiteboard",
      "removed" : "[good first bug] [lang=js] ",
      "added" : "[good first bug] [lang=js] [fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:36:03Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:36:03Z",
      "what" : "whiteboard",
      "removed" : "[good first bug] [lang=js] [fixed-in-fx-team]",
      "added" : "[good first bug] [lang=js] "
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:36:03Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-10 15:36:03"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:36:03Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "nhnt11@gmail.com",
      "date" : "2015-07-08T21:17:59Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1181781"
    } ],
    "flagEvents" : [ {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-20T19:00:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8551937,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-21T16:21:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(florian@queze.net)",
      "added" : "",
      "attachmentId" : 8551937,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-01-21T16:30:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-21T16:35:51Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(florian@queze.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-01-23T15:02:37Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-03T14:21:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-02-05T14:37:12Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-15T13:00:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-02-15T20:52:33Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-16T14:01:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-02-17T01:44:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-17T14:31:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-17T14:31:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565415,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-17T15:23:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(florian@queze.net)",
      "added" : "",
      "attachmentId" : 8565415,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-17T15:28:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-02-17T15:34:09Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bwinton@mozilla.com), needinfo?(florian@queze.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-17T16:56:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565483,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-18T20:32:54Z",
      "what" : "flagtypes.name",
      "removed" : "review?(florian@queze.net)",
      "added" : "",
      "attachmentId" : 8565483,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-02-19T03:56:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-19T08:35:19Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8565483,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-02-19T15:12:47Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-03-05T14:44:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-05T17:54:15Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-03-06T13:19:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(vikramcse.10@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-03-06T13:19:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573907,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-06T13:32:02Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8573907,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-03-06T14:29:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573944,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-06T15:21:36Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8573944,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-03-07T22:01:12Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573907,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-03-07T22:11:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573944,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-03-09T18:20:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574770,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-03-09T18:40:13Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574770,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vikramcse.10@gmail.com",
      "date" : "2015-03-09T19:07:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574796,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bwinton@mozilla.com",
      "date" : "2015-03-09T19:18:55Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bwinton@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574796,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120957,
  "cclist" : [ "bwinton@mozilla.com", "florian@queze.net", "gijskruitbosch+bugs@gmail.com", "vikramcse.10@gmail.com" ]
}, {
  "component" : "Developer Tools: Animation Inspector",
  "summary" : "Animation inspector panel v2 - Time seeking, playback rate, rewind, refresh on changes, refresh on new animations, ...",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "The first version of the animation panel has landed. It's limited in various ways, and this bug is about making it better.\n\nIt's a meta bug that should encompass adding the following features:\n\n- rewind/fast-forward buttons\n- setting the current time\n- setting the playback rate\n- refreshing the UI when the animation data changes (iterationcount, delay, duration)\n- refreshing the UI when new animations are created\n- keeping finished animations in the UI so they can be replayed.",
  "comments" : [ {
    "text" : "The first version of the animation panel has landed. It's limited in various ways, and this bug is about making it better.\n\nIt's a meta bug that should encompass adding the following features:\n\n- rewind/fast-forward buttons\n- setting the current time\n- setting the playback rate\n- refreshing the UI when the animation data changes (iterationcount, delay, duration)\n- refreshing the UI when new animations are created\n- keeping finished animations in the UI so they can be replayed.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T11:11:30Z"
  }, {
    "text" : "The Chrome team has been busy making their panel fancier, really facier!\nhttps://plus.google.com/+UmarHansa/posts/V4KwiBhSadG\n\nThis demo includes:\n- global play/pause\n- setting currentTime\n- modify existing animations' duration and delay (or is it startTime?)\n- timing-function preview\n\nReally cool.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-26T17:29:04Z"
  }, {
    "text" : "All deps are resolved - can we resolve this?",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-10-26T19:45:24Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-10-27T08:46:43Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-10-27T08:46:43Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T11:12:57Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "985861"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T11:12:57Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1120343, 1120899, 1120852, 1120833"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T10:07:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1121896"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-15T20:12:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gabriel.luong@gmail.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-16T09:09:20Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1122435"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-16T09:33:16Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1122437"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-16T10:36:44Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1122466"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-04T15:26:53Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1129454"
    }, {
      "name" : "gilmoreorless@gmail.com",
      "date" : "2015-02-13T08:10:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gilmoreorless@gmail.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-03-18T11:08:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1144615"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-07T13:07:07Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1151824"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-07T13:07:11Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1151018"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-08-13T09:56:53Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1194146"
    }, {
      "name" : "dan.callahan@gmail.com",
      "date" : "2015-10-20T19:32:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dan.callahan@gmail.com"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-10-26T19:45:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com, pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-10-27T08:46:43Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-10-27 01:46:43"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-12-15T15:48:25Z",
      "what" : "component",
      "removed" : "Developer Tools: Inspector",
      "added" : "Developer Tools: Animation Inspector"
    } ],
    "flagEvents" : [ {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-10-26T19:45:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-10-27T08:46:43Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120900,
  "cclist" : [ "dan.callahan@gmail.com", "gilmoreorless@gmail.com", "gl@mozilla.com", "jgriffiths@mozilla.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Developer Tools: Animation Inspector",
  "summary" : "Refresh animation player widgets if duration, delay or iterationCount change.",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "jgriffin@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "The animation inspector panel assumes these values don't change during the lifetime of an animation. This is an incorrect assumption.\n\nWhenever duration, delay or iteration count change, the UI of the player widget should be refreshed.",
  "comments" : [ {
    "text" : "The animation inspector panel assumes these values don't change during the lifetime of an animation. This is an incorrect assumption.\n\nWhenever duration, delay or iteration count change, the UI of the player widget should be refreshed.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T11:07:19Z"
  }, {
    "text" : "Note that the way we update things like currentTime in the devtools UI is by polling the AnimationPlayer object on the actor-side, so it's easy for the UI to know when the duration or delay change, but it would still be useful to have the webanimations API emit events when these values change. This way we could reduce our protocol traffic.\n\nCameron: Do you think it would be possible to add events for when the animation-delay, or duration, or iterationCount, or keyframes change in an animation?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T10:01:53Z"
  }, {
    "text" : "Created attachment 8555243\nbug1120899-extract-player-metadata-to-component v1.patch\n\nIn this patch, I extracted the part that deals with the animation title, duration, delay, iteration count into its own UI component class, therefore making it easier to update when needed.\n\nAs I said in a previous comment, since we already poll the AnimationPlayerActor for new state data, we are already being notified when any of these values change.\nSo in this patch, I just use this to refresh the component when needed.\n\nI've updated the impacted tests and added a new one for this feature.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-27T14:24:09Z"
  }, {
    "text" : "Pending try build: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a5699e52c493",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-27T15:45:00Z"
  }, {
    "text" : "Comment on attachment 8555243\nbug1120899-extract-player-metadata-to-component v1.patch\n\nReview of attachment 8555243:\n-----------------------------------------------------------------\n\nReally minor stuff, but clearing the review so I can take another look at it before landing\n\n::: browser/devtools/animationinspector/animation-panel.js\n@@ +186,5 @@\n>          \"class\": \"player-widget \" + state.playState\n>        }\n>      });\n>  \n> +    this.metaDataComponent.render(this.el);\n\nNit on naming: 'render' here implies to me that it's doing what the 'updateState' function does (and should be called multiple time any time the UI changed).  I would probably call render -> createMarkup then call updateState -> render.\n\n@@ +418,5 @@\n> +    this.nameLabel = createNode({\n> +      parent: this.el,\n> +      nodeType: \"span\"\n> +    });\n> +    this.nameLabel.textContent = L10N.getStr(\"player.animationNameLabel\");\n\nLooks like this textContent shouldn't need to be set here.  It's set in updateState and handling both animations/transitions there.\n\n::: browser/devtools/animationinspector/test/browser_animation_playerWidgets_dont_show_time_after_duration.js\n@@ +34,5 @@\n>  \n>    is(widget.currentTimeEl.value, front.state.duration,\n>      \"The timeline slider has the right value\");\n>    is(widget.timeDisplayEl.textContent,\n> +    getFormattedTime(front.state.duration) + \"s\",\n\nI guess it depends on what we want to test here, but I still think that getFormattedTime should be moved somewhere shared (like ViewHelpers).  And then this test plus the animation-panel view can just use function.\n\nOr at least move this copy/pasted code into head.js so it's only duplicated in one place.\n\n::: browser/devtools/animationinspector/test/browser_animation_playerWidgets_meta_data.js\n@@ +54,3 @@\n>  });\n> +\n> +function isVisible(node) {\n\nMaybe move this isVisible function into head.js",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-02T16:39:27Z"
  }, {
    "text" : "Created attachment 8558428\nbug1120899-extract-player-metadata-to-component v2.patch\n\nThanks Brian, here's an updated patch with changes according to your review comments.\nPending try build: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a4581933ed5f\n\n(In reply to Brian Grinstead [:bgrins] from comment #4)\n> ::: browser/devtools/animationinspector/animation-panel.js\n> @@ +186,5 @@\n> >          \"class\": \"player-widget \" + state.playState\n> >        }\n> >      });\n> >  \n> > +    this.metaDataComponent.render(this.el);\n> \n> Nit on naming: 'render' here implies to me that it's doing what the\n> 'updateState' function does (and should be called multiple time any time the\n> UI changed).  I would probably call render -> createMarkup then call\n> updateState -> render.\nDone.\n\n> @@ +418,5 @@\n> > +    this.nameLabel = createNode({\n> > +      parent: this.el,\n> > +      nodeType: \"span\"\n> > +    });\n> > +    this.nameLabel.textContent = L10N.getStr(\"player.animationNameLabel\");\n> \n> Looks like this textContent shouldn't need to be set here.  It's set in\n> updateState and handling both animations/transitions there.\nGood catch, changed.\n\n> :::\n> browser/devtools/animationinspector/test/\n> browser_animation_playerWidgets_dont_show_time_after_duration.js\n> @@ +34,5 @@\n> >  \n> >    is(widget.currentTimeEl.value, front.state.duration,\n> >      \"The timeline slider has the right value\");\n> >    is(widget.timeDisplayEl.textContent,\n> > +    getFormattedTime(front.state.duration) + \"s\",\n> \n> I guess it depends on what we want to test here, but I still think that\n> getFormattedTime should be moved somewhere shared (like ViewHelpers).  And\n> then this test plus the animation-panel view can just use function.\n> \n> Or at least move this copy/pasted code into head.js so it's only duplicated\n> in one place.\nSo I ended up just using L10N.numberWithDecimals (from ViewHelpers) instead of my own time formatting utils, therefore avoiding any duplication.\nThe reason why I didn't use it from the beggining is that when numbers don't have decimals, they aren't padded with 0s. So 5 will be returned as \"5\" and not \"5.00\". I wanted to always have padding, no matter what, to make sure numbers would not jump in the label element when time passes.\nBut that isn't a big deal, it's better not have code duplication right now, especially that bug 1121879 is ongoing and will make what I wanted to do possible using numberWithDecimals.\n\n> :::\n> browser/devtools/animationinspector/test/\n> browser_animation_playerWidgets_meta_data.js\n> @@ +54,3 @@\n> >  });\n> > +\n> > +function isVisible(node) {\n> \n> Maybe move this isVisible function into head.js\nDone.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-03T09:59:33Z"
  }, {
    "text" : "Comment on attachment 8558428\nbug1120899-extract-player-metadata-to-component v2.patch\n\nReview of attachment 8558428:\n-----------------------------------------------------------------\n\nLooks good\n\n::: browser/devtools/animationinspector/animation-panel.js\n@@ +485,5 @@\n> +  },\n> +\n> +  destroy: function() {\n> +    this.el.remove();\n> +    this.containerEl = this.el = null;\n\nthis.containerEl is never set in the first place.  Also, should we be nulling out this.state?  Not sure if it's really necessary in this case.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T18:43:09Z"
  }, {
    "text" : "Created attachment 8559105\nbug1120899-extract-player-metadata-to-component v3.patch\n\nThanks Brian.\nAddressed the review comments in this new patch.\nI also found out that I forgot to change 2 function calls in animation-panel.js after I changed the function's signature in this patch. The effect wasn't immediately visible, and there was no specific test to avoid this from regressing, so I added a test for this.\n\nTry was green, so I'm pushing this to fx-team: https://hg.mozilla.org/integration/fx-team/rev/76666ba94d14",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-04T13:06:25Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/76666ba94d14",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-05T01:27:17Z"
  }, {
    "text" : "Created attachment 8570130\nmozharness script for luciddream, WIP",
    "authour" : "jgriffin@mozilla.com",
    "created" : "2015-02-26T21:37:40Z"
  }, {
    "text" : "Comment on attachment 8570130\nmozharness script for luciddream, WIP\n\nwrong bug, sorry",
    "authour" : "jgriffin@mozilla.com",
    "created" : "2015-02-26T21:38:22Z"
  }, {
    "text" : "Patrick, can you please provide me more reliable STR in order to verify this issue?",
    "authour" : "mihai.boldan@softvision.ro",
    "created" : "2015-10-27T15:11:26Z"
  }, {
    "text" : "(In reply to Mihai Boldan, QA [:mboldan] from comment #11)\n> Patrick, can you please provide me more reliable STR in order to verify this\n> issue?\n- Open http://bgrins.github.io/devtools-demos/inspector/animation-timing.html\n- Open the inspector and switch to the animation-inspector panel\n- Select #box1 in the inspector\n- You should see a single animation displayed in the timeline. It should be cut off at the end because it's an infinite animation.\n- Now, switch back to the \"Rules\" panel, and in the #box1 {...} rule, add:\n  animation-iteration-count: 5;\n- Switch back to the animation panel\n- You should see that the animation displayed in the timeline has changed. It isn't cut off at the end anymore, but instead displays 5 segments (plus the initial delay which was there already). Also the tooltip should show 'repeats: 5'.\n\nYou could also try with animation-delay, or animation-duration.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-10-29T10:13:00Z"
  }, {
    "text" : "Using STR from Comment 12, I managed to verify this feature on Nightly 44.0a1 (2015-10-28) across platforms.\nWhile testing, I observed two potential issues:\n\n1. STR:\n- Start FF with a clean profile;\n- Follow the STR from Comment 12;\n- Click on the Rewind button;\n- Click on the play button and wait until the animation is played the second time;\n- Go to Rules panel and change the no.5 from the 'animation-iteration-count: 5;' with 2.\n- Switch back to the animation panel\n\nAR: - The animation displayed in the timeline is not changed until the Play/Pause button is selected.\n    - Note that if the STR from Comment 12 are followed on a clean profile, the animation displayed in the timeline is not changed until the Play/Pause button is selected.\n\n2. STR:\n- Follow the STR from Comment 12;\n- Go to Rules panel and change the no.5 from the 'animation-iteration-count: 5;' with 8.\n- click on the time elapsed bar in order to select the scrubbed and move it back and forward.\n\nAR: The scrubber is not displayed.\n\nPatrick, should I file new bugs for this issues?",
    "authour" : "mihai.boldan@softvision.ro",
    "created" : "2015-10-29T15:58:51Z"
  }, {
    "text" : "Yes can you please file a bug about this issue?\nAt first sight, it looks like changing the duration, delay or iteration-count only works some of the times, and sort of randomly. Testing this a little more showed that:\n- if the animation is paused (either because you pressed the rewind button, or pause button while it was playing): then changing any of these things in the rule-view does refresh the animation-panel correctly\n- if the animation has ended (you just let it play until the end): then changing these things does *not* refresh the animation-panel.\nPressing play/pause/rewind does force a refresh so you see the changes then.\nThe fact that the scrubber is not displayed is related and should be fixed in the same bug.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-11-03T10:03:32Z"
  }, {
    "text" : "I've logged Bug 1221088 for the issue found while testing this bug, so I'm marking this issue Verified Fix.",
    "authour" : "mihai.boldan@softvision.ro",
    "created" : "2015-11-03T13:55:53Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-27T14:24:09Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:17Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-11-03T13:55:53Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:17Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T11:12:57Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1120900"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T10:01:53Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cam@mcc.id.au"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-27T14:24:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-27T14:24:09Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-03T09:59:33Z",
      "what" : "attachments.isobsolete:8555243",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-04T13:06:25Z",
      "what" : "attachments.isobsolete:8558428",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:17Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:17Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-04 17:27:17"
    }, {
      "name" : "jgriffin@mozilla.com",
      "date" : "2015-02-26T21:37:42Z",
      "what" : "assigned_to",
      "removed" : "pbrosset@mozilla.com",
      "added" : "jgriffin@mozilla.com"
    }, {
      "name" : "jgriffin@mozilla.com",
      "date" : "2015-02-26T21:38:22Z",
      "what" : "attachments.isobsolete:8570130",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-10-27T15:11:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mihai.boldan@softvision.ro, pbrosset@mozilla.com"
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-11-03T13:55:53Z",
      "what" : "cf_status_firefox44",
      "removed" : "---",
      "added" : "verified"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-12-15T15:55:12Z",
      "what" : "component",
      "removed" : "Developer Tools: Inspector",
      "added" : "Developer Tools: Animation Inspector"
    } ],
    "flagEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T10:01:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-27T14:24:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555243,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T16:39:27Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555243,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-03T09:59:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558428,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T18:43:09Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558428,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-04T13:06:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559105,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-10-27T15:11:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-10-29T10:13:00Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-10-29T15:58:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-11-03T10:03:32Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cam@mcc.id.au), needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120899,
  "cclist" : [ "bgrinstead@mozilla.com", "cam@mcc.id.au", "mihai.boldan@softvision.ro", "pbrosset@mozilla.com" ]
}, {
  "component" : "Developer Tools: Animation Inspector",
  "summary" : "The animations panel doesn't work when there is an animation-delay (timeline is de-synchronized)",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "pbrosset@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "STR:\n\n- open https://bug1117603.bugzilla.mozilla.org/attachment.cgi?id=8543711\n- open the inspector\n- switch to the animations sidebar panel\n- select the animated node\n\nyou might have to reload the page once you've selected the node as the animation may have already ended by then (the node will remain selected when you reload the page).\n\nER: the timeline progress is synchronized with the animation itself\nAR: the timeline starts right away, not waiting for the 2s delay, and therefore finishes before the animation actually finishes.",
  "comments" : [ {
    "text" : "STR:\n\n- open https://bug1117603.bugzilla.mozilla.org/attachment.cgi?id=8543711\n- open the inspector\n- switch to the animations sidebar panel\n- select the animated node\n\nyou might have to reload the page once you've selected the node as the animation may have already ended by then (the node will remain selected when you reload the page).\n\nER: the timeline progress is synchronized with the animation itself\nAR: the timeline starts right away, not waiting for the 2s delay, and therefore finishes before the animation actually finishes.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T09:25:16Z"
  }, {
    "text" : "Created attachment 8548229\nbug1120852-1-expose-delay-on-actor.patch",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T15:09:48Z"
  }, {
    "text" : "Created attachment 8548230\nbug1120852-2-dont-start-animation-timeline-before-delay.patch",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T15:10:04Z"
  }, {
    "text" : "Try build for both patches: https://treeherder.mozilla.org/ui/#/jobs?repo=try&revision=4230d999543e",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T18:37:48Z"
  }, {
    "text" : "Comment on attachment 8548229\nbug1120852-1-expose-delay-on-actor.patch\n\nReview of attachment 8548229:\n-----------------------------------------------------------------\n\n::: toolkit/devtools/server/actors/animation.js\n@@ +126,5 @@\n> +    } else {\n> +      return 0;\n> +    }\n> +\n> +    if (delayText.indexOf(\",\") !== -1) {\n\nWe need test coverage for this case (multiple animation / transition delays separated by commas).",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-13T23:00:41Z"
  }, {
    "text" : "Created attachment 8548773\nbug1120852-1-expose-delay-on-actor v2.patch\n\nThanks Brian for the review. This new version includes a new test file to ensure multiple delays, duration, counts were retrieved correctly by the actor.\nNew try build for this 1st part: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a4a7e0b1ea6e",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-14T09:59:30Z"
  }, {
    "text" : "part 1 in fx-team: https://hg.mozilla.org/integration/fx-team/rev/5ff5e6e6623b",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-14T14:00:29Z"
  }, {
    "text" : "Comment on attachment 8548230\nbug1120852-2-dont-start-animation-timeline-before-delay.patch\n\nReview of attachment 8548230:\n-----------------------------------------------------------------\n\n::: browser/devtools/animationinspector/test/browser_animation_time_formatting.js\n@@ +6,5 @@\n> +\n> +// Test the time formatting helper function.\n> +\n> +add_task(function*() {\n> +  yield addTab(TEST_URL_ROOT + \"doc_simple_animation.html\");\n\nThis getFormattedTime function seems like something that could be decoupled from the UI and tested with a unit test instead of a mochitest (possibly moved into viewhelpers or exported separately in one of the animationinspector files rather than attached to the widget instance).  Usually we just end up doing it in a mochitest like this so I wouldn't stop it from landing because of this, but it would speed up our test harness and allow cross-tool reuse if things like this were moved.\n\n@@ +13,5 @@\n> +  let widget = panel.playerWidgets[0];\n> +\n> +  is(widget.getFormattedTime(0), \"0.00\");\n> +  is(widget.getFormattedTime(1000), \"1.00\");\n> +  is(widget.getFormattedTime(5.123765827635872635), \"0.00\");\n\nNit: Add test cases with a number (plus decimal) in the 10s and 100s",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-14T16:36:30Z"
  }, {
    "text" : "You're right, I should have moved this to a unit test. Maybe what I'll do is do this in a separate patch so that I can land part 2 quickly (since try is green), and then land this new unit test separately.\nIn any case, thanks for the reviews.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-14T17:19:00Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/5ff5e6e6623b",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-14T21:36:00Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #7)\n> This getFormattedTime function seems like something that could be decoupled\n> from the UI and tested with a unit test instead of a mochitest (possibly\n> moved into viewhelpers or exported separately in one of the\n> animationinspector files rather than attached to the widget instance). \n> Usually we just end up doing it in a mochitest like this so I wouldn't stop\n> it from landing because of this, but it would speed up our test harness and\n> allow cross-tool reuse if things like this were moved.\nIn fact, I just came across toLocaleString (which now seems to be fully implemented, that didn't seem to be the case some time ago), and using it simplifies massively the time formatting function:\n\n  getFormattedTime: function(time) {\n    return (time/1000).toLocaleString(undefined, {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  },\n\nIn fact, now that only really use this native function, there's no real need to test it alone with a unit test.\nWhat I'm going to do though is file a separate bug to refactor ViewHelpers.L10N.numberWithDecimals which has its own implementation for now.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T09:29:25Z"
  }, {
    "text" : "Created attachment 8549489\nbug1120852-2-dont-start-animation-timeline-before-delay v2.patch\n\nPart 2 in fx-team: https://hg.mozilla.org/integration/fx-team/rev/d0b17fe68e83",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-15T09:41:39Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/d0b17fe68e83",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-16T01:17:26Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-14T17:08:34Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:17:26Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:17:26Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T09:25:28Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T11:12:57Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1120900"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T15:16:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-14T09:59:30Z",
      "what" : "attachments.isobsolete:8548229",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-14T14:00:29Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "leave-open"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T09:41:39Z",
      "what" : "attachments.isobsolete:8548230",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T09:41:46Z",
      "what" : "keywords",
      "removed" : "leave-open",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:17:26Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-16T01:17:26Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-15 17:17:26"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-12-15T15:55:05Z",
      "what" : "component",
      "removed" : "Developer Tools: Inspector",
      "added" : "Developer Tools: Animation Inspector"
    } ],
    "flagEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T15:16:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548229,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T15:17:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548230,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-13T23:00:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548229,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-14T09:59:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548773,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-14T14:00:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548773,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-14T16:36:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548230,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-14T21:36:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-15T09:41:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549489,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120852,
  "cclist" : [ "bgrinstead@mozilla.com" ]
}, {
  "component" : "Developer Tools: Animation Inspector",
  "summary" : "Refresh the list of animations in the Animations Panel when animations are created.",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "pbrosset@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "For now the animations panel displays the list of AnimationPlayer objects for a node at the time the node is selected.\nIf one of the animations ends, the UI widget for its player will be removed from the panel *but* if a new animations is created, it won't show up in the list. You'd have to select another node first and then re-select the same node again to refresh the list.",
  "comments" : [ {
    "text" : "For now the animations panel displays the list of AnimationPlayer objects for a node at the time the node is selected.\nIf one of the animations ends, the UI widget for its player will be removed from the panel *but* if a new animations is created, it won't show up in the list. You'd have to select another node first and then re-select the same node again to refresh the list.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T08:15:25Z"
  }, {
    "text" : "Cameron, Brian Birtles said I should talk to you with regards to waapi events. I think have an event that tells us when the list of AnimationPlayers for a node changes would be great.\n\nFor info, our devtools actor works this way for now:\n- the devtools UI selects a node, and using this node requests the list of AnimationPlayers with this method: http://mxr.mozilla.org/mozilla-central/source/toolkit/devtools/server/actors/animation.js#344\n- this returns a list of AnimationPlayerActor objects (http://mxr.mozilla.org/mozilla-central/source/toolkit/devtools/server/actors/animation.js#46), which essentially are just wrappers on waapi AnimationPlayer objects.\n\nOne solution would be, whenever the method getAnimationPlayersForNode(node) on the AnimationsActor is called, add an event listener on \"new-player\" (or whatever we end up calling this new event) on node, and whenever it happens, the actor would instantiate a new AnimationPlayerActor and send it to the UI.\n\nSo we'd need this \"new-player\" event.\n\nLet me know what you think.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-13T08:20:19Z"
  }, {
    "text" : "I think it makes sense to have a notification when a new AnimationPlayer gets created or when the list of AnimationPlayers changes.  Either way.  I've filed bug 1123523 for the overall notification/observer mechanism for Web Animations API state changes, and bug 1123524 for the specific notification you need here.",
    "authour" : "cam@mcc.id.au",
    "created" : "2015-01-20T02:28:17Z"
  }, {
    "text" : "Thanks a lot Cameron!",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-20T08:00:22Z"
  }, {
    "text" : "I have a set of patches ready for this which I'll upload in a minute.\nOne note before though:\nHaving animations show up automatically when they are added also works for transitions, but transitions aren't supported as nicely right now, so there will need to be follow-up bugs:\n\n- Modifying finished transitions doesn't work, see bug 1149990.\n- Transitions are added multiple times (since the underlying Animation object is different every time). So we need reconciliation, see bug 1149999.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-01T14:38:44Z"
  }, {
    "text" : "Created attachment 8586793\nMozReview Request: bz://1120833/pbrosset\n\n/r/6463 - Bug 1120833 - 1 - Remove EventEmitter usage in AnimationPlayerFront\n/r/6465 - Bug 1120833 - 2 - Fire events about changed animations in the AnimationsActor\n/r/6467 - Bug 1120833 - 3 - Refresh the list of animation widgets when new animations are added\n/r/6469 - Bug 1120833 - 4 - Tests for animation inspector refresh on addition/removal\n\nPull down these commits:\n\nhg pull -r 1f53813689857d002c5f63db8bf46cd86cae012f https://reviewboard-hg.mozilla.org/gecko/",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-01T14:55:25Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=7092bdfbaa5c",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-01T14:56:07Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/6463/#review5353\n\nI like the old API more, but these changes are fine.  I commented on Bug 952653 about wanting .once to return a promise.\n\n::: browser/devtools/animationinspector/test/head.js\n(Diff revision 1)\n> +  player.once(player.AUTO_REFRESH_EVENT, onRefresh.resolve);\n\nThe EventTarget .once function doesn't return a promise?  That's unfortunate..",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-01T15:09:04Z"
  }, {
    "text" : "Patrick, do you need me to review anything here? I see an r? in bugzilla, but ReviewBoard says the change is discarded.",
    "authour" : "past@mozilla.com",
    "created" : "2015-04-01T16:16:16Z"
  }, {
    "text" : "(In reply to Panos Astithas [:past] from comment #8)\n> Patrick, do you need me to review anything here? I see an r? in bugzilla,\n> but ReviewBoard says the change is discarded.\nAs discussed on IRC, this happened because I pushed a review, then realized there was a typo, cancelled the review, then fixed the typo (edited the individual commit by committing, rebasing and histediting), and pushed to review again. Everything looked fine on the reviewboard UI, but you're right, reviewboard seems to think this commit is discarded. Can you try to review it on reviewboard still? If that doesn't work I can try and push again.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-01T17:08:22Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/6465/#review5377\n\n::: toolkit/devtools/server/actors/animation.js\n(Diff revision 1)\n> -    let actors = [];\n> +    // No care is taken here to destroyed the previously stored actors because\n\nTypo: \"to destroy\"\n\n::: toolkit/devtools/server/actors/animation.js\n(Diff revision 1)\n> +        // are finished and not filling forward.\n\nNit: \"moving forward\" maybe?\n\n::: toolkit/devtools/server/tests/browser/browser_animation_actors_13.js\n(Diff revision 1)\n> +  is(changes[0].player.initialState. name, \"move\",\n\nThere appears to be a space between dot and \"name\".\n\n::: toolkit/devtools/server/tests/browser/browser_animation_actors_13.js\n(Diff revision 1)\n> +  is(changes[1].player.initialState. name, \"glow\",\n\nSame here.",
    "authour" : "past@mozilla.com",
    "created" : "2015-04-02T09:08:33Z"
  }, {
    "text" : "Comment on attachment 8586793\nMozReview Request: bz://1120833/pbrosset\n\nhttps://reviewboard.mozilla.org/r/6461/#review5379\n\nShip It!",
    "authour" : "past@mozilla.com",
    "created" : "2015-04-02T09:09:35Z"
  }, {
    "text" : "Pushed part 1 to fx-team: https://hg.mozilla.org/integration/fx-team/rev/7bbdae4751bc",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-02T10:49:43Z"
  }, {
    "text" : "Comment on attachment 8586793\nMozReview Request: bz://1120833/pbrosset\n\nhttps://reviewboard.mozilla.org/r/6461/#review5381\n\n::: toolkit/devtools/server/tests/browser/browser_animation_actors_13.js\n(Diff revision 1)\n> +  is(changes[0].player.initialState. name, \"move\",\n\nis(changes[0].player.initialState. name, \"move\",\n\nShould be:\n\nis(changes[0].player.initialState.name, \"move\",\n\nAlso:\n\nis(changes[1].player.initialState. name, \"glow\",\n\nShould be:\n\nis(changes[1].player.initialState.name, \"glow\",\n\nWith those changes r+",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-04-02T10:52:21Z"
  }, {
    "text" : "part 2 in fx-team after rebase and corrections as per Panos' feedback: https://hg.mozilla.org/integration/fx-team/rev/0b0353d78365",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-02T11:20:30Z"
  }, {
    "text" : "(In reply to Michael Ratcliffe [:miker] [:mratcliffe] from comment #13)\n> Comment on attachment 8586793\n> MozReview Request: bz://1120833/pbrosset\n> \n> https://reviewboard.mozilla.org/r/6461/#review5381\n> \n> ::: toolkit/devtools/server/tests/browser/browser_animation_actors_13.js\n> (Diff revision 1)\n> > +  is(changes[0].player.initialState. name, \"move\",\n> \n> is(changes[0].player.initialState. name, \"move\",\n> \n> Should be:\n> \n> is(changes[0].player.initialState.name, \"move\",\n> \n> Also:\n> \n> is(changes[1].player.initialState. name, \"glow\",\n> \n> Should be:\n> \n> is(changes[1].player.initialState.name, \"glow\",\n> \n> With those changes r+\nThanks Mike, but Panos has already reviewed this commit (see comment 10).\nI seems like reviewboard doesn't make it very simple to know what has been reviewed and what has not.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-02T11:23:13Z"
  }, {
    "text" : "Looking at the bug and reviewboard, I wasn't sure what had been and hadn't been reviewed, so I checked with Mike on IRC and he did review the whole thing.\nSo here are parts 3 and 4 in fx-team:\n\nremote:   https://hg.mozilla.org/integration/fx-team/rev/501fa7c170ed\nremote:   https://hg.mozilla.org/integration/fx-team/rev/2fe22ffef154",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-02T14:20:52Z"
  }, {
    "text" : "Backed out for causing bug 1150615.\nhttps://hg.mozilla.org/integration/fx-team/rev/0cb8a23d435d",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-02T18:42:48Z"
  }, {
    "text" : "So, parts 3 and 4 have been backed out, because of one of the tests I added which fails on windows.\nI've gone through the test logs and code, and I have a pretty simple way to fix it.\nBut I've relanded the fixes for bug 1134500 and bug 1120833 which had been part of the group backout, and so I'll wait for this to stick first.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-03T08:58:47Z"
  }, {
    "text" : "Created attachment 8587862\n4 - Tests for animation inspector refresh on addition/removal",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-03T09:20:33Z"
  }, {
    "text" : "Try push with the new parts 3 and 4: https://treeherder.mozilla.org/#/jobs?repo=try&revision=641a48df4fa5",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-03T12:32:06Z"
  }, {
    "text" : "Re-landed parts 3 and 4:\n\nremote:   https://hg.mozilla.org/integration/fx-team/rev/48511c3e78fd\nremote:   https://hg.mozilla.org/integration/fx-team/rev/e2a6360204f1",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-04-03T15:22:01Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/48511c3e78fd\nhttps://hg.mozilla.org/mozilla-central/rev/e2a6360204f1",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-04-04T17:57:03Z"
  }, {
    "text" : "Comment on attachment 8586793\nMozReview Request: bz://1120833/pbrosset",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:16Z"
  }, {
    "text" : "Created attachment 8619113\nMozReview Request: Bug 1120833 - 2 - Fire events about changed animations in the AnimationsActor",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:16Z"
  }, {
    "text" : "Created attachment 8619114\nMozReview Request: Bug 1120833 - 3 - Refresh the list of animation widgets when new animations are added",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:16Z"
  }, {
    "text" : "Created attachment 8619115\nMozReview Request: Bug 1120833 - 4 - Tests for animation inspector refresh on addition/removal",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:16Z"
  }, {
    "text" : "Created attachment 8619116\nMozReview Request: Bug 1120833 - 1 - Remove EventEmitter usage in AnimationPlayerFront",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-06-10T15:20:16Z"
  }, {
    "text" : "Is there any proper way of manually testing this?",
    "authour" : "mihai.boldan@softvision.ro",
    "created" : "2015-10-27T15:16:55Z"
  }, {
    "text" : "Created attachment 8680557\nanimation.html\n\nTo test this:\n- open this test HTML page in firefox\n- open the animation-inspector\n- click on the 2 circles to toggle the animations on them\n- every time you do, the animation-inspector should refresh to display the current list of animations",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-10-29T10:20:48Z"
  }, {
    "text" : "Created attachment 8681149\nvideo.mov\n\nUsing STR from Comment 29, I managed to Verified this feature on Nightly 44.0a1 (2015-10-29) across platforms.\nWhile testing I observed a potential issue:\nSTR:\n- open this test HTML page from Comment 29 in Firefox \n- open the animation-inspector\n- stop the animations \n- click on one circle in order to toggle the animation\n- pause the animation by clicking on the elapsed time bar\n- click on the other circle in order to toggle the animation\n- click again on the same circle in order to stop the animation.\n\nAR:\nIf the second animation is stopped after the scrubber is at the end, the scrubber from the first animation is played, but the animation is paused.\nIf the second animation is stopped before the scrubber is at the end, the scrubber from the firs animation is missing (See the attached video).\n\nNote that the issue is not reproducible if the Pause button is used for pausing the animation.",
    "authour" : "mihai.boldan@softvision.ro",
    "created" : "2015-10-30T08:23:13Z"
  }, {
    "text" : "(In reply to Mihai Boldan, QA [:mboldan] from comment #30)\n> Created attachment 8681149\n> video.mov\n> \n> Using STR from Comment 29, I managed to Verified this feature on Nightly\n> 44.0a1 (2015-10-29) across platforms.\n> While testing I observed a potential issue:\n> STR:\n> - open this test HTML page from Comment 29 in Firefox \n> - open the animation-inspector\n> - stop the animations \n> - click on one circle in order to toggle the animation\n> - pause the animation by clicking on the elapsed time bar\n> - click on the other circle in order to toggle the animation\n> - click again on the same circle in order to stop the animation.\n> \n> AR:\n> If the second animation is stopped after the scrubber is at the end, the\n> scrubber from the first animation is played, but the animation is paused.\n> If the second animation is stopped before the scrubber is at the end, the\n> scrubber from the firs animation is missing (See the attached video).\n> \n> Note that the issue is not reproducible if the Pause button is used for\n> pausing the animation.\nCould you please file a bug for these issues?\nThey come from the fact that we don't deal with mixed-playstate animations in the tool yet. So it's an improvement we need to make in future versions, but it's not an easy one.\nBug 1170159 is partly about this, but I think it makes sense to file a bug with your STRs and video just to be sure we don't loose this info. Could you maybe link the 2 bugs with the \"see also\" input?",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-11-03T10:16:11Z"
  }, {
    "text" : "I've logged Bug 1221074 for the issue found while testing this bug, so I'm marking this issue Verified Fix.",
    "authour" : "mihai.boldan@softvision.ro",
    "created" : "2015-11-03T13:11:15Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-03-26T14:33:41Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-04-04T17:57:03Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-11-03T13:11:15Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-04-04T17:57:03Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T08:20:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cam@mcc.id.au"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T08:21:43Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "985861"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T11:12:57Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1120900"
    }, {
      "name" : "cam@mcc.id.au",
      "date" : "2015-01-20T02:27:34Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1123524"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-03-26T13:17:42Z",
      "what" : "depends_on",
      "removed" : "1123524",
      "added" : "1123523"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-03-26T14:33:41Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-31T16:08:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-01T13:57:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1149999"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-01T14:55:25Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mratcliffe@mozilla.com, past@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-02T10:49:55Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "leave-open"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-02T14:20:52Z",
      "what" : "keywords",
      "removed" : "leave-open",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-02T18:40:10Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1150615"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-04-04T17:57:03Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-04-04T17:57:03Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-04-04 10:57:03"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-04-04T17:57:03Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:16Z",
      "what" : "attachments.isobsolete:8586793",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-10-27T15:16:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mihai.boldan@softvision.ro, pbrosset@mozilla.com"
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-11-03T13:11:15Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1170159, https://bugzilla.mozilla.org/show_bug.cgi?id=1221074"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-12-15T15:48:14Z",
      "what" : "component",
      "removed" : "Developer Tools: Inspector",
      "added" : "Developer Tools: Animation Inspector"
    } ],
    "flagEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-13T08:20:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-20T08:00:22Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cam@mcc.id.au)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-01T14:55:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8586793,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-01T15:09:36Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8586793,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-04-02T09:09:34Z",
      "what" : "flagtypes.name",
      "removed" : "review?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8586793,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-04-02T10:52:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mratcliffe@mozilla.com)",
      "added" : "",
      "attachmentId" : 8586793,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619113,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619114,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619115,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-06-10T15:20:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619116,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-10-27T15:16:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-10-29T10:20:48Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mihai.boldan@softvision.ro",
      "date" : "2015-10-30T08:23:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-11-03T10:16:11Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120833,
  "cclist" : [ "bgrinstead@mozilla.com", "cam@mcc.id.au", "mihai.boldan@softvision.ro", "mratcliffe@mozilla.com", "past@mozilla.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "New Performance tool should clear out its profiles when 'clear' clicked",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Like previous Profiler.",
  "comments" : [ {
    "text" : "Like previous Profiler.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-13T05:20:33Z"
  }, {
    "text" : "Created attachment 8559382\n1120800-clear-perf.patch\n\nOther non-obvious changes are the PerformanceView now no longer directly sets the lock/unlock status of the record buttons, as the controller can stop recording directly (like clearing out all recordings, including stopping the current recording), using the WILL_START|STOP events.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-04T21:39:14Z"
  }, {
    "text" : "Comment on attachment 8559382\n1120800-clear-perf.patch\n\nReview of attachment 8559382:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance-controller.js\n@@ +82,5 @@\n>    RECORDING_WILL_START: \"Performance:RecordingWillStart\",\n>    RECORDING_WILL_STOP: \"Performance:RecordingWillStop\",\n>  \n> +  // When recordings have been cleared out\n> +  CLEAR_RECORDINGS: \"Performance:ClearRecordings\",\n\ns/CLEAR_RECORDINGS/RECORDINGS_CLEARED/, or see the comment below.\n\n@@ +273,5 @@\n> +    }\n> +\n> +    this._recordings.length = 0;\n> +    this.setCurrentRecording(null);\n> +    this.emit(EVENTS.CLEAR_RECORDINGS);\n\nIs EVENTS.CLEAR_RECORDINGS really necessary? Can't we just yield on UI_CLEAR_RECORDINGS and RECORDING_SELECTED?\n\n::: browser/devtools/performance/performance-view.js\n@@ +131,5 @@\n>    /**\n> +   * Fired when a recording is starting, but not yet completed.\n> +   */\n> +  _onRecordingWillStart: function () {\n> +    this._lockRecordButton();\n\nIsn't it redundant to lockRecordButton() both on both EVENTS.RECORDING_WILL_START and EVENTS.RECORDING_STARTED?\n\n::: browser/devtools/performance/test/browser_perf-clear-02.js\n@@ +13,5 @@\n> +  yield startRecording(panel);\n> +  yield stopRecording(panel);\n> +\n> +  yield startRecording(panel);\n> +\n\nMaybe yield on RECORDING_STOPPED here?\n\n::: browser/devtools/performance/views/recordings.js\n@@ +167,5 @@\n>  \n>    /**\n> +   * Clears out all recordings.\n> +   */\n> +  _onClearRecordings: function () {\n\ns/.../_onRecordingsCleared/",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-04T23:11:40Z"
  }, {
    "text" : "Comment on attachment 8559382\n1120800-clear-perf.patch\n\nReview of attachment 8559382:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance-controller.js\n@@ +267,5 @@\n> +   */\n> +  clearRecordings: Task.async(function* () {\n> +    let latest = this._getLatestRecording();\n> +\n> +    if (latest && latest.isRecording()) {\n\nShould be careful in future patches, because we can still be recording something even if the latest recording is finished. Also, everything will need to be stopped, not just the last recording.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-04T23:12:47Z"
  }, {
    "text" : "Currently, only the last recording can be in progress. Even when we add console hooks, other recordings can be recorded, but only one manually. So I guess we should change _getLatestRecording to something that indicates this is the recording model in progress (the comments on _getLatestRecording indicate that, but do not check if the model is spawned via console).\n\nI'll make a note of this in bug 1077464 to track that use case\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=6d4d775dfb01",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-04T23:58:38Z"
  }, {
    "text" : "Comment on attachment 8559382\n1120800-clear-perf.patch\n\nReview of attachment 8559382:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance-controller.js\n@@ +273,5 @@\n> +    }\n> +\n> +    this._recordings.length = 0;\n> +    this.setCurrentRecording(null);\n> +    this.emit(EVENTS.CLEAR_RECORDINGS);\n\nWe could, but right now, we have a clear separation of all UI_* events (only emitted by the PerformanceView, and handled by the controller, which all other views subscribe to). This lets us hook into a final event, and currently it's immediately after RECORDING_SELECTED, but that's not necessarily true in the future\n\n::: browser/devtools/performance/performance-view.js\n@@ +131,5 @@\n>    /**\n> +   * Fired when a recording is starting, but not yet completed.\n> +   */\n> +  _onRecordingWillStart: function () {\n> +    this._lockRecordButton();\n\nI don't understand -- the WILL_START|STOP events lock the button, and STARTED|STOPPED unlock the button currently",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-05T00:05:49Z"
  }, {
    "text" : "Created attachment 8559513\n1120800-clear-perf.patch",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-05T00:41:16Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/525132c2c642",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-05T00:43:18Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/525132c2c642",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-05T13:39:25Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-04T18:36:31Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:25Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:25Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T05:21:02Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-27T17:42:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-02T22:18:21Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-02T23:20:29Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1120699"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-04T21:39:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T00:41:16Z",
      "what" : "attachments.isobsolete:8559382",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T00:43:18Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:25Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:25Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:25Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-05 05:39:25"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:25Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-04T21:39:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559382,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-04T23:11:40Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8559382,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T00:41:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559513,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120800,
  "cclist" : [ "vporof@mozilla.com" ]
}, {
  "component" : "Sync",
  "summary" : "Offer a \"learn more\" link somewhere in the migration UI",
  "reporter" : "markh@mozilla.com",
  "assigned" : "adw@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I've noticed that nowhere in the migration flow is a \"learn more\" link for people who are offered a migration.  There may be a number of users who want to understand exactly why this migration is being offered and how the new system works, but there's no way for them to learn about it.\n\nI was thinking the infobar, or sync prefs, or something, should have a \"learn more\" link which takes the user to an MDN article.\n\nRyan, do you agree?  If not, we can close this as WONTFIX.  If so, I guess we need to know exactly where such a link would be added and a new bug for someone to create that content.",
  "comments" : [ {
    "text" : "I've noticed that nowhere in the migration flow is a \"learn more\" link for people who are offered a migration.  There may be a number of users who want to understand exactly why this migration is being offered and how the new system works, but there's no way for them to learn about it.\n\nI was thinking the infobar, or sync prefs, or something, should have a \"learn more\" link which takes the user to an MDN article.\n\nRyan, do you agree?  If not, we can close this as WONTFIX.  If so, I guess we need to know exactly where such a link would be added and a new bug for someone to create that content.",
    "authour" : "markh@mozilla.com",
    "created" : "2015-01-12T23:49:32Z"
  }, {
    "text" : "A link seems to be the most compatible element given that there are already 2 buttons in some contexts",
    "authour" : "rfeeley@mozilla.com",
    "created" : "2015-01-14T23:09:40Z"
  }, {
    "text" : "*** Bug 1127097 has been marked as a duplicate of this bug. ***",
    "authour" : "adw@mozilla.com",
    "created" : "2015-01-28T23:21:19Z"
  }, {
    "text" : "From bug 1127097, the link is https://support.mozilla.org/1/firefox/%VERSION%/%OS%/%LOCALE%/sync-upgrade",
    "authour" : "adw@mozilla.com",
    "created" : "2015-01-28T23:22:19Z"
  }, {
    "text" : "Created attachment 8558222\npatch\n\n* Adds the link in the main infobar and the two prefs infobars in the needs-user state.  The link isn't offered if the user already upgraded on a different device because presumably they already have learned more.\n\n* Added a link param to Weave's Notification class.\n\n* The link is inserted into its xul:notification using the node.ownerDocument.getAnonymousElementByAttribute trick, which is how the other links in xul:notifications work.  Ideally there'd be an API...\n\n* Links in xul:notifications get the default hyperlink color, which looks terrible at least in OS X notifications with INFO priorities.  And not great elsewhere IMO.  I took the liberty of changing the color globally to be the same as the notification text, and then I added an underline.  It looks better.\n\n* I stuck the URL of the support page in a pref.  Not sure why these have to be in prefs, but that seems to be the standard.  Not sure whether the pref name I chose is OK.",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-03T00:10:58Z"
  }, {
    "text" : "Comment on attachment 8558222\npatch\n\nReview of attachment 8558222:\n-----------------------------------------------------------------\n\nr- just for the pref and string, but otherwise looks good.  That said though, (a) can we get a screen-shot attached do we can run it past Ryan, and (b) I'm not particularly comfortable with the CSS change - I don't have a problem with it, but my knowledge is such that I don't know what I'd be looking out for.  Blair, are you able to sanity check the CSS changes here, or suggest someone else?  See comment 4 for the rationale.\n\n::: browser/app/profile/firefox.js\n@@ +1222,5 @@\n>  \n>  #ifdef MOZ_SERVICES_SYNC\n>  // The sync engines to use.\n>  pref(\"services.sync.registerEngines\", \"Bookmarks,Form,History,Password,Prefs,Tab,Addons\");\n> +pref(\"services.sync.fxaMigration.learnMoreURL\", \"https://support.mozilla.org/1/firefox/%VERSION%/%OS%/%LOCALE%/sync-upgrade\");\n\nI don't think we want this pref - see later.\n\n::: services/sync/modules/FxaMigrator.jsm\n@@ +468,5 @@\n>    }),\n>  \n> +  get learnMoreLink() {\n> +    try {\n> +      var url = Services.prefs.getCharPref(LEARN_MORE_URL_PREF);\n\nI think this should just be: Services.urlFormatter.formatURLPref(\"app.support.baseURL\") + \"sync-upgrade\" (so no need for a new pref - hard-coding the \"tail\" portion is typical)\n\n@@ +474,5 @@\n> +      return null;\n> +    }\n> +    let sb = Services.strings.createBundle(\"chrome://weave/locale/services/sync.properties\");\n> +    return {\n> +      text: sb.GetStringFromName(\"sync.eol.learnMore.label\"),\n\nI can't see where this string is set in this patch, but can we investigate reusing another string just for uplift (eg, maybe we *do* add a new string for this patch to land in central, but abuse things in a patch for Aurora that reuses?)",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-03T00:43:43Z"
  }, {
    "text" : "Created attachment 8558241\nnotification-links.png\n\nFYI here are the three xul:notification priorities on OS X with the patch applied.",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-03T00:58:44Z"
  }, {
    "text" : "Created attachment 8558243\nlearn-more.png\n\nTop: Infobar in the main window\nMiddle: In-content prefs\nBottom: Dialog prefs",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-03T01:06:36Z"
  }, {
    "text" : "(In reply to Mark Hammond [:markh] from comment #5)\n> @@ +474,5 @@\n> > +      return null;\n> > +    }\n> > +    let sb = Services.strings.createBundle(\"chrome://weave/locale/services/sync.properties\");\n> > +    return {\n> > +      text: sb.GetStringFromName(\"sync.eol.learnMore.label\"),\n> \n> I can't see where this string is set in this patch, but can we investigate\n> reusing another string just for uplift (eg, maybe we *do* add a new string\n> for this patch to land in central, but abuse things in a patch for Aurora\n> that reuses?)\n\nThat's the string created by this changeset: http://hg.mozilla.org/mozilla-central/rev/9e834d0decc2  I really don't think this needs a new string.  This existing string is exactly what we want.",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-03T01:09:32Z"
  }, {
    "text" : "(In reply to Drew Willcoxon :adw from comment #8)\n> That's the string created by this changeset:\n> http://hg.mozilla.org/mozilla-central/rev/9e834d0decc2  I really don't think\n> this needs a new string.  This existing string is exactly what we want.\n\nAck - sorry about that - I don't know how I managed to screw up my mxr search for it :)",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-03T01:15:28Z"
  }, {
    "text" : "I'm hoping we can use the native prefs style for the native prefs and the in-content style defined by Maslaney for the in-content prefs.",
    "authour" : "rfeeley@mozilla.com",
    "created" : "2015-02-03T04:47:07Z"
  }, {
    "text" : "(In reply to Ryan Feeley from comment #10)\n> I'm hoping we can use the native prefs style for the native prefs and the\n> in-content style defined by Maslaney for the in-content prefs.\n\nYou mean for the entire infobar, right?  Sadly this bug is just about the link, and we probably need a new bug for the general look of the bar.\n\nOr maybe I'm missing what you are saying and just the link in the infobar needs different styling?\n\nRyan, can you please clarify?",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-03T05:10:19Z"
  }, {
    "text" : "Comment on attachment 8558222\npatch\n\nReview of attachment 8558222:\n-----------------------------------------------------------------\n\nGiven my mistake about the string and the fact that changing the pref is a trivial change I don't need to see again.  Assuming rfeeley and unfocused like it, go for it!",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-03T23:03:38Z"
  }, {
    "text" : "Link looks great, but yeah, infobar doesn't match.",
    "authour" : "rfeeley@mozilla.com",
    "created" : "2015-02-03T23:05:48Z"
  }, {
    "text" : "Comment on attachment 8558222\npatch\n\nReview of attachment 8558222:\n-----------------------------------------------------------------\n\nAs discussed on IRC.",
    "authour" : "blair@theunfocused.net",
    "created" : "2015-02-04T01:06:56Z"
  }, {
    "text" : "Created attachment 8558840\npatch v2\n\nBlair, would you mind double checking my CSS?",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-04T01:08:46Z"
  }, {
    "text" : "Comment on attachment 8558840\npatch v2\n\nReview of attachment 8558840:\n-----------------------------------------------------------------\n\n::: toolkit/themes/linux/global/notification.css\n@@ +5,5 @@\n>  @namespace url(\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\");\n>  \n> +notification,\n> +.messageText > .text-link {\n> +  color: InfoText !important;\n\nCan you double check usage of !important is needed for these? Generally best to avoid them, if possible.",
    "authour" : "blair@theunfocused.net",
    "created" : "2015-02-04T04:44:15Z"
  }, {
    "text" : "Created attachment 8559386\nnotification-links-win-linux.png\n\nYeah, the !importants are necessary it seems.  I tested on all three platforms.\n\nTo complement the OS X screenshots I posted earlier, here are before and after screenshots on Windows and Linux, Windows on top, Linux on bottom.  The only notification that looks bad with blue links is the red high-priority one, on both platforms.\n\nI'll land this patch now, but I can land a follow-up that retains the current blue link color for info- and medium-priority notifications on Windows and Linux, using the main text color only for high-priority notifications, if anyone thinks that's a good idea.",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-04T21:49:15Z"
  }, {
    "text" : "Er, I forgot to remove the text-decoration: underline in the before shots, so imagine the underlines not being there. :-/",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-04T21:50:21Z"
  }, {
    "text" : "Created attachment 8559401\nlanded unbitrotted patch\n\nhttps://hg.mozilla.org/integration/fx-team/rev/618b9a0b2941",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-04T22:01:32Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/618b9a0b2941",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-05T01:26:56Z"
  }, {
    "text" : "Comment on attachment 8559401\nlanded unbitrotted patch\n\nThis patch must land after bug 1097406 lands on Aurora.\n\nApproval Request Comment\n[Feature/regressing bug #]: Not a regression, but part of legacy-Sync-to-FxA migration.\n\n[User impact if declined]: This patch adds a \"Learn more\" link to messsages asking the user to upgrade from old Sync to FxA. Without that link, the user still sees the messages but doesn't have an easy way to understand what they mean.\n\n[Describe test coverage new/current, TreeHerder]: Manual testing only.\n\n[Risks and why]: Low risk, simply adding a link to existing messages in an infobar and messages in the Sync preferences pane.\n\n[String/UUID change made/needed]: None. (The appropriate \"Learn more\" string already exists in our string files.)",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-05T18:30:37Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/06736b6f84c5",
    "authour" : "adw@mozilla.com",
    "created" : "2015-02-06T17:49:44Z"
  }, {
    "text" : "Verified that the 'Learn more' link is present in the migration UI and redirects to https://support.mozilla.org/en-US/kb/firefox-sync-upgrade-frequently-asked-questions?as=u&utm_source=inproduct. I tested on Windows 7 64-bit, Mac OS X 10.10 and Ubuntu 14.04 32-bit using Firefox 37beta4 and latest Developer Edition.",
    "authour" : "bogdan.maris@softvision.ro",
    "created" : "2015-03-10T15:09:57Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "adw@mozilla.com",
      "date" : "2015-01-28T23:22:19Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:26:56Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "bogdan.maris@softvision.ro",
      "date" : "2015-03-10T15:09:57Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:26:56Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-12T23:49:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "rfeeley@mozilla.com"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-12T23:53:58Z",
      "what" : "cc",
      "removed" : "",
      "added" : "adw@mozilla.com"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-14T22:48:00Z",
      "what" : "cc",
      "removed" : "",
      "added" : "edwong@mozilla.com"
    }, {
      "name" : "kthiessen@mozilla.com",
      "date" : "2015-01-15T21:25:00Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kthiessen@mozilla.com"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-01-28T23:22:19Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-01-28T23:22:19Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-01-28T23:22:19Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "adw@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-29T00:33:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-03T00:10:58Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mhammond@mozilla.com"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-03T00:43:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bmcbride@mozilla.com"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-04T01:08:46Z",
      "what" : "attachments.isobsolete:8558222",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-04T22:01:32Z",
      "what" : "attachments.isobsolete:8558840",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:26:56Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:26:56Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-04 17:26:56"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-06T17:49:44Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-06T17:49:44Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-23T12:51:08Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1130850"
    }, {
      "name" : "bogdan.maris@softvision.ro",
      "date" : "2015-03-10T15:09:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bogdan.maris@softvision.ro"
    }, {
      "name" : "bogdan.maris@softvision.ro",
      "date" : "2015-03-10T15:09:57Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "bogdan.maris@softvision.ro",
      "date" : "2015-03-10T15:09:57Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "markh@mozilla.com",
      "date" : "2015-01-12T23:49:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "rfeeley@mozilla.com",
      "date" : "2015-01-14T23:09:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(rfeeley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-01-28T23:28:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-03T00:10:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558222,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-03T00:43:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mhammond@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558222,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-03T01:06:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558243,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-03T05:10:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-03T23:03:38Z",
      "what" : "flagtypes.name",
      "removed" : "review-",
      "added" : "",
      "attachmentId" : 8558222,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "rfeeley@mozilla.com",
      "date" : "2015-02-03T23:05:48Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(rfeeley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "blair@theunfocused.net",
      "date" : "2015-02-04T01:06:56Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(bmcbride@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558222,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-04T01:08:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558840,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "blair@theunfocused.net",
      "date" : "2015-02-04T04:44:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bmcbride@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558840,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-02-05T18:30:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559401,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-06T03:00:44Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8559401,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "adw@mozilla.com",
      "date" : "2015-03-16T18:48:41Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(rfeeley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558243,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120716,
  "cclist" : [ "adw@mozilla.com", "blair@theunfocused.net", "bogdan.maris@softvision.ro", "edwong@mozilla.com", "kthiessen@mozilla.com", "markh@mozilla.com", "mmucci@mozilla.com", "rfeeley@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "New Performance tool should toggle between empty/recording/content views",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Like the original profiler, on recording and waiting and loaded states, we should display something other than the empty waterfall/calltree/flamegraph views.",
  "comments" : [ {
    "text" : "Like the original profiler, on recording and waiting and loaded states, we should display something other than the empty waterfall/calltree/flamegraph views.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-12T23:10:33Z"
  }, {
    "text" : "Created attachment 8548381\nPatch v1\n\nNeeds rebasing on top of bug 1111004, and maybe some tests.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-13T19:55:58Z"
  }, {
    "text" : "Created attachment 8548434\nPatch v2\n\nRebased and added test.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-13T21:25:25Z"
  }, {
    "text" : "Created attachment 8548447\nPatch v2.1\n\nFixed issue where the stopwatch icon was white in light theme (for the notice).\n\nf?bgrins for the changes in toolbars.inc.css. Note that I don't use an id for the button, to avoid the duplicated id problem we had with the (old) profiler and the timeline.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-13T21:50:37Z"
  }, {
    "text" : "Comment on attachment 8548447\nPatch v2.1\n\nReview of attachment 8548447:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance-view.js\n@@ +71,5 @@\n>    _onRecordButtonClick: function (e) {\n>      if (this._recordButton.hasAttribute(\"checked\")) {\n>        this._recordButton.removeAttribute(\"checked\");\n>        this._lockRecordButton();\n> +      $(\"#profile-pane\").selectedPanel = $(\"#details-pane\");\n\nSo I don't think this'll work here. For example, if we start/stop one profile, and then start a second one, click back to the first, the \"recording notice\" is still displayed. We should display the details view for the currently selected profile, if it is done, or if its recording, and NOT from the console (which we don't even have built in yet, the console.profile hooks), then we should display the recording notice.\n\nI think it might be easier/make more sense if we hooked into the EVENTS.RECORDING_SELETED event from the performance controller, which passes in a RecordingModel[0] object, which can tell you whether or not the model is currently recording. Then will probably need something when RECORDING_STOPPED is called as well to check again. Let me know if you have any questions about this!\n\n[0] https://github.com/mozilla/gecko-dev/blob/master/browser/devtools/performance/modules/recording-model.js",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-14T15:23:32Z"
  }, {
    "text" : "Created attachment 8548923\npadding issue in OSX\n\nAlso looks like there's some padding issue on OSX for the clock button",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-14T15:24:38Z"
  }, {
    "text" : "Great stuff so far :) hit me with another r? once those issues are resolved",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-14T15:25:42Z"
  }, {
    "text" : "Comment on attachment 8548447\nPatch v2.1\n\nReview of attachment 8548447:\n-----------------------------------------------------------------\n\nChanges to toolbars.inc.css look good\n\n::: browser/themes/shared/devtools/toolbars.inc.css\n@@ +892,5 @@\n>  .theme-light .command-button-invertable[checked=true]:not(:active) > image,\n>  .theme-light .devtools-tab[icon-invertable][selected] > image,\n>  .theme-light .devtools-tab[icon-invertable][highlighted] > image,\n>  .theme-light #record-snapshot[checked] > image,\n> +.theme-light #profiler-start[checked] > image,\n\nI'm not sure what element this is referring to, but a quick search turns up nothing: https://dxr.mozilla.org/mozilla-central/search?q=profiler-start&redirect=true.  Maybe this selector should be removed while you are in here.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-15T20:03:55Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #7)\n> Comment on attachment 8548447\n> Patch v2.1\n> \n> Review of attachment 8548447:\n> -----------------------------------------------------------------\n> \n> Changes to toolbars.inc.css look good\n> \n> ::: browser/themes/shared/devtools/toolbars.inc.css\n> @@ +892,5 @@\n> >  .theme-light .command-button-invertable[checked=true]:not(:active) > image,\n> >  .theme-light .devtools-tab[icon-invertable][selected] > image,\n> >  .theme-light .devtools-tab[icon-invertable][highlighted] > image,\n> >  .theme-light #record-snapshot[checked] > image,\n> > +.theme-light #profiler-start[checked] > image,\n> \n> I'm not sure what element this is referring to, but a quick search turns up\n> nothing:\n> https://dxr.mozilla.org/mozilla-central/search?q=profiler-\n> start&redirect=true.  Maybe this selector should be removed while you are in\n> here.\n\nVictor - is there such a thing as the #profiler-start element anymore?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-15T20:04:18Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #8)\n> \n> Victor - is there such a thing as the #profiler-start element anymore?\n\nDon't think so.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-17T19:34:56Z"
  }, {
    "text" : "Comment on attachment 8548447\nPatch v2.1\n\nReview of attachment 8548447:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance.xul\n@@ +88,5 @@\n> +                  checked=\"true\"\n> +                  oncommand=\"PerformanceView._onRecordButtonClick()\"/>\n> +          <label value=\"&profilerUI.stopNotice2;\"/>\n> +        </hbox>\n> +        <deck id=\"details-pane\" flex=\"1\">\n\nYou know you're having fun when building decks inside of decks.\n\nIgnore this comment.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-17T20:13:46Z"
  }, {
    "text" : "Updated the label bug (bug 1121086) with these for now, can change before we launch if we need. Check out comment #4 in that bug",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-20T20:36:38Z"
  }, {
    "text" : "Created attachment 8558258\n1120699-perf-panels.patch\n\ngood to go -- still seeing that padding issue in OSX, though.\n\nMoved the labels patch to depend on this instead, as other things are dependent on this, can nail down what the text should be in that other patch which will just be locale changes",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-03T01:32:18Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=f2f3f058542c",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-03T01:36:22Z"
  }, {
    "text" : "Comment on attachment 8558258\n1120699-perf-panels.patch\n\nReview of attachment 8558258:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance-view.js\n@@ +11,5 @@\n> +  _state: null,\n> +\n> +  // Mapping of state to selectors for different panes\n> +  // of the main profiler view. Used in `PerformanceView.setState()`\n> +  states: {\n\nWow\n\n@@ +124,5 @@\n> +   */\n> +  _onRecordingStopped: function (_, recording) {\n> +    this._unlockRecordButton();\n> +\n> +    // If this recording stopped is the current recording, set the\n\ns/recording stopped/stopped recording/\n\n::: browser/devtools/performance/performance.xul\n@@ +42,5 @@\n>                 class=\"devtools-toolbar\">\n>          <hbox id=\"recordings-controls\"\n>                class=\"devtools-toolbarbutton-group\">\n>            <toolbarbutton id=\"record-button\"\n> +                         class=\"devtools-toolbarbutton record-button\"\n\nAre we having both #record-button and .record-button? That's kinda' horrible.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-03T01:55:30Z"
  }, {
    "text" : "Comment on attachment 8558258\n1120699-perf-panels.patch\n\nReview of attachment 8558258:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/performance-view.js\n@@ +11,5 @@\n> +  _state: null,\n> +\n> +  // Mapping of state to selectors for different panes\n> +  // of the main profiler view. Used in `PerformanceView.setState()`\n> +  states: {\n\nvery state. also, we'll need to add another state for a console recording in progress\n\n::: browser/devtools/performance/performance.xul\n@@ +42,5 @@\n>                 class=\"devtools-toolbar\">\n>          <hbox id=\"recordings-controls\"\n>                class=\"devtools-toolbarbutton-group\">\n>            <toolbarbutton id=\"record-button\"\n> +                         class=\"devtools-toolbarbutton record-button\"\n\n#record-button for the main button that persists for recording, and .record-button for anything that triggers the recording state. We could change #record-button to something like #main-recording-button, but I'm indifferent",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-03T02:09:46Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/e13315d46c4c",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-04T07:31:23Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e13315d46c4c\nhttps://hg.mozilla.org/mozilla-central/rev/61e7df6a553e",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-05T01:27:25Z"
  }, {
    "text" : "*** Bug 1101146 has been marked as a duplicate of this bug. ***",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-05T15:54:41Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T19:55:58Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-27T17:51:25Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T01:30:56Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:25Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:25Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-12T23:10:40Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T19:06:34Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1121086"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T19:55:58Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T19:55:58Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-13T20:20:02Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1111004"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:25:25Z",
      "what" : "attachments.isobsolete:8548381",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:50:37Z",
      "what" : "attachments.isobsolete:8548434",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:51:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T20:04:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-27T17:42:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-27T17:51:25Z",
      "what" : "assigned_to",
      "removed" : "ntim007@yahoo.it",
      "added" : "nobody@mozilla.org"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-02T23:20:29Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1120800"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T01:30:41Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1121086"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T01:30:41Z",
      "what" : "depends_on",
      "removed" : "1121086",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T01:30:56Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T01:32:18Z",
      "what" : "attachments.isobsolete:8548447",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T19:09:26Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-04T07:31:23Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-04T07:31:23Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:25Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:25Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-05T01:27:25Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-04 17:27:25"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-05T17:01:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1129982"
    } ],
    "flagEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T19:55:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548381,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:25:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548381,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:25:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548434,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:50:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548434,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:50:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548447,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-13T21:51:01Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?",
      "added" : "",
      "attachmentId" : 8548447,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-14T15:23:32Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548447,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T20:03:55Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8548447,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-15T20:04:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-17T19:34:56Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-03T01:32:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558258,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-03T01:55:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558258,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120699,
  "cclist" : [ "bgrinstead@mozilla.com", "jordan@jsantell.com", "vporof@mozilla.com" ]
}, {
  "component" : "Installer",
  "summary" : "Fx 35 installer crashes on XP x86 SP3 at the end (creating shortcuts) if the xp firewall service is stopped",
  "reporter" : "al_9x@yahoo.com",
  "assigned" : "robert.strong.bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "Windows XP",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "reproducible in a vm\n\nAppName: setup.exe\t AppVer: 1.0.0.0\t ModName: msvcrt.dll\nModVer: 7.0.2600.5512\t Offset: 00032a16",
  "comments" : [ {
    "text" : "reproducible in a vm\n\nAppName: setup.exe\t AppVer: 1.0.0.0\t ModName: msvcrt.dll\nModVer: 7.0.2600.5512\t Offset: 00032a16",
    "authour" : "al_9x@yahoo.com",
    "created" : "2015-01-12T22:37:11Z"
  }, {
    "text" : "Unable to reproduce with WinXP SP2 on a VM (had WinXP SP 2 handy).\n\nKamil, can you try to reproduce? Thanks!",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-12T22:48:34Z"
  }, {
    "text" : "Also tried installing on top of an existing install and was unable to reproduce on WinXP SP2",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-12T22:52:13Z"
  }, {
    "text" : "Used the following build:\n- http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/35.0-candidates/build3/\n\nChecked on the following OS's:\n- Win XP Pro x86 SP3 - PASSED (ran through it two times)\n- Win XP Pro x86 SP2 - PASSED (ran through it two times)\n- Win XP Pro x64 SP2 - PASSED (ran through it two times)\n\nLooks like it's working for me. I also launched fx a few times via the shortcut and everything worked without any issues. Couldn't reproduce any crashes :(",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-12T23:51:39Z"
  }, {
    "text" : "Reporter, does this reproduce everytime on your system?",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-12T23:53:34Z"
  }, {
    "text" : "to repro, stop the windows firewall service\n_________________________________\n\ncall stack from drwtsn32.log\n\nmsvcrt!wscanf+0x750\nmsvcrt!printf+0x35\nliteFirewallW+0x1292\nliteFirewallW!AddRule+0x4c\nsetup+0x21d8\nsetup+0x13ba\nsetup+0x13ba\n__________________________________\n\nsetup should not crash if firewall is off, but why are you adding incoming firewall rules in the first place? it certainly is not needed fro browsing.",
    "authour" : "al_9x@yahoo.com",
    "created" : "2015-01-13T00:50:22Z"
  }, {
    "text" : "Thanks!",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-13T01:09:29Z"
  }, {
    "text" : "you didn't answer:\n\nwhy are you adding incoming firewall rules in the first place? it certainly is not needed for browsing.",
    "authour" : "al_9x@yahoo.com",
    "created" : "2015-01-13T01:14:19Z"
  }, {
    "text" : "Added STR (reproduced twice):\n\n1) Download http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/35.0-candidates/build3/\n2) Disable \"Windows Firewall/Internet Connection Sharing (ICS)\" under Services\n3) Install the above build, will receive the crash during the \"Create shortcut...\" process",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-13T01:15:50Z"
  }, {
    "text" : "Sorry, didn't see the question. It was added to support bug 1054959. To disable it you can change the rule to a deny rule.",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-13T01:16:14Z"
  }, {
    "text" : "Robert, here's more information if you need it:\n\nTurning off \"Windows Firewall/Internet Connection Sharing (ICS)\"\n\n- Win XP SP2 x86 - Reproduced\n- Win XP SP3 x86 - Reproduced\n- Win XP SP2 x64 - Reproduced\n\nTurning off \"Windows Firewall\"\n\n- Win 7 Pro SP1 x86 - Couldn't reproduce the crash with the service mentioned above turned off (x2)\n- Win 7 Pro SP1 x64 - Couldn't reproduce the crash with the service mentioned above turned off (x2)\n\n- Win 8 x86 - Couldn't reproduce the crash with the service mentioned above turned off (x2)\n- Win 8.1 x86 - Couldn't reproduce the crash with the service mentioned above turned off (x2)\n\n- Win 8 x64 - Couldn't reproduce the crash with the service mentioned above turned off (x2)\n- Win 8.1 x64 - Couldn't reproduce the crash with the service mentioned above turned off (x2)\n\nI'll check Vista once I have them installed tomorrow.. Haven't added Vista since upgrading to VM Fusion 7. They also take the longest to install :/",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-13T02:58:09Z"
  }, {
    "text" : "Thanks Kamil! I have Vista VMs so no worries.",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-13T03:11:40Z"
  }, {
    "text" : "Created attachment 8548638\npatch rev1",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-14T05:00:37Z"
  }, {
    "text" : "[Tracking Requested - why for this release]:",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-14T15:13:49Z"
  }, {
    "text" : "Created attachment 8549368\npatch with comments and register preservation",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-15T04:47:06Z"
  }, {
    "text" : "Comment on attachment 8549368\npatch with comments and register preservation\n\nTested successfully on Win XP, Win Vista, Win 7, and Win 8.1 with and without the service and with an admin and non-admin accounts.",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-15T04:49:02Z"
  }, {
    "text" : "Comment on attachment 8549368\npatch with comments and register preservation\n\nBrian, I wanted to run the register preservation changes by you. Thanks!",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-15T04:51:51Z"
  }, {
    "text" : "[Tracking Requested - why for this release]:\nOn Win XP when the Firewall service isn't running the installer crashes towards the end after creating shortcuts. If there is a Firefox 35 point release I'd like to get this in.",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-15T04:56:28Z"
  }, {
    "text" : "Comment on attachment 8549368\npatch with comments and register preservation\n\nReview of attachment 8549368:\n-----------------------------------------------------------------\n\nLooks good to me Robert!  One nit inline.\n\n::: browser/installer/windows/nsis/shared.nsh\n@@ +1570,5 @@\n> +  Push $R7\n> +  Push $R6\n> +  Push \"false\"\n> +\n> +  System::Call 'advapi32::OpenSCManagerW(n, n, i ${SC_MANAGER_ALL_ACCESS}) i.R6'\n\nI'd ask for less access here if possible.  Could fail for some account setups.",
    "authour" : "netzen@gmail.com",
    "created" : "2015-01-15T13:55:07Z"
  }, {
    "text" : "Hey Robert, I'm awfully unfamiliar with nsis. Did you want me to review everything, or was there something specific that you wanted my feedback on? I'm happy to go over the patch, with the caveat that it may take me some time to understand it well enough to give it my r+. If this is urgent I'm happy to defer to Brian's review. Just let me know. Thanks!",
    "authour" : "spohl.mozilla.bugs@gmail.com",
    "created" : "2015-01-15T15:42:30Z"
  }, {
    "text" : "We're still collecting potential drivers & ride along issues, tracking this as a potential ride along.",
    "authour" : "lukasblakk+bugs@gmail.com",
    "created" : "2015-01-15T18:09:49Z"
  }, {
    "text" : "Since jsavage (who normally writes english articles) is on PTO, ideato, madalina and I wrote a SUMO KB article about this:\n\nhttps://support.mozilla.org/en-US/kb/firefox-installer-crashes-windows-xp",
    "authour" : "rtanglao@mozilla.com",
    "created" : "2015-01-15T19:14:23Z"
  }, {
    "text" : "Pushed to mozilla-central with sheriff approval\nhttps://hg.mozilla.org/mozilla-central/rev/89a190592267",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-15T21:15:57Z"
  }, {
    "text" : "Comment on attachment 8549368\npatch with comments and register preservation\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1090535\n[User impact if declined]: Installing on Win XP when the Firewall service is not running will crash the installer\n[Describe test coverage new/current, TBPL]: Manually tested on Windows with and without the Firewall service running.\n[Risks and why]: minimal due to lots of manual testing.\n[String/UUID change made/needed]: None.\n\nNote: I'd also like to get this into release if there is a point release",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-15T22:34:14Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/374a9adf2786\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/0f43b4df53bb",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-16T15:29:49Z"
  }, {
    "text" : "Comment on attachment 8549368\npatch with comments and register preservation\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1090535\n[User impact if declined]: Installing on Win XP when the Firewall service is not running will crash the installer\n[Describe test coverage new/current, TBPL]: Manually tested on Windows with and without the Firewall service running.\n[Risks and why]: minimal due to lots of manual testing.\n[String/UUID change made/needed]: None.",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-16T19:50:06Z"
  }, {
    "text" : "Created attachment 8552575\ninstallWithFirewallEnabled.png\n\nTest Cases used for verification:\n\nTest Case #1:\n\n* Disabled \"Windows Firewall/Internet Connection Sharing (ICS)\"\n* Installed build: http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2015-01-21-03-02-03-mozilla-central/\n* re-launched fx several times and ensured there wasn't any crashes\n* re-enabled \"Windows Firewall/Internet Connection Sharing (ICS)\" and launched fx several times\n** received the Firewall warning and selected \"unblock\"\n** ensured that Nightly appeared under \"Exceptions\" list under \"Windows Firewall\"\n* Disabled \"Windows Firewall/Internet Connection Sharing (ICS)\" once again and opened fx several times\n* re-enabled \"Windows Firewall/Internet Connection Sharing (ICS)\" and launched fx several times\n\nTest Case #2:\n\n* installed an older version of Nightly\n* once installed, disabled \"Windows Firewall/Internet Connection Sharing (ICS)\"\n* proceeded with Nightly update with the firewall disabled\n* ensured that Nightly updates without any issues or crashes and fx launches without any problems\n* enabled \"Windows Firewall/Internet Connection Sharing (ICS)\" and launched FX several times\n\nWent through the above test cases on the following OS's:\n\n- Windows XP Pro x86 SP2 - PASSED\n- Windows XP Pro x86 SP3 - PASSED\n- Windows XP Pro x64 SP2 - PASSED\n\nOne thing that I noticed while going through this:\n\n* Nightly appears as \"Nightly (C:\\Program Files\\Nightly)\" under the exception list when installing fx while the firewall service is enabled\n** Check installWithFirewallEnabled image\n* Nightly appears as \"Nightly\" under the exception list when installing fx while the firewall is enabled via the \"Unblock\" prompt\n** Check \n\nRobert, this doesn't seem like a problem but just making sure this doesn't lead to anything more serious?",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-21T18:29:53Z"
  }, {
    "text" : "Created attachment 8552576\ninstallWithoutFirewallEnabled.png",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-21T18:30:10Z"
  }, {
    "text" : "(In reply to Kamil Jozwiak [:kjozwiak] from comment #26)\n> Created attachment 8552575\n> installWithFirewallEnabled.png\n> \n> Test Cases used for verification:\n> \n> Test Case #1:\n> \n> * Disabled \"Windows Firewall/Internet Connection Sharing (ICS)\"\n> * Installed build:\n> http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2015-01-21-03-02-03-\n> mozilla-central/\n> * re-launched fx several times and ensured there wasn't any crashes\n> * re-enabled \"Windows Firewall/Internet Connection Sharing (ICS)\" and\n> launched fx several times\n> ** received the Firewall warning and selected \"unblock\"\n> ** ensured that Nightly appeared under \"Exceptions\" list under \"Windows\n> Firewall\"\n> * Disabled \"Windows Firewall/Internet Connection Sharing (ICS)\" once again\n> and opened fx several times\n> * re-enabled \"Windows Firewall/Internet Connection Sharing (ICS)\" and\n> launched fx several times\n> \n> Test Case #2:\n> \n> * installed an older version of Nightly\n> * once installed, disabled \"Windows Firewall/Internet Connection Sharing\n> (ICS)\"\n> * proceeded with Nightly update with the firewall disabled\n> * ensured that Nightly updates without any issues or crashes and fx launches\n> without any problems\n> * enabled \"Windows Firewall/Internet Connection Sharing (ICS)\" and launched\n> FX several times\n> \n> Went through the above test cases on the following OS's:\n> \n> - Windows XP Pro x86 SP2 - PASSED\n> - Windows XP Pro x86 SP3 - PASSED\n> - Windows XP Pro x64 SP2 - PASSED\n> \n> One thing that I noticed while going through this:\n> \n> * Nightly appears as \"Nightly (C:\\Program Files\\Nightly)\" under the\n> exception list when installing fx while the firewall service is enabled\n> ** Check installWithFirewallEnabled image\n> * Nightly appears as \"Nightly\" under the exception list when installing fx\n> while the firewall is enabled via the \"Unblock\" prompt\n> ** Check \n> \n> Robert, this doesn't seem like a problem but just making sure this doesn't\n> lead to anything more serious?\nThat's intentional so we are able to distinguish between user created exceptions and exceptions that we create.\n\nThanks again!",
    "authour" : "robert.strong.bugs@gmail.com",
    "created" : "2015-01-21T18:32:03Z"
  }, {
    "text" : "Awesome, thanks Robert!",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-21T18:33:53Z"
  }, {
    "text" : "Used the following build with the steps from comment #26:\n* http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2015-01-18-00-40-06-mozilla-aurora/\n* http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2015-01-21-00-40-11-mozilla-aurora/\n\n- Ensured that both test cases from comment #26 worked without any issues\n- Ensured that aurora appeared as \"FirefoxDeveloperEdition\" under the exception list of Windows Firewall when manually added\n- Ensured taht aurora appeared as \"FirefoxDeveloperEdition (C:\\Program Files\\Firefox Developer Edition)\" under the exception list of Windows Firewall when automatically added\n\nOS's:\n\n- Windows XP Pro x86 SP2 - PASSED\n- Windows XP Pro x86 SP3 - PASSED\n- Windows XP Pro x64 SP2 - PASSED",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-21T21:20:03Z"
  }, {
    "text" : "Used the following build with the steps from comment #26:\n* http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/36.0b1-candidates/build2/win32/en-US/\n* http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/36.0b2-candidates/build1/win32/en-US/\n\n- Ensured that both test cases from comment #26 worked without any issues\n- Ensured that beta appeared as \"Firefox\" under the exception list of Windows Firewall when manually added\n- Ensured that beta appeared as \"Firefox (C:\\Program Files\\Mozilla Firefox)\" under the exception list of Windows Firewall when automatically added\n\nOS's:\n\n- Windows XP Pro x86 SP2 - PASSED\n- Windows XP Pro x86 SP3 - PASSED\n- Windows XP Pro x64 SP2 - PASSED",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-22T03:54:03Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-release/rev/424c99d64c4b",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-22T18:27:28Z"
  }, {
    "text" : "Went through verification using the following build:\n- http://ftp.mozilla.org/pub/mozilla.org/firefox/candidates/35.0.1-candidates/build1/win32/en-US/\n\n- ensured that the fx firewall entry is being added into the exceptions list when installing\n- launched fx several times and ensured that it opens without any crashes\n- ensured that fx installs without any issues/crashes when the firewall service has been disabled\n- launched fx several times and ensured that it opens when the firewall service has been disabled\n\nOne thing I noticed is that users don't get the firewall warning if they re-enable the firewall service and launch FX (if it hasn't already been added into the exceptions). Talked to Robert and it appears like it's MS code that decides when to prompt and when not to prompt users.\n\nOs's used:\n\n- Windows XP Pro x86 SP2 - PASSED\n- Windows XP Pro x86 SP3 - PASSED\n- Windows XP Pro x64 SP2 - PASSED",
    "authour" : "kjozwiak@mozilla.com",
    "created" : "2015-01-23T20:32:33Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-13T01:09:29Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T21:15:57Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-23T20:32:33Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T21:15:57Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-12T22:48:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kjozwiak@mozilla.com"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-12T23:53:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "al_9x@yahoo.com"
    }, {
      "name" : "al_9x@yahoo.com",
      "date" : "2015-01-13T00:52:41Z",
      "what" : "summary",
      "removed" : "Fx 35 installer crashes on XP x86 SP3 at the end (creating shortcuts)",
      "added" : "Fx 35 installer crashes on XP x86 SP3 at the end (creating shortcuts) if the xp firewall service is stopped"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-13T01:09:29Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "robert.strong.bugs@gmail.com"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-13T01:09:29Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T05:00:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "netzen@gmail.com"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T15:13:49Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T15:13:49Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T15:13:49Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T15:13:49Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T15:13:49Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T04:47:06Z",
      "what" : "attachments.isobsolete:8548638",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T04:56:28Z",
      "what" : "cf_tracking_firefox35",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T05:15:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "spohl.mozilla.bugs@gmail.com"
    }, {
      "name" : "kairo@kairo.at",
      "date" : "2015-01-15T14:06:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kairo@kairo.at"
    }, {
      "name" : "spohl.mozilla.bugs@gmail.com",
      "date" : "2015-01-15T15:42:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "robert.strong.bugs@gmail.com"
    }, {
      "name" : "jmoradi@mozilla.com",
      "date" : "2015-01-15T15:47:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmoradi@mozilla.com"
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-01-15T18:09:49Z",
      "what" : "cf_tracking_firefox35",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "rtanglao@mozilla.com",
      "date" : "2015-01-15T19:14:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "rtanglao@mozilla.com"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T21:15:57Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T21:15:57Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-15 13:15:57"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T21:15:57Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T22:27:01Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regression"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T22:27:01Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1090535"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-01-16T08:46:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-16T08:47:19Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "qawanted"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-16T08:47:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-16T15:29:49Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-16T15:29:49Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-01-21T15:44:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-21T18:33:14Z",
      "what" : "keywords",
      "removed" : "qawanted",
      "added" : ""
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-21T18:33:53Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-21T21:20:03Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-22T03:54:03Z",
      "what" : "cf_status_firefox36",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-22T18:27:28Z",
      "what" : "cf_status_firefox35",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-23T20:32:33Z",
      "what" : "cf_status_firefox35",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-12T22:48:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-12T23:51:39Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(kjozwiak@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-12T23:53:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "al_9x@yahoo.com",
      "date" : "2015-01-13T00:50:22Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(al_9x@yahoo.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-14T05:00:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8548638,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "netzen@gmail.com",
      "date" : "2015-01-14T20:06:20Z",
      "what" : "flagtypes.name",
      "removed" : "review?(netzen@gmail.com)",
      "added" : "",
      "attachmentId" : 8548638,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T04:49:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T04:51:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T05:15:43Z",
      "what" : "flagtypes.name",
      "removed" : "review+",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "netzen@gmail.com",
      "date" : "2015-01-15T13:55:07Z",
      "what" : "flagtypes.name",
      "removed" : "review?(netzen@gmail.com)",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "spohl.mozilla.bugs@gmail.com",
      "date" : "2015-01-15T15:42:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T19:04:04Z",
      "what" : "flagtypes.name",
      "removed" : "review?(spohl.mozilla.bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T19:06:18Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(robert.strong.bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-15T22:34:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-16T08:47:09Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-16T19:50:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-01-21T15:44:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "kjozwiak@mozilla.com",
      "date" : "2015-01-21T18:29:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "robert.strong.bugs@gmail.com",
      "date" : "2015-01-21T18:32:03Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(robert.strong.bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-22T16:33:32Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-release?",
      "added" : "",
      "attachmentId" : 8549368,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120673,
  "cclist" : [ "al_9x@yahoo.com", "florin.mezei@softvisioninc.eu", "jmoradi@mozilla.com", "kairo@kairo.at", "kjozwiak@mozilla.com", "netzen@gmail.com", "robert.strong.bugs@gmail.com", "rtanglao@mozilla.com", "sledru@mozilla.com", "spohl.mozilla.bugs@gmail.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Make the flamegraph keyboard accessible",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P3",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-12T20:42:09Z"
  }, {
    "text" : "What kind of interaction do we want here? Arrow keys for scrolling, +/- for zoom? Or implement a cursor/playhead that seeks across the graph?",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-13T00:27:02Z"
  }, {
    "text" : "I'm using W/S for zoom and A/D for plan left and right. W/S can also be used for panning and zooming can be left to the mouse well instead.\n\nTo try it out:\nhttp://people.mozilla.org/~bgirard/cleopatra/#report=9673aa6606a57f0af73fae9404bec85f4743e4fa\n\nHit 'Call Graph' in the middle-ish.",
    "authour" : "b56girard@gmail.com",
    "created" : "2015-01-13T22:26:50Z"
  }, {
    "text" : "*** Bug 1158490 has been marked as a duplicate of this bug. ***",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-26T17:13:26Z"
  }, {
    "text" : "*** Bug 1153700 has been marked as a duplicate of this bug. ***",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-26T17:13:42Z"
  }, {
    "text" : "Is there a bug for making this mouse-accessible? Right now the only way to zoom in is the relatively coarse scroll / pan actions. It is common to expose vertical and horizontal slider UI to the user to a) indicate zooming is available and b) offer a more precise way to zoom.",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-04-27T17:52:13Z"
  }, {
    "text" : "No there's not, I believe -- do you mean scrollbars for pan/scroll (move left/right/up/down) or for zooming like a little scrubber on the side mapping to magnification (like Logic on OSX, can't find any images)?",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-27T18:02:04Z"
  }, {
    "text" : "No bug filed yet. What do you mean there's people not using trackpads? :)\n\nYeah, should make it better.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-04-27T18:11:25Z"
  }, {
    "text" : "Created attachment 8604724\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-05-12T16:19:17Z"
  }, {
    "text" : "Created attachment 8642425\nv2\n\nHow does this feel Jordan? Lemme know before I add any tests.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-08-03T14:25:19Z"
  }, {
    "text" : "Hmm.. so this feels right, I'd say maybe the left/right speed could be a bit faster (or maybe accelerate). \n\nWhat's weird though is this is manipulating the selection, not the flame graph -- I'd assume I could also do this in other views, which I can't, and if we did apply them to there (as they're both abstract call tree views), they have their own keybindings, and we'd need a way to make sure they don't conflict (different key bindings? maybe have to give the details view or overview view focus?)\n\nAlso, side note, how can we convey all these hotkeys?",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-08-03T16:21:59Z"
  }, {
    "text" : "More info in bug 1159044 as well",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-08-03T16:29:32Z"
  }, {
    "text" : "Created attachment 8715807\nflame-key-access.patch\n\nRewrote this.\n\n(In reply to Jordan Santell [:jsantell] [@jsantell] (Please needinfo) from comment #10)\n> Hmm.. so this feels right, I'd say maybe the left/right speed could be a bit\n> faster (or maybe accelerate). \n\nImplemented acceleration for both zooming and panning.\n\n> \n> What's weird though is this is manipulating the selection, not the flame\n> graph -- I'd assume I could also do this in other views, which I can't\n\nThe implementation does nothing to the \"selection\" as defined by the performance tool. In fact, the entire widget has no knowledge of the outside world. It's all contained inside the flame graph.\n \n> Also, side note, how can we convey all these hotkeys?\n\nNot sure, but I'd say that the arrow keys and WASD are pretty instinctual and don't need UI explaining them. You'd expect the DOWN/LEFT key to scroll in a document, same can be said in here.",
    "authour" : "vporof@mozilla.com",
    "created" : "2016-02-04T14:25:59Z"
  }, {
    "text" : "Very slick. Code looks good, waiting for a build to finish to try this out",
    "authour" : "jordan@jsantell.com",
    "created" : "2016-02-04T19:03:55Z"
  }, {
    "text" : "Comment on attachment 8715807\nflame-key-access.patch\n\nReview of attachment 8715807:\n-----------------------------------------------------------------\n\nReally smooth and nice. Wonder if we could have this for other views too, like waterfall? Would it make more sense for this to live in the overview graphs, like the mouse controls for it do? And the details view will use their own implementation (row selection on calltree/waterfall), otherwise falling back to the overview graph control (flamegraph)? Either way, can be dealt with in a follow up. Smooth like butter.",
    "authour" : "jordan@jsantell.com",
    "created" : "2016-02-04T22:43:12Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/7a0ebe3fccac",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-02-09T12:00:02Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/7a0ebe3fccac",
    "authour" : "cbook@mozilla.com",
    "created" : "2016-02-10T10:49:22Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-30T16:33:21Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-02-10T10:49:22Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2016-02-10T10:49:22Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-12T20:42:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgirard@mozilla.com, vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-13T22:05:07Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-20T17:44:00Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : "1145697"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-26T17:13:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-26T17:13:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "paul@mozilla.com"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-27T17:52:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "akratel@mozilla.com, jgriffiths@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-27T18:02:04Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-27T23:02:09Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1159044"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-30T16:33:21Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P3"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-30T16:33:21Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-05-30T01:15:52Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1169877"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-08-03T14:25:19Z",
      "what" : "attachments.isobsolete:8604724",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-07T22:49:40Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1191480"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-28T05:21:26Z",
      "what" : "blocks",
      "removed" : "1191480",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2016-02-04T13:45:50Z",
      "what" : "attachments.isobsolete:8642425",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-02-10T10:49:22Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 47"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-02-10T10:49:22Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-02-10 02:49:22"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-02-10T10:49:22Z",
      "what" : "cf_status_firefox47",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2016-03-31T18:47:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "arni2033@yandex.ru"
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2016-03-31T18:47:51Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1261048"
    } ],
    "flagEvents" : [ {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-27T17:52:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-27T18:11:25Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-05-12T15:24:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(akratel@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-08-03T14:25:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8642425,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-08-03T16:22:49Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8642425,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2016-02-04T14:25:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8715807,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2016-02-04T22:43:12Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8715807,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120623,
  "cclist" : [ "akratel@mozilla.com", "arni2033@yandex.ru", "b56girard@gmail.com", "bgrinstead@mozilla.com", "jgriffiths@mozilla.com", "jordan@jsantell.com", "paul@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "[rule view] Filter rules",
  "reporter" : "gl@mozilla.com",
  "assigned" : "gl@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8547760\nruleview-part-1-search.patch",
  "comments" : [ {
    "text" : "Created attachment 8547760\nruleview-part-1-search.patch",
    "authour" : "gl@mozilla.com",
    "created" : "2015-01-12T20:35:36Z"
  }, {
    "text" : "This would be nice",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-27T22:51:49Z"
  }, {
    "text" : "Created attachment 8555955\nruleview-part-1-search.patch",
    "authour" : "gl@mozilla.com",
    "created" : "2015-01-28T17:48:44Z"
  }, {
    "text" : "Comment on attachment 8555955\nruleview-part-1-search.patch\n\nReview of attachment 8555955:\n-----------------------------------------------------------------\n\nI like it.  I feel like there should be a 'clear filter' button at the bottom of the rule view to help make it clear where there are no (or very few) results because of a filter after switching to a element.  Before fully reviewing this, I'm going to flag a ux-review for UX feedback about this change in the rule view.\n\nStephen, can you take a look at this build (or point us to someone who can)?  Basically, this adds a filter textbox to the top of the rule view so you could type 'background' and remove rules that don't include that string in a declaration or selector.  It keeps the entire rule visible if any declaration matches, and it highlights that declaration line with a background color.  It's similar to the current filtering in the computed view (in fact, it moves that filter box to the top of the computed view to match this UI).  Do you think this is the best way to surface filtering behavior in the UI?  Here is a try push with binaries: https://treeherder.mozilla.org/#/jobs?repo=try&revision=e3c88f59b3f8\n\n::: browser/devtools/styleinspector/cssruleview.xhtml\n@@ +51,5 @@\n> +      <!--\n> +      templateRoot sits at the top of the window. For data it needs an instance of CssRuleView.\n> +      -->\n> +      <div id=\"templateRoot\">\n> +        <xul:hbox class=\"devtools-toolbar\" flex=\"1\" align=\"center\">\n\nI'm somehow able to tab into this (or some container) element after tabbing out of the textbox.  For example: Focus the textbox, press tab.  Or focus the last rule then shift+tab.  We should make sure it doesn't receive focus\n\n@@ +53,5 @@\n> +      -->\n> +      <div id=\"templateRoot\">\n> +        <xul:hbox class=\"devtools-toolbar\" flex=\"1\" align=\"center\">\n> +          <xul:textbox class=\"devtools-searchinput\" type=\"search\" save=\"${searchField}\"\n> +                       placeholder=\"&userStylesSearch;\" flex=\"1\"\n\nThis string should probably say \"Filter\" or \"Filter Styles\" (both here and in the computed view)\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1551,5 @@\n>      this._prefObserver.off(PREF_UA_STYLES, this._handlePrefChange);\n>      this._prefObserver.off(PREF_DEFAULT_COLOR_UNIT, this._handlePrefChange);\n>      this._prefObserver.destroy();\n>  \n> +    this.searchField.removeEventListener(\"command\", this.filterChanged);\n\nThis handler is bound with DOM0 oncommand - does this really need to be removed?  Actually, I wonder if we actually need any of the templating code in this case.  Could we instead just put the textbox / toolbar in the html, give the textbox an ID and do:\n\nthis.searchField = doc.querySelector(\"#foo\");\nthis.searchField.addEventListener(\"command\", this.filterChanged);\n\nThen we could still unbind here and it seems like that would lower the amount of code used  in this file for all the templating.  Or is there some other benefit that we are getting by using templating here?\n\n::: browser/themes/shared/devtools/ruleview.css\n@@ +217,5 @@\n>  \n> +.theme-light .ruleview-property[selected],\n> +.theme-light .ruleview-selector[selected],\n> +.theme-light .ruleview-selector > span[selected] {\n> +  background-color: #dcecf4;\n\nJust use var(--theme-selection-background-semitransparent) for these selectors regardless of theme.  If it doesn't look good with the light theme, we should re-evaluate the color used for that variable.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-28T19:56:16Z"
  }, {
    "text" : "Created attachment 8556905\nruleview-part-1-search.patch",
    "authour" : "gl@mozilla.com",
    "created" : "2015-01-30T05:55:29Z"
  }, {
    "text" : "Created attachment 8556906\nruleview-part-1-search.patch",
    "authour" : "gl@mozilla.com",
    "created" : "2015-01-30T05:58:02Z"
  }, {
    "text" : "Currently evaluating this, bug 987365 and bug 1120406 together since they are mostly linked.\n\nDarren had a preliminary mockup for the class lock (https://bug938202.bugzilla.mozilla.org/attachment.cgi?id=831594) but I asked him and he didn't have anything beyond that.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-01-30T19:20:07Z"
  }, {
    "text" : "*** Bug 1061073 has been marked as a duplicate of this bug. ***",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-30T20:44:44Z"
  }, {
    "text" : "Created attachment 8559877\nRules Filter â€“Â 01\n\n> This string should probably say \"Filter\" or \"Filter Styles\" (both here and\n> in the computed view)\n\nI like \"Filter Styles\". It's consistent with what we do in Console and it's not really a full search.\n\n> I like it.  I feel like there should be a 'clear filter' button at the\n> bottom of the rule view to help make it clear where there are no (or very\n> few) results because of a filter after switching to a element.  Before fully\n> reviewing this, I'm going to flag a ux-review for UX feedback about this\n> change in the rule view.\n\nI think if we highlight the Filter field to match the highlighted results and put a clear (X) in the field then that should be enough to call attention to the fact that you are viewing filtered results. An alternative that is less minimalistic but more informative would be to show a bar telling you how how many results you are missing with a button to clear the filters. I first option.\n\nThe only other suggestion I have is to use a stronger color than blue for the highlight. I think a bright orange would make it more obvious which results are being filtered.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-05T17:10:15Z"
  }, {
    "text" : "Comment on attachment 8556906\nruleview-part-1-search.patch\n\nReview of attachment 8556906:\n-----------------------------------------------------------------\n\nSee comment 8.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-05T17:11:04Z"
  }, {
    "text" : "Created attachment 8562596\nruleview-part-1-search.patch [WIP}\n\nUpdated with the code feedback fixes and some of the UX changes. Still waiting on the dark theme search box error representation for no search results, and \"x\" button.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-02-11T07:52:46Z"
  }, {
    "text" : "Created attachment 8562597\nRules Filter - 02",
    "authour" : "gl@mozilla.com",
    "created" : "2015-02-11T07:53:52Z"
  }, {
    "text" : "Created attachment 8562982\nRules Filter - No Matches - DarkTheme - 01\n\nChose a color close to the one we are using in the Selector filter but made a little less washed out:\n\nBorder: #cc3d3d\nBackground: #3c2124",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-11T20:20:10Z"
  }, {
    "text" : "Created attachment 8563189\nsearch-clear-icons-01.zip\n\nClear the search/filter field assets.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-12T02:47:17Z"
  }, {
    "text" : "Highlight colors for light theme:\nBorder: #ffbf00\nBackground: #ffee99",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-12T02:49:52Z"
  }, {
    "text" : "Created attachment 8563990\nPart 1: Implement filter styles in rule view",
    "authour" : "gl@mozilla.com",
    "created" : "2015-02-13T08:47:52Z"
  }, {
    "text" : "Created attachment 8563991\nPart 2: Adjust the styles in the computed view's filter style",
    "authour" : "gl@mozilla.com",
    "created" : "2015-02-13T08:48:48Z"
  }, {
    "text" : "I still need the official error state colours for the light theme and highlight colours for the dark theme, but I think we can go ahead and review the patch.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-02-13T18:57:32Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=31f7cb1cad3f",
    "authour" : "gl@mozilla.com",
    "created" : "2015-02-13T20:51:41Z"
  }, {
    "text" : "I just tested this on Windows, looks great ! One issue though, there's an extra search icon at the end of the searchbox :  http://images.devs-on.net/Image/3MDZyhnLT0uMY0Pu-Region.png",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-17T10:31:31Z"
  }, {
    "text" : "(In reply to Stephen Horlander [:shorlander] from comment #13)\n> Created attachment 8563189\n> search-clear-icons-01.zip\n> \n> Clear the search/filter field assets.\n\nWhat do you think about using SVG for these icons?  It would simplify the CSS and make 2x support easier.\n\nI also notice that each icon has a *-small.png variation in the zip that aren't used in the patch - I'm not sure what the intention of those are, but this could probably be handled with a single SVG as well (which would mean we just need 3 icons instead of 12).",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-17T17:09:05Z"
  }, {
    "text" : "Comment on attachment 8563990\nPart 1: Implement filter styles in rule view\n\nReview of attachment 8563990:\n-----------------------------------------------------------------\n\nWorks great overall - left some notes in comments\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1347,5 @@\n> +  _onContextMenu: function(event) {\n> +    try {\n> +      // In the sidebar we do not have this.doc.popupNode so we need to save\n> +      // the node ourselves.\n> +      this.doc.popupNode = event.explicitOriginalTarget;\n\nWhat's the problem if we have this handler attached to this.element instead of this.document?  Anyway, when right clicking in the textbox I see\n\nTypeError: document.commandDispatcher is undefined textbox.xml:487:20\n\n@@ +1511,5 @@\n> +    if (this._filterChangedTimeout) {\n> +      clearTimeout(this._filterChangedTimeout);\n> +    }\n> +\n> +    this._filterChangedTimeout = setTimeout(() => {\n\nWhen I press 'X' it takes 300ms before it clears.  I'd prefer if it was instant in this case.  Could it be set to a 0 ms timeout if the value is empty?\n\n@@ +1516,5 @@\n> +      if (this.searchField.value.length > 0) {\n> +        this.searchField.setAttribute(\"filled\", true);\n> +      } else {\n> +        this.searchField.removeAttribute(\"filled\");\n> +        this.searchField.classList.remove(\"devtools-style-searchbox-no-match\");\n\nWhy remove the class here? It gets removed in createEditors if necessary\n\n@@ +1522,5 @@\n> +\n> +      this._clearRules();\n> +      this._createEditors();\n> +\n> +      let evt = this.doc.createEvent(\"Events\");\n\nWhat about:\n\nthis.inspector.emit(\"rule-view-filtered\")\n\nAnd then in the test we can do inspector.once(\"rule-view-filtered\");\n\n@@ +1844,5 @@\n> +        rule.editor = new RuleEditor(this, rule);\n> +      }\n> +\n> +      // Handle filter styles if there is a search input\n> +      if (searchTerm && rule.domRule.type !== ELEMENT_STYLE) {\n\nI wonder if we should include element styles in the filtering.  If there was a case where an element had a bunch of inline styles it may be annoying if you can't get rid of them.\n\n@@ +1847,5 @@\n> +      // Handle filter styles if there is a search input\n> +      if (searchTerm && rule.domRule.type !== ELEMENT_STYLE) {\n> +        matchSearchTerm = this.highlightRules(rule, searchTerm);\n> +\n> +        if (matchSearchTerm && !seenSearchTerm) {\n\nI don't see any reason that we need !seenSearchTerm in the condition here.  Seems like this would be equivalent for our case:\n\nif (matchSearchTerm) {\n  seenSearchTerm = true;\n} else {\n  continue;\n}\n\n@@ +1891,5 @@\n>          this.element.appendChild(rule.editor.element);\n>        }\n>      }\n> +\n> +    if (searchTerm && !seenSearchTerm) {\n\nThis does highlight a case where it didn't actually filter anything - which is an element with no styles applied and any search term.  In this case it shows up as red, but nothing actually got filtered.\n\nAn alternative could be to track whether all rules were filtered and set the no-match class in that case.  But it's not too big of a deal.\n\n@@ +1912,5 @@\n> +  highlightRules: function(aRule, aValue) {\n> +    let isHighlighted = false;\n> +\n> +    // Highlight search matches in the rule selectors\n> +    if (aRule.domRule.type === Ci.nsIDOMCSSRule.KEYFRAME_RULE &&\n\nNit: to remove duplication here, maybe do something like this: \n\nlet selectorNodes = [...aRule.editor.selectorText.childNodes];\nif (aRule.domRule.type === Ci.nsIDOMCSSRule.KEYFRAME_RULE) {\n  selectorNodes = [aRule.editor.selectorText];\n}\n\nfor (let node of selectorNodes) {\n  if (node.textContent.toLowerCase().indexOf(aValue) != -1) {\n    node.setAttribute(\"selected\", true);\n    this._highlightedElements.push(node);\n    isHighlighted = true;\n  } else {\n    node.removeAttribute(\"selected\");\n  }\n}\n\n::: browser/themes/shared/devtools/toolbars.inc.css\n@@ +342,5 @@\n> +  background-position: calc(100% - 8px) center;\n> +}\n> +\n> +.theme-dark .devtools-style-searchbox[filled] {\n> +  background-color: #483d22;\n\nI'd most prefer that we use existing theme colors.  But if that won't work for the UX, I'd prefer to set variables on .theme-light and .theme-dark and then used them unconditionally for each individual rule.  For instance:\n\n.theme-dark {\n  --searchbox-background-color: #483d22;\n}\n.theme-light {\n  --searchbox-background-color: #ffee99;\n}\n.devtools-style-searchbox[filled] {\n  background-color: var(--searchbox-background-color);\n  ....\n}\n\n@@ +351,5 @@\n> +  background-color: #ffee99;\n> +  border-color: #ffbf00;\n> +}\n> +\n> +.theme-dark .devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-clear {\n\nI hope this clear icon styling can be cleared up if we switch to svg for the icon\n\n::: browser/themes/windows/jar.mn\n@@ +431,5 @@\n>          skin/classic/browser/devtools/app-manager/rocket.svg                (../shared/devtools/app-manager/images/rocket.svg)\n>          skin/classic/browser/devtools/app-manager/noise.png                 (../shared/devtools/app-manager/images/noise.png)\n>          skin/classic/browser/devtools/app-manager/default-app-icon.png      (../shared/devtools/app-manager/images/default-app-icon.png)\n> +        skin/classic/browser/devtools/search-clear-failed-small.png         (../shared/devtools/images/search-clear-failed-small.png)\n> +        skin/classic/browser/devtools/search-clear-failed-small@2x.png      (../shared/devtools/images/search-clear-failed-small@2x.png)\n\nThese -small icons are added in the jar but never used in the patch",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-17T23:48:45Z"
  }, {
    "text" : "Comment on attachment 8563991\nPart 2: Adjust the styles in the computed view's filter style\n\nReview of attachment 8563991:\n-----------------------------------------------------------------\n\nLGTM\n\n::: browser/devtools/styleinspector/computed-view.js\n@@ +534,3 @@\n>        this.refreshPanel();\n>        this._filterChangeTimeout = null;\n>      }, FILTER_CHANGED_TIMEOUT);\n\nSame comment about how I wish the filter would be cleared quicker if the value has been cleared (in Comment 21)",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-17T23:51:26Z"
  }, {
    "text" : "Created attachment 8566559\nsearch-clear.svg\n\nSVG instead of PNG.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-19T16:31:32Z"
  }, {
    "text" : "Created attachment 8566560\nsearch-clear-light.svg",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-19T16:31:43Z"
  }, {
    "text" : "Created attachment 8566561\nsearch-clear-failed.svg",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-19T16:31:57Z"
  }, {
    "text" : "- Colors â€” Light Theme -\nFilter Field â€” Failed:\nBorder: #e52e2e\nBackground: #ffe5e5\n\nFilter Field â€”Â Highlight:\nBorder: #ffbf00\nBackground: #ffee99\n\nRule View â€”Â Highlight:\nBackground: #ffee99\n\n\n- Colors â€” Dark Theme -\nFilter Field â€” Failed:\nBorder: #cc3d3d\nBackground: #402325\n\nFilter Field â€”Â Highlight:\nBorder: #d99f2b\nBackground: #4d4222\n\nRule View â€”Â Highlight:\nBackground: #594724",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-02-19T16:49:39Z"
  }, {
    "text" : "Comment on attachment 8563990\nPart 1: Implement filter styles in rule view\n\nReview of attachment 8563990:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1347,5 @@\n> +  _onContextMenu: function(event) {\n> +    try {\n> +      // In the sidebar we do not have this.doc.popupNode so we need to save\n> +      // the node ourselves.\n> +      this.doc.popupNode = event.explicitOriginalTarget;\n\nI believe the TypeError is because cssruleview.xhtml is not .xul in which there would be a window object. According to https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Tutorial/Focus_and_Selection, the currently focused element is held by an object called a command dispatcher, of which there is only one for the window.\n\nI opted to use this.element in the revised patch, but my main problem is that now right clicking on the textbox does not provide any context menu for the normal textbox functionality such as copy and paste. To contrast, you can right click on the textbox for inspector search or debugger search.\n\nThe TypeError currently exist in both the ruleview and computedview textbox.\n\nI believe we should at the very least have the usual textbox context menu, but I think that will involve changing cssruleview and computedview to .xul. Any thoughts on this?\n\n@@ +1511,5 @@\n> +    if (this._filterChangedTimeout) {\n> +      clearTimeout(this._filterChangedTimeout);\n> +    }\n> +\n> +    this._filterChangedTimeout = setTimeout(() => {\n\nFixed.\n\n@@ +1516,5 @@\n> +      if (this.searchField.value.length > 0) {\n> +        this.searchField.setAttribute(\"filled\", true);\n> +      } else {\n> +        this.searchField.removeAttribute(\"filled\");\n> +        this.searchField.classList.remove(\"devtools-style-searchbox-no-match\");\n\nThe idea was to try to get the classes removed as quickly as possible when I press 'X', but changing the filter timeout from 300ms to 0ms made this unnecessary.\n\n@@ +1522,5 @@\n> +\n> +      this._clearRules();\n> +      this._createEditors();\n> +\n> +      let evt = this.doc.createEvent(\"Events\");\n\nFixed.\n\n@@ +1844,5 @@\n> +        rule.editor = new RuleEditor(this, rule);\n> +      }\n> +\n> +      // Handle filter styles if there is a search input\n> +      if (searchTerm && rule.domRule.type !== ELEMENT_STYLE) {\n\nI mainly copied chrome's behaviour on including the element styles. I think it is better to include the element style in the event no rules are matched instead of displaying an empty rule view container.\n\n@@ +1847,5 @@\n> +      // Handle filter styles if there is a search input\n> +      if (searchTerm && rule.domRule.type !== ELEMENT_STYLE) {\n> +        matchSearchTerm = this.highlightRules(rule, searchTerm);\n> +\n> +        if (matchSearchTerm && !seenSearchTerm) {\n\nFixed.\n\n@@ +1891,5 @@\n>          this.element.appendChild(rule.editor.element);\n>        }\n>      }\n> +\n> +    if (searchTerm && !seenSearchTerm) {\n\nI think we'll leave it as is.\n\n@@ +1912,5 @@\n> +  highlightRules: function(aRule, aValue) {\n> +    let isHighlighted = false;\n> +\n> +    // Highlight search matches in the rule selectors\n> +    if (aRule.domRule.type === Ci.nsIDOMCSSRule.KEYFRAME_RULE &&\n\nFixed.\n\n::: browser/themes/shared/devtools/toolbars.inc.css\n@@ +342,5 @@\n> +  background-position: calc(100% - 8px) center;\n> +}\n> +\n> +.theme-dark .devtools-style-searchbox[filled] {\n> +  background-color: #483d22;\n\nFixed.\n\n@@ +351,5 @@\n> +  background-color: #ffee99;\n> +  border-color: #ffbf00;\n> +}\n> +\n> +.theme-dark .devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-clear {\n\nFixed\n\n::: browser/themes/windows/jar.mn\n@@ +431,5 @@\n>          skin/classic/browser/devtools/app-manager/rocket.svg                (../shared/devtools/app-manager/images/rocket.svg)\n>          skin/classic/browser/devtools/app-manager/noise.png                 (../shared/devtools/app-manager/images/noise.png)\n>          skin/classic/browser/devtools/app-manager/default-app-icon.png      (../shared/devtools/app-manager/images/default-app-icon.png)\n> +        skin/classic/browser/devtools/search-clear-failed-small.png         (../shared/devtools/images/search-clear-failed-small.png)\n> +        skin/classic/browser/devtools/search-clear-failed-small@2x.png      (../shared/devtools/images/search-clear-failed-small@2x.png)\n\nFixed.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-03T07:05:00Z"
  }, {
    "text" : "Created attachment 8571786\nPart 1: Implement filter styles in rule view",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-03T07:05:58Z"
  }, {
    "text" : "Created attachment 8571787\nPart 2: Adjust the styles in the computed view's filter style",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-03T07:06:23Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=304d98e559e3",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-03T07:06:50Z"
  }, {
    "text" : "Comment on attachment 8571786\nPart 1: Implement filter styles in rule view\n\nReview of attachment 8571786:\n-----------------------------------------------------------------\n\nA few comments about the svgs (that apply to all of them).\nAlso, you could try combining them together in one file, like this : http://mxr.mozilla.org/mozilla-central/source/browser/themes/windows/content-contextmenu.svg?raw=1\n\n::: browser/themes/shared/devtools/images/search-clear-dark.svg\n@@ +1,3 @@\n> +<?xml version=\"1.0\" encoding=\"utf-8\"?>\n> +<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n> +\n\nThe doctype and the new line can be removed.\n\n@@ +1,5 @@\n> +<?xml version=\"1.0\" encoding=\"utf-8\"?>\n> +<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n> +\n> +<svg version=\"1.1\"\n> +     id=\"icon-filterField-clear\"\n\nThe ID isn't needed\n\n@@ +5,5 @@\n> +     id=\"icon-filterField-clear\"\n> +     xmlns=\"http://www.w3.org/2000/svg\"\n> +     xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n> +     x=\"0\"\n> +     y=\"0\"\n\nx and y attributes have no effect on the svg element.\n\n@@ +15,5 @@\n> +    <path id=\"glyphShape-clear\" d=\"M8,0C3.6,0,0,3.6,0,8c0,4.4,3.6,8,8,8s8-3.6,8-8C16,3.6,12.4,0,8,0 z M11.9,10.5l-1.4,1.4L8,9.4l-2.4,2.4l-1.4-1.4L6.6,8L4.2,5.6l1.4-1.4L8,6.6l2.4-2.4l1.4,1.4L9.4,8L11.9,10.5z\"/>\n> +\n> +    <style type=\"text/css\">\n> +    <![CDATA[\n> +\n\nThis blank line and the previous line can be removed.\n\n@@ +19,5 @@\n> +\n> +      .icon-state-default { fill: #f5f7fa; fill-opacity: .6; }\n> +      .icon-state-pressed { fill: #7d7e80; fill-opacity: .8; }\n> +\n> +    ]]>\n\nSame\n\n::: browser/themes/shared/devtools/toolbars.inc.css\n@@ -356,5 @@\n> -  background-position: calc(100% - 8px) center;\n> -}\n> -\n> -.devtools-searchinput > .textbox-input-box > .textbox-search-icons {\n> -  display: none;\n\n.devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-icon still needs to be hidden (it's visible on Windows and looks pretty ugly)",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-03-03T20:59:56Z"
  }, {
    "text" : "(In reply to Tim Nguyen [:ntim] from comment #31)\n> Comment on attachment 8571786\n> Part 1: Implement filter styles in rule view\n> \n> Review of attachment 8571786:\n> -----------------------------------------------------------------\n> \n> A few comments about the svgs (that apply to all of them).\n> Also, you could try combining them together in one file, like this :\n> http://mxr.mozilla.org/mozilla-central/source/browser/themes/windows/content-\n> contextmenu.svg?raw=1\n> \n> ::: browser/themes/shared/devtools/images/search-clear-dark.svg\n> @@ +1,3 @@\n> > +<?xml version=\"1.0\" encoding=\"utf-8\"?>\n> > +<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n> > +\n> \n> The doctype and the new line can be removed.\n> \n> @@ +1,5 @@\n> > +<?xml version=\"1.0\" encoding=\"utf-8\"?>\n> > +<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n> > +\n> > +<svg version=\"1.1\"\n> > +     id=\"icon-filterField-clear\"\n> \n> The ID isn't needed\n> \n> @@ +5,5 @@\n> > +     id=\"icon-filterField-clear\"\n> > +     xmlns=\"http://www.w3.org/2000/svg\"\n> > +     xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n> > +     x=\"0\"\n> > +     y=\"0\"\n> \n> x and y attributes have no effect on the svg element.\n> \n> @@ +15,5 @@\n> > +    <path id=\"glyphShape-clear\" d=\"M8,0C3.6,0,0,3.6,0,8c0,4.4,3.6,8,8,8s8-3.6,8-8C16,3.6,12.4,0,8,0 z M11.9,10.5l-1.4,1.4L8,9.4l-2.4,2.4l-1.4-1.4L6.6,8L4.2,5.6l1.4-1.4L8,6.6l2.4-2.4l1.4,1.4L9.4,8L11.9,10.5z\"/>\n> > +\n> > +    <style type=\"text/css\">\n> > +    <![CDATA[\n> > +\n> \n> This blank line and the previous line can be removed.\n> \n> @@ +19,5 @@\n> > +\n> > +      .icon-state-default { fill: #f5f7fa; fill-opacity: .6; }\n> > +      .icon-state-pressed { fill: #7d7e80; fill-opacity: .8; }\n> > +\n> > +    ]]>\n> \n> Same\n> \n> ::: browser/themes/shared/devtools/toolbars.inc.css\n> @@ -356,5 @@\n> > -  background-position: calc(100% - 8px) center;\n> > -}\n> > -\n> > -.devtools-searchinput > .textbox-input-box > .textbox-search-icons {\n> > -  display: none;\n> \n> .devtools-searchinput > .textbox-input-box > .textbox-search-icons >\n> .textbox-search-icon still needs to be hidden (it's visible on Windows and\n> looks pretty ugly)\n\nThanks for the note! I have an updated patch with the search icon hidden ready, but the tree is closed. The current patches are meant as a WIP and for me to get another build to test on linux and window and see any lingering errors. I don't really know too much about svg elements, but I will look into the changes.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-03T21:09:02Z"
  }, {
    "text" : "Created attachment 8572460\nPart 1: Implement filter styles in rule view",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-04T07:12:37Z"
  }, {
    "text" : "Created attachment 8572461\nPart 2: Adjust the styles in the computed view's filter style",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-04T07:13:00Z"
  }, {
    "text" : "Created attachment 8572464\nPart 2: Adjust the styles in the computed view's filter style",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-04T07:14:15Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=60a7052e5bc9",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-04T07:16:10Z"
  }, {
    "text" : "(In reply to Gabriel Luong (:gl) from comment #27)\n> Comment on attachment 8563990\n> Part 1: Implement filter styles in rule view\n> \n> Review of attachment 8563990:\n> -----------------------------------------------------------------\n> \n> ::: browser/devtools/styleinspector/rule-view.js\n> @@ +1347,5 @@\n> > +  _onContextMenu: function(event) {\n> > +    try {\n> > +      // In the sidebar we do not have this.doc.popupNode so we need to save\n> > +      // the node ourselves.\n> > +      this.doc.popupNode = event.explicitOriginalTarget;\n> \n> I believe the TypeError is because cssruleview.xhtml is not .xul in which\n> there would be a window object. According to\n> https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Tutorial/\n> Focus_and_Selection, the currently focused element is held by an object\n> called a command dispatcher, of which there is only one for the window.\n> \n> I opted to use this.element in the revised patch, but my main problem is\n> that now right clicking on the textbox does not provide any context menu for\n> the normal textbox functionality such as copy and paste. To contrast, you\n> can right click on the textbox for inspector search or debugger search.\n> \n> The TypeError currently exist in both the ruleview and computedview textbox.\n> \n> I believe we should at the very least have the usual textbox context menu,\n> but I think that will involve changing cssruleview and computedview to .xul.\n> Any thoughts on this?\n\nI don't want to convert them to xul if at all possible.  Oddly though, even when I reduce cssruleview.xhtml to a minimal test case no context menu is showing up:\n\n  <?xml version=\"1.0\"?>\n  <html xmlns=\"http://www.w3.org/1999/xhtml\"\n        xmlns:xul=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\">\n    <body>\n      Open a context menu: <input id=\"ruleview-searchbox\" />\n    </body>\n  </html>",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-05T00:33:16Z"
  }, {
    "text" : "Comment on attachment 8572460\nPart 1: Implement filter styles in rule view\n\nReview of attachment 8572460:\n-----------------------------------------------------------------\n\nThis is very good progress. Two things that should be fixed before landing:\n\n1) ï»¿ï»¿Typing margin: 8px should keep the correct rules around on ï»¿the body element at http://bgrins.github.io/devtools-demos/inspector/mutations.html\n2) We need to fix the context menu before landing.  I can help with this, but try to see if you can come up with as reduced a test case as possible to demonstrate the problem we are seeing.\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1511,5 @@\n> +    if (this._filterChangedTimeout) {\n> +      clearTimeout(this._filterChangedTimeout);\n> +    }\n> +\n> +    let filterTimeout = (this.searchField.value.length > 0) ? 300 : 0;\n\nThis feels a little sluggish, can you try updating it to be maybe 150 (here and in computed view)?  And make it a const here just like in computed view.\n\n@@ +1831,5 @@\n>      if (!this._elementStyle.rules) {\n>        return;\n>      }\n>  \n> +    if (!searchTerm && this._highlightedElements.length > 0) {\n\nShouldn't it clear the highlight unconditionally here?  Seems like if you typed 'foo' then change it to 'boo' we would want anything that was originally highlighted to be cleared before proceeding.  I see we clear the class later in highlightRules but it'd be nice to see this all done right here instead. (I'm assuming there won't be any flash if we did that since the highlight happens just next, but if that is an issue it would be another story).\n\n@@ +1841,5 @@\n>          continue;\n>        }\n>  \n> +      if (!rule.editor) {\n> +        rule.editor = new RuleEditor(this, rule);\n\nWhat's the case when rule.editor is null?  Could use a comment (I know this is some weirdness inherited from below).\n\n@@ +1846,5 @@\n> +      }\n> +\n> +      // Handle filter styles if there is a search input\n> +      if (searchTerm && rule.domRule.type !== ELEMENT_STYLE) {\n> +        matchSearchTerm = this.highlightRules(rule, searchTerm);\n\nmatchSearchTerm can be scoped within this block since it's only used here\n\n@@ +1923,5 @@\n> +        selectorNode.setAttribute(\"selected\", true);\n> +        this._highlightedElements.push(selectorNode);\n> +        isHighlighted = true;\n> +      } else {\n> +        selectorNode.removeAttribute(\"selected\");\n\nIf we call clearHighlight unconditionally above I believe this else can be removed\n\n@@ +1938,5 @@\n> +        textProp.editor.element.setAttribute(\"selected\", true);\n> +        this._highlightedElements.push(textProp.editor.element);\n> +        isHighlighted = true;\n> +      } else {\n> +        textProp.editor.element.removeAttribute(\"selected\");\n\nIf we call clearHighlight unconditionally above I believe this else can be removed\n\n@@ +1942,5 @@\n> +        textProp.editor.element.removeAttribute(\"selected\");\n> +      }\n> +    }\n> +\n> +    return isHighlighted;\n\nCould just return this._highlightedElements.length > 0 and not keep track of this bit?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-05T23:18:51Z"
  }, {
    "text" : "Comment on attachment 8572464\nPart 2: Adjust the styles in the computed view's filter style\n\nReview of attachment 8572464:\n-----------------------------------------------------------------\n\nThese changes look fine generally assuming we figure something out for the context menu on the textbox",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-06T15:40:23Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #38)\n> @@ +1831,5 @@\n> >      if (!this._elementStyle.rules) {\n> >        return;\n> >      }\n> >  \n> > +    if (!searchTerm && this._highlightedElements.length > 0) {\n> \n> Shouldn't it clear the highlight unconditionally here?  Seems like if you\n> typed 'foo' then change it to 'boo' we would want anything that was\n> originally highlighted to be cleared before proceeding.  I see we clear the\n> class later in highlightRules but it'd be nice to see this all done right\n> here instead. (I'm assuming there won't be any flash if we did that since\n> the highlight happens just next, but if that is an issue it would be another\n> story).\n> @@ +1923,5 @@\n> > +        selectorNode.setAttribute(\"selected\", true);\n> > +        this._highlightedElements.push(selectorNode);\n> > +        isHighlighted = true;\n> > +      } else {\n> > +        selectorNode.removeAttribute(\"selected\");\n> \n> If we call clearHighlight unconditionally above I believe this else can be\n> removed\n> \n> @@ +1938,5 @@\n> > +        textProp.editor.element.setAttribute(\"selected\", true);\n> > +        this._highlightedElements.push(textProp.editor.element);\n> > +        isHighlighted = true;\n> > +      } else {\n> > +        textProp.editor.element.removeAttribute(\"selected\");\n> \n> If we call clearHighlight unconditionally above I believe this else can be\n> removed\n> \n> @@ +1942,5 @@\n> > +        textProp.editor.element.removeAttribute(\"selected\");\n> > +      }\n> > +    }\n> > +\n> > +    return isHighlighted;\n> \n> Could just return this._highlightedElements.length > 0 and not keep track of\n> this bit?\n\nTo be clear, with this clearHighlight() / _highlightedElements stuff there are quite a few ways that it could be solved and I'm not stuck on it being done this way in particular.  The main issue I have with it right now is that the state in _highlightedElements gets out of whack and ends up containing elements that are no longer visible / selected.  We could even just replace that object with a call to querySelectorAll(\"[selected]\"), in which case I wouldn't mind the fact that the attributes are removed inside of the highlightRules function instead of clearHighlight().",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-06T15:45:35Z"
  }, {
    "text" : "Comment on attachment 8572460\nPart 1: Implement filter styles in rule view\n\nReview of attachment 8572460:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1511,5 @@\n> +    if (this._filterChangedTimeout) {\n> +      clearTimeout(this._filterChangedTimeout);\n> +    }\n> +\n> +    let filterTimeout = (this.searchField.value.length > 0) ? 300 : 0;\n\nFixed. Changed to 150 and added const\n\n@@ +1831,5 @@\n>      if (!this._elementStyle.rules) {\n>        return;\n>      }\n>  \n> +    if (!searchTerm && this._highlightedElements.length > 0) {\n\nI think keeping the second condition should be fine. We only want to clear the highlights if there are highlighted elements.\n\n@@ +1841,5 @@\n>          continue;\n>        }\n>  \n> +      if (!rule.editor) {\n> +        rule.editor = new RuleEditor(this, rule);\n\nFixed. This is mainly to initialize the rule editor.\n\n@@ +1846,5 @@\n> +      }\n> +\n> +      // Handle filter styles if there is a search input\n> +      if (searchTerm && rule.domRule.type !== ELEMENT_STYLE) {\n> +        matchSearchTerm = this.highlightRules(rule, searchTerm);\n\nFixed\n\n@@ +1923,5 @@\n> +        selectorNode.setAttribute(\"selected\", true);\n> +        this._highlightedElements.push(selectorNode);\n> +        isHighlighted = true;\n> +      } else {\n> +        selectorNode.removeAttribute(\"selected\");\n\nFixed\n\n@@ +1938,5 @@\n> +        textProp.editor.element.setAttribute(\"selected\", true);\n> +        this._highlightedElements.push(textProp.editor.element);\n> +        isHighlighted = true;\n> +      } else {\n> +        textProp.editor.element.removeAttribute(\"selected\");\n\nFixed\n\n@@ +1942,5 @@\n> +        textProp.editor.element.removeAttribute(\"selected\");\n> +      }\n> +    }\n> +\n> +    return isHighlighted;\n\nWe actually have to keep track of the bit because we need to check for that particular rule if there were any selectors or properties highlighted, and from that it tells us whether or not we should show that rule editor.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-12T09:34:18Z"
  }, {
    "text" : "Created attachment 8576540\nPart 1: Implement filter styles in rule view",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-12T09:35:13Z"
  }, {
    "text" : "Created attachment 8576541\nPart 2: Adjust the styles in the computed view's filter style",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-12T09:35:35Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=b93e214f2d5f\n\nOnly lingering issue should be the context menu.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-12T09:36:15Z"
  }, {
    "text" : "Created attachment 8582893\nPart 1: Implement filter styles in rule view",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-25T05:24:33Z"
  }, {
    "text" : "Comment on attachment 8582893\nPart 1: Implement filter styles in rule view\n\nHi Boris,\n\nPinging you to see if you might have any insight regarding why the input context menu / overlay doesn't display when right clicking. I previously pinged you about the context menu not displaying when we mixed xul and html. I have changed the rule view to pure html in this part 1 patch.\n\nSTR:\n1. Apply part 1 patch https://bugzilla.mozilla.org/attachment.cgi?id=8582893\n2. Open DevTools Inspector\n3. Right click on the Filter Styles search input as seen in https://bug1120616.bugzilla.mozilla.org/attachment.cgi?id=8559877\n4. No context menu displays\n\nThanks in advance!",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-25T06:14:17Z"
  }, {
    "text" : "(In reply to Gabriel Luong (:gl) from comment #46)\n> Comment on attachment 8582893\n> Part 1: Implement filter styles in rule view\n> \n> Hi Boris,\n> \n> Pinging you to see if you might have any insight regarding why the input\n> context menu / overlay doesn't display when right clicking. I previously\n> pinged you about the context menu not displaying when we mixed xul and html.\n> I have changed the rule view to pure html in this part 1 patch.\n> \n> STR:\n> 1. Apply part 1 patch https://bugzilla.mozilla.org/attachment.cgi?id=8582893\n> 2. Open DevTools Inspector\n> 3. Right click on the Filter Styles search input as seen in\n> https://bug1120616.bugzilla.mozilla.org/attachment.cgi?id=8559877\n> 4. No context menu displays\n> \n> Thanks in advance!\n\nAnother easier STR:\n1. Go to https://bugzilla.mozilla.org/\n2. Open DevTools Inspector and highlight the <body>\n3. Select the Fonts tab in the Inspector\n4. Right click on the input box for the font url eg) \"https://bugzilla.mozilla.org/skins/contrib/Mozilla/fira/FiraSans-Italic.woff\"\n5. No context menu for cut, copy, paste, etc appears",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-25T20:29:50Z"
  }, {
    "text" : "(In reply to Gabriel Luong (:gl) from comment #47)\n> (In reply to Gabriel Luong (:gl) from comment #46)\n> > Comment on attachment 8582893\n> > Part 1: Implement filter styles in rule view\n> > \n> > Hi Boris,\n> > \n> > Pinging you to see if you might have any insight regarding why the input\n> > context menu / overlay doesn't display when right clicking. I previously\n> > pinged you about the context menu not displaying when we mixed xul and html.\n> > I have changed the rule view to pure html in this part 1 patch.\n\nHere is an even easier STR.  Paste this into the Browser Console and notice that the appended input element doesn't have a context menu:\n\nlet nbox = gBrowser.getNotificationBox(gBrowser.selectedBrowser)\nlet frame = gBrowser.ownerDocument.createElement(\"iframe\");\nframe.setAttribute(\"src\", \"data:text/html,<body>No context menu: <input /></body>\");\nnbox.appendChild(frame);",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-25T20:33:43Z"
  }, {
    "text" : "However when running this command with a xul document, the context menu does work:\n\nlet nbox = gBrowser.getNotificationBox(gBrowser.selectedBrowser)\nlet frame = gBrowser.ownerDocument.createElement(\"iframe\");\nframe.setAttribute(\"src\",\n    \"data:application/vnd.mozilla.xul+xml;charset=UTF-8,<?xml version='1.0'?>\" +\n    \"<?xml-stylesheet href='chrome://global/skin/global.css'?>\" +\n    \"<window xmlns='http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul'>\" +\n    \"<textbox></textbox></window>\"\n);\nnbox.appendChild(frame);",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-25T20:38:22Z"
  }, {
    "text" : "> 4. No context menu displays\n\nOK.  So your problem, afaict, is that chrome documents are responsible for their own context menus.\n\nSo for example, the only reason you get context menus at all in web content is that the <xul:browser> inside <tabbrowser> has contextmenu=\"contentAreaContextMenu\" set on it which then does the right things.\n\nOr as another example, the only reason you get a context menu when context-clicking in the inspector tree view is that this lives in a <xul:iframe> which has context=\"inspector-node-popup\" which defines the context menu.\n\nAs another example, context-clicking in the actual CSS rule view shows a context menu because the CssRuleView constructor does this:\n\n  this.element.addEventListener(\"contextmenu\", this._onContextMenu);\n\nand has a bunch of manual logic in that event listener to do the context menu.\n\nThe good news is this all means you can customize your context menu exactly as you wish.\n\nThe bad news is it means you have to implement a context menu yourself...",
    "authour" : "bzbarsky@mit.edu",
    "created" : "2015-03-27T14:20:29Z"
  }, {
    "text" : "Created attachment 8585778\nPart 1: Implement filter styles in rule view v1",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-30T23:23:22Z"
  }, {
    "text" : "Created attachment 8585781\nPart 2: Add unit tests for filter styles in rule view v1",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-30T23:24:02Z"
  }, {
    "text" : "Created attachment 8585782\nPart 3: Adjust the styles in the computed view's filter style search v1",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-30T23:24:34Z"
  }, {
    "text" : "Created attachment 8585783\nPart 4: Add textbox context menu for rule and computed view",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-30T23:25:23Z"
  }, {
    "text" : "Created attachment 8586406\nPart 4: Add textbox context menu for rule and computed view v1\n\nRebased",
    "authour" : "gl@mozilla.com",
    "created" : "2015-03-31T22:26:50Z"
  }, {
    "text" : "Created attachment 8587670\nPart 1: Implement filter styles in rule view v2",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-02T21:49:45Z"
  }, {
    "text" : "Created attachment 8587672\nPart 2: Add unit tests for filter styles in rule view v2",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-02T21:50:36Z"
  }, {
    "text" : "Created attachment 8587673\nPart 3: Adjust the styles in the computed view's filter style search v2",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-02T21:51:11Z"
  }, {
    "text" : "Created attachment 8587674\nPart 4: Add textbox context menu for rule and computed view v2",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-02T21:51:42Z"
  }, {
    "text" : "Created attachment 8587705\ncomputed-style-checkbox-height.patch\n\nWe discussed a style issue where the computed view textbox is hitting the bottom of the toolbar.  It's because of the checkbox next to it (which is taking up 24px due to line-height on devtools-toolbar).  I guess we don't have any other toolbar that has a child using the full line height.\n\nOddly enough setting the line-height on the checkbox to '-moz-block-height' seems to fix the problem, but I'm not really sure what that is doing.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-02T22:57:39Z"
  }, {
    "text" : "Created attachment 8588914\nPart 1: Implement filter styles in rule view v3",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T04:23:09Z"
  }, {
    "text" : "Created attachment 8588915\nPart 2: Add unit tests for filter styles in rule view v3",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T04:23:37Z"
  }, {
    "text" : "Created attachment 8588916\nPart 3: Adjust the styles in the computed view's filter style search v3",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T04:24:01Z"
  }, {
    "text" : "Created attachment 8588917\nPart 4: Add textbox context menu for rule and computed view v3",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T04:24:23Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=00048a663502",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T04:24:49Z"
  }, {
    "text" : "Created attachment 8588944\nPart 4: Add textbox context menu for rule and computed view v3",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T06:32:05Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=9d8c6a20274e",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T06:34:01Z"
  }, {
    "text" : "Created attachment 8589078\nPart 4: Add textbox context menu for rule and computed view v3\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=f7d96343adf9",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T13:03:08Z"
  }, {
    "text" : "Created attachment 8589298\nPart 4: Add textbox context menu for rule and computed view v3\n\nWas having some clipboard issues with try builds. Added copying from the context menu in the test cases.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=ed44efbebd37",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T21:12:30Z"
  }, {
    "text" : "*** Bug 931386 has been marked as a duplicate of this bug. ***",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-07T21:24:20Z"
  }, {
    "text" : "Assigning P1 priority for some devedition-40 bugs. \n\nFilter on '148DD49E-D162-440B-AE28-E22632FC20AC'",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-04-08T18:34:50Z"
  }, {
    "text" : "Comment on attachment 8588914\nPart 1: Implement filter styles in rule view v3\n\nReview of attachment 8588914:\n-----------------------------------------------------------------\n\nVery nice!  Only minor stuff, plus I'd like to clarify what some of the logic in highlightRules is doing.\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +2043,5 @@\n> +    for (let textProp of aRule.textProps) {\n> +      // Get the actual property value displayed in the rule view\n> +      let propertyValue = textProp.editor.valueSpan.textContent;\n> +\n> +      // If the search value matches a property line, check if there is a exact\n\ngrammar nit: 'an'\n\n@@ +2046,5 @@\n> +\n> +      // If the search value matches a property line, check if there is a exact\n> +      // match for the property name and value in the rule property.\n> +      let matchTextProperty = propertyMatch && name && value &&\n> +           textProp.name.toLowerCase().contains(name) &&\n\nI'd like to see a `let propertyName = textProp.name;` right after the propertyValue initialization, just for consistency\n\n@@ +2049,5 @@\n> +      let matchTextProperty = propertyMatch && name && value &&\n> +           textProp.name.toLowerCase().contains(name) &&\n> +           propertyValue.toLowerCase().contains(value);\n> +\n> +      // Check if there is a match for the parsed search value which only\n\nThe distinction between matchTextProperty / matchNameOrValue is hard to follow.  Is there some difference between what these are doing vs consolidating into this only:\n\nlet matches = (name && textProp.name.toLowerCase().contains(name)) ||\n              (value && propertyValue.toLowerCase().contains(value));\n\nI don't doubt if there is a difference, I'm just not sure what it is.\n\n::: browser/devtools/styleinspector/ruleview.css\n@@ +11,5 @@\n> +}\n> +\n> +body {\n> +  margin: 0;\n> +  display : flex;\n\nNit: space between :\n\n@@ +17,5 @@\n> +  height: 100%;\n> +}\n> +\n> +#ruleview-container {\n> +  -moz-user-select: text;\n\nWhy does this need the -moz-user-select?\n\n::: browser/themes/shared/devtools/toolbars.inc.css\n@@ +341,5 @@\n>    margin-top: 1px;\n>    margin-bottom: 1px;\n>    padding: 0;\n>    -moz-padding-start: 22px;\n> +  -moz-padding-end: 4px;\n\nThis change seems unrelated.  Is it intentional?\n\n@@ +360,5 @@\n> +.devtools-searchinput:-moz-locale-dir(rtl) {\n> +  background-position: calc(100% - 8px) center;\n> +}\n> +\n> +.devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-icon {\n\nThis was previously\n\n.devtools-searchinput > .textbox-input-box > .textbox-search-icons {\t\n  display: none;\t\n}\n\nWhat's the reason for the change?\n\n@@ +364,5 @@\n> +.devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-icon {\n> +  visibility: hidden;\n> +}\n> +\n> +.devtools-searchbox {\n\nPlease add a comment explaining that searchbox is actually a container element, an html div.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-11T00:20:39Z"
  }, {
    "text" : "Comment on attachment 8588914\nPart 1: Implement filter styles in rule view v3\n\nReview of attachment 8588914:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +2043,5 @@\n> +    for (let textProp of aRule.textProps) {\n> +      // Get the actual property value displayed in the rule view\n> +      let propertyValue = textProp.editor.valueSpan.textContent;\n> +\n> +      // If the search value matches a property line, check if there is a exact\n\nFixed\n\n@@ +2046,5 @@\n> +\n> +      // If the search value matches a property line, check if there is a exact\n> +      // match for the property name and value in the rule property.\n> +      let matchTextProperty = propertyMatch && name && value &&\n> +           textProp.name.toLowerCase().contains(name) &&\n\nFixed. I also moved toLowerCase() to these variables.\n\n@@ +2049,5 @@\n> +      let matchTextProperty = propertyMatch && name && value &&\n> +           textProp.name.toLowerCase().contains(name) &&\n> +           propertyValue.toLowerCase().contains(value);\n> +\n> +      // Check if there is a match for the parsed search value which only\n\nmatchTextProperty would match exactly for a property line. An example would be: \"font-family: arial\". In such a case, the user would be filtering specifically for this property name and value.\n\nOn the other hand, the user could enter a name or value. The CSS_PROP_RE will split a property line (ie, \"font-family: arial\") into its name and value. If the search input is not in the format of a property line, it will try to match the given search input with the name or value of a rule property. However, there may be cases where the user is looking specifically for a name or value, and the search input is in the format of a property line, but missing either name or value such as \"font:\" or \":100%\". The latter case was an extra feature since there might be some repeating terms that appear in both the name and value, but you might only care about one of them.\n\n::: browser/devtools/styleinspector/ruleview.css\n@@ +11,5 @@\n> +}\n> +\n> +body {\n> +  margin: 0;\n> +  display : flex;\n\nFixed\n\n@@ +17,5 @@\n> +  height: 100%;\n> +}\n> +\n> +#ruleview-container {\n> +  -moz-user-select: text;\n\nFixed. Removed -moz-user-select since this is already applied to the container from .ruleview.\n\n::: browser/themes/shared/devtools/toolbars.inc.css\n@@ +341,5 @@\n>    margin-top: 1px;\n>    margin-bottom: 1px;\n>    padding: 0;\n>    -moz-padding-start: 22px;\n> +  -moz-padding-end: 4px;\n\nThis is intentional change for search box you see in debugger, inspector, canvas debugger, etc. Since we unhide the search clear button, it is not probably aligned.\n\n@@ +360,5 @@\n> +.devtools-searchinput:-moz-locale-dir(rtl) {\n> +  background-position: calc(100% - 8px) center;\n> +}\n> +\n> +.devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-icon {\n\nThe original rule was removed to display the search clear button. This affects the searchbox you see in the debugger, inspector, etc.\n\nIn addition, there is an extra icon that appears in Windows that ntim mention in comment 19 that is hidden by the new rule.\n\n@@ +364,5 @@\n> +.devtools-searchinput > .textbox-input-box > .textbox-search-icons > .textbox-search-icon {\n> +  visibility: hidden;\n> +}\n> +\n> +.devtools-searchbox {\n\nFixed. Added comment.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-11T09:09:33Z"
  }, {
    "text" : "Created attachment 8591201\nPart 1: Implement filter styles in rule view v4",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-11T09:10:08Z"
  }, {
    "text" : "Created attachment 8591345\nPart 1: Implement filter styles in rule view v5\n\nI modified highlightRules to exclude highlighting the inline element selector text by setting the selectorNodes to an empty array if the rule type is ELEMENT_STYLE. I figured highlighting 'element' would not be necessary since you will always see it, but you might still want to highlight properties within the inline style.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-12T14:43:29Z"
  }, {
    "text" : "Created attachment 8591934\nPart 1: Implement filter styles in rule view v6\n\nRevised the logic for matchTextProperty / matchNameOrValue with https://gist.github.com/bgrins/b8fd30a74994e8360769. \n\nFollow up on the CSS_PROP_RE is to use the parseDeclarations:\nlet declarations = parseDeclarations(aValue);\nlet propertyMatch = declarations.length == 1 && declarations[0].name && declarations[0].value;\nlet name = propertyMatch ? declarations[0].name : aValue;\nlet value = propertyMatch ? declarations[0].value : aValue;\n\nWe decided not to use parseDeclaration for the time being because we don't get the desired name and value in order to handle cases seen in tests filter-7 and filter-8.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-13T21:37:54Z"
  }, {
    "text" : "Comment on attachment 8588915\nPart 2: Add unit tests for filter styles in rule view v3\n\nReview of attachment 8588915:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_01.js\n@@ +21,5 @@\n> +add_task(function*() {\n> +  yield addTab(\"data:text/html;charset=utf-8,test rule view search filter\");\n> +\n> +  info(\"Creating the test document\");\n> +  content.document.body.innerHTML = PAGE_CONTENT;\n\nThis call ends up with 'unsafe CPOW usage' warnings when running in e10s mode.  It'd be better to include the content inside of the test uri, sort of like some of the inspector tests do: https://dxr.mozilla.org/mozilla-central/source/browser/devtools/inspector/test/browser_inspector_reload-01.js#13\n\n@@ +36,5 @@\n> +function* testAddTextInFilter(inspector, ruleView) {\n> +  info(\"Setting filter text to \\\"00F\\\"\");\n> +\n> +  let searchField = ruleView.searchField;\n> +  let onRuleViewFiltered = inspector.once(\"ruleview-filtered\");;\n\nNit: double semicolon (repeated in all the tests)\n\n@@ +40,5 @@\n> +  let onRuleViewFiltered = inspector.once(\"ruleview-filtered\");;\n> +  searchField.focus();\n> +\n> +  let win = ruleView.doc.defaultView;\n> +  EventUtils.synthesizeKey(\"0\", {}, win);\n\nNit: throughout these tests, you could do something like this instead of calling synthesizeKey once per line:\n\n  for (let key of \"00F\".split()) {\n    EventUtils.synthesizeKey(key, {}, win);\n  }\n\n@@ +48,5 @@\n> +  yield onRuleViewFiltered;\n> +\n> +  info(\"Check that the correct rules are visible\");\n> +  is(ruleView.element.children.length, 2, \"Should have 2 rules.\");\n> +  is(ruleView.element.children[0]._ruleEditor.rule.selectorText, \"element\", \"First rule is inline element.\");\n\nThroughout all these tests, calls to `ruleView.element.children[N]._ruleEditor` can be replaced with `getRuleViewRuleEditor(N)`\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_clear.js\n@@ +52,5 @@\n> +  is(ruleView.element.children.length, 2, \"Should have 2 rules.\");\n> +  is(ruleView.element.children[0]._ruleEditor.rule.selectorText, \"element\", \"First rule is inline element.\");\n> +  is(ruleView.element.children[1]._ruleEditor.rule.selectorText, \"#testid\", \"Second rule is #testid.\");\n> +  ok(ruleView.element.children[1]._ruleEditor.rule.textProps[0].editor.element.classList.contains(\"ruleview-highlight\"),\n> +    \"background-color text property is correctly highlighted.\");\n\nWe should add a check to make sure that removing some of the filter will readd things that now match the new filter.  Specifically, we could press backspace so that the contents end up being '00' and make sure that the width: 100% is also visible.\n\n@@ +70,5 @@\n> +  yield onRuleViewFiltered;\n> +\n> +  info(\"Check the search filter is cleared and no rules are highlighted\");\n> +  ok(!searchField.value, \"Search filter is cleared\");\n> +  ok(!doc.querySelectorAll(\".ruleview-highlight\").length &&\n\nThis should also make sure that the all of the rules are there in the rule view",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-13T21:59:37Z"
  }, {
    "text" : "Comment on attachment 8591934\nPart 1: Implement filter styles in rule view v6\n\nReview of attachment 8591934:\n-----------------------------------------------------------------\n\nLooks good!  r+ with just a nit\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1603,5 @@\n> +    }\n> +\n> +    let filterTimeout = (this.searchField.value.length > 0)\n> +      ? FILTER_CHANGED_TIMEOUT : 0;\n> +    this.searchClearButton.style.display = (this.searchField.value.length > 0)\n\nNit: believe this could be `this.searchClearButton.hidden = this.searchField.value.length === 0`",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-13T22:15:20Z"
  }, {
    "text" : "Comment on attachment 8588916\nPart 3: Adjust the styles in the computed view's filter style search v3\n\nReview of attachment 8588916:\n-----------------------------------------------------------------\n\nNice!  Only minor things, feel free to reupload with r=me\n\n::: browser/devtools/styleinspector/computed-view.js\n@@ +157,5 @@\n>  \n> +  this.root = this.styleDocument.getElementById(\"root\");\n> +  this.element = this.styleDocument.getElementById(\"propertyContainer\");\n> +  this.searchField = this.styleDocument.getElementById(\"computedview-searchbox\");\n> +  this.searchClearButton = this.styleDocument.getElementById(\"computedview-searchinput-clear\");\n\nNit: 80 characters.. could be mostly worked around by assigning `let doc = this.styleDocument`\n\n@@ +524,5 @@\n>      }\n>  \n> +    let filterTimeout = (this.searchField.value.length > 0)\n> +      ? FILTER_CHANGED_TIMEOUT : 0;\n> +    this.searchClearButton.style.display = (this.searchField.value.length > 0)\n\nNit: believe this could be `this.searchClearButton.hidden = this.searchField.value.length === 0`\n\n::: browser/devtools/styleinspector/test/browser_computedview_search-filter_clear.js\n@@ +9,5 @@\n> +add_task(function*() {\n> +  yield addTab(\"data:text/html;charset=utf-8,default styles test\");\n> +\n> +  info(\"Creating the test document\");\n> +  content.document.body.innerHTML = '<style type=\"text/css\"> ' +\n\nUnsafe CPOW usage here, please set html by using the data url in addTab\n\n@@ +13,5 @@\n> +  content.document.body.innerHTML = '<style type=\"text/css\"> ' +\n> +    '.matches {color: #F00;}</style>' +\n> +    '<span id=\"matches\" class=\"matches\">Some styled text</span>' +\n> +    '</div>';\n> +  content.document.title = \"Style Inspector Search Filter Test\";\n\nDitto\n\n@@ +39,5 @@\n> +\n> +  searchField.focus();\n> +\n> +  let win = computedView.styleWindow;\n> +  EventUtils.synthesizeKey(\"c\", {}, win);\n\nCould use:\n\n  for (let key of \"color\".split()) {\n    EventUtils.synthesizeKey(key, {}, win);\n  }\n\n@@ +50,5 @@\n> +\n> +  info(\"check that the correct properties are visible\");\n> +\n> +  let propertyViews = computedView.propertyViews;\n> +  propertyViews.forEach(function(propView) {\n\nNit: use arrow function for consistency\n\n@@ +71,5 @@\n> +\n> +  yield onRefreshed;\n> +\n> +  info(\"check the search filter is cleared\");\n> +  ok(!searchField.value, \"Search filter is cleared\");\n\nCan you also go through and make sure each propertyView is visible at this point?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-13T22:22:42Z"
  }, {
    "text" : "Comment on attachment 8589298\nPart 4: Add textbox context menu for rule and computed view v3\n\nReview of attachment 8589298:\n-----------------------------------------------------------------\n\nThis needs rebasing for toolbox.js, but looks good otherwise.\n\nI'd like your thoughts about extracting the searchbox functionality into a shared widget (that handles clear button, context menu, timeout for search, etc).  At that point, we could have a single test in place for that widget that would replace both browser_computedview_search-filter_context-menu.js and browser_ruleview_search-filter_context-menu.js.  I don't want to block landing this bug on that work, but I think it's pretty clear based on how similar those tests are that we want identical behavior in these two places.\n\n::: browser/devtools/framework/toolbox.js\n@@ +329,5 @@\n>  \n>          let framesMenu = this.doc.getElementById(\"command-button-frames\");\n>          framesMenu.addEventListener(\"command\", this.selectFrame, true);\n>  \n> +        this.textboxContextMenuPopup = this.doc.getElementById(\"toolbox-textbox-context-popup\");\n\nNit: 80 chars\n\n::: browser/devtools/styleinspector/computed-view.js\n@@ +835,5 @@\n> +   */\n> +  _onFilterTextboxContextMenu: function(event) {\n> +    try {\n> +      this.styleDocument.defaultView.focus();\n> +      this.searchContextMenu.openPopupAtScreen(event.screenX, event.screenY, true);\n\nI don't think this.searchContextMenu is ever going to be needed elsewhere in this file..  Because of that I think it might be easier to follow if we just use `this.inspector.toolbox.textboxContextMenuPopup` directly here and don't bother with setting it in init / destroy\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1631,5 @@\n> +   */\n> +  _onFilterTextboxContextMenu: function(event) {\n> +    try {\n> +      this.doc.defaultView.focus();\n> +      this.searchContextMenu.openPopupAtScreen(event.screenX, event.screenY, true);\n\nSee comment about this.searchContextMenu in computed-view.js\n\n::: browser/devtools/styleinspector/test/browser_computedview_search-filter_context-menu.js\n@@ +18,5 @@\n> +  yield selectNode(\"h1\", inspector);\n> +\n> +  let win = view.styleWindow;\n> +  let searchField = view.searchField;\n> +  let searchContextMenu = view.searchContextMenu;\n\nCan use toolbox.textboxContextMenuPopup here\n\n@@ +19,5 @@\n> +\n> +  let win = view.styleWindow;\n> +  let searchField = view.searchField;\n> +  let searchContextMenu = view.searchContextMenu;\n> +  ok(searchContextMenu, \"The search filter context menu is loaded in the rule view\");\n\nrule view -> computed view\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_context-menu.js\n@@ +18,5 @@\n> +  yield selectNode(\"h1\", inspector);\n> +\n> +  let win = view.doc.defaultView;\n> +  let searchField = view.searchField;\n> +  let searchContextMenu = view.searchContextMenu;\n\nCan use toolbox.textboxContextMenuPopup here",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-13T23:15:11Z"
  }, {
    "text" : "Created attachment 8592102\nPart 1: Implement filter styles in rule view v7",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-14T07:39:47Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #78)\n> Comment on attachment 8591934\n> Part 1: Implement filter styles in rule view v6\n> \n> Review of attachment 8591934:\n> -----------------------------------------------------------------\n> \n> Looks good!  r+ with just a nit\n> \n> ::: browser/devtools/styleinspector/rule-view.js\n> @@ +1603,5 @@\n> > +    }\n> > +\n> > +    let filterTimeout = (this.searchField.value.length > 0)\n> > +      ? FILTER_CHANGED_TIMEOUT : 0;\n> > +    this.searchClearButton.style.display = (this.searchField.value.length > 0)\n> \n> Nit: believe this could be `this.searchClearButton.hidden =\n> this.searchField.value.length === 0`\n\nFixed in v7. Diff: https://bugzilla.mozilla.org/attachment.cgi?oldid=8591934&action=interdiff&newid=8592102&headers=1",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-14T07:41:04Z"
  }, {
    "text" : "Comment on attachment 8588915\nPart 2: Add unit tests for filter styles in rule view v3\n\nReview of attachment 8588915:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_01.js\n@@ +21,5 @@\n> +add_task(function*() {\n> +  yield addTab(\"data:text/html;charset=utf-8,test rule view search filter\");\n> +\n> +  info(\"Creating the test document\");\n> +  content.document.body.innerHTML = PAGE_CONTENT;\n\nFixed. Added all the content inside of the TEST_URI\n\n@@ +36,5 @@\n> +function* testAddTextInFilter(inspector, ruleView) {\n> +  info(\"Setting filter text to \\\"00F\\\"\");\n> +\n> +  let searchField = ruleView.searchField;\n> +  let onRuleViewFiltered = inspector.once(\"ruleview-filtered\");;\n\nFixed. Removed double semicolon\n\n@@ +40,5 @@\n> +  let onRuleViewFiltered = inspector.once(\"ruleview-filtered\");;\n> +  searchField.focus();\n> +\n> +  let win = ruleView.doc.defaultView;\n> +  EventUtils.synthesizeKey(\"0\", {}, win);\n\nFixed. Added synthesizeKeys in head.js\n\n@@ +48,5 @@\n> +  yield onRuleViewFiltered;\n> +\n> +  info(\"Check that the correct rules are visible\");\n> +  is(ruleView.element.children.length, 2, \"Should have 2 rules.\");\n> +  is(ruleView.element.children[0]._ruleEditor.rule.selectorText, \"element\", \"First rule is inline element.\");\n\nFixed. Replaced with getRuleViewRuleEditor.\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_clear.js\n@@ +52,5 @@\n> +  is(ruleView.element.children.length, 2, \"Should have 2 rules.\");\n> +  is(ruleView.element.children[0]._ruleEditor.rule.selectorText, \"element\", \"First rule is inline element.\");\n> +  is(ruleView.element.children[1]._ruleEditor.rule.selectorText, \"#testid\", \"Second rule is #testid.\");\n> +  ok(ruleView.element.children[1]._ruleEditor.rule.textProps[0].editor.element.classList.contains(\"ruleview-highlight\"),\n> +    \"background-color text property is correctly highlighted.\");\n\nFixed. Added a test for adding and editing the search filter value in filter-10\n\n@@ +70,5 @@\n> +  yield onRuleViewFiltered;\n> +\n> +  info(\"Check the search filter is cleared and no rules are highlighted\");\n> +  ok(!searchField.value, \"Search filter is cleared\");\n> +  ok(!doc.querySelectorAll(\".ruleview-highlight\").length &&\n\nFixed. Added check for the number of rules visible after clearing",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T07:11:23Z"
  }, {
    "text" : "Created attachment 8592648\nPart 1: Implement filter styles in rule view v8\n\nRebased Part 1",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T07:12:00Z"
  }, {
    "text" : "Created attachment 8592649\nPart 2: Add unit tests for filter styles in rule view v4",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T07:12:41Z"
  }, {
    "text" : "Comment on attachment 8588916\nPart 3: Adjust the styles in the computed view's filter style search v3\n\nReview of attachment 8588916:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/computed-view.js\n@@ +157,5 @@\n>  \n> +  this.root = this.styleDocument.getElementById(\"root\");\n> +  this.element = this.styleDocument.getElementById(\"propertyContainer\");\n> +  this.searchField = this.styleDocument.getElementById(\"computedview-searchbox\");\n> +  this.searchClearButton = this.styleDocument.getElementById(\"computedview-searchinput-clear\");\n\nFixed. Used `let doc = this.styleDocument`\n\n@@ +524,5 @@\n>      }\n>  \n> +    let filterTimeout = (this.searchField.value.length > 0)\n> +      ? FILTER_CHANGED_TIMEOUT : 0;\n> +    this.searchClearButton.style.display = (this.searchField.value.length > 0)\n\nFixed. Used .hidden\n\n::: browser/devtools/styleinspector/test/browser_computedview_search-filter_clear.js\n@@ +9,5 @@\n> +add_task(function*() {\n> +  yield addTab(\"data:text/html;charset=utf-8,default styles test\");\n> +\n> +  info(\"Creating the test document\");\n> +  content.document.body.innerHTML = '<style type=\"text/css\"> ' +\n\nFixed. Added html in data uri for addTab\n\n@@ +13,5 @@\n> +  content.document.body.innerHTML = '<style type=\"text/css\"> ' +\n> +    '.matches {color: #F00;}</style>' +\n> +    '<span id=\"matches\" class=\"matches\">Some styled text</span>' +\n> +    '</div>';\n> +  content.document.title = \"Style Inspector Search Filter Test\";\n\nFixed. Removed title\n\n@@ +39,5 @@\n> +\n> +  searchField.focus();\n> +\n> +  let win = computedView.styleWindow;\n> +  EventUtils.synthesizeKey(\"c\", {}, win);\n\nFixed. Used new synthesizeKeys method defined in head.js\n\n@@ +50,5 @@\n> +\n> +  info(\"check that the correct properties are visible\");\n> +\n> +  let propertyViews = computedView.propertyViews;\n> +  propertyViews.forEach(function(propView) {\n\nFixed. Used arrow function\n\n@@ +71,5 @@\n> +\n> +  yield onRefreshed;\n> +\n> +  info(\"check the search filter is cleared\");\n> +  ok(!searchField.value, \"Search filter is cleared\");\n\nFixed. Added check to make sure each propertyView is visible.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T09:03:57Z"
  }, {
    "text" : "Created attachment 8592693\nPart 3: Adjust the styles in the computed view's filter style search v4",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T09:04:23Z"
  }, {
    "text" : "Comment on attachment 8589298\nPart 4: Add textbox context menu for rule and computed view v3\n\nReview of attachment 8589298:\n-----------------------------------------------------------------\n\n::: browser/devtools/framework/toolbox.js\n@@ +329,5 @@\n>  \n>          let framesMenu = this.doc.getElementById(\"command-button-frames\");\n>          framesMenu.addEventListener(\"command\", this.selectFrame, true);\n>  \n> +        this.textboxContextMenuPopup = this.doc.getElementById(\"toolbox-textbox-context-popup\");\n\nFixed.\n\n::: browser/devtools/styleinspector/computed-view.js\n@@ +835,5 @@\n> +   */\n> +  _onFilterTextboxContextMenu: function(event) {\n> +    try {\n> +      this.styleDocument.defaultView.focus();\n> +      this.searchContextMenu.openPopupAtScreen(event.screenX, event.screenY, true);\n\nFixed. Removed this.searchContextMenu in computed view.\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +1631,5 @@\n> +   */\n> +  _onFilterTextboxContextMenu: function(event) {\n> +    try {\n> +      this.doc.defaultView.focus();\n> +      this.searchContextMenu.openPopupAtScreen(event.screenX, event.screenY, true);\n\nFixed. Removed this.searchContextMenu in rule-view.js\n\n::: browser/devtools/styleinspector/test/browser_computedview_search-filter_context-menu.js\n@@ +18,5 @@\n> +  yield selectNode(\"h1\", inspector);\n> +\n> +  let win = view.styleWindow;\n> +  let searchField = view.searchField;\n> +  let searchContextMenu = view.searchContextMenu;\n\nFixed. Used toolbox.textboxContextMenuPopup\n\n@@ +19,5 @@\n> +\n> +  let win = view.styleWindow;\n> +  let searchField = view.searchField;\n> +  let searchContextMenu = view.searchContextMenu;\n> +  ok(searchContextMenu, \"The search filter context menu is loaded in the rule view\");\n\nFixed.\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_context-menu.js\n@@ +18,5 @@\n> +  yield selectNode(\"h1\", inspector);\n> +\n> +  let win = view.doc.defaultView;\n> +  let searchField = view.searchField;\n> +  let searchContextMenu = view.searchContextMenu;\n\nFixed. Used toolbox.textboxContextMenuPopup",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T09:38:59Z"
  }, {
    "text" : "Created attachment 8592715\nPart 4: Add textbox context menu for rule and computed view v4",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T09:39:49Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=082c2007ee0a",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T09:54:31Z"
  }, {
    "text" : "Comment on attachment 8592715\nPart 4: Add textbox context menu for rule and computed view v4\n\n@shorlander, can you do a ui-review with the above build to ensure it meets expectations? I am a bit curious if the colours need to be adjusted with the new colour changes to the theme.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T09:57:42Z"
  }, {
    "text" : "Created attachment 8592878\nPart 5: Refactor style inspector tests to use synthesizeKeys v1\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=46153e1127b8",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-15T16:14:34Z"
  }, {
    "text" : "Comment on attachment 8592649\nPart 2: Add unit tests for filter styles in rule view v4\n\nReview of attachment 8592649:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/test/browser_ruleview_search-filter_01.js\n@@ +25,5 @@\n> +  yield testAddTextInFilter(inspector, view);\n> +});\n> +\n> +function* testAddTextInFilter(inspector, ruleView) {\n> +  info(\"Setting filter text to \\\"00F\\\"\");\n\nNit: I'm not a huge fan of having a duplicated string in this info() call in all of these tests.  In my experience, these can fall out of sync if / when the code changes.  Looking at when it's added in these tests, we could add an info() to the top of the synthesizeKeys function: `info (\"About to synthesize keys: \" + input.split(\"\"));`\n\nr+ either way, but that's my preference.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-15T16:37:43Z"
  }, {
    "text" : "Comment on attachment 8592878\nPart 5: Refactor style inspector tests to use synthesizeKeys v1\n\nReview of attachment 8592878:\n-----------------------------------------------------------------\n\nLooks good",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-15T16:39:03Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #80)\n> I'd like your thoughts about extracting the searchbox functionality into a\n> shared widget (that handles clear button, context menu, timeout for search,\n> etc).  At that point, we could have a single test in place for that widget\n> that would replace both browser_computedview_search-filter_context-menu.js\n> and browser_ruleview_search-filter_context-menu.js.  I don't want to block\n> landing this bug on that work, but I think it's pretty clear based on how\n> similar those tests are that we want identical behavior in these two places.\n\nFiled 1154789 for discussion about this widget",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-15T16:47:40Z"
  }, {
    "text" : "Comment on attachment 8592715\nPart 4: Add textbox context menu for rule and computed view v4\n\nLooks good to me. I did notice a problem with the clear icon being off-center but looks to be a deeper problem. Will file a follow-up.",
    "authour" : "shorlander@mozilla.com",
    "created" : "2015-04-16T17:44:56Z"
  }, {
    "text" : "Created attachment 8593505\nPart 4: Add textbox context menu for rule and computed view v5\n\nRebased",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-16T18:08:41Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/f8326cd3e1ee\nhttps://hg.mozilla.org/integration/fx-team/rev/2ca9a3a1fc11\nhttps://hg.mozilla.org/integration/fx-team/rev/d78c245949df\nhttps://hg.mozilla.org/integration/fx-team/rev/0c1358f743a9\nhttps://hg.mozilla.org/integration/fx-team/rev/fc56554ea439",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-04-16T18:20:45Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=fx-team&revision=fc56554ea439",
    "authour" : "gl@mozilla.com",
    "created" : "2015-04-16T18:26:05Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/f8326cd3e1ee\nhttps://hg.mozilla.org/mozilla-central/rev/2ca9a3a1fc11\nhttps://hg.mozilla.org/mozilla-central/rev/d78c245949df\nhttps://hg.mozilla.org/mozilla-central/rev/0c1358f743a9\nhttps://hg.mozilla.org/mozilla-central/rev/fc56554ea439",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-17T19:23:01Z"
  }, {
    "text" : "Verified fixed on Firefox 40 RC, build ID: 20150807085045.\nAlso verified using latest 41.0a2 Aurora, for the DevEdition theme.",
    "authour" : "cornel.ionce@softvision.ro",
    "created" : "2015-08-11T13:51:23Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-17T23:48:57Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-08-11T13:51:23Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-12T20:35:44Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gabriel.luong@gmail.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-12T20:43:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-28T17:48:44Z",
      "what" : "attachments.isobsolete:8547760",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T19:56:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "shorlander@mozilla.com"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-30T05:55:29Z",
      "what" : "attachments.isobsolete:8555955",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-30T05:58:02Z",
      "what" : "attachments.isobsolete:8556905",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-30T20:44:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-02-11T07:52:46Z",
      "what" : "attachments.isobsolete:8556906",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-02-13T08:47:52Z",
      "what" : "attachments.isobsolete:8562596",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "shorlander@mozilla.com",
      "date" : "2015-02-19T16:31:32Z",
      "what" : "attachments.isobsolete:8563189",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-24T12:29:08Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1136101"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-03T07:05:58Z",
      "what" : "attachments.isobsolete:8563990",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-03T07:06:23Z",
      "what" : "attachments.isobsolete:8563991",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:12:37Z",
      "what" : "attachments.isobsolete:8571786",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:14:15Z",
      "what" : "attachments.isobsolete:8571787",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:14:15Z",
      "what" : "attachments.isobsolete:8572461",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-12T09:35:13Z",
      "what" : "attachments.isobsolete:8572460",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-12T09:35:35Z",
      "what" : "attachments.isobsolete:8572464",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-25T05:24:33Z",
      "what" : "attachments.isobsolete:8576540",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-25T06:14:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bzbarsky@mit.edu"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-30T23:23:22Z",
      "what" : "attachments.isobsolete:8576541",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-30T23:23:22Z",
      "what" : "attachments.isobsolete:8582893",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-31T22:28:26Z",
      "what" : "attachments.isobsolete:8585783",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:49:45Z",
      "what" : "attachments.isobsolete:8585778",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:50:36Z",
      "what" : "attachments.isobsolete:8585781",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:51:11Z",
      "what" : "attachments.isobsolete:8585782",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:51:42Z",
      "what" : "attachments.isobsolete:8586406",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bzbarsky@mit.edu",
      "date" : "2015-04-02T23:09:19Z",
      "what" : "cc",
      "removed" : "bzbarsky@mit.edu",
      "added" : ""
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T04:23:09Z",
      "what" : "attachments.isobsolete:8587670",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T04:23:09Z",
      "what" : "attachments.isobsolete:8587705",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T04:23:37Z",
      "what" : "attachments.isobsolete:8587672",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T04:24:01Z",
      "what" : "attachments.isobsolete:8587673",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T04:24:23Z",
      "what" : "attachments.isobsolete:8587674",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T06:32:28Z",
      "what" : "attachments.isobsolete:8588917",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T13:03:08Z",
      "what" : "attachments.isobsolete:8588944",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:41:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:41:44Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[devedition-40]"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T21:12:30Z",
      "what" : "attachments.isobsolete:8589078",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-08T18:34:50Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-08T19:49:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-08T19:49:47Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40]",
      "added" : "[devedition-40][difficulty=hard]"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-11T09:10:08Z",
      "what" : "attachments.isobsolete:8588914",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-12T14:43:29Z",
      "what" : "attachments.isobsolete:8591201",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-13T21:37:54Z",
      "what" : "attachments.isobsolete:8591345",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-14T07:39:47Z",
      "what" : "attachments.isobsolete:8591934",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T07:12:00Z",
      "what" : "attachments.isobsolete:8592102",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T07:12:41Z",
      "what" : "attachments.isobsolete:8588915",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T09:05:33Z",
      "what" : "attachments.isobsolete:8588916",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T09:39:49Z",
      "what" : "attachments.isobsolete:8589298",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-15T16:46:31Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1154789"
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-04-15T18:31:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-04-15T18:33:54Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1154809"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-16T17:20:12Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "987365"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-16T17:45:47Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-16T17:59:44Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-16T18:08:41Z",
      "what" : "attachments.isobsolete:8592715",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-16T18:26:25Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40][difficulty=hard]",
      "added" : "[devedition-40][difficulty=hard][fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40][difficulty=hard][fixed-in-fx-team]",
      "added" : "[devedition-40][difficulty=hard]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-04-17 12:23:01"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-04-18T12:37:04Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1155971"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-22T15:11:02Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1164343"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-22T19:00:48Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1167669"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-05-26T21:42:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-06-02T21:15:18Z",
      "what" : "blocks",
      "removed" : "1167669",
      "added" : ""
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-07-25T05:38:24Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40][difficulty=hard]",
      "added" : "[polish-backlog][difficulty=hard]"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-08-11T13:51:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cornel.ionce@softvision.ro"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-08-11T13:51:23Z",
      "what" : "cf_status_firefox40",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2017-01-01T10:38:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1327692"
    } ],
    "flagEvents" : [ {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-28T17:48:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555955,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-28T19:56:16Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555955,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-30T05:55:29Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555955,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-30T05:55:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556905,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-30T05:58:02Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556905,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-01-30T05:58:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556906,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "shorlander@mozilla.com",
      "date" : "2015-02-05T17:11:04Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556906,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-02-13T18:47:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563990,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-02-13T18:55:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563991,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-02-13T18:57:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-17T23:48:45Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563990,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-17T23:51:26Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563991,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "shorlander@mozilla.com",
      "date" : "2015-02-19T16:31:32Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:12:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8572460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:13:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8572461,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:14:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8572461,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-04T07:14:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8572464,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-05T23:18:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8572460,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-06T15:40:23Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8572464,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-25T06:14:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bzbarsky@mit.edu",
      "date" : "2015-03-27T14:20:29Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bzbarsky@mit.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-30T23:23:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8585778,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-30T23:24:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8585781,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-30T23:24:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8585782,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-30T23:25:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8585783,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-31T22:26:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8586406,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-03-31T22:28:26Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8585783,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-01T21:42:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8585778,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-01T21:43:03Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8585781,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-01T21:43:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8585782,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-01T21:51:16Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8586406,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:50:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8587670,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:50:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8587672,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:51:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8587673,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-02T21:51:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8587674,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-06T06:01:11Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8587670,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-06T06:01:23Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8587672,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-06T06:02:04Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8587673,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-06T06:02:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8587674,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T06:34:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588914,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T06:34:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588915,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T06:34:48Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588916,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T06:35:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8588944,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T13:03:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8588944,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T13:03:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8589078,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T19:31:49Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8589078,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-07T22:28:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8589298,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-11T00:20:39Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8588914,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-11T09:10:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8591201,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-12T14:43:29Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8591201,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-12T14:43:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8591345,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-13T21:37:54Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8591345,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-13T21:37:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8591934,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-13T21:59:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8588915,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-13T22:15:20Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8591934,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-13T22:22:42Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8588916,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-13T23:15:11Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8589298,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-14T07:39:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592102,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T07:12:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592648,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T07:12:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592649,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T09:04:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592693,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T09:54:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592715,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T09:57:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592715,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-15T16:14:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8592878,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-15T16:37:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8592649,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-15T16:39:03Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8592878,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-15T16:48:07Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8592715,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "shorlander@mozilla.com",
      "date" : "2015-04-16T17:44:56Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(shorlander@mozilla.com)",
      "added" : "",
      "attachmentId" : 8592715,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-04-16T18:08:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8593505,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-17T19:23:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-05-26T21:42:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120616,
  "cclist" : [ "bgrinstead@mozilla.com", "cornel.ionce@softvision.ro", "jgriffiths@mozilla.com", "nfitzgerald@mozilla.com", "ntim.bugs@gmail.com", "pbrosset@mozilla.com", "shorlander@mozilla.com", "ttromey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "Rule view is not showing media query in source link text",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "mratcliffe@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "At some point, the media text disappeared from the rule view link next to a selector.  This used to work but has regressed.\n\n* Open http://www.webdesignerwall.com/demo/media-queries/\n* Highlight the element with a background color that has a media query style applied to it\n\nExpected: the link says something like: \"inline:30 @media screen and .... (min-width: 900px)\"\nActual: the link says something like \"inline:30\"",
  "comments" : [ {
    "text" : "At some point, the media text disappeared from the rule view link next to a selector.  This used to work but has regressed.\n\n* Open http://www.webdesignerwall.com/demo/media-queries/\n* Highlight the element with a background color that has a media query style applied to it\n\nExpected: the link says something like: \"inline:30 @media screen and .... (min-width: 900px)\"\nActual: the link says something like \"inline:30\"",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-12T19:35:07Z"
  }, {
    "text" : "This is a regression - it is working in 34 but stopped working in 35",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-12T19:37:48Z"
  }, {
    "text" : "Created attachment 8547731\nt.html\n\nMike's test case from Bug 722196",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-12T19:47:48Z"
  }, {
    "text" : "Mailing list reference about this regression: https://groups.google.com/forum/#!topic/mozilla.dev.developer-tools/hma9yQiO9Jg",
    "authour" : "mte90net@gmail.com",
    "created" : "2015-01-12T20:03:19Z"
  }, {
    "text" : "Created attachment 8547762\nmedia-links.png\n\nscreenshot of the bug",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-12T20:38:38Z"
  }, {
    "text" : "Regression range:\n(m-c):\nLast good revision: 50b689feab5f (2014-10-10)\nFirst bad revision: f74ad36bb97b (2014-10-11)\nPushlog: https://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=50b689feab5f&tochange=f74ad36bb97b   \n\n(m-i):\nLast good revision: a1e44f48ddbd\nFirst bad revision: f74ad36bb97b\nPushlog: https://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=a1e44f48ddbd&tochange=f74ad36bb97b",
    "authour" : "adalucin@gmail.com",
    "created" : "2015-01-20T09:07:30Z"
  }, {
    "text" : "I have a simple fix... just need to add a test.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-01-21T15:47:56Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=d0df177bf517",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-10T14:00:03Z"
  }, {
    "text" : "Created attachment 8562078\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nJust about as simple as it gets.\n\nTry:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=e44aca113e97\nhttps://tbpl.mozilla.org/?tree=Try&rev=e44aca113e97",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-10T14:00:34Z"
  }, {
    "text" : "Comment on attachment 8562078\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nReview of attachment 8562078:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/test/browser_ruleview_content_01.js\n@@ +40,5 @@\n> +\n> +  let linkText = getRuleViewLinkTextByIndex(ruleView, 1);\n> +  is(linkText, \"inline:1 @screen and (min-width: 10px)\",\n> +    \"link text contains media query text.\");\n> +\n\nWe should also have an assertion for the second rule link text (to confirm that it is \".testclass, .unmatched\" with no media string).\n\n::: toolkit/devtools/server/actors/styles.js\n@@ +1254,5 @@\n>          let location = {\n>            href: source,\n>            line: line,\n> +          column: column,\n> +          mediaText: this.parentRule ? this.parentRule.mediaText : \"\"\n\nI believe that the `this.location` getter should be where the mediaText property is added, then it will just be passed it into this resolution and you can pass along `mediaText: mediaText`.\n\nI'm not positive about it, but I'd like to at least discuss this before landing.  What is the case where there is no parentSheet?  If this is true, than I believe mediaText will be omitted from this call.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-10T21:21:30Z"
  }, {
    "text" : "Comment on attachment 8562078\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nReview of attachment 8562078:\n-----------------------------------------------------------------\n\n::: browser/devtools/styleinspector/test/browser_ruleview_content_01.js\n@@ +40,5 @@\n> +\n> +  let linkText = getRuleViewLinkTextByIndex(ruleView, 1);\n> +  is(linkText, \"inline:1 @screen and (min-width: 10px)\",\n> +    \"link text contains media query text.\");\n> +\n\nDone\n\n::: toolkit/devtools/server/actors/styles.js\n@@ +1254,5 @@\n>          let location = {\n>            href: source,\n>            line: line,\n> +          column: column,\n> +          mediaText: this.parentRule ? this.parentRule.mediaText : \"\"\n\nThis turned out to be more difficult than expected. nsIDOMCSSRule.MEDIA_RULEs are the actual @media statement block.\n\nThis means that to check if a rule is what we call a media rule we need to check it's parent rule if it has one. A small tweek to styles.js fixed this.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-12T16:58:55Z"
  }, {
    "text" : "Created attachment 8563459\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nTry:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=d60e5fc13e58\nhttps://tbpl.mozilla.org/?tree=Try&rev=d60e5fc13e58",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-12T17:01:24Z"
  }, {
    "text" : "Comment on attachment 8563459\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nReview of attachment 8563459:\n-----------------------------------------------------------------\n\nThere are test failures with this patch applied\n\n::: toolkit/devtools/server/actors/styles.js\n@@ +992,5 @@\n>      if (this.rawRule.parentRule) {\n>        form.parentRule = this.pageStyle._styleRef(this.rawRule.parentRule).actorID;\n> +\n> +      if (this.rawRule.parentRule.type === Ci.nsIDOMCSSRule.MEDIA_RULE) {\n> +        form.media = [];\n\nThis is setting form.media, but form.mediaText is still being set directly to this.rawRule.media.mediaText (i.e. not relying on the parent rule).  I'm a little concerned about changing this behavior for backwards compatibility sake -- are you saying that your initial approach wouldn't work after all?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-13T16:42:22Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #12)\n> Comment on attachment 8563459\n> 1120570-fix-media-query-in-rule-view-source-link.patch\n> \n> Review of attachment 8563459:\n> -----------------------------------------------------------------\n> \n> ::: toolkit/devtools/server/actors/styles.js\n> @@ +992,5 @@\n> >      if (this.rawRule.parentRule) {\n> >        form.parentRule = this.pageStyle._styleRef(this.rawRule.parentRule).actorID;\n> > +\n> > +      if (this.rawRule.parentRule.type === Ci.nsIDOMCSSRule.MEDIA_RULE) {\n> > +        form.media = [];\n> \n> This is setting form.media, but form.mediaText is still being set directly\n> to this.rawRule.media.mediaText (i.e. not relying on the parent rule).\n\nmediaText comes from here:\n```\nget mediaText() {\n  if (!this._form.media) {\n    return null;\n  }\n  if (this._mediaText) {\n    return this._mediaText;\n  }\n  this._mediaText = this.media.join(\", \");\n  return this._mediaText;\n},\n```\n\nSo it is set by the value in form.media, which is set from:\n```\nif (this.rawRule.parentRule.type === Ci.nsIDOMCSSRule.MEDIA_RULE) {\n  form.media = [];\n  for (let i = 0, n = this.rawRule.parentRule.media.length; i < n; i++) {\n    form.media.push(this.rawRule.parentRule.media.item(i));\n  }\n}\n```\n\n> I'm\n> a little concerned about changing this behavior for backwards compatibility\n> sake.\n\nThis was not changed for backwards compatibility sake. The way we were doing it was wrong as it was based on a misunderstanding of what a Ci.nsIDOMCSSRule.MEDIA_RULE is. A rule that we generally call a media rule is actually a Ci.nsIDOMCSSRule.STYLE_RULE (.someclass {...}) that has a parent of a Ci.nsIDOMCSSRule.MEDIA_RULE (@media blah).\n\nWe were treating it as if the style rule (.someclass {...}) was a media rule when we should have been checking the parent... this would never work.\n\n> Are you saying that your initial approach wouldn't work after all?\n\nMy initial approach works fine but simply masks an existing bug.\n\n> \n> There are test failures with this patch applied\n\nOf course, I will fix that.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-13T17:20:28Z"
  }, {
    "text" : "(In reply to Michael Ratcliffe [:miker] [:mratcliffe] from comment #13)\n> (In reply to Brian Grinstead [:bgrins] from comment #12)\n> > Comment on attachment 8563459\n> > 1120570-fix-media-query-in-rule-view-source-link.patch\n> > \n> > Review of attachment 8563459:\n> > -----------------------------------------------------------------\n> > \n> > This is setting form.media, but form.mediaText is still being set directly\n> > to this.rawRule.media.mediaText (i.e. not relying on the parent rule).\n> \n\nI see... you were looking in stylesheets.js. We are dealing with the actual Ci.nsIDOMCSSRule.MEDIA_RULEs there so we are doing it correctly.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-13T17:56:26Z"
  }, {
    "text" : "Created attachment 8565032\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nAddressed all comments and fixed bugs exposed by tests.\n\nTry:\nhttps://tbpl.mozilla.org/?tree=Try&rev=2ab7a7135a67\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=2ab7a7135a67",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-16T14:37:11Z"
  }, {
    "text" : "[Tracking Requested - why for this release]: Regression in the devtools",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-17T10:20:59Z"
  }, {
    "text" : "We can definitely take this up to 37, please nominate for uplift once it's landed on central.  36 is about to go out the door and the RC is already with users, this isn't a serious enough regression to justify a respin but I'll leave the nomination for tracking so Sylvestre, who's on point for 36, can confirm his opinion.",
    "authour" : "lukasblakk+bugs@gmail.com",
    "created" : "2015-02-17T19:19:24Z"
  }, {
    "text" : "Comment on attachment 8565032\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nReview of attachment 8565032:\n-----------------------------------------------------------------\n\nThe changes look fine, but please address the comments before landing\n\n::: browser/devtools/styleinspector/rule-view.js\n@@ +436,5 @@\n>    this._modificationDepth = 0;\n>  \n>    if (this.domRule) {\n>      let parentRule = this.domRule.parentRule;\n>      if (parentRule && parentRule.type == Ci.nsIDOMCSSRule.MEDIA_RULE) {\n\nCan't we check `if (this.domRule.mediaText)` and get rid of the parentRule variable?  Then the whole complication of whether mediaText is set on the child or the parent can be kept out of the frontend.\n\n@@ +437,5 @@\n>  \n>    if (this.domRule) {\n>      let parentRule = this.domRule.parentRule;\n>      if (parentRule && parentRule.type == Ci.nsIDOMCSSRule.MEDIA_RULE) {\n> +      this.mediaText = this.domRule.mediaText;\n\nNote: this looks like it could be a potential backwards compatibility problem.  On an old server the parentRule has media set while on a new server the rule itself does.  Looks like this is the only place in browser/devtools that references it and the feature hasn't been working anyway, so I guess it's OK\n\n::: toolkit/devtools/server/actors/styles.js\n@@ +1021,5 @@\n>        case Ci.nsIDOMCSSRule.IMPORT_RULE:\n>          form.href = this.rawRule.href;\n>          break;\n>        case Ci.nsIDOMCSSRule.MEDIA_RULE:\n> +        // CSS rules that we call media rules are STYLE_RULES that are children\n\nThis comment should be above the code that's actually setting form.media, and this entire case should be removed from the switch statement.\n\n@@ +1254,3 @@\n>      let parentSheet = this.parentStyleSheet;\n>      if (!parentSheet) {\n>        return promise.resolve(this.location);\n\nCan you add a comment here about how inline styles don't have any mediaText associated with them?  At least that's what I'm gathering after looking through the code to understand why parentStyleSheet is null, and why we wouldn't need to worry about passing along mediaText in that case.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-17T21:36:39Z"
  }, {
    "text" : "Created attachment 8565923\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nAddressed review comments.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-18T12:55:09Z"
  }, {
    "text" : "Comment on attachment 8565923\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nhttps://hg.mozilla.org/integration/fx-team/rev/0799176cb906",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-18T14:21:17Z"
  }, {
    "text" : "sorry had to back this out for test failures like https://treeherder.mozilla.org/logviewer.html#?job_id=2018660&repo=fx-team",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-18T16:00:25Z"
  }, {
    "text" : "As Lukas said, too late for 36.",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-02-19T08:52:07Z"
  }, {
    "text" : "Michael - Your fix was backed out due to test failures. Do you have time to look into the failures this week so that we can consider this for uplift to 37?",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-10T16:05:00Z"
  }, {
    "text" : "Joe - I haven't heard from Mike and we're running out of time for Beta. Can you help?",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-16T19:40:13Z"
  }, {
    "text" : "(In reply to Lawrence Mandel [:lmandel] (use needinfo) from comment #23)\n> Michael - Your fix was backed out due to test failures. Do you have time to\n> look into the failures this week so that we can consider this for uplift to\n> 37?\n\nI am currently working on remoting the storage panel so I don't have time to look at this right now.",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-03-17T12:44:07Z"
  }, {
    "text" : "Based on comment 25 I'm dropping tracking and marking 37 as wontfix.",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-17T14:15:01Z"
  }, {
    "text" : "Can't reproduce the issue locally so pushing to try:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=b5868838e0e5",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-03-23T15:16:52Z"
  }, {
    "text" : "In fact, let's be more thorough than that try run:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=3cf06a812ef4",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-03-23T16:24:46Z"
  }, {
    "text" : "Created attachment 8581769\n1120570-fix-media-query-in-rule-view-source-link.patch\n\nAh, it was a case of the test still expecting the value to be in the wrong place.\n\nI would expect this to be green now:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a9f9c178449a",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-03-23T17:34:28Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/c8590713b55f",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-24T14:46:39Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/c8590713b55f",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-25T01:15:27Z"
  }, {
    "text" : "*** Bug 1064854 has been marked as a duplicate of this bug. ***",
    "authour" : "sebastianzartner@gmail.com",
    "created" : "2015-06-01T12:24:18Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-25T01:15:27Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-25T01:15:27Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-12T19:37:48Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regression"
    }, {
      "name" : "mte90net@gmail.com",
      "date" : "2015-01-12T20:03:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mte90net@gmail.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-12T20:38:50Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regressionwindow-wanted"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-01-12T21:57:16Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mratcliffe@mozilla.com"
    }, {
      "name" : "adalucin@gmail.com",
      "date" : "2015-01-20T09:07:30Z",
      "what" : "keywords",
      "removed" : "regressionwindow-wanted",
      "added" : ""
    }, {
      "name" : "adalucin@gmail.com",
      "date" : "2015-01-20T09:07:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "alexandra.lucinet@softvision.ro"
    }, {
      "name" : "adalucin@gmail.com",
      "date" : "2015-01-20T09:07:30Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "alexandra.lucinet@softvision.ro"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-10T14:00:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-12T17:01:24Z",
      "what" : "attachments.isobsolete:8562078",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-16T14:37:11Z",
      "what" : "attachments.isobsolete:8563459",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "wontfix"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T10:20:59Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-02-17T19:18:16Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-02-17T19:18:16Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-18T12:55:09Z",
      "what" : "attachments.isobsolete:8565032",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-18T16:00:25Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cbook@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-19T08:52:07Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-19T08:52:07Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "?",
      "added" : "-"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-19T08:52:07Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "wontfix"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-16T19:40:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jwalker@mozilla.com"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-17T14:15:01Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "+",
      "added" : "-"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-17T14:15:01Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "wontfix"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-17T14:15:01Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "+",
      "added" : "-"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-17T14:15:01Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-03-23T17:34:28Z",
      "what" : "attachments.isobsolete:8565923",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-03-24T10:22:06Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T14:46:39Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T14:46:39Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-25T01:15:27Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-25T01:15:27Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-25T01:15:27Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-24 18:15:27"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-25T01:15:27Z",
      "what" : "cf_status_firefox39",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "sebastianzartner@gmail.com",
      "date" : "2015-06-01T12:24:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cotne.95@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-10T14:00:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8562078,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-10T21:21:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8562078,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-12T17:01:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563459,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-13T16:42:22Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563459,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-16T14:37:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565032,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-17T21:36:39Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8565032,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-18T12:55:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565923,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-18T14:21:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565923,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-18T16:00:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-10T16:03:31Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mratcliffe@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-10T16:05:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-16T19:40:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-03-17T12:44:07Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mratcliffe@mozilla.com), needinfo?(jwalker@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-03-23T11:09:30Z",
      "what" : "flagtypes.name",
      "removed" : "checkin+",
      "added" : "",
      "attachmentId" : 8565923,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-03-23T17:34:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8581769,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T14:46:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120570,
  "cclist" : [ "adalucin@gmail.com", "bgrinstead@mozilla.com", "cbook@mozilla.com", "cotne.95@gmail.com", "jwalker@mozilla.com", "mratcliffe@mozilla.com", "mte90net@gmail.com", "ntim.bugs@gmail.com", "sledru@mozilla.com" ]
}, {
  "component" : "Device Permissions",
  "summary" : "getUserMedia used in frames needs tests",
  "reporter" : "florian@queze.net",
  "assigned" : "florian@queze.net",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Things like bug 1062876 or bug 1114433 could have been caught earlier if we had had appropriate testing for getUserMedia used in a frame.",
  "comments" : [ {
    "text" : "Things like bug 1062876 or bug 1114433 could have been caught earlier if we had had appropriate testing for getUserMedia used in a frame.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-12T18:45:50Z"
  }, {
    "text" : "Created attachment 8547701\nTests\n\nThis is based on the browser_devices_get_user_media.js test. I also added in that file a test that the WebRTC sharing UI is correctly removed when the page is reloaded.\n\nThen, the new test for frames is a fork of the existing test, running the relevant tests in an iframe, and adding tests for a few frame-specific cases.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-12T18:48:45Z"
  }, {
    "text" : "https://treeherder.mozilla.org/ui/#/jobs?repo=try&revision=d8720e65afdb",
    "authour" : "florian@queze.net",
    "created" : "2015-01-13T15:07:37Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/001501ed6cbc",
    "authour" : "florian@queze.net",
    "created" : "2015-01-16T21:28:43Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/001501ed6cbc",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-17T00:48:22Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/62321380a4c3",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-22T20:32:37Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T00:38:12Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:22Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:22Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-01-12T18:48:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "felipc@gmail.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-12T18:51:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gavin.sharp@gmail.com"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-12T19:34:36Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T00:38:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T00:38:12Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "37.3 - 12 Jan"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T17:02:32Z",
      "what" : "cf_fx_iteration",
      "removed" : "37.3 - 12 Jan",
      "added" : "38.1 - 26 Jan"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-16T21:28:43Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:22Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:22Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-17T00:48:22Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-16 16:48:22"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-22T20:32:37Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-22T20:32:37Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-26T11:38:34Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1125661"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-04-09T16:38:05Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1126107"
    } ],
    "flagEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-01-12T18:48:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8547701,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-01-12T18:51:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-01-15T20:50:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(felipc@gmail.com)",
      "added" : "",
      "attachmentId" : 8547701,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-22T20:32:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120546,
  "cclist" : [ "felipc@gmail.com", "gavin.sharp@gmail.com", "mmucci@mozilla.com" ]
}, {
  "component" : "Sync",
  "summary" : "[UX] Review and revisit integration of synced tabs in Fx UI",
  "reporter" : "philipp@mozilla.com",
  "assigned" : "philipp@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "There have been a number of design attempts to integrate synced tabs into the product, which have all by now done the equivalent of bitrotting. Let's de-rot them before implementation.",
  "comments" : [ {
    "text" : "There have been a number of design attempts to integrate synced tabs into the product, which have all by now done the equivalent of bitrotting. Let's de-rot them before implementation.",
    "authour" : "philipp@mozilla.com",
    "created" : "2015-01-12T18:30:22Z"
  }, {
    "text" : "for context: Bug 996638",
    "authour" : "madhava@mozilla.com",
    "created" : "2015-01-12T18:33:47Z"
  }, {
    "text" : "To be more specific - two items of business:\n\n1. Does this design still make sense given other changes to the browser since this time (i.e. saving for later, sharing, sending, streaming, etc.).\n2. Are there ways to avoid having another button in the primary toolbar.\n\nThe answers to these might be yes and no, respectively, meaning no change to the spec, but we should review and be sure.",
    "authour" : "madhava@mozilla.com",
    "created" : "2015-01-12T18:37:29Z"
  }, {
    "text" : "My proposal suggests including a menu item in the toolbar only when synced tabs exist https://bugzilla.mozilla.org/show_bug.cgi?id=988323",
    "authour" : "rfeeley@mozilla.com",
    "created" : "2015-01-12T20:24:41Z"
  }, {
    "text" : "Created attachment 8561217\nMockup: Synced Tabs Menu\n\nMockup based on Ryans designs",
    "authour" : "philipp@mozilla.com",
    "created" : "2015-02-09T06:30:20Z"
  }, {
    "text" : "Created attachment 8561218\nMockup: Not signed in\n\nMockup for when the user is not signed in to sync",
    "authour" : "philipp@mozilla.com",
    "created" : "2015-02-09T06:30:51Z"
  }, {
    "text" : "(In reply to Philipp Sackl [:phlsa] limited availability until Feb. 23 from comment #4)\n> Created attachment 8561217\n> Mockup: Synced Tabs Menu\n\nDo we have mockups for what the linked about:sync page is suppose to look like?",
    "authour" : "clarkbw@mozilla.com",
    "created" : "2015-02-10T07:22:26Z"
  }, {
    "text" : "John even has some code, and from what I recall, it looked really good.",
    "authour" : "rfeeley@mozilla.com",
    "created" : "2015-02-10T16:52:24Z"
  }, {
    "text" : "(In reply to Bryan Clark (Firefox PM) [:clarkbw] from comment #6)\n> (In reply to Philipp Sackl [:phlsa] limited availability until Feb. 23 from\n> Do we have mockups for what the linked about:sync page is suppose to look\n> like?\n\nI can't find the mockups for the about:sync page.  Should we open a separate bug for that?  The current state is not good.",
    "authour" : "clarkbw@mozilla.com",
    "created" : "2015-02-20T19:10:49Z"
  }, {
    "text" : "here are the jgruen mockups:\nScreencast explaining current sync and proposal: https://www.dropbox.com/s/5578jhmxfxxcolm/sync-tabs-menu-now-fixes.m4v?dl=0\nFull about:sync page: https://www.dropbox.com/s/0fr9qe7ztjgrz96/tabs-from-other-devices.png?dl=0\nSync Tabs Page for popup: https://www.dropbox.com/s/a591tv4a0absrqs/sync-tabs%20page.png?dl=0",
    "authour" : "clarkbw@mozilla.com",
    "created" : "2015-02-20T19:43:39Z"
  }, {
    "text" : "created bug 1135209 to track the about:sync page designs",
    "authour" : "clarkbw@mozilla.com",
    "created" : "2015-02-20T20:36:22Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-09T06:33:29Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-09T06:33:29Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "clarkbw@mozilla.com",
      "date" : "2015-01-12T18:33:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "clarkbw@mozilla.com, rfeeley@mozilla.com"
    }, {
      "name" : "madhava@mozilla.com",
      "date" : "2015-01-12T18:33:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "madhava@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-12T18:51:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-12T18:51:30Z",
      "what" : "component",
      "removed" : "Toolbars and Customization",
      "added" : "Sync"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-12T22:52:41Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=996638"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-12T22:53:06Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=988323"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T00:38:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T16:23:27Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "8"
    }, {
      "name" : "rfeeley@mozilla.com",
      "date" : "2015-02-05T18:56:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "988317"
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-09T06:32:10Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "996638"
    }, {
      "name" : "philipp@mozilla.com",
      "date" : "2015-02-09T06:33:29Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-08 22:33:29"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-09T09:04:50Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-09T09:04:50Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "philipp@mozilla.com"
    }, {
      "name" : "rfeeley@mozilla.com",
      "date" : "2015-02-10T16:52:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgruen@mozilla.com"
    }, {
      "name" : "clarkbw@mozilla.com",
      "date" : "2015-02-20T19:10:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "philipp@mozilla.com"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-23T22:42:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mhammond@mozilla.com"
    } ],
    "flagEvents" : [ {
      "name" : "philipp@mozilla.com",
      "date" : "2015-01-12T18:30:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-13T00:38:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "rfeeley@mozilla.com",
      "date" : "2015-02-10T16:52:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "clarkbw@mozilla.com",
      "date" : "2015-02-20T19:10:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "clarkbw@mozilla.com",
      "date" : "2015-02-20T19:43:39Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jgruen@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "clarkbw@mozilla.com",
      "date" : "2015-03-02T15:17:33Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(philipp@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120529,
  "cclist" : [ "clarkbw@mozilla.com", "gijskruitbosch+bugs@gmail.com", "jgruen@mozilla.com", "madhava@mozilla.com", "markh@mozilla.com", "mmucci@mozilla.com", "philipp@mozilla.com", "rfeeley@mozilla.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "Handle uncaught promise rejections in protocol.js",
  "reporter" : "ejpbruel@mozilla.com",
  "assigned" : "ejpbruel@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "While attempting to remove the deprecated-sync-thenables from protocol.js (bug 1096490), I ran into a unhandled promise rejection within protocol.js. The problem seems to be that we're trying to send a packet after the connection has closed. Protocol.js needs to report these errors rather than silently ignore them.",
  "comments" : [ {
    "text" : "While attempting to remove the deprecated-sync-thenables from protocol.js (bug 1096490), I ran into a unhandled promise rejection within protocol.js. The problem seems to be that we're trying to send a packet after the connection has closed. Protocol.js needs to report these errors rather than silently ignore them.",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-12T16:37:21Z"
  }, {
    "text" : "Created attachment 8547630\nHandle uncaught promise rejections",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-12T16:42:14Z"
  }, {
    "text" : "Try run for the above patch:\nhttps://tbpl.mozilla.org/?tree=Try&rev=51cda441842a",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-12T16:45:01Z"
  }, {
    "text" : "Comment on attachment 8547630\nHandle uncaught promise rejections\n\nReview of attachment 8547630:\n-----------------------------------------------------------------\n\n::: toolkit/devtools/server/protocol.js\n@@ +1148,5 @@\n>      } else {\n>        this.actor().then(actorID => {\n>          packet.to = actorID;\n>          this.conn._transport.send(packet);\n> +      }).then(null, Cu.reportError);\n\nThis should be:\n\n    e => DevToolsUtils.reportException(\"Front.prototype.send\", e)\n\n(Sorry for the drive-by)",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-12T18:35:47Z"
  }, {
    "text" : "(Instead of `Cu.reportError`)",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-12T18:36:16Z"
  }, {
    "text" : "Comment on attachment 8547630\nHandle uncaught promise rejections\n\nr+ with fitzgen's comment addressed.",
    "authour" : "dcamp@mozilla.com",
    "created" : "2015-01-12T22:21:57Z"
  }, {
    "text" : "Try push for patch with comments addressed, just in case:\nhttps://treeherder.mozilla.org/ui/#/jobs?repo=try&revision=096a5ed7a9aa",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-13T10:12:51Z"
  }, {
    "text" : "Try push looks green, but just discovered that another try push caused oranges on windows because I forgot to require DevToolsUtils. Here's another try push that includes windows builds with that problem addressed:\nhttps://treeherder.mozilla.org/ui/#/jobs?repo=try&revision=0f9945a7f502",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-13T14:56:16Z"
  }, {
    "text" : "Try push looks green, pushing to fx-team:\nhttps://hg.mozilla.org/integration/fx-team/rev/e5540f8b4a2a",
    "authour" : "ejpbruel@mozilla.com",
    "created" : "2015-01-14T06:27:09Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e5540f8b4a2a",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-01-14T13:33:21Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-14T13:33:21Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-14T13:33:21Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-12T16:42:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dcamp@mozilla.com"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-12T16:42:14Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ejpbruel@mozilla.com"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-12T16:42:26Z",
      "what" : "attachments.ispatch:8547630",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-12T16:42:26Z",
      "what" : "attachments.mimetype:8547630",
      "removed" : "text/x-patch",
      "added" : "text/plain"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-12T18:36:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-14T13:33:21Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-01-14T13:33:21Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-14 05:33:21"
    } ],
    "flagEvents" : [ {
      "name" : "ejpbruel@mozilla.com",
      "date" : "2015-01-12T16:42:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8547630,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dcamp@mozilla.com",
      "date" : "2015-01-12T22:21:57Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dcamp@mozilla.com)",
      "added" : "",
      "attachmentId" : 8547630,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1120470,
  "cclist" : [ "dcamp@mozilla.com", "nfitzgerald@mozilla.com" ]
} ]