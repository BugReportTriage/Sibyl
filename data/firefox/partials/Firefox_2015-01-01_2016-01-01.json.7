[ {
  "component" : "Theme",
  "summary" : "OSX DevEdition Theme: Pinned tab with overflowing tabs covers up the nav-bar box shadow",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "bgrinstead@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8558162\npinned-tab-border.png\n\nSee the screenshot and that the box shadow along the nav bar is interrupted by the pinned tab.  This appears to be OSX only.",
  "comments" : [ {
    "text" : "Created attachment 8558162\npinned-tab-border.png\n\nSee the screenshot and that the box shadow along the nav bar is interrupted by the pinned tab.  This appears to be OSX only.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-02T22:29:55Z"
  }, {
    "text" : "Created attachment 8558167\npinned-overflow-fix.patch\n\nOddly, setting position:fixed here [0] is causing the background of the tab to overlap the negative box shadow on the nav-bar [1] added in Bug 1097595.  To fix this, we can remove the background on the tab anyway, since it matches the tab bar.\n\nNote, this won't be true for Windows after Bug 1093820, but we can just set the background color on tabs only for Windows there, especially since it doesn't suffer from this bug.\n\n[0]: https://dxr.mozilla.org/mozilla-central/source/browser/base/content/browser.css#178\n[1]: https://dxr.mozilla.org/mozilla-central/source/browser/themes/shared/devedition.inc.css#245",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-02T22:39:59Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/b597830d7034",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T18:34:23Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/b597830d7034",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-04T13:54:26Z"
  }, {
    "text" : "This is now fine in my  Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:40.0) Gecko/20100101 Firefox/40.0",
    "authour" : "roxrockers@gmail.com",
    "created" : "2015-05-27T09:13:39Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T22:39:59Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:26Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:26Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T22:39:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T22:39:59Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T22:40:11Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1097595"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T22:40:29Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1093820"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T16:09:21Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T18:34:23Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T18:34:23Z",
      "what" : "whiteboard",
      "removed" : "[devedition-polish]",
      "added" : "[fixed-in-fx-team][devedition-polish]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:26Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:26Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team][devedition-polish]",
      "added" : "[devedition-polish]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:26Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-04 05:54:26"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-04-20T15:39:29Z",
      "what" : "cf_qa_whiteboard",
      "removed" : "",
      "added" : "[good first verify]"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-04-20T15:39:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "roxrockers@gmail.com",
      "date" : "2015-05-27T09:13:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "roxrockers@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-02T22:39:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558167,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-03T16:06:57Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8558167,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128719,
  "cclist" : [ "florin.mezei@softvisioninc.eu", "gijskruitbosch+bugs@gmail.com", "roxrockers@gmail.com" ]
}, {
  "component" : "Tours",
  "summary" : "Whitelist Self Repair (self-repair.mozilla.org) origin for UITour",
  "reporter" : "alessio.placitelli@gmail.com",
  "assigned" : "alessio.placitelli@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We need to whitelist |self-repair.mozilla.org| to use UITour in [1].\n\n[1] - http://mxr.mozilla.org/mozilla-central/source/browser/app/default_permissions?force=1",
  "comments" : [ {
    "text" : "We need to whitelist |self-repair.mozilla.org| to use UITour in [1].\n\n[1] - http://mxr.mozilla.org/mozilla-central/source/browser/app/default_permissions?force=1",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-02T16:58:02Z"
  }, {
    "text" : "Created attachment 8557980\nbug1128564.patch\n\nFor some reason, |default_permissions| file has Windows line endings on my machines (even though HG forces LF).",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-02T17:16:02Z"
  }, {
    "text" : " is self-repair.mozilla.org right, or will it be something else?  (CDN-ish)?",
    "authour" : "glind@mozilla.com",
    "created" : "2015-02-02T17:19:16Z"
  }, {
    "text" : "That is correct. It's a CDN under the hood, but that detail is unimportant to include in the URL. http:// is working now, and I'm actively working with C to set up https://",
    "authour" : "chris.lonnen@gmail.com",
    "created" : "2015-02-02T19:50:48Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/8487c436c49b",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-20T16:07:57Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/8487c436c49b",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-21T02:14:26Z"
  }, {
    "text" : "Comment on attachment 8557980\nbug1128564.patch\n\nWe would like to uplift this to beta to make Firefox 37 Beta 2. This should be uplifted together with the following bugs (order matters):\n\n* 1128500 (introduces the HiddenFrame object)\n* 1126756 (allows UITour to cleanup properly)\n* 1128564 (this bug)\n* 1111022 (Self-Support backend)\n\n[Feature/regressing bug #]:\nNeeded for heartbeat / selfsupport v0, bug 1111016\n\n[User impact if declined]:\nHeartbeat and self-support will not be available for the user.\n\n[Describe test coverage new/current, TreeHerder]:\n[Risks and why]: Low risk isolated to self support not being able to execute UITour functions.\n[String/UUID change made/needed]: No",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-26T10:41:35Z"
  }, {
    "text" : "Comment on attachment 8557980\nbug1128564.patch\n\nTrivial Heartbeat change. Beta+",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-02-27T21:13:44Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/de7488acda8a",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-27T21:35:52Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-03T07:02:40Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-21T02:14:26Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-21T02:14:26Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T16:59:03Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1111016"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T17:03:10Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "alessio.placitelli@gmail.com"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T17:16:02Z",
      "what" : "cc",
      "removed" : "",
      "added" : "MattN+bmo@mozilla.com"
    }, {
      "name" : "glind@mozilla.com",
      "date" : "2015-02-02T17:19:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "chris.lonnen@gmail.com, glind@mozilla.com"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-20T08:12:19Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T16:07:57Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T16:07:57Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-21T02:14:26Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-21T02:14:26Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-21T02:14:26Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-20 18:14:26"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-21T02:14:26Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T21:35:52Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T17:16:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557980,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "glind@mozilla.com",
      "date" : "2015-02-02T17:19:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chris.lonnen@gmail.com",
      "date" : "2015-02-02T19:50:48Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chris.lonnen@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-02T20:22:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557980,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-26T10:41:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557980,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-27T21:13:44Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8557980,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128564,
  "cclist" : [ "chris.lonnen@gmail.com", "glind@mozilla.com", "MattN+bmo@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "Put |HiddenFrame| from CustomizationTabPreloader.jsm in HiddenFrame.jsm",
  "reporter" : "alessio.placitelli@gmail.com",
  "assigned" : "alessio.placitelli@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "As suggested in bug 1111022, since we might be reusing this code in different places, put the |HiddenFrame| object from CustomizationTabPreloader.jsm in a separate module, HiddenFrame.jsm.",
  "comments" : [ {
    "text" : "As suggested in bug 1111022, since we might be reusing this code in different places, put the |HiddenFrame| object from CustomizationTabPreloader.jsm in a separate module, HiddenFrame.jsm.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-02T14:02:17Z"
  }, {
    "text" : "Created attachment 8557908\npart 1 - Create HiddenFrame.jsm module.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-02T14:12:10Z"
  }, {
    "text" : "Comment on attachment 8557908\npart 1 - Create HiddenFrame.jsm module.\n\nReview of attachment 8557908:\n-----------------------------------------------------------------\n\nIs that also the bug for converting CustomizationTabPreloader.jsm to use it?\n\n::: browser/modules/HiddenFrame.jsm\n@@ +64,5 @@\n> +      this._frame.addEventListener(\"load\", this, true);\n> +      doc.documentElement.appendChild(this._frame);\n> +    } else {\n> +      let flags = Ci.nsIThread.DISPATCH_NORMAL;\n> +      Services.tm.currentThread.dispatch(() => this._create(), flags);\n\nCan you please use setTimeout() from Timer.jsm here? I think that didn't exist back then. Or I just didn't know of it yet :)",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-02-03T16:34:17Z"
  }, {
    "text" : "Created attachment 8559144\npart 1 - Create HiddenFrame.jsm module.\n\nAs discussed over IRC, this patch changes the behaviour of HiddenFrame so that the IFRAME is no longer shared among different users.\n\nThis prevents problems when cleaning up and should make it easier to use HiddenFrame in other places in the codebase.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-04T14:33:42Z"
  }, {
    "text" : "Created attachment 8559145\npart 2 - Make CustomizationTabPreloader.jsm use HiddenFrame.jsm",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-04T14:34:53Z"
  }, {
    "text" : "Comment on attachment 8559144\npart 1 - Create HiddenFrame.jsm module.\n\nReview of attachment 8559144:\n-----------------------------------------------------------------\n\nLGTM! Please check that it passes the Customizable UI tests.",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-02-04T14:49:05Z"
  }, {
    "text" : "Try push for mochitests (Linux, Macos, Win):\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=4e9a3171f944\n\nThere were 2 intermittent failures and 1 exceptions. I've retriggered them, all green now!",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-05T09:28:03Z"
  }, {
    "text" : "More comprehensive testing: https://treeherder.mozilla.org/#/jobs?repo=try&revision=c1c2d7f1a014",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-05T15:18:05Z"
  }, {
    "text" : "Created attachment 8560319\npart 1 - Create HiddenFrame.jsm module.\n\nUpdated the commit message.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-06T08:01:42Z"
  }, {
    "text" : "Created attachment 8560322\npart 1 - Create HiddenFrame.jsm module.\n\nUpdated the commit message.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-06T08:02:34Z"
  }, {
    "text" : "Created attachment 8560323\npart 2 - Make CustomizationTabPreloader.jsm use HiddenFrame.jsm\n\nUpdated the commit message.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-06T08:03:00Z"
  }, {
    "text" : "Created attachment 8560877\npart 2 - Make CustomizationTabPreloader.jsm use HiddenFrame.jsm (v2)\n\nRemoves the browser before cleaning up the frame.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-07T15:23:45Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/0f245324c0af\nhttps://hg.mozilla.org/integration/fx-team/rev/96bcf8f603f2",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-10T11:20:42Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0f245324c0af\nhttps://hg.mozilla.org/mozilla-central/rev/96bcf8f603f2",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-10T21:00:05Z"
  }, {
    "text" : "Tim, do you think this could be uplifted to 37 beta 2? What's the risk involved in doing that? We need it for bug 1111022 uplift.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-25T16:06:11Z"
  }, {
    "text" : "Risk should be rather low. We're just moving around code, not really changing how things work.",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-02-25T16:11:30Z"
  }, {
    "text" : "Comment on attachment 8560322\npart 1 - Create HiddenFrame.jsm module.\n\nWe would like to uplift this to Firefox 37 Beta 2. This should be uplifted along the following bugs (order matters):\n\n* 1128500 (this bug)\n* 1126756 (UITour changes)\n* 1128564 (whitelist selfsupport URL)\n* 1111022 (Self-Support backend)\n\n[Feature/regressing bug #]:\nNeeded for heartbeat / selfsupport v0, bug 1111016\n\n[User impact if declined]:\nHeartbeat and self-support will not be available for the user.\n\n[Describe test coverage new/current, TreeHerder]: Customizable UI Tests cover this change.\n[Risks and why]:  Risk should be rather low. We're just moving around code, not really changing how things work.\n[String/UUID change made/needed]: No",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-26T10:28:10Z"
  }, {
    "text" : "Comment on attachment 8560877\npart 2 - Make CustomizationTabPreloader.jsm use HiddenFrame.jsm (v2)\n\nWe should uplift this after part 1 as well.",
    "authour" : "alessio.placitelli@gmail.com",
    "created" : "2015-02-26T10:29:45Z"
  }, {
    "text" : "Comment on attachment 8560322\npart 1 - Create HiddenFrame.jsm module.\n\nCode change is isolated for use with Heatbeat and has been on m-c for 2 weeks. Beta+",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-02-27T21:15:05Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/3d6eaf96ca69\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/cae785163094",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-27T21:35:59Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-02-04T14:46:50Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-10T21:00:05Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-10T21:00:05Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T14:02:34Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1111022"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T14:02:51Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "alessio.placitelli@gmail.com"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T14:10:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "alessio.placitelli@gmail.com, ttaubert@mozilla.com"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-04T14:33:42Z",
      "what" : "attachments.isobsolete:8557908",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-06T08:01:42Z",
      "what" : "attachments.isobsolete:8559144",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-06T08:02:34Z",
      "what" : "attachments.isobsolete:8560319",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-06T08:03:00Z",
      "what" : "attachments.isobsolete:8559145",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-07T15:23:45Z",
      "what" : "attachments.isobsolete:8560323",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-09T17:25:08Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-10T11:20:42Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-10T11:20:42Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-10T21:00:05Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-10T21:00:05Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-10T21:00:05Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-10 13:00:05"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-10T21:00:05Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T21:35:59Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-02T14:12:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557908,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-02-03T16:34:17Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557908,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-04T14:33:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559144,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-04T14:34:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559145,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-02-04T14:46:23Z",
      "what" : "flagtypes.name",
      "removed" : "review?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : 8559145,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-02-04T14:49:05Z",
      "what" : "flagtypes.name",
      "removed" : "review?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : 8559144,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-25T16:06:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-02-25T16:11:30Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-26T10:28:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560322,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "alessio.placitelli@gmail.com",
      "date" : "2015-02-26T10:29:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560877,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-27T21:15:05Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8560322,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-27T21:15:32Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8560877,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128500,
  "cclist" : [ "alessio.placitelli@gmail.com", "ttaubert@mozilla.com" ]
}, {
  "component" : "File Handling",
  "summary" : "Download fails while e10s is disabled and the original download page is changed",
  "reporter" : "catalin.varga@softvision.ro",
  "assigned" : "gijskruitbosch+bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Environment:\n\nFF 35,38\nOS: win 7 x64\n\nSTR:\n\n1. Install FF35.\n2. Set Downloads \"Always ask me where to save files\" from about:preferences.\n3. Go to http://www.apple.com/it/itunes/download/ and press download.\n4. Wait untill the page is forwarded to http://www.apple.com/it/confirm/itunes/thankyou.html\n5. Press Save File.\nFirst Issue:\nThe download fails with this error:\n\n[Exception... \"Component returned failure code: 0x80004002 (NS_NOINTERFACE) [nsIInterfaceRequestor.getInterface]\"  nsresult: \"0x80004002 (NS_NOINTERFACE)\"  location: \"JS frame :: resource://gre/components/nsHelperAppDlg.js :: nsUnknownContentTypeDialog.prototype.promptForSaveToFileAsync/< :: line 258\"  data: no] Promise-backend.js:868\n\n6. Close FF 35.\n7. Start FF 38 using the same profile.\n8. Go to http://www.apple.com/it/itunes/download/ and press download.\n9. Wait untill the page is forwarded to http://www.apple.com/it/confirm/itunes/thankyou.html\n10. Press Save File.\n\nIssue:\nThe download is failing and this error is logged in browser console:\n\n[Exception... \"Component returned failure code: 0x80004002 (NS_NOINTERFACE) [nsIInterfaceRequestor.getInterface]\"  nsresult: \"0x80004002 (NS_NOINTERFACE)\"  location: \"JS frame :: resource://gre/components/nsHelperAppDlg.js :: nsUnknownContentTypeDialog.prototype.promptForSaveToFileAsync/< :: line 242\"  data: no] Promise-backend.js:870:0\nNS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsITaskbarTabPreview.invalidate] WindowsPreviewPerTab.jsm:401:0\n\n\nPleas note that this issue is intermittent and it reproduces around 20% of time.",
  "comments" : [ {
    "text" : "Environment:\n\nFF 35,38\nOS: win 7 x64\n\nSTR:\n\n1. Install FF35.\n2. Set Downloads \"Always ask me where to save files\" from about:preferences.\n3. Go to http://www.apple.com/it/itunes/download/ and press download.\n4. Wait untill the page is forwarded to http://www.apple.com/it/confirm/itunes/thankyou.html\n5. Press Save File.\nFirst Issue:\nThe download fails with this error:\n\n[Exception... \"Component returned failure code: 0x80004002 (NS_NOINTERFACE) [nsIInterfaceRequestor.getInterface]\"  nsresult: \"0x80004002 (NS_NOINTERFACE)\"  location: \"JS frame :: resource://gre/components/nsHelperAppDlg.js :: nsUnknownContentTypeDialog.prototype.promptForSaveToFileAsync/< :: line 258\"  data: no] Promise-backend.js:868\n\n6. Close FF 35.\n7. Start FF 38 using the same profile.\n8. Go to http://www.apple.com/it/itunes/download/ and press download.\n9. Wait untill the page is forwarded to http://www.apple.com/it/confirm/itunes/thankyou.html\n10. Press Save File.\n\nIssue:\nThe download is failing and this error is logged in browser console:\n\n[Exception... \"Component returned failure code: 0x80004002 (NS_NOINTERFACE) [nsIInterfaceRequestor.getInterface]\"  nsresult: \"0x80004002 (NS_NOINTERFACE)\"  location: \"JS frame :: resource://gre/components/nsHelperAppDlg.js :: nsUnknownContentTypeDialog.prototype.promptForSaveToFileAsync/< :: line 242\"  data: no] Promise-backend.js:870:0\nNS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsITaskbarTabPreview.invalidate] WindowsPreviewPerTab.jsm:401:0\n\n\nPleas note that this issue is intermittent and it reproduces around 20% of time.",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-02T12:49:13Z"
  }, {
    "text" : "Are you sure this doesn't happen on a vanilla profile, if you say it reproduces only 20% of the time? And does it only happen on Windows? Does e10s being on/off make a difference?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-02T13:03:37Z"
  }, {
    "text" : "You are absolutely correct my assumption was wrong it has to do with e10s, the bug is reproducible only with e10s disabled and has nothing to do with using FF35 prior to FF38, this are the actual STR:\n\n1. Start FF38 using a new profile.\n2. Set \"Always ask me where to save files\".\n3. Disable e10s.\n4. Go to http://www.apple.com/it/itunes/download/ and press download.\n5. Wait until the page is forwarded to http://www.apple.com/it/confirm/itunes/thankyou.html \n6. Press Save File.",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-02T13:52:44Z"
  }, {
    "text" : "I can't reproduce this at all. Catalin, can you try to work on more detailed instructions that reproduce more than 20% of the time? (Tried reproducing on both Windows and OS X, both with e10s on)\n\n(or does this require the profile to be old after all?)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-03T18:03:17Z"
  }, {
    "text" : "The bug is not reproducible with e10s enabled only with e10s disabled my assumption that the bug is due to using an older profile was wrong. The steps used to reproduce the bug are found on comment 2 . The bug is reproducible on Mac Os X also.",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-02-04T15:02:42Z"
  }, {
    "text" : "Hrmpf. This is what I get for writing a unit test but no integration test (which is not really possible here because of the system dialogs involved, I think, but either way, it's annoying).\n\nI'll have to look into this, because non-e10s is still what we're shipping everywhere besides Nightly, and AFAICT this means bug 1115248 just isn't really fixed on non-e10s (yet).",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-06T11:29:06Z"
  }, {
    "text" : "So here the issue is that when nsHelperAppDlg.js gets called, the window has already disappeared... :-(\n\nDigging here, I think:\n\n- nsExternalHelperAppService calls the dialog from RequestSaveDestination  ( http://hg.mozilla.org/mozilla-central/annotate/3436787a82d0/uriloader/exthandler/nsExternalHelperAppService.cpp#l2217 )\n- which only happens if we call SaveToDisk ( http://hg.mozilla.org/mozilla-central/annotate/3436787a82d0/uriloader/exthandler/nsExternalHelperAppService.cpp#l2253 )\n- the comment there is a lie, and saveToDisk can be called both from the nsExternalHelperAppService itself and from nsHelperAppDlg.js, but we only hit the broken \"where's my context\" path if it's called from the dialog - if it's called from nsExternalHelperAppService itself that's done here: http://hg.mozilla.org/mozilla-central/annotate/3436787a82d0/uriloader/exthandler/nsExternalHelperAppService.cpp#l1757 which is sync from OnStartRequest, which means the context can't be stale.\n- if it's called from the dialog, that means we've effectively hit the other branch in the last link, ie alwaysAsk is true and we call .show() on the dialog, with the context, which is for definite alive at that point. In fact, we already save it as mContext in the dialog code (which won't stop it from going stale as it's just an interface requestor, not a window ref).\n\nIOW: I think I can fix this by getting the download dir helper + parent ref in the show() method and using those if the getInterface call fails based on the aContext we get passed in promptForSaveToFileAsync. I should probably weakref the window so we don't hang on to it and leak it, and just use a |null| parent if the window is gone by the time we hit promptForSaveToFileAsync - after all, it doesn't necessarily make sense to even parent the dialog at that point, as the window we /should/ be parenting it to is gone and we might mislead the user if we parent it to the same outer window (e.g. offer download from evil.com, redirect to angelic.com, hey, look at me...).\n\nI'll work on a patch (and test!) that does this, assuming it holds up when I actually implement it. :-)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T13:33:27Z"
  }, {
    "text" : "I have a patch and a test. The problem is that the test doesn't fail without the patch, because in my test the context window doesn't get destroyed. I don't understand what is special about the iframe Apple uses to download iTunes that forces it to go away more quickly.\n\nBoris, can you help enlighten me? (for steps, see comment #2, try in nightly with e10s off)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T20:23:32Z"
  }, {
    "text" : "Created attachment 8561571\npart 1: fix nsHelperAppDlg.js to create its download dir info on show() already so it continues working if the window is gone by the time we prompt for a directory to save to,",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T20:27:08Z"
  }, {
    "text" : "Created attachment 8561576\npart 2: write a test to check that saving files when prompting for locations after the window is gone works,\n\nAssuming I can fix this up to actually fail without the patch I just added...",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T20:27:56Z"
  }, {
    "text" : "The only think I can think of offhand is that window.close() is kinda async.  Have you tried actually using an iframe in the test and just removing it from the DOM to trigger docshell/frameloader/etc teardown?",
    "authour" : "bzbarsky@mit.edu",
    "created" : "2015-02-09T20:46:23Z"
  }, {
    "text" : "(In reply to Boris Zbarsky [:bz] from comment #10)\n> The only think I can think of offhand is that window.close() is kinda async.\n> Have you tried actually using an iframe in the test and just removing it\n> from the DOM to trigger docshell/frameloader/etc teardown?\n\nYeah, the test patch here uses an iframe, and then navigates the parent (which is what apple does, too, AFAICT...).\n\nI can try nuking the iframe separately, instead of navigating the parent, if that sounds more plausible to hit the same case as Apple is hitting...",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T21:02:36Z"
  }, {
    "text" : "Navigating the parent might bfcache it or whatnot.  Probably safer to try removing the iframe from the DOM....",
    "authour" : "bzbarsky@mit.edu",
    "created" : "2015-02-09T21:34:03Z"
  }, {
    "text" : "Created attachment 8561676\npart 2: write a test to check that saving files when prompting for locations after the window is gone works,\n\nPerfect, that works!",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T22:11:11Z"
  }, {
    "text" : "btw, any idea why this didn't happen with e10s enabled? I wonder if that means that there's a leak with e10s somewhere preventing the iframe to go away",
    "authour" : "felipc@gmail.com",
    "created" : "2015-02-12T16:39:00Z"
  }, {
    "text" : "(In reply to :Felipe Gomes from comment #14)\n> btw, any idea why this didn't happen with e10s enabled?\n\nNo, I'm not sure. That'd require more testing, and I don't understand e10s well enough to figure out why there'd be a difference.\n\n> I wonder if that\n> means that there's a leak with e10s somewhere preventing the iframe to go\n> away\n\nNaively, at least, this sounds possible to me, but I wouldn't know how to test this hypothesis, and don't really have cycles to dive in.\n\n\ntrypush:\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=5500837fcee0",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-12T21:58:08Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #15)\n> trypush:\n> remote:  \n> https://treeherder.mozilla.org/#/jobs?repo=try&revision=5500837fcee0\n\nThis is orange. I should have purged the pageshow listener completely. I'd land that right now, or trypush it, but all trees are closed...",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-13T15:14:17Z"
  }, {
    "text" : "Created attachment 8564167\nPatch for checkin",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-13T15:26:16Z"
  }, {
    "text" : "Comment on attachment 8564167\nPatch for checkin\n\nCarrying over r+",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-13T15:27:00Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/fx-team/rev/688a64d4e746",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-13T23:11:29Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/688a64d4e746",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:55:24Z"
  }, {
    "text" : "Verified as fixed using:\n\nFF 39\nBUild Id: 20150226030225\nOs: Win 7 x64, Mac Os X 10.9.5",
    "authour" : "catalin.varga@softvision.ro",
    "created" : "2015-03-02T09:40:00Z"
  }, {
    "text" : "Mistakenly filed against Firefox 38 and should be instead 38 Branch. Sorry for the spam. dkl",
    "authour" : "dkl@mozilla.com",
    "created" : "2015-04-13T22:48:20Z"
  }, {
    "text" : "Back in FF41 w8 (iTunes)",
    "authour" : "f0rhum@free.fr",
    "created" : "2015-09-25T06:24:28Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:24Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-03-02T09:40:00Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:24Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-02T12:56:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-02T13:03:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "catalin.varga@softvision.ro"
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-02T14:04:02Z",
      "what" : "summary",
      "removed" : "Profile gets corrupted after a failed download",
      "added" : "Download fails while e10s is disabled and the original download page is changed"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-05T17:35:35Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-05T17:35:35Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "-"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "5"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1115248"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "op_sys",
      "removed" : "Windows 7",
      "added" : "All"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-06T21:05:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T20:23:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bzbarsky@mit.edu"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T20:27:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "felipc@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T22:11:16Z",
      "what" : "attachments.isobsolete:8561576",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bzbarsky@mit.edu",
      "date" : "2015-02-09T22:30:19Z",
      "what" : "cc",
      "removed" : "bzbarsky@mit.edu",
      "added" : ""
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-10T16:44:50Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.2 - 9 Feb",
      "added" : "38.3 - 23 Feb"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-13T15:26:19Z",
      "what" : "attachments.isobsolete:8561571",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-13T15:26:43Z",
      "what" : "attachments.isobsolete:8561676",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:24Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:24Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:55:24"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:24Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-16T15:38:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-16T15:38:24Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "catalin.varga@softvision.ro"
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-03-02T09:40:00Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "dkl@mozilla.com",
      "date" : "2015-04-13T22:48:20Z",
      "what" : "version",
      "removed" : "Firefox 38",
      "added" : "38 Branch"
    }, {
      "name" : "f0rhum@free.fr",
      "date" : "2015-09-25T06:24:28Z",
      "what" : "cc",
      "removed" : "",
      "added" : "f0rhum@free.fr"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-09-25T15:02:39Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1196144"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-02T12:56:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-02T13:03:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-02T13:52:44Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(catalin.varga@softvision.ro)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-03T18:03:17Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "catalin.varga@softvision.ro",
      "date" : "2015-02-04T15:02:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(catalin.varga@softvision.ro)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-06T11:29:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "REQUESTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T20:23:32Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T20:27:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561571,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T20:27:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561576,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bzbarsky@mit.edu",
      "date" : "2015-02-09T20:46:23Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bzbarsky@mit.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T22:11:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561676,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T22:11:16Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(felipc@gmail.com)",
      "added" : "",
      "attachmentId" : 8561576,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-02-12T16:35:48Z",
      "what" : "flagtypes.name",
      "removed" : "review?(felipc@gmail.com)",
      "added" : "",
      "attachmentId" : 8561571,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-02-12T16:37:04Z",
      "what" : "flagtypes.name",
      "removed" : "review?(felipc@gmail.com)",
      "added" : "",
      "attachmentId" : 8561676,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-13T15:27:00Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564167,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-23T13:11:14Z",
      "what" : "flagtypes.name",
      "removed" : "in-testsuite?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128480,
  "cclist" : [ "catalin.varga@softvision.ro", "f0rhum@free.fr", "felipc@gmail.com", "florin.mezei@softvisioninc.eu", "gijskruitbosch+bugs@gmail.com", "mconley@mozilla.com", "mmucci@mozilla.com" ]
}, {
  "component" : "Untriaged",
  "summary" : "Firefox does not cancel request to previously-typed URL when corrections are made",
  "reporter" : "fxos@tobykurien.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Linux",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "major",
  "description" : "User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150125221831\n\nSteps to reproduce:\n\nEnter a URL in the location bar, e.g.: sdfsdfgdsfg.co.za\nWhile it is loading (a slow internet connection helps replicate this), quickly change this to something else, like google.com\nAfter google.com has loaded, wait for about 2 minutes.\n\n\nActual results:\n\ngoogle.com loaded, but afterwards, the previously typed URL loaded, wiping out google.com. In the case of an invalid domain, the page shows the \"problem loading page\" page.\n\n\nExpected results:\n\nThe previously typed URL request should be cancelled completely.",
  "comments" : [ {
    "text" : "User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150125221831\n\nSteps to reproduce:\n\nEnter a URL in the location bar, e.g.: sdfsdfgdsfg.co.za\nWhile it is loading (a slow internet connection helps replicate this), quickly change this to something else, like google.com\nAfter google.com has loaded, wait for about 2 minutes.\n\n\nActual results:\n\ngoogle.com loaded, but afterwards, the previously typed URL loaded, wiping out google.com. In the case of an invalid domain, the page shows the \"problem loading page\" page.\n\n\nExpected results:\n\nThe previously typed URL request should be cancelled completely.",
    "authour" : "fxos@tobykurien.com",
    "created" : "2015-02-02T09:48:07Z"
  }, {
    "text" : "This seems to be fixed in Firefox 39.0",
    "authour" : "fxos@tobykurien.com",
    "created" : "2015-07-29T07:49:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "fxos@tobykurien.com",
      "date" : "2015-07-29T07:49:20Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "fxos@tobykurien.com",
      "date" : "2015-07-29T07:49:20Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "fxos@tobykurien.com",
      "date" : "2015-02-02T09:48:42Z",
      "what" : "severity",
      "removed" : "normal",
      "added" : "major"
    }, {
      "name" : "fxos@tobykurien.com",
      "date" : "2015-07-29T07:49:20Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-07-29 00:49:20"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1128451,
  "cclist" : [ ]
}, {
  "component" : "Developer Tools: Netmonitor",
  "summary" : "netmonitor: Security tab: values are not vertically aligned with keys",
  "reporter" : "aryx.bugmail@gmx-topmail.de",
  "assigned" : "sjakthol@outlook.com",
  "created" : null,
  "operatingSystem" : "Windows 8.1",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "minor",
  "description" : "Created attachment 8557664\nscreenshot of issue\n\nFirefox Nightly and Aurora 20150201 on Windows 8.1\n\nThe values shown in the Security tab of an encrypted connection are not vertically aligned with the labels.\n\nSteps to reproduce:\n1. Open Network view of developer tools.\n2. Load encrypted page, e.g. https://www.mozilla.org\n3. Click on element with lock symbol.\n4. Click on Security tab on the right.",
  "comments" : [ {
    "text" : "Created attachment 8557664\nscreenshot of issue\n\nFirefox Nightly and Aurora 20150201 on Windows 8.1\n\nThe values shown in the Security tab of an encrypted connection are not vertically aligned with the labels.\n\nSteps to reproduce:\n1. Open Network view of developer tools.\n2. Load encrypted page, e.g. https://www.mozilla.org\n3. Click on element with lock symbol.\n4. Click on Security tab on the right.",
    "authour" : "aryx.bugmail@gmx-topmail.de",
    "created" : "2015-02-01T23:25:12Z"
  }, {
    "text" : "Created attachment 8563916\nnetmonitor-security-align-labels-by-baseline.patch\n\nHere's a patch that should fix this issue. It aligns the labels by text baseline instead of centering them. This should keep them aligned in case one has a different size than the other.\n\nWill push to try once it opens.",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-02-13T06:31:57Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=cc8ff093de60",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-02-14T05:02:28Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/8df92e295ca5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T09:41:41Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/8df92e295ca5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T09:47:36Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/8df92e295ca5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:54:40Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-13T06:31:57Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:40Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:40Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-13T06:31:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-13T06:31:57Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "sjakthol@outlook.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-14T05:02:28Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:41:41Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:41:41Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:40Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:40Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:40Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:54:40"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:40Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-13T06:31:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563916,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-13T16:14:58Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563916,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128352,
  "cclist" : [ "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: WebIDE",
  "summary" : "renaming file in WebIDE project stops working after using non-ASCII characters",
  "reporter" : "aryx.bugmail@gmx-topmail.de",
  "assigned" : "a.ahmed1026@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Firefox Nightly and Aurora 20150201 on Windows 8.1 in German\n\nRenaming a file in a WebIDE project stops working after using non-ASCII characters in the new file name.\n\nSteps to reproduce:\n1. Open WebIDE.\n2. Create new packaged app and use the Hello world template.\n3. Right-click on app.js and choose Rename.\n4. Rename the file to ''.\n5. Rename the file again, this time to ''.\nActual result: The file name is encoded (already after first rename), and doesn't change on the second rename.",
  "comments" : [ {
    "text" : "Firefox Nightly and Aurora 20150201 on Windows 8.1 in German\n\nRenaming a file in a WebIDE project stops working after using non-ASCII characters in the new file name.\n\nSteps to reproduce:\n1. Open WebIDE.\n2. Create new packaged app and use the Hello world template.\n3. Right-click on app.js and choose Rename.\n4. Rename the file to ''.\n5. Rename the file again, this time to ''.\nActual result: The file name is encoded (already after first rename), and doesn't change on the second rename.",
    "authour" : "aryx.bugmail@gmx-topmail.de",
    "created" : "2015-02-01T21:40:04Z"
  }, {
    "text" : "Abdelrhman, would you be interested in looking into this issue?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-02T16:03:01Z"
  }, {
    "text" : "Created attachment 8559600\nrev 1 - non-ascii rename\n\n(In reply to J. Ryan Stinnett [:jryans] from comment #1)\n> Abdelrhman, would you be interested in looking into this issue\nSure :)\n\nI pushed this patch to try server: https://treeherder.mozilla.org/#/jobs?repo=try&revision=f51eef3a8f05",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-05T06:08:19Z"
  }, {
    "text" : "Comment on attachment 8559600\nrev 1 - non-ascii rename\n\nReview of attachment 8559600:\n-----------------------------------------------------------------\n\nAppears to work, thanks! :D\n\nI'd like to understand the actual issue, and have some comments on the test.\n\n::: browser/devtools/projecteditor/lib/stores/resource.js\n@@ +52,2 @@\n>     */\n> +  get basename() { return this.path.replace(/\\/+$/, '').replace(/\\\\/g,'/').replace( /.*\\//, '' ); },\n\nSo what was the actual issue?  Does the |uri| not preserve the special character?\n\n::: browser/devtools/projecteditor/test/browser_projecteditor_rename_file.js\n@@ +12,5 @@\n>  \n>    let root = [...projecteditor.project.allStores()][0].root;\n>    is(root.path, TEMP_PATH, \"The root store is set to the correct temp path.\");\n>    for (let child of root.children) {\n> +    let container = projecteditor.projectTree.getViewContainer(child);\n\nInstead of altering the existing test case, we should make a new one.\n\nDuplicate this |add_task| block in this same file to test this new case.\n\nAdd an argument to |renameWithContextMenu| to allow specifying the new name to set.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T00:58:37Z"
  }, {
    "text" : "Created attachment 8560921\nrev 2 - non-ascii rename\n\n(In reply to J. Ryan Stinnett [:jryans] from comment #3)\n> So what was the actual issue?  Does the |uri| not preserve the special\n> character?\n\nThis issue happens because of using URL API (https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/url) in |browser/devtools/projecteditor/lib/stores/resource.js| when initializing resource\n\n> this.setURI(URL.URL(URL.fromFilename(path)));\n\n|fromFilename| method converts the given native file path to a file URL and this causes converting non-ascii characters.",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-07T21:22:19Z"
  }, {
    "text" : "Comment on attachment 8560921\nrev 2 - non-ascii rename\n\nReview of attachment 8560921:\n-----------------------------------------------------------------\n\nLooks good overall, just a small change left.\n\nAfter fixing that, re-run on try to be sure the new test changes are passing.\n\nThanks for looking into this!\n\n::: browser/devtools/projecteditor/lib/stores/resource.js\n@@ +52,2 @@\n>     */\n> +  get basename() { return this.path.replace(/\\/+$/, '').replace(/\\\\/g,'/').replace( /.*\\//, '' ); },\n\nMove this method to |FileResource| since |Resource| does not have |this.path|.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-09T15:19:17Z"
  }, {
    "text" : "Created attachment 8561444\nrev 3 - non-ascii rename\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=ee444cef554b",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-09T16:53:11Z"
  }, {
    "text" : "Created attachment 8561451\nrev 4 - non-ascii rename\n\nThe identation of comment of |basename| was not correct.",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-09T17:03:22Z"
  }, {
    "text" : "New test changes failed with OS X.",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-13T04:31:00Z"
  }, {
    "text" : "Comment on attachment 8561451\nrev 4 - non-ascii rename\n\nCan we add exception for this test not be run on mac?\n\nlike adding this line in |browser/devtools/projecteditor/test/browser.ini|\n>  skip-if = os == \"mac\"\n\nfor [browser_projecteditor_rename_file.js]",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-17T19:45:26Z"
  }, {
    "text" : "(In reply to Abdelrhman Ahmed from comment #9)\n> Comment on attachment 8561451\n> rev 4 - non-ascii rename\n> \n> Can we add exception for this test not be run on mac?\n> \n> like adding this line in |browser/devtools/projecteditor/test/browser.ini|\n> >  skip-if = os == \"mac\"\n> \n> for [browser_projecteditor_rename_file.js]\n\nHmm, we should really try to fix the test instead of disabling it.\n\nDo you have access to a Mac machine?  If not, you can try adding some logging to the test and check the output on try in the raw test log.\n\nIf all that fails, I can try to take a look in a bit.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-17T23:07:51Z"
  }, {
    "text" : "Looking at the output, it seems the test fails on the second pass through the test directory that you added.  It tries to rename \"css\", but then hangs and never finishes.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-17T23:09:23Z"
  }, {
    "text" : "I'm Sorry for the delay.\n\n(In reply to J. Ryan Stinnett [:jryans] from comment #10)\n> Do you have access to a Mac machine?\n\nNo, I don't.\n\n(In reply to J. Ryan Stinnett [:jryans] from comment #11)\n> Looking at the output, it seems the test fails on the second pass through\n> the test directory that you added.  It tries to rename \"css\", but then hangs\n> and never finishes.\n\nFrom the previous test I have noticed that\n> console.error:\n> Message: Error: Error creating /Users/cltbld/Library/Caches/TemporaryItems/\n> ProjectEditor1423505821513/css.renmed\n> Stack:\n> FileResource<.rename/<@resource://gre/modules/commonjs/toolkit/loader.js -> \n> resource:///modules/devtools/projecteditor/stores/resource.js:337:1\n\nSo I ran two test.\nThe first test [1] helped me to determine where the issue is\nIt seems the map of resources (its key is a path and its value is a resource object)\nreturns null with newPath after refresh in \nbrowser/devtools/projecteditor/lib/stores/resource.js\n>  let resource = this.store.resources.get(newPath);\n\nso I ran second test [2] to dump keys of this map to check it.\n\n[1] https://treeherder.mozilla.org/#/jobs?repo=try&revision=7a38395cd952\n[2] https://treeherder.mozilla.org/#/jobs?repo=try&revision=f30ee89a0611",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-22T23:45:33Z"
  }, {
    "text" : "When I dumped resources map. The key (path) of file after rename is exist\n>  /Users/cltbld/Library/Caches/TemporaryItems/ProjectEditor1424654543995/css.renAmed\n\nbut when trying to get value from this key (newPath), it returns undefined.\nThe newPath value is\n>  /Users/cltbld/Library/Caches/TemporaryItems/ProjectEditor1424654543995/css.renmed\n\nAre you sure that Maps[1] behave well with non-ascii characters on Mac OS?\nlike \n>  var myMap = new Map();\n>  myMap.set(\"renme\", \"foo\");\n>  myMap.get(\"renme\"); //return foo\n\nCan you also test previous code with Mac os in web console?\n\n[1] https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map/get#Browser_compatibility",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-23T20:23:25Z"
  }, {
    "text" : "Well, this is was quite a strange issue. :)\n\nIt seems, at least on Mac, the \"\" gets converted to a two code point version \\u0061\\u0308 instead of the one code point version \\u00e4, causing the comparison to fail.\n\nAlso, I noticed that |EventUtils.sendString| says it only works with ASCII, so I changed to grab the input and set its value directly.\n\nI updated the test to explicitly uses the two code point version, so let's see how it performs.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=4417c270f97c",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T20:58:49Z"
  }, {
    "text" : "Created attachment 8569412\nrev 5 - fix unicode on mac",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T21:00:09Z"
  }, {
    "text" : "Okay, it looks like using the two code points fixed the testing issue.\n\nI have seen that using the rename feature with characters like  does give an error on Mac during real use, but it appears to work correctly, so I don't think I am too worried for now.\n\nThanks for working on this!",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-26T15:32:00Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/5f9884769605",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-26T21:49:29Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/5f9884769605",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-27T02:39:33Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-08T18:16:01Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:33Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:33Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-02T16:03:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "a.ahmed1026@gmail.com, jryans@gmail.com"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-07T21:22:19Z",
      "what" : "attachments.isobsolete:8559600",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-08T18:16:01Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "a.ahmed1026@gmail.com"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-09T16:53:11Z",
      "what" : "attachments.isobsolete:8560921",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-09T17:03:22Z",
      "what" : "attachments.isobsolete:8561444",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T21:00:09Z",
      "what" : "attachments.isobsolete:8561451",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-26T15:32:00Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-26T21:49:29Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-26T21:49:29Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:33Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:33Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:33Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-26 18:39:33"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-27T02:39:33Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-02T16:03:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-05T06:08:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(a.ahmed1026@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-05T06:08:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559600,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T00:58:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8559600,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-07T21:22:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560921,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-09T15:19:17Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8560921,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-09T16:53:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561444,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-09T17:03:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561451,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-17T19:45:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-17T19:45:26Z",
      "what" : "flagtypes.name",
      "removed" : "review+",
      "added" : "",
      "attachmentId" : 8561451,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-17T23:07:51Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-23T20:23:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T20:58:49Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T21:00:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8569412,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-26T21:49:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128340,
  "cclist" : [ "a.ahmed1026@gmail.com", "jryans@gmail.com" ]
}, {
  "component" : "Preferences",
  "summary" : "In-content preferences SubDialog is cut off on WXGA(1366x768) monitor",
  "reporter" : "alice0775@yahoo.co.jp",
  "assigned" : "gijskruitbosch+bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P3",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8557575\nscreenshot\n\nIn-content preferences SubDialog is cut off on WXGA(1366x768) monitor of cheaper Notebook computer.\n\nWXGA(1366x768) is common monitor size for cheaper Notebook computer.\n\n\nSteps to reproduce:\n0. Setup ubuntu on WXGA(1366x768) monitor of cheaper PC Notebook computer.\n1. Login with GNOME Classic\n2. Start Browser and enable MenuBar and Bookmarks ToolBar\n3. Open In-content preferences > Privacy > Show Cookies\n\nActual Results:\nIn-content preferences SubDialog is cut off.\n\nExpected Results:\nShould not cut off.",
  "comments" : [ {
    "text" : "Created attachment 8557575\nscreenshot\n\nIn-content preferences SubDialog is cut off on WXGA(1366x768) monitor of cheaper Notebook computer.\n\nWXGA(1366x768) is common monitor size for cheaper Notebook computer.\n\n\nSteps to reproduce:\n0. Setup ubuntu on WXGA(1366x768) monitor of cheaper PC Notebook computer.\n1. Login with GNOME Classic\n2. Start Browser and enable MenuBar and Bookmarks ToolBar\n3. Open In-content preferences > Privacy > Show Cookies\n\nActual Results:\nIn-content preferences SubDialog is cut off.\n\nExpected Results:\nShould not cut off.",
    "authour" : "alice0775@yahoo.co.jp",
    "created" : "2015-02-01T08:51:56Z"
  }, {
    "text" : "Yoink.\n\nThis is reproducible on other OSes by just making the window smaller. I would have expected the richlistbox to resize and the dialog to be smaller, but it doesn't. Not sure how easy it'll be to fix this, esp. because the same XUL is used non-incontent, but will be having a look.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-01T14:30:06Z"
  }, {
    "text" : "I probably should have filed this earlier.  It was biting me the other week while mucking around with in-content prefs since I'd shrunk the window down.\nAt the time I had no luck fixing it, since giving #diaglogBox a max-height: 100vh and overflow (my favourite trick it appears) didn't help and instead just moved it down the page for no reason I could comprehend. I tried mucking with the XUL box stacking/flexing to no avail.\nHowever I just went back and played and just\n#dialogOverlay {\n  max-height: 100vh;\n  overflow: auto;\n}\nat least makes it usable, though aesthetically I think it leaves something to be desired, since the scrolling is in the window rather than just the subDialog, which is what I'd been going for.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-01T19:40:20Z"
  }, {
    "text" : "Created attachment 8560782\nfix dialogs on small screen sizes,\n\nThis goes after your patch for bug 1044597. It's the least sucky solution I could think of, even if it's not ideal - overflow on the XUL window element doesn't seem to work, and if we hardcode overflow for an element inside the dialog, then the dialog's scrollWidth is bogus. So I'm assigning it if the inner window height is bad when the dialog is opened. I realize this means we don't adjust for windows that are resized later, but in that case I guess I'm OK with the onus being on the user to resize the window back to being large again.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-07T01:01:50Z"
  }, {
    "text" : "For the sake of the stupid translations.xul file, here's a diff -w (going to be gone in 1 month, but I figure your average review times are well below that ;-) ):\n\nhttp://pastebin.mozilla.org/8590264",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-07T01:03:15Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #3)\n> dialog, then the dialog's scrollWidth is bogus.\n\nClearly I meant scrollHeight. Time for sleep!",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-07T01:03:53Z"
  }, {
    "text" : "(fwiw, this patch depends on yours in bug 1044597 )",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T00:59:15Z"
  }, {
    "text" : "Comment on attachment 8560782\nfix dialogs on small screen sizes,\n\nReview of attachment 8560782:\n-----------------------------------------------------------------\n\nThanks for the -w diff.\n\n::: browser/themes/shared/incontentprefs/preferences.inc.css\n@@ +350,5 @@\n>    width: 66ch;\n>  }\n>  \n> +.largeDialogContainer.doScroll {\n> +  overflow-y: auto;\n\nSetting overflow-y to auto will also result in overflow-x being set to auto. If you want overflow-x to not get `auto` then you will need to explicitly set `overflow-x: visible;`",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-09T22:52:49Z"
  }, {
    "text" : "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #7)\n> Comment on attachment 8560782\n> fix dialogs on small screen sizes,\n> \n> Review of attachment 8560782:\n> -----------------------------------------------------------------\n> \n> Thanks for the -w diff.\n> \n> ::: browser/themes/shared/incontentprefs/preferences.inc.css\n> @@ +350,5 @@\n> >    width: 66ch;\n> >  }\n> >  \n> > +.largeDialogContainer.doScroll {\n> > +  overflow-y: auto;\n> \n> Setting overflow-y to auto will also result in overflow-x being set to auto.\n> If you want overflow-x to not get `auto` then you will need to explicitly\n> set `overflow-x: visible;`\n\nThis won't work: http://stackoverflow.com/a/6433475/713326\n\nI don't worry about this too much because XUL. Should I? (in particular, do you observer horizontal scroll anywhere with this patch + the one in bug 1044597?)\n\nIt could be worked around with a wrapper element, AIUI... but I'm reluctant to do that because of the above. Thoughts?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T23:26:02Z"
  }, {
    "text" : "I didn't observe a horizontal scrollbar with these patches, but I thought I had seen an issue like that before.\n\nWe can land this and keep an eye out for this or any bug reports of people seeing horizontal scrollbars.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-10T15:09:00Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/fx-team/rev/1900ac4cdf15",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-15T22:20:13Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/1900ac4cdf15",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:54:57Z"
  }, {
    "text" : "Created attachment 8598587\nChangeMasterPassword.png\n\nVerified on Windows 7 64bit, Ubuntu 13.10 32bit and Mac OSX 10.9.5 using Firefox 38 Beta 8 (buildID: 20150427090451) and I have 2 situations: \n\n1. Make the window smaller -> open one subdialog (e.g: Security tab -> Change Master Password) => the subdialog is cut off and the buttons aren't visible; no horizontal/vertical scrollbar displayed (see attachment \"ChangeMasterPassword.png\")\n\n2. Launch Firefox -> Open about:preferences -> Open one subdialog (e.g: Privacy tab -> Cookies) -> make the window smaller => the subdialog is cut off and no horizontal/vertical scrollbar is displayed (see attachment \"Cookies.png\")\n\nWhat do you think about this?",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-04-28T12:16:40Z"
  }, {
    "text" : "Created attachment 8598588\nCookies.png",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-04-28T12:17:23Z"
  }, {
    "text" : "These are really very small sizes (both screenshots have a window that's about 500px high), and neither dialog was made for those sizes. Please file a followup bug for this.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-04-28T12:49:18Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #14)\n> These are really very small sizes (both screenshots have a window that's\n> about 500px high), and neither dialog was made for those sizes. Please file\n> a followup bug for this.\n\nThank you for your answer! \nI filled bug 1159233. \n\nMarking this bug as VERIFIED FIXED.",
    "authour" : "camelia.badau@softvision.ro",
    "created" : "2015-04-28T13:11:13Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:06Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:57Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "camelia.badau@softvision.ro",
      "date" : "2015-04-28T13:11:13Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:57Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-01T08:52:42Z",
      "what" : "op_sys",
      "removed" : "Windows 7",
      "added" : "Linux"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:06Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P3"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:06Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "5"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:06Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:19Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-01T18:01:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-01T19:40:20Z",
      "what" : "cc",
      "removed" : "",
      "added" : "moz-ian@perix.co.uk"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-01T19:40:20Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-01T19:40:20Z",
      "what" : "op_sys",
      "removed" : "Linux",
      "added" : "All"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-07T01:01:50Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T19:00:51Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1044597"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-10T16:43:01Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.2 - 9 Feb",
      "added" : "38.3 - 23 Feb"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:57Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:57Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:54:57"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:57Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-17T12:32:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-17T12:32:16Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "camelia.badau@softvision.ro"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-04-28T12:49:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "camelia.badau@softvision.ro"
    }, {
      "name" : "camelia.badau@softvision.ro",
      "date" : "2015-04-28T13:11:13Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-01T14:30:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-07T01:01:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8560782,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-09T22:52:49Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8560782,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T23:26:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-10T15:09:00Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "camelia.badau@softvision.ro",
      "date" : "2015-04-28T12:16:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-04-28T12:49:18Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-04-28T12:49:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "camelia.badau@softvision.ro",
      "date" : "2015-04-28T13:11:13Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(camelia.badau@softvision.ro)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128237,
  "cclist" : [ "camelia.badau@softvision.ro", "florin.mezei@softvisioninc.eu", "gijskruitbosch+bugs@gmail.com", "jaws@mozilla.com", "mmucci@mozilla.com", "moz-ian@perix.co.uk" ]
}, {
  "component" : "Preferences",
  "summary" : "Dialog to clear data when exiting Firefox needs more space between two columns (in-content preferences)",
  "reporter" : "francesco.lodolo@gmail.com",
  "assigned" : "jaws@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8557505\nclear.png\n\nThis screenshot is taken on a localized build (Italian), there's no gutter between the columns. Not sure if it's evident in English as well, given that's usually shorter.",
  "comments" : [ {
    "text" : "Created attachment 8557505\nclear.png\n\nThis screenshot is taken on a localized build (Italian), there's no gutter between the columns. Not sure if it's evident in English as well, given that's usually shorter.",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-01-31T16:55:29Z"
  }, {
    "text" : "The width of the first column depends on column.width2 in mozilla/browser/locales/en-US/chrome/browser/sanitize.dtd. This could be increased but needs a check if it also works in normal prefs.",
    "authour" : "richard.marti@gmail.com",
    "created" : "2015-01-31T17:17:39Z"
  }, {
    "text" : "Created attachment 8557510\nScreenshot 20/40\n\nThen we have another issue: this is a screenshot of the window with dialog 40em, column 20em (the text is slightly different because I wanted to make sure I wasn't hitting cached elements).\n\nIt's completely asymmetrical. To have something better I need to use 25em for the column, which also means I can't have the same value for old/in-content prefs.\n\nhttp://hg.mozilla.org/mozilla-central/file/default/browser/locales/en-US/chrome/browser/sanitize.dtd#l57",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-01-31T17:58:48Z"
  }, {
    "text" : "Created attachment 8559583\nPatch\n\nWhat do you think about this? I didn't tweak the values for en-US yet, but if you're good with this approach then I can find what works before checking this in.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-05T05:08:57Z"
  }, {
    "text" : "Comment on attachment 8559583\nPatch\n\nReview of attachment 8559583:\n-----------------------------------------------------------------\n\nUgh. I hate XUL layout sometimes.\n\nBut yes, this would work.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-05T10:38:37Z"
  }, {
    "text" : "Landed with an adjusted column width for the in-content preferences, and tweaked the related localization note.\n\nhttps://hg.mozilla.org/integration/fx-team/rev/f15ed7846547",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-05T14:12:45Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/f15ed7846547",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-05T22:19:35Z"
  }, {
    "text" : "What version are incontent preferences targeted at?\n\nI'm asking because after this, with incontent preferences disabled width of the clear recent history dialog and clear data when exiting Firefox settings dialog share the value of dialog.width2 entity but do not share styling",
    "authour" : "splewako@aviary.pl",
    "created" : "2015-02-11T14:00:22Z"
  }, {
    "text" : "(In reply to Stefan Plewako [:stef] from comment #7)\n> What version are incontent preferences targeted at?\n\n38.\n\n> I'm asking because after this, with incontent preferences disabled width of\n> the clear recent history dialog and clear data when exiting Firefox settings\n> dialog share the value of dialog.width2 entity but do not share styling\n\nPlease file a separate bug. Also (and please answer this in that new, separate bug) - wasn't this the case before this fix? Doesn't seem like a regression to me...",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-11T14:16:21Z"
  }, {
    "text" : "Right, the issue predates this and there is already bug for it\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=494210",
    "authour" : "splewako@aviary.pl",
    "created" : "2015-02-11T16:10:36Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:07:11Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:35Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:35Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-31T17:12:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "richard.marti@gmail.com"
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-01-31T18:02:16Z",
      "what" : "summary",
      "removed" : "[OS X] Dialog to clear data when exiting Firefox needs more space between two columns",
      "added" : "[OS X] Dialog to clear data when exiting Firefox needs more space between two columns (in-content preferences)"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T04:14:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T04:14:27Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T04:14:27Z",
      "what" : "summary",
      "removed" : "[OS X] Dialog to clear data when exiting Firefox needs more space between two columns (in-content preferences)",
      "added" : "Dialog to clear data when exiting Firefox needs more space between two columns (in-content preferences)"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T04:14:27Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:07:11Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:07:11Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "2"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:07:11Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:07:11Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[strings]"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:08:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T14:12:45Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-05T14:57:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:35Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:35Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-05 14:19:35"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:35Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "splewako@aviary.pl",
      "date" : "2015-02-11T14:00:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "splewako@aviary.pl"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-11T23:55:41Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1142045"
    } ],
    "flagEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T05:08:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559583,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-05T10:38:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8559583,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-05T14:12:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128177,
  "cclist" : [ "gijskruitbosch+bugs@gmail.com", "jaws@mozilla.com", "mmucci@mozilla.com", "richard.marti@gmail.com", "splewako@aviary.pl" ]
}, {
  "component" : "Preferences",
  "summary" : "[OS X] Some dialogs in Content and Privacy in-content preferences can't be dismissed with keyboard (ESC) when only text boxes and lists can receive focus (OS-level pref)",
  "reporter" : "francesco.lodolo@gmail.com",
  "assigned" : "gijskruitbosch+bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "P3",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Content->Fonts & Colors->Advanced and Colors can't be closed by pressing ESC on the keyboard. As far as I tested, all other dialogs can be closed correctly.",
  "comments" : [ {
    "text" : "Content->Fonts & Colors->Advanced and Colors can't be closed by pressing ESC on the keyboard. As far as I tested, all other dialogs can be closed correctly.",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-01-31T16:51:17Z"
  }, {
    "text" : "Same issue with Privacy -> Clear history when Firefox closes -> Settings.",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-01-31T18:01:50Z"
  }, {
    "text" : "Can you still reproduce this on current Nightly? Because I can't...",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-12T14:24:09Z"
  }, {
    "text" : "Yes, it's still happening for all 3 dialogs. To be sure I checked with a clean profile, same behavior.\n\nFirefox version: 38.0a1 (2015-02-12)\n\nTake for example \"Colors\": open the dialog, try to press ESC, nothing happens.\n\nWhile testing I realized that, to make ESC work, I can either press \"Enter\" once, or change a control in the dialog (like deselect a checkbox). It's like the dialog has no focus when it's opened.",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-02-12T16:28:10Z"
  }, {
    "text" : "(In reply to Francesco Lodolo [:flod] from comment #3)\n> Yes, it's still happening for all 3 dialogs. To be sure I checked with a\n> clean profile, same behavior.\n> \n> Firefox version: 38.0a1 (2015-02-12)\n> \n> Take for example \"Colors\": open the dialog, try to press ESC, nothing\n> happens.\n> \n> While testing I realized that, to make ESC work, I can either press \"Enter\"\n> once, or change a control in the dialog (like deselect a checkbox). It's\n> like the dialog has no focus when it's opened.\n\nThis is bizarre. I just checked a clean profile on my mac. Here are the exact steps I follow:\n\n1. open profile dialog with the same nightly, on my OS X retina mbp\n2. create a new profile\n3. command-, to open preferences\n4. click \"content\"\n5. click \"advanced\"\n6. hit escape\n\nand it Just Works. Ditto for the colors dialog. :-\\\n\nWhat's your OS level focusable elements pref set to?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-12T20:07:15Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #4)\n> What's your OS level focusable elements pref set to?\n\nI wish I knew where to find that information (Google didn't help).\nNote that it happens on 2 different Macs, same OS X version (10.10.2). As far as I remember, I never changed accessibility options in OS X.\n\nThe only other difference might be that I'm using a localized build (it) instead of the en-US one.",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-02-12T20:20:36Z"
  }, {
    "text" : "(In reply to Francesco Lodolo [:flod] from comment #5)\n> (In reply to :Gijs Kruitbosch from comment #4)\n> > What's your OS level focusable elements pref set to?\n> \n> I wish I knew where to find that information (Google didn't help).\n\nhttp://www.guidingtech.com/34353/re-enable-mavericks-features/\n\nscroll down to \"2. Using the Keyboard to Select a Button On a Dialog Box\".\n\n> Note that it happens on 2 different Macs, same OS X version (10.10.2). As\n> far as I remember, I never changed accessibility options in OS X.\n\nMaybe this is it? I'm on 10.9.\n\n> The only other difference might be that I'm using a localized build (it)\n> instead of the en-US one.\n\nI don't see why that would make a difference, but you could try an en-US build to make sure, I guess?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-12T20:26:36Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #6)\n> http://www.guidingtech.com/34353/re-enable-mavericks-features/\n> scroll down to \"2. Using the Keyboard to Select a Button On a Dialog Box\".\n\nInteresting, it works by setting \"All controls\". Any idea then why other dialogs work without that pref set (e.g. General -> Use a bookmark, or even Content->Pop-up->Exceptions)? It doesn't seem right.\n\n> I don't see why that would make a difference, but you could try an en-US\n> build to make sure, I guess?\nTried out of curiosity, same result (didn't think you were on 10.9, so that could have been one of the differences between my setup and yours).",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-02-12T20:39:23Z"
  }, {
    "text" : "(In reply to Francesco Lodolo [:flod] from comment #7)\n> (In reply to :Gijs Kruitbosch from comment #6)\n> > http://www.guidingtech.com/34353/re-enable-mavericks-features/\n> > scroll down to \"2. Using the Keyboard to Select a Button On a Dialog Box\".\n> \n> Interesting, it works by setting \"All controls\". Any idea then why other\n> dialogs work without that pref set (e.g. General -> Use a bookmark, or even\n> Content->Pop-up->Exceptions)? It doesn't seem right.\n\nIt is indeed not right, but I bet that focus automatically moves into the dialog in my case (I had \"All controls\" set already) and it fails if focusing whatever type of element it's trying to focus isn't possible (because there's no list or input field, unlike the two counterexamples you just gave!), and then focus either goes to limbo land or somewhere else where we don't catch the [esc] keypress.\n\nNot entirely sure how to fix this, but I'm happier now that I understand where & when & why this happens. This can stay on the shipping-blocker list for now, and we'll get back to it. :-)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-12T20:49:01Z"
  }, {
    "text" : "Created attachment 8576585\nadd explicit <esc> handler,\n\nNote: on fx-team tip, incl. the tab-trapping patch which I just landed",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-12T10:26:36Z"
  }, {
    "text" : "Comment on attachment 8576585\nadd explicit <esc> handler,\n\nReview of attachment 8576585:\n-----------------------------------------------------------------\n\nNice, I'm happy how the addDialogEventListeners/removeDialogEventListeners has simplified the various places to add and remove the event listeners. This patch is pretty straightforward :)",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-13T18:33:47Z"
  }, {
    "text" : "remote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=473395996095",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-13T22:39:37Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/fx-team/rev/6a64409286ca",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-16T08:11:30Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/6a64409286ca",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-17T10:36:07Z"
  }, {
    "text" : "Comment on attachment 8576585\nadd explicit <esc> handler,\n\nApproval Request Comment\n[Feature/regressing bug #]: n/a\n[User impact if declined]: closing in-content pref dialogs with escape might not work on mac depending on system pref\n[Describe test coverage new/current, TreeHerder]: no\n[Risks and why]: very low, simple extra keyboard event handler\n[String/UUID change made/needed]: no",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-24T12:52:29Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/d04808ad7b1a",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-24T18:16:40Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:26:42Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:36:07Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:36:07Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-01-31T17:12:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "richard.marti@gmail.com"
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-01-31T18:01:50Z",
      "what" : "summary",
      "removed" : "[OS X] Advanced and Colors dialogs in Content->Fonts & Colors can't be dismissed with keyboard (ESC)",
      "added" : "[OS X] Some dialogs in Content and Privacy in-content preferences can't be dismissed with keyboard (ESC)"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-04T19:40:19Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P3"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-04T19:40:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-06T18:39:43Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "2"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-12T14:24:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "francesco.lodolo@gmail.com, gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-12T20:49:01Z",
      "what" : "summary",
      "removed" : "[OS X] Some dialogs in Content and Privacy in-content preferences can't be dismissed with keyboard (ESC)",
      "added" : "[OS X] Some dialogs in Content and Privacy in-content preferences can't be dismissed with keyboard (ESC) when only text boxes and lists can receive focus (OS-level pref)"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:26:42Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:27:13Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "39.2 - 23 Mar"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:27:13Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:27:13Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-12T13:42:15Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:36:07Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:36:07Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-17 03:36:07"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:36:07Z",
      "what" : "cf_status_firefox39",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T18:16:40Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-12T14:24:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-02-12T16:28:10Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(francesco.lodolo@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-12T20:07:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-02-12T20:20:36Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(francesco.lodolo@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-12T20:26:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-02-12T20:39:23Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(francesco.lodolo@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:26:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8576585,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-12T10:27:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-13T18:33:47Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8576585,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-24T12:52:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8576585,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-03-24T12:54:16Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8576585,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128175,
  "cclist" : [ "francesco.lodolo@gmail.com", "gijskruitbosch+bugs@gmail.com", "jaws@mozilla.com", "mmucci@mozilla.com", "richard.marti@gmail.com" ]
}, {
  "component" : "General",
  "summary" : "Expose Silk Preferences in about:config",
  "reporter" : "mchang@mozilla.com",
  "assigned" : "mchang@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86_64",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Right now the only way to enable Silk is to manually set the pref with edit-prefs.js on b2g or build locally and change it in gfxPrefs.h. Expose the silk prefs in about:config so it's easier for others to test. The three prefs are:\n\ngfx.vsync.hw-vsync.enabled\ngfx.vsync.compositor\ngfx.vsync.refreshdriver",
  "comments" : [ {
    "text" : "Right now the only way to enable Silk is to manually set the pref with edit-prefs.js on b2g or build locally and change it in gfxPrefs.h. Expose the silk prefs in about:config so it's easier for others to test. The three prefs are:\n\ngfx.vsync.hw-vsync.enabled\ngfx.vsync.compositor\ngfx.vsync.refreshdriver",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T15:46:54Z"
  }, {
    "text" : "Developer menu as well?",
    "authour" : "milan@mozilla.com",
    "created" : "2015-02-02T17:12:38Z"
  }, {
    "text" : "(In reply to Milan Sreckovic [:milan] from comment #1)\n> Developer menu as well?\n\nI'm less concerned about b2g / developer menu because I don't want to make the preferences \"live\", which will require a b2g restart. Using the edit-prefs.sh script with b2g ensures everything is restarted, which I prefer. Desktop would require a local build to enable, which is why I'm ok putting it in about:config.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-02T17:21:29Z"
  }, {
    "text" : "Created attachment 8558063\nExpose Silk prefs in about:config\n\nExpose the silk prefs in about:config on OSX + Windows because we don't plan to support linux. I don't want someone to randomly enable it on linux and have it crash without the ability to restart firefox since it would crash on boot.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-02T19:48:24Z"
  }, {
    "text" : "(In reply to Mason Chang [:mchang] from comment #3)\n\n> Expose the silk prefs in about:config on OSX + Windows because we don't plan\n> to support linux. I don't want someone to randomly enable it on linux and\n> have it crash without the ability to restart firefox since it would crash on\n> boot.\n\nUhh. It's not really good to have prefs that cause crashes (especially crash on boot/start). If these prefs are so problematic on Linux, there should probably be some #ifdef code in the code using these prefs to ignore them on Linux.",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-02-02T20:17:46Z"
  }, {
    "text" : "Comment on attachment 8558063\nExpose Silk prefs in about:config\n\nFine to expose these existing hidden prefs, but please file a followup to avoid crashing.",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-02-02T20:19:32Z"
  }, {
    "text" : "(In reply to Justin Dolske [:Dolske] from comment #5)\n> Comment on attachment 8558063\n> Expose Silk prefs in about:config\n> \n> Fine to expose these existing hidden prefs, but please file a followup to\n> avoid crashing.\n\nThe current patch is ifdef to only expose these prefs on Windows/Mac. I just tested on linux and the preferences are not exposed in about:config, so we shouldn't be able to enable these prefs without a local build on linux and someone manually setting the pref in the code, so this shouldn't be a problem right?",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-02T20:40:05Z"
  }, {
    "text" : "Will land after we get vsync on windows to prevent someone from enabling on windows and crashing.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-02T23:42:50Z"
  }, {
    "text" : "Nothing prevents a user from manually adding prefs via about:config (right click, New submenu). And of course addons can set prefs as part of their default install or through their own UI.\n\nThe point is that having prefs that cause a crash when set is simply bad form.",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-02-03T02:07:36Z"
  }, {
    "text" : "I misunderstood the intent; if all we need is for people to be able to change the preference on desktop, using about:config, we don't need this patch - they can already do that just by doing New (as Justin mentioned in comment 8).  If this is for internal testing, that should be good enough. So, do we actually want this patch at this point?  Also, there are three different prefs - are all 8 permutations supported?",
    "authour" : "milan@mozilla.com",
    "created" : "2015-02-04T17:57:30Z"
  }, {
    "text" : "(In reply to Milan Sreckovic [:milan] from comment #9)\n> I misunderstood the intent; if all we need is for people to be able to\n> change the preference on desktop, using about:config, we don't need this\n> patch - they can already do that just by doing New (as Justin mentioned in\n> comment 8).  If this is for internal testing, that should be good enough.\n> So, do we actually want this patch at this point?  Also, there are three\n> different prefs - are all 8 permutations supported?\n\nI guess technically this is true. I still want the patch so that it's easier for others to test it. Also, when we enable it by default, which I would like to do 1 platform at at time, it will be in this file as well. I don't see a good argument to not have it.\n\nAll permutations are not supported, Hardware vsync must always be enabled to have either the compositor or refresh driver work. But having just the compositor + vsync or refresh driver + vsync are supported for now.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T19:43:26Z"
  }, {
    "text" : "Good stuff.  Let's make sure that setting the values to the unsupported preferences doesn't \"crash\" - let's just block those code paths, the same way that we would block the Linux code path so we'd never go down the path where we could crash...",
    "authour" : "milan@mozilla.com",
    "created" : "2015-02-04T20:17:05Z"
  }, {
    "text" : " https://hg.mozilla.org/integration/mozilla-inbound/rev/b0867af35eb0",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-16T16:15:17Z"
  }, {
    "text" : "(In reply to Milan Sreckovic [:milan] from comment #11)\n> Good stuff.  Let's make sure that setting the values to the unsupported\n> preferences doesn't \"crash\" - let's just block those code paths, the same\n> way that we would block the Linux code path so we'd never go down the path\n> where we could crash...\n\nFiled as a follow up bug 1133526.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-16T16:34:47Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/b0867af35eb0",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-17T20:22:30Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T20:22:30Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T20:22:30Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T19:48:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugmail.mozilla@staktrace.com"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T20:40:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dolske@mozilla.com"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T23:42:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1127151"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T20:22:30Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T20:22:30Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-17 12:22:30"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T20:22:30Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-20T19:25:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T19:48:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558063,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dolske@mozilla.com",
      "date" : "2015-02-02T20:19:32Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugmail.mozilla@staktrace.com)",
      "added" : "",
      "attachmentId" : 8558063,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T20:40:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dolske@mozilla.com",
      "date" : "2015-02-03T02:07:36Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dolske@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128165,
  "cclist" : [ "andre.graziani@gmail.com", "arpad.borsos@googlemail.com", "ashley@scirra.com", "atilag@gmail.com", "avihpit@yahoo.com", "bas@basschouten.com", "boris.chiou@gmail.com", "bugmail@mozilla.staktrace.com", "chrislord.net@gmail.com", "cku@mozilla.com", "cmtalbert@gmail.com", "dietrich@mozilla.com", "dolske@mozilla.com", "dvander@alliedmods.net", "emanuel.hoogeveen@gmail.com", "fb+mozdev@quantumedia.de", "gal@uci.edu", "gandalf@aviary.pl", "gsvelto@mozilla.com", "harshid@gmail.com", "howareyou322@gmail.com", "hshih@mozilla.com", "itsay@mozilla.com", "jeremy.kim.leo@gmail.com", "jmathies@mozilla.com", "jmuizelaar@mozilla.com", "jsmith@mozilla.com", "kaichih.hu@gmail.com", "kairo@kairo.at", "kchang@mozilla.com", "kgilbert@mozilla.com", "luke@mozilla.com", "matt.woodrow@gmail.com", "mcastelluccio@mozilla.com", "mchang@mozilla.com", "milan@mozilla.com", "mstange@themasta.com", "m_kato@ga2.so-net.ne.jp", "nefzaoui@arabicmozilla.org", "nissan4321@gmail.com", "npark@mozilla.com", "rdandu@mozilla.com", "roc@ocallahan.org", "skamat@mozilla.com", "timbugzilla@gmail.com", "tlin@mozilla.com", "Virtual@MsgSafe.io", "vlin@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "[marker] Cycle collection should be shown in the timeline",
  "reporter" : "nfitzgerald@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Memory management in Firefox comes in two forms: garbage collection (GC), and cycle collection (CC).\n\nTo make things more fun, CC will often trigger a GC!\n\nRight now the timeline only shows GC, but it should also show CC -- we are missing half of the picture.",
  "comments" : [ {
    "text" : "Memory management in Firefox comes in two forms: garbage collection (GC), and cycle collection (CC).\n\nTo make things more fun, CC will often trigger a GC!\n\nRight now the timeline only shows GC, but it should also show CC -- we are missing half of the picture.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-30T22:37:36Z"
  }, {
    "text" : "Moving into the Profiler component. Filter on GUTHRIE'S WAVY CAKES.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-20T15:48:35Z"
  }, {
    "text" : "Related bug for GC, bug 1136945, and via panos' memory tool https://github.com/past/memory-profiler/blob/master/chrome/tool.js#L201",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-20T16:18:58Z"
  }, {
    "text" : "Is any platform work needed for this? Or does exposing GC info via bug 1137527 solve the platform work as well?",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-31T01:07:09Z"
  }, {
    "text" : "Main thread CC statistics are exposed using \"cycle-collection-statistics\" observer service notification.\n\nhttp://mxr.mozilla.org/mozilla-central/source/dom/base/nsJSEnvironment.cpp?rev=0b0c492a33b5#1726",
    "authour" : "bugs@pettay.fi",
    "created" : "2015-03-31T10:42:23Z"
  }, {
    "text" : "(In reply to Olli Pettay [:smaug] from comment #4)\n> Main thread CC statistics are exposed using \"cycle-collection-statistics\"\n> observer service notification.\n> \n> http://mxr.mozilla.org/mozilla-central/source/dom/base/nsJSEnvironment.\n> cpp?rev=0b0c492a33b5#1726\n\nWe aren't using that observer directly because its a huge pain to synchronize prefs being used across multiple debugger servers and multiple actors within those debugger servers, and we can't control it on a per debuggee global basis.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-03-31T15:23:21Z"
  }, {
    "text" : "Fixed in bug 1141614.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-06-12T01:13:35Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-06-12T01:13:35Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-06-12T01:13:35Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-20T15:48:35Z",
      "what" : "component",
      "removed" : "Developer Tools: Timeline",
      "added" : "Developer Tools: Profiler"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-03-31T02:37:44Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1141614"
    }, {
      "name" : "continuation@gmail.com",
      "date" : "2015-03-31T03:18:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugs@pettay.fi, continuation@gmail.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-31T22:55:18Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-30T15:54:19Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-05-28T20:04:31Z",
      "what" : "summary",
      "removed" : "Cycle collection should be shown in the timeline",
      "added" : "[marker] Cycle collection should be shown in the timeline"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-06-12T01:13:35Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-06-11 18:13:35"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1128083,
  "cclist" : [ "bugs@pettay.fi", "continuation@gmail.com", "jordan@jsantell.com", "nfitzgerald@mozilla.com", "ttromey@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Session Restore",
  "summary" : "Torn-off tabs cannot be session-restored",
  "reporter" : "erik@mozilla.com",
  "assigned" : "dtownsend@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I encountered this only after switching to e10s, so maybe it's related.\n\n1. Open a page in a new tab.\n2. Tear that tab off the window to make it its own window.\n3. Close the new window.\n4. Hit command-shift-N to restore the window.\n5. Leap from your chair in surprise as a window from your deep past springs forth. The torn-off tab is gone forever, making this actually a data-loss bug.\n\nIn fact, the torn-off tab makes it into neither the Recently Closed Tabs nor the Recently Closed Windows submenus; it's falling through the cracks somewhere.\n\nThis is in the 2015-01-26 Nightly.",
  "comments" : [ {
    "text" : "I encountered this only after switching to e10s, so maybe it's related.\n\n1. Open a page in a new tab.\n2. Tear that tab off the window to make it its own window.\n3. Close the new window.\n4. Hit command-shift-N to restore the window.\n5. Leap from your chair in surprise as a window from your deep past springs forth. The torn-off tab is gone forever, making this actually a data-loss bug.\n\nIn fact, the torn-off tab makes it into neither the Recently Closed Tabs nor the Recently Closed Windows submenus; it's falling through the cracks somewhere.\n\nThis is in the 2015-01-26 Nightly.",
    "authour" : "erik@mozilla.com",
    "created" : "2015-01-30T21:38:19Z"
  }, {
    "text" : "I saw this on Windows 8.1 as well, using the latest nightly.",
    "authour" : "jbecerra@mozilla.com",
    "created" : "2015-01-31T00:49:23Z"
  }, {
    "text" : "*** Bug 1141327 has been marked as a duplicate of this bug. ***",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-09T23:21:30Z"
  }, {
    "text" : "Created attachment 8575322\npatch\n\nSwitches to setting _permanentKey rather than permanentKey which overrides the property on the as yet unbound XBL. This also allows us to revert the change in bug 1072198 that made permanentKey a read/write property.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-10T15:21:23Z"
  }, {
    "text" : "Comment on attachment 8575322\npatch\n\nReview of attachment 8575322:\n-----------------------------------------------------------------\n\nGreat catch! (Just giving some test feedback.)\n\n::: browser/base/content/test/general/browser_tab_detach_restore.js\n@@ +1,1 @@\n> +add_task(function*() {\n\nNit: \"use strict\";\n\n@@ +15,5 @@\n> +  yield new Promise(resolve => whenDelayedStartupFinished(win, resolve));\n> +\n> +  is(win.gBrowser.selectedBrowser.permanentKey, key, \"Should have properly copied the permanentKey\");\n> +  win.close();\n> +  yield promiseWaitForFocus(window);\n\nyield promiseWindowClosed(win); ?\n\n@@ +21,5 @@\n> +  is(SessionStore.getClosedWindowCount(), 1, \"Should have restore data for the closed window\");\n> +\n> +  win = SessionStore.undoCloseWindow(0);\n> +  yield BrowserTestUtils.waitForEvent(win, \"load\");\n> +  yield BrowserTestUtils.browserLoaded(win.gBrowser.tabs[0].linkedBrowser);\n\nI think we should rather wait for the initial tab's SSTabRestored event.\n\n@@ +27,5 @@\n> +  is(win.gBrowser.tabs.length, 1, \"Should have restored one tab\");\n> +  is(win.gBrowser.selectedBrowser.currentURI.spec, uri, \"Should have restored the right page\");\n> +\n> +  win.close();\n> +  yield promiseWaitForFocus(window);\n\nyield promiseWindowClosed(win);",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-10T16:09:12Z"
  }, {
    "text" : "Comment on attachment 8575322\npatch\n\nReview of attachment 8575322:\n-----------------------------------------------------------------\n\n::: browser/base/content/test/general/browser_tab_detach_restore.js\n@@ +7,5 @@\n> +\n> +  let tab = gBrowser.addTab();\n> +  let loadPromise = BrowserTestUtils.browserLoaded(tab.linkedBrowser);\n> +  tab.linkedBrowser.loadURI(uri);\n> +  yield loadPromise;\n\nWe really need to find the right pattern for tests to add a tab with a given URL and wait for it to load. The problem with this version, I think, is that if about:blank loads really quickly then you'll get a load event for that instead of for the intended URI. I'm not sure how likely this is, but it seems possible according to my understanding. I saw a similar problem in bug 1132566 too. Maybe you could talk to Steven MacLeod and figure out something to add to BrowserTestUtils?",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-10T18:58:29Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/5197df93e0b4",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-12T00:10:23Z"
  }, {
    "text" : "Backed out for bc1 orange: \nhttps://treeherder.mozilla.org/logviewer.html#?job_id=2238309&repo=fx-team\nhttps://hg.mozilla.org/integration/fx-team/rev/2b519f79e37a",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-12T02:47:13Z"
  }, {
    "text" : "Looks like this wasn't at fault: https://hg.mozilla.org/integration/fx-team/rev/5a79c295029a",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-12T19:20:04Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/5a79c295029a",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-13T12:04:34Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-09T23:05:03Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:34Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:34Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jbecerra@mozilla.com",
      "date" : "2015-01-31T00:49:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jbecerra@mozilla.com"
    }, {
      "name" : "jbecerra@mozilla.com",
      "date" : "2015-01-31T00:49:23Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:41:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmathies@mozilla.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:41:11Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "m6+"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-18T21:31:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134375"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-18T21:47:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-03T20:41:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-03T20:41:05Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-05T23:17:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-05T23:17:18Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-09T22:50:31Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "39.1 - 9 Mar"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-09T22:50:31Z",
      "what" : "assigned_to",
      "removed" : "mconley@mozilla.com",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-10T15:21:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wmccloskey@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-10T15:33:56Z",
      "what" : "cf_fx_iteration",
      "removed" : "39.1 - 9 Mar",
      "added" : "39.2 - 23 Mar"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-10T15:35:31Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1136910"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-12T02:47:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wkocher@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:34Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-13 05:04:34"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:34Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:34Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-13T19:30:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1143118"
    } ],
    "flagEvents" : [ {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-18T20:29:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-05T23:17:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-10T15:21:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575322,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-10T16:09:12Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575322,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-03-10T18:58:29Z",
      "what" : "flagtypes.name",
      "removed" : "review?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8575322,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-12T02:47:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-12T19:20:04Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128060,
  "cclist" : [ "dtownsend@mozilla.com", "jbecerra@mozilla.com", "jmathies@mozilla.com", "mconley@mozilla.com", "mmucci@mozilla.com", "wkocher@mozilla.com", "wmccloskey@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "[e10s] Save page as... doesn't always load from cache",
  "reporter" : "wmccloskey@mozilla.com",
  "assigned" : "mconley@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We have some elaborate logic to save pages out of the cache rather than loading from the network. However, this doesn't work in e10s.",
  "comments" : [ {
    "text" : "We have some elaborate logic to save pages out of the cache rather than loading from the network. However, this doesn't work in e10s.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-01-30T21:06:43Z"
  }, {
    "text" : "Starting investigations now.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-20T18:26:58Z"
  }, {
    "text" : "So bug 1058251 was the original bug for making \"Save Page As\" work, and what happened was that a band-aid fix was landed to get basic functionality, and bug 1101100 was spun out to do the more hardcore permanent fix.\n\nThe bandaid fix allows us to save pages in the e10s case, but we still hit the network to do it in at least some cases. Bug 1101100 is the long-term fix for this, as it will move all of the document walking into the content process, and just blast up information to the parent to write to disk.\n\nBug 1101100 is currently M8, so it's clear that full Save As functionality isn't a priority. But this bug is M6 meaning that we want the bandaid fix to be able to work with at least some caching.\n\nSo I guess I need to document which cases we hit the network on in the e10s case when saving pages, and try to come up with some workarounds until bug 1101100 is all set.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-21T22:03:07Z"
  }, {
    "text" : "I forgot to mention - one thing that we might want to do is to grab and serialize the cache key from the nsISHEntry of the loaded document from the content process, and re-attempt to use it in the parent. That might be a potential workaround.\n\nThat would require bug 1156493.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-21T22:04:06Z"
  }, {
    "text" : "The other thing about the current band-aid for Save As is that it basically just makes e10s treat DOM-having documents like non-DOM-having documents  so if we're not using the cache for them, then we're probably also not using the cache for, e.g., saving a large image regardless of e10sness.  Unless there's something else going on there.",
    "authour" : "jld@mozilla.com",
    "created" : "2015-04-21T22:24:14Z"
  }, {
    "text" : "Ok, I did (what I think to be) a reasonably thorough examination of the Save Page As, and comparison between e10s and non-e10s.\n\nMy findings:\n\n# Basic page (no image, script or style assets, just text with some links):\n\nSaving a basic page works mostly the same. In e10s, we don't resolve relative URLs in anchors to absolute URLs, whereas we do with non-e10s.\n\n# A page reached via a POST request\n\nThis is busted with e10s - we throw a NS_ERROR_XPC_CANT_PASS_CPOW_TO_NATIVE when calling nsIWebBrowserPersist.savePrivacyAwareURI.\n\n# Saving a page with image, script, style assets\n\nWe just save the document with e10s. In non-e10s, we save a folder full of assets (css files, script files, images, subframes, and assets for those subframes).\n\nAs with the basic page, the e10s case doesn't resolve relative URLs to absolutes.\n\n# Save a frame.\n\nSame behaviour as when saving a page with assets.\n\n# Save Link As\n\nThis seems to work the same between e10s and non-e10s. That's not too surprising, because I think the e10s case is using the Save Link As mechanism as part of its \"bandaid\" fix.\n\n# Save image as\n\nThis seems to work the same between e10s and non-e10s, and seems to properly request assets from the cache. The Browser Toolbox did not record any network activity when saving images in either case.\n\n# Save Page As when the page is an image\n\nSame as above.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-28T18:18:46Z"
  }, {
    "text" : "It seems to me that all of the above will be fixed with bug 1101100 fixed.\n\nProbably the most serious part of this is the total failure to save the page if we reached it by way of a POST request. This is just flat-out broken.\n\nI assume if the rest of the \"bandaid\" fix was acceptable, and the proper fix is milestoned at M8, then we're OK to keep the above behaviour with the exception of the POST case.\n\nSo, until I hear otherwise, I will be attempting to make the Save Page As case work in the POST case - though it might have the same deficiencies as the rest of the Save Page As behaviour in e10s (no assets, no absolute URLs).",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-28T18:21:08Z"
  }, {
    "text" : "Created attachment 8599897\n[e10s] Make it possible to save pages that were reached via a POST request. r=?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-30T15:21:05Z"
  }, {
    "text" : "Created attachment 8599906\n[e10s] Make it possible to save pages that were reached via a POST request. r=?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-30T15:30:15Z"
  }, {
    "text" : "Comment on attachment 8599906\n[e10s] Make it possible to save pages that were reached via a POST request. r=?\n\nSo here's my bandage solution for the POST request problem.\n\nIt's pretty ugly. Basically, I send a message down to the child passing down the target document, have it serialize the nsISHEntry for that document and send a response message. The parent deserializes the nsISHEntry, and passes that off to the nsIWebBrowserPersist machinery.\n\nIt's not amazing. It's also pretty depressing that for the postData stuff (which I assume we need, looking at nsWebBrowserPersist::SaveURIInternal) is slurped down from the parent process, converted to a string, and then sent back up to the parent again. I'm not even sure I'm doing the string conversion correctly - it's been a long time since I worked with streams.\n\nThe serialization / deserialization code is mostly copied from SessionHistory.jsm. I'm not sure how much of it is needed for nsIWebBrowserPersist to do its job. I added the postData bit though, which SessionHistory doesn't seem to store.\n\nI'm able to save pages I've reached via POST with this patch.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-04-30T15:35:47Z"
  }, {
    "text" : "Comment on attachment 8599906\n[e10s] Make it possible to save pages that were reached via a POST request. r=?\n\nTalked to Mike over irc and it looks like more debugging is needed.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-04-30T21:10:21Z"
  }, {
    "text" : "Created attachment 8600354\nMozReview Request: bz://1128050/mconley (r+'d by billm)\n\n/r/8023 - Bug 1156493 - \"e10s: move .cacheKey to nsICacheInfoChannel so child channels can get/set it\" [r=michal.novotny]\n/r/8025 - Bug 1128050 - [e10s] Make it possible to save pages that were reached via a POST request. r=?\n\nPull down these commits:\n\nhg pull -r 2ef04bc74e84fba70f88c49d4ba75f7304949645 https://reviewboard-hg.mozilla.org/gecko/",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-05-01T16:15:04Z"
  }, {
    "text" : "So I've kinda given up on sending the nsIInputStream over. Gecko is fighting me the whole way.\n\nEven if I serialize the nsIInputStream like I did in the last patch, NetUtil.asyncCopy automatically closes the stream. And if I use my own stream copier, I can't seem to seek back to the beginning of the stream on the main thread.\n\nSo I've opted to not send postData at all.\n\nWhat this means is that if a user reaches a page via POST, and then clears their cache, and then attempts to save the page, the page will probably not be saved correctly (since the postData won't be resubmitted, which is what we do in the non-e10s case).\n\nI think this is strictly better than being unable to save pages reached via POST at all, and I suspect we can live with this until bug 1101100 fixes this properly.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-05-01T16:15:48Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/8025/#review6773\n\n::: toolkit/content/contentAreaUtils.js:157\n(Diff revision 1)\n> +      let shEntry = BrowserUtils.deserializeSHEntry(message.data.shEntryObj);\n\nYou go through a lot of effort to get the entire shEntry, but the only part we use is the cacheKey (which is just an nsISupportsPRUint32). Let's kill all the shEntry serialization/deserialization and only send up the cacheKey as a number. Then you can make a new nsISupportsPRUint32 in the parent and pass it to internalSave. Note that nsWebBrowserPersist::SaveURIInternal allows its cacheKey argument to be either an nsISHEntry, an nsIWebPageDescriptor, or an actual cache key [1]. We'll use the latter version.\n\n[1] http://mxr.mozilla.org/mozilla-central/source/embedding/components/webbrowserpersist/nsWebBrowserPersist.cpp#1181\n\n::: toolkit/content/contentAreaUtils.js\n(Diff revision 1)\n> -      sourcePostData    : aDocument ? getPostData(aDocument) : null,\n\nCan we just leave this line as-is, but change the condition to aDocument and !Cu.isCrossProcessWrapper(aDocument)?",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-05-04T21:53:23Z"
  }, {
    "text" : "Comment on attachment 8600354\nMozReview Request: bz://1128050/mconley (r+'d by billm)\n\nI'd like to see this again.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-05-04T21:53:51Z"
  }, {
    "text" : "Comment on attachment 8600354\nMozReview Request: bz://1128050/mconley (r+'d by billm)\n\n/r/8023 - Bug 1156493 - \"e10s: move .cacheKey to nsICacheInfoChannel so child channels can get/set it\" [r=michal.novotny]\n/r/8025 - Bug 1128050 - [e10s] Save page as... doesn't always load from cache. r=?\n\nPull down these commits:\n\nhg pull -r bda4c1f32026b75c57c742d6ea8ff0e195ad0a99 https://reviewboard-hg.mozilla.org/gecko/",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-05-05T02:14:48Z"
  }, {
    "text" : "(In reply to Bill McCloskey (:billm) from comment #13)\n> https://reviewboard.mozilla.org/r/8025/#review6773\n> \n> ::: toolkit/content/contentAreaUtils.js:157\n> (Diff revision 1)\n> > +      let shEntry = BrowserUtils.deserializeSHEntry(message.data.shEntryObj);\n> \n> You go through a lot of effort to get the entire shEntry, but the only part\n> we use is the cacheKey (which is just an nsISupportsPRUint32). Let's kill\n> all the shEntry serialization/deserialization and only send up the cacheKey\n> as a number. Then you can make a new nsISupportsPRUint32 in the parent and\n> pass it to internalSave. Note that nsWebBrowserPersist::SaveURIInternal\n> allows its cacheKey argument to be either an nsISHEntry, an\n> nsIWebPageDescriptor, or an actual cache key [1]. We'll use the latter\n> version.\n> \n> [1]\n> http://mxr.mozilla.org/mozilla-central/source/embedding/components/\n> webbrowserpersist/nsWebBrowserPersist.cpp#1181\n\nYes, this is much simpler, thank you! I should probably have red the nsIWebBrowserPersist IDL a bit more closely.\n\n> \n> ::: toolkit/content/contentAreaUtils.js\n> (Diff revision 1)\n> > -      sourcePostData    : aDocument ? getPostData(aDocument) : null,\n> \n> Can we just leave this line as-is, but change the condition to aDocument and\n> !Cu.isCrossProcessWrapper(aDocument)?\n\nDone.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-05-05T02:15:32Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/8025/#review6923\n\nThanks! Looks good.\n\n::: toolkit/content/contentAreaUtils.js:150\n(Diff revision 2)\n> -    cacheKey =\n> +    shEntry =\n\nI think you need |let| here.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-05-05T18:23:44Z"
  }, {
    "text" : "Thanks!",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-05-05T18:42:35Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/9a98694d89a6",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-05-10T16:55:14Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9a98694d89a6",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-05-11T01:46:12Z"
  }, {
    "text" : "Bug 1156493 was backed out from mozilla-aurora due to bug 1163900, so this bug is still open on 40, but fixed on 41.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-05-14T19:53:57Z"
  }, {
    "text" : "Comment on attachment 8600354\nMozReview Request: bz://1128050/mconley (r+'d by billm)",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-10T15:20:59Z"
  }, {
    "text" : "Created attachment 8619262\nMozReview Request: Bug 1128050 - [e10s] Save page as... doesn't always load from cache. r=?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-10T15:20:59Z"
  }, {
    "text" : "Created attachment 8619263\nMozReview Request: Bug 1156493 - \"e10s: move .cacheKey to nsICacheInfoChannel so child channels can get/set it\" [r=michal.novotny]",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-10T15:20:59Z"
  }, {
    "text" : "Created attachment 8621621\nBugnotes\n\nhttp://people.mozilla.org/~mconley2/bugnotes/bug-1128050.html",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-12T15:20:09Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-04-20T18:17:29Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-11T01:46:12Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-11T01:46:12Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:35:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmathies@mozilla.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:35:55Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "m6+"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-18T21:47:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-01T02:20:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-01T02:20:45Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-04-20T18:26:58Z",
      "what" : "op_sys",
      "removed" : "Linux",
      "added" : "All"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-04-21T22:04:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1156493"
    }, {
      "name" : "jld@mozilla.com",
      "date" : "2015-04-21T22:24:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jld@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-04-30T15:30:19Z",
      "what" : "attachments.isobsolete:8599897",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-04-30T15:35:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wmccloskey@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-05T18:42:51Z",
      "what" : "attachments.description:8600354",
      "removed" : "MozReview Request: bz://1128050/mconley",
      "added" : "MozReview Request: bz://1128050/mconley (r+'d by billm)"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-11T01:46:12Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-11T01:46:12Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-05-10 18:46:12"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-11T01:46:12Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-05-11T02:15:20Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "40.3 - 11 May"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-11T15:33:47Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1163642"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-14T19:53:57Z",
      "what" : "target_milestone",
      "removed" : "Firefox 40",
      "added" : "Firefox 41"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-14T19:53:57Z",
      "what" : "cf_status_firefox40",
      "removed" : "fixed",
      "added" : "wontfix"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-10T15:20:59Z",
      "what" : "attachments.isobsolete:8600354",
      "removed" : "0",
      "added" : "1"
    } ],
    "flagEvents" : [ {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-18T20:28:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-04-30T15:35:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8599906,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-04-30T21:10:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8599906,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-01T16:15:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8600354,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-05-04T21:53:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8600354,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-05T02:14:48Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8600354,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-05-05T18:42:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8600354,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-05-11T02:15:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-10T15:20:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619262,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-10T15:20:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619263,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128050,
  "cclist" : [ "jld@mozilla.com", "jmathies@mozilla.com", "mconley@mozilla.com", "mmucci@mozilla.com", "wmccloskey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Framework",
  "summary" : "Clean up pending protocol.js requests if connection aborts",
  "reporter" : "jryans@gmail.com",
  "assigned" : "jryans@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "If a connection aborts unexpectedly, protocol.js can be left with queued requests that it forgets to reject.",
  "comments" : [ {
    "text" : "If a connection aborts unexpectedly, protocol.js can be left with queued requests that it forgets to reject.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-30T20:21:31Z"
  }, {
    "text" : "Created attachment 8557291\nMozReview Request: bz://1128027/jryans\n\n/r/3197 - Bug 1128027 - Clean up protocol.js pools after connection close. r=bgrins\n\nPull down this commit:\n\nhg pull review -r ee9205e75408b685218075c8781e14375bc67a83",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-30T20:24:46Z"
  }, {
    "text" : "Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=04692abef1e6",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-30T20:25:15Z"
  }, {
    "text" : "(In reply to J. Ryan Stinnett [:jryans] from comment #2)\n> Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=04692abef1e6\n\nI was going to ask if you could think of a way to add a test for this functionality, but looks like one of the existing tests is having this happen.  Could you fix this test failure and then add a new one that just opens and aborts a connection, expecting the normal destroy process to happen?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-31T00:09:54Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nhttps://reviewboard.mozilla.org/r/3195/#review2625\n\nSee Comment 3 about the test failures\n\n::: toolkit/devtools/server/protocol.js\n(Diff revision 1)\n> +        events.once(this.conn, \"closed\", () => this.destroy());\n\nCan we use events.once for all connections?  Or is there an advantage to using addOneTimeListener when it is available.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-31T00:26:24Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/3195/#review2773\n\n> Can we use events.once for all connections?  Or is there an advantage to using addOneTimeListener when it is available.\n\nThere is no advantage.  The issue is that the client vs. server expose different event APIs. :(\n\nBug 1042642 aims to clean up the APIs.  I added a comment here referencing that bug.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T20:26:51Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\n/r/3197 - Bug 1128027 - Clean up protocol.js pools after connection close. r=bgrins\n\nPull down this commit:\n\nhg pull review -r 64be6485895782c8de40dcd646a97deca238c90e",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T20:32:05Z"
  }, {
    "text" : "Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=efc1c848b75c",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T20:32:22Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nhttps://reviewboard.mozilla.org/r/3195/#review2797\n\nStill seeing leaks on debug builds for the test:\n\nTypeError: gPanelWindow is null: testEditorAdded@chrome://mochitests/content/browser/browser/devtools/styleeditor/test/browser_styleeditor_loading.js:24:7\nTEST-UNEXPECTED-FAIL | browser/devtools/styleeditor/test/browser_styleeditor_nostyle.js | leaked 2 window(s) until shutdown [url = chrome://mochitests/content/browser/browser/devtools/styleeditor/test/nostyle.html]\nTEST-UNEXPECTED-FAIL | browser/devtools/styleeditor/test/browser_styleeditor_nostyle.js | leaked 1 docShell(s) until shutdown",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-06T23:29:48Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\n/r/3197 - Bug 1128027 - Clean up protocol.js pools after connection close. r=bgrins\n/r/4295 - Bug 1128027 - Repair sourceeditor test after protocol.js cleanup change. r=bgrins\n/r/4297 - Bug 1128027 - Inspector destroy error was holding document alive. r=bgrins\n/r/4299 - Bug 1128027 - Record protocol.js request headers for debugging. r=bgrins\n/r/4301 - Bug 1128027 - Settle Web Audio requests in tests before teardown. r=jsantell\n/r/4303 - Bug 1128027 - Rework Console tests that click links. r=bgrins\n\nPull down these commits:\n\nhg pull review -r 3c47ad3d0aa8b9947aca8d7e69fa52f6370157a6",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T04:36:18Z"
  }, {
    "text" : "Looking like all test issues resolved:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=eed5495f5eb3\n\nThanks bgrins for extra help with Web Console tests!",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T04:37:18Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/3197/#review3465\n\nI changed the overall approach here from last time.  Now, there are no more events, so the design is simpler.  Instead, the client loops over the set of fronts in the pools it has after the connection is closed, calling `cleanup` on them.\n\nI realized after the previous review that no fix is needed on the server side: it already performs a similar `cleanup` like this after connection close.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T04:40:25Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nLooks good! A contributor ran into the automation panel not rendering before the test wrapped up causing some failures, so you should also check browser_wa_inspector-width.js as well, which has a similar fix (but your method is cleaner).",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-25T04:44:42Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nBlah, still more tests to fix.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T05:39:32Z"
  }, {
    "text" : "Okay, try is actually good this time:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=9807dd1d806d",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T22:36:17Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\n/r/3197 - Bug 1128027 - Clean up protocol.js pools after connection close. r=bgrins\n/r/4295 - Bug 1128027 - Repair sourceeditor test after protocol.js cleanup change. r=bgrins\n/r/4297 - Bug 1128027 - Inspector destroy error was holding document alive. r=bgrins\n/r/4299 - Bug 1128027 - Record protocol.js request headers for debugging. r=bgrins\n/r/4301 - Bug 1128027 - Settle Web Audio requests in tests before teardown. r=jsantell\n/r/4303 - Bug 1128027 - Rework Console tests that click links. r=bgrins\n\nPull down these commits:\n\nhg pull review -r bd2c3059ba3612185f7273ed78b081ab6996de03",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T22:40:45Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4301/#review3517\n\nCarry over previous r+.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T22:41:31Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nhttps://reviewboard.mozilla.org/r/3195/#review3521\n\nNice work tracking down all of these issues, this will be helpful\n\n::: toolkit/devtools/client/dbg-client.jsm\n(Diff revision 4)\n> +    // In case destruction does not happen in the usual way (because the\n\nThis comment could be clearer, explaining that these pools are protocol.js fronts that haven't been destroyed because of an unexpected exit",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-26T00:42:51Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/fx-team/rev/856dd8473a6c\nremote:   https://hg.mozilla.org/integration/fx-team/rev/07fcafcdcf3f\nremote:   https://hg.mozilla.org/integration/fx-team/rev/04f6c95bdc28\nremote:   https://hg.mozilla.org/integration/fx-team/rev/be4ab9a8d00c\nremote:   https://hg.mozilla.org/integration/fx-team/rev/0bdcde0e7111\nremote:   https://hg.mozilla.org/integration/fx-team/rev/a4b03fd5c367",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-26T01:24:35Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #17)\n> ::: toolkit/devtools/client/dbg-client.jsm\n> (Diff revision 4)\n> > +    // In case destruction does not happen in the usual way (because the\n> \n> This comment could be clearer, explaining that these pools are protocol.js\n> fronts that haven't been destroyed because of an unexpected exit\n\nOkay, I included a longer version[1].  Hopefully it's better now!\n\n[1]: https://hg.mozilla.org/integration/fx-team/rev/856dd8473a6c#l1.13",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-26T01:25:46Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/856dd8473a6c\nhttps://hg.mozilla.org/mozilla-central/rev/07fcafcdcf3f\nhttps://hg.mozilla.org/mozilla-central/rev/04f6c95bdc28\nhttps://hg.mozilla.org/mozilla-central/rev/be4ab9a8d00c\nhttps://hg.mozilla.org/mozilla-central/rev/0bdcde0e7111\nhttps://hg.mozilla.org/mozilla-central/rev/a4b03fd5c367",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-26T11:03:36Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nApproval Request Comment\n[Feature/regressing bug #]: Unclear where regression was introduced, but issue reproduces at least back to beta\n[User impact if declined]: DevTools will be left on screen in a broken state if a device connection is aborted in WebIDE or e10s page is used in certain conditions\n[Describe test coverage new/current, TreeHerder]: Landed on m-c, new tests added there\n[Risks and why]: Low, only affects clean up of DevTools toolbox when it closes\n[String/UUID change made/needed]: None",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-26T16:18:18Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans\n\nIt's early in Beta so taking uplift for both Beta/Aurora.",
    "authour" : "lukasblakk+bugs@gmail.com",
    "created" : "2015-02-27T19:53:37Z"
  }, {
    "text" : "Patch 5 (the webaudio test changes) needs rebasing for beta.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-27T21:15:59Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/f4a427d7dc86\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/010880539033\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/e988c79a74f5\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/8955f76dc200\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/fa0ec48ad174\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/bb174842be5c",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-27T21:56:45Z"
  }, {
    "text" : "The Web Audio patch ended up being unneeded on beta:\n\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/021aac3d7804\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/4c02cca13dbe\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/569e2110f0ff\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/b82653e56ec9\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/012e92feffe6",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-27T23:53:33Z"
  }, {
    "text" : "mochitest-dt failures:\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=279112&repo=mozilla-beta",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-28T01:38:04Z"
  }, {
    "text" : "Backed out from beta:\n\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/eed281422403\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/85ca6f646762\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/21120474140d\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/6f6ec57ce6b9\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/e49cd895e078\n\nWill try again when I get back (with beta Try run).",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-02T01:12:04Z"
  }, {
    "text" : "Created attachment 8575349\nWait for inspector link in Web Console test (beta only)\n\nOn beta, an additional fix was required for web console tests.\n\nI'll likely also land this on fx-team too, it seems generally correct.\n\nBeta try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=d0e0a0b0f1f6",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-10T16:03:33Z"
  }, {
    "text" : "fx-team try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=0d9c45fc4532",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-10T16:49:23Z"
  }, {
    "text" : "Comment on attachment 8575349\nWait for inspector link in Web Console test (beta only)\n\nReview of attachment 8575349:\n-----------------------------------------------------------------\n\nr+ for beta-only (assuming a green try push).\n\nWe will need a different patch for fx-team that simply removes the thisTestLeaksUncaughtRejectionsAndShouldBeFixed line, since the type of _linkedToInspector has changed to a boolean: https://dxr.mozilla.org/mozilla-central/search?q=_linkedToInspector&redirect=true.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-03-10T17:12:30Z"
  }, {
    "text" : "Created attachment 8575452\nRemove browser_result_format_as_string.js leak whitelist (fx-team only)\n\nHere's the fx-team only version.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=399af86993c7",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-10T18:37:25Z"
  }, {
    "text" : "Is the fx-team version intended for Aurora38 as well?",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-11T14:32:18Z"
  }, {
    "text" : "Beta try looks good.  Relanded on beta with additional test fix:\n\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/abce8eb1a75e\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/f21e8fa80469\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/fa9b1bfa9f0e\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/fbef1b8d36e0\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/9fb666f03801\nremote:   https://hg.mozilla.org/releases/mozilla-beta/rev/7e2e728297e6",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-11T17:09:16Z"
  }, {
    "text" : "(In reply to Ryan VanderMeulen [:RyanVM UTC-5] from comment #32)\n> Is the fx-team version intended for Aurora38 as well?\n\nThe additional fx-team patch (attachment 8575452) is essentially a \"code cleanliness\" change: it removes a promise rejection whitelist statement from a test which no longer whitelists anyway (since the error message content changed due to the other patches in this bug).  It should have no impact on test outcome, it just removes dead code.\n\nIt should be fine to also land on Aurora, but I don't see a strong need to put it there either, unless someone feels it's simpler to follow that way.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-11T17:14:20Z"
  }, {
    "text" : "Landed test cleanup change for fx-team:\n\nhttps://hg.mozilla.org/integration/fx-team/rev/0767aa455e03",
    "authour" : "jryans@gmail.com",
    "created" : "2015-03-12T07:52:39Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0767aa455e03",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-12T22:03:48Z"
  }, {
    "text" : "Comment on attachment 8557291\nMozReview Request: bz://1128027/jryans",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  }, {
    "text" : "Created attachment 8619255\nMozReview Request: Bug 1128027 - Repair sourceeditor test after protocol.js cleanup change. r=bgrins",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  }, {
    "text" : "Created attachment 8619256\nMozReview Request: Bug 1128027 - Inspector destroy error was holding document alive. r=bgrins",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  }, {
    "text" : "Created attachment 8619257\nMozReview Request: Bug 1128027 - Record protocol.js request headers for debugging. r=bgrins",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  }, {
    "text" : "Created attachment 8619258\nMozReview Request: Bug 1128027 - Settle Web Audio requests in tests before teardown. r=jsantell",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  }, {
    "text" : "Created attachment 8619259\nMozReview Request: Bug 1128027 - Rework Console tests that click links. r=bgrins",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  }, {
    "text" : "Created attachment 8619260\nMozReview Request: Bug 1128027 - Clean up protocol.js pools after connection close. r=bgrins",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:57Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T20:22:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-26T11:03:36Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-26T11:03:36Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T20:22:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T20:22:38Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T20:24:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T00:10:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1117067"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-12T21:23:21Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1132505"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-18T21:10:19Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134162"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-18T21:14:35Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134166"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T04:36:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T04:51:07Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T04:51:07Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T05:52:31Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T21:16:57Z",
      "what" : "cf_status_firefox37",
      "removed" : "?",
      "added" : "affected"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-26T01:24:35Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-26T11:03:36Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-26T11:03:36Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-26T11:03:36Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-26 03:03:36"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-26T11:03:36Z",
      "what" : "cf_status_firefox39",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T21:56:45Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-27T23:53:33Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-03-02T01:12:04Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "affected"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-02T19:04:22Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137966"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-02T19:11:13Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1138576"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-03-10T18:36:06Z",
      "what" : "attachments.description:8575349",
      "removed" : "0006-Bug-1128027-Wait-for-inspector-link-in-Web-Console-t.patch",
      "added" : "Wait for inspector link in Web Console test (beta only)"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-03-11T17:09:16Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "attachments.isobsolete:8557291",
      "removed" : "0",
      "added" : "1"
    } ],
    "flagEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T20:24:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-31T00:26:24Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T20:32:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-06T23:29:48Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T04:36:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-25T04:44:42Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T05:39:32Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T22:40:45Z",
      "what" : "flagtypes.name",
      "removed" : "review+",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-26T00:42:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-26T16:18:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-02-27T19:53:37Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8557291,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T21:15:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-27T21:17:06Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bgrinstead@mozilla.com), needinfo?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-27T23:53:33Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-28T01:38:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-03-02T01:12:04Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-03-10T16:03:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575349,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-10T17:12:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8575349,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-03-10T18:37:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575452,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619255,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619256,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619257,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619258,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619259,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619260,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1128027,
  "cclist" : [ "bgrinstead@mozilla.com", "jordan@jsantell.com", "jryans@gmail.com" ]
}, {
  "component" : "General",
  "summary" : "[e10s] Save Page As... doesn't work",
  "reporter" : "dtownsend@mozilla.com",
  "assigned" : "wmccloskey@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Attempting to save page as in the current nightly seems to show the save start but the downloads panel just shows a full progress bar that seems stuck.",
  "comments" : [ {
    "text" : "Attempting to save page as in the current nightly seems to show the save start but the downloads panel just shows a full progress bar that seems stuck.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-30T17:56:34Z"
  }, {
    "text" : "Bisecting shows this was caused by https://hg.mozilla.org/mozilla-central/rev/25ca03634cf5",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-30T19:29:42Z"
  }, {
    "text" : "Created attachment 8557321\nfix-save-as\n\nThere were two problems here. The first is that we were passing a privacy context CPOW into saveURL. That's easy to fix.\n\nThe other problem is that we were passing this \"cache key\" in as a CPOW. This is similar to the problem we have with \"View Source\". The code didn't actually work with CPOWs, so I just changed it to pass null instead. I filed bug 1128050 to deal with the root problem.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-01-30T21:10:17Z"
  }, {
    "text" : "Is bug 1128712 a dupe of this?",
    "authour" : "jmathies@mozilla.com",
    "created" : "2015-02-03T15:40:30Z"
  }, {
    "text" : "> Is bug 1128712 a dupe of this?\n\nI suspect so.  Both bugs have the same regression range for me (at least on OS X 10.7.5):\n\nfirefox-2015-01-29-03-02-02-mozilla-central\nfirefox-2015-01-30-03-02-32-mozilla-central\n\nNote that this includes the patch from comment #1.",
    "authour" : "smichaud@pobox.com",
    "created" : "2015-02-03T16:39:56Z"
  }, {
    "text" : "Same regression but different bug.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-02-03T16:49:54Z"
  }, {
    "text" : "Comment on attachment 8557321\nfix-save-as\n\nReview of attachment 8557321:\n-----------------------------------------------------------------\n\nThis looks like a privacy win too, with the switch to savePrivacyAwareURI. Good stuff!",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-03T20:40:56Z"
  }, {
    "text" : "*** Bug 1130625 has been marked as a duplicate of this bug. ***",
    "authour" : "bugzilla@mversen.de",
    "created" : "2015-02-06T23:35:24Z"
  }, {
    "text" : "Can we land this? I was just about to fix the same bug :)",
    "authour" : "evilpies@gmail.com",
    "created" : "2015-02-09T11:09:54Z"
  }, {
    "text" : "Created attachment 8561655\nfix-save-as v2\n\nSorry this is taking so long. I ended up folding this together with a patch for bug 1128712. I've tried to make it clearer in the code what is allowed to be a CPOW and what isn't. I also added a utility function, makeURIFromCPOW, that converts a URI around a CPOW into a process-local URI. I changed a couple places where we need this to use it. The advantage over makeURI is that it gets the charset right (not sure how important that is).\n\nI'm still working on a test for this stuff. It's proving somewhat difficult to write.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-02-09T21:34:03Z"
  }, {
    "text" : "Comment on attachment 8561655\nfix-save-as v2\n\nReview of attachment 8561655:\n-----------------------------------------------------------------\n\n::: browser/base/content/nsContextMenu.js\n@@ +1195,5 @@\n>            getService(Ci.nsIExternalHelperAppService);\n>          let channel = aRequest.QueryInterface(Ci.nsIChannel);\n>          this.extListener =\n>            extHelperAppSvc.doContent(channel.contentType, aRequest, \n> +                                    null, true, window);\n\nI'm guessing you'll have a question about this change, Mike. doContent takes two window arguments. The latter one is used to put up authorization prompts and stuff. We use the chrome process window for that already.\n\nThe former window (where we passed in doc.defaultView) is used in rare situations. Basically, if a link is for a file (or something that goes to the external helper app service), the server can stick an HTTP header on the response that causes the browser to display a certain web page when the file transfer is done (\"Thanks for downloading!\" or something like that). We use the window argument to set this up.\n\nThis code only runs when you choose \"Save link\" from the context menu. I'm pretty certain we don't want to do this refresh link business in that case.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-02-09T21:44:36Z"
  }, {
    "text" : "Comment on attachment 8561655\nfix-save-as v2\n\nReview of attachment 8561655:\n-----------------------------------------------------------------\n\n::: browser/base/content/nsContextMenu.js\n@@ +1195,5 @@\n>            getService(Ci.nsIExternalHelperAppService);\n>          let channel = aRequest.QueryInterface(Ci.nsIChannel);\n>          this.extListener =\n>            extHelperAppSvc.doContent(channel.contentType, aRequest, \n> +                                    null, true, window);\n\nI'm guessing you'll have a question about this change, Mike. doContent takes two window arguments. The latter one is used to put up authorization prompts and stuff. We use the chrome process window for that already.\n\nThe former window (where we passed in doc.defaultView) is used in rare situations. Basically, if a link is for a file (or something that goes to the external helper app service), the server can stick an HTTP header on the response that causes the browser to display a certain web page when the file transfer is done (\"Thanks for downloading!\" or something like that). We use the window argument to set this up.\n\nThis code only runs when you choose \"Save link\" from the context menu. I'm pretty certain we don't want to do this refresh link business in that case.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-02-09T21:47:16Z"
  }, {
    "text" : "Created attachment 8561791\nfix-save-as v3\n\nUnfortunately, when I rebased this patch, the \"Save link\" functionality stopped working again. It was broken by changes that landed in bug 1087726. Christoph, could you please look over the changes I've made to newChannelFromURI2? In e10s, |doc| is actually a cross-process wrapper around a document in the content process. It's not safe to pass it into a chrome C++ method like this. So instead I passed the document principal. Is there any reason why you really need the node instead of just the principal?",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-02-10T01:28:15Z"
  }, {
    "text" : "Comment on attachment 8561791\nfix-save-as v3\n\nReview of attachment 8561791:\n-----------------------------------------------------------------\n\nBill, ideally we store the |doc| as the loadingNode within the LoadInfo. Since serialization of a node does not work in e10s, we just query the loadingPrincipal from that loadingNode whenever the child opens a channel in the parent, see PropagateLoadinfo, called here:\nhttp://mxr.mozilla.org/mozilla-central/source/netwerk/protocol/http/HttpChannelChild.cpp#1597\n\nIf I am understanding correctly what you are saying, then we are facing a similar problem here, right?\nI am fine with the change, but please answer my question underneath:\n\n::: browser/base/content/nsContextMenu.js\n@@ +1251,5 @@\n>      var ioService = Cc[\"@mozilla.org/network/io-service;1\"].\n>                      getService(Ci.nsIIOService);\n>      var channel = ioService.newChannelFromURI2(makeURI(linkURL),\n> +                                               null, // aLoadingNode\n> +                                               this.principal, // aLoadingPrincipal\n\nI assume this.principal is the same as doc.nodePrincipal, right?",
    "authour" : "ckerschb@christophkerschbaumer.com",
    "created" : "2015-02-10T04:00:10Z"
  }, {
    "text" : "Comment on attachment 8561791\nfix-save-as v3\n\nReview of attachment 8561791:\n-----------------------------------------------------------------\n\n(In reply to Bill McCloskey (:billm) from comment #11)\n> This code only runs when you choose \"Save link\" from the context menu. I'm\n> pretty certain we don't want to do this refresh link business in that case.\n\nCool - thanks for the explanation. I agree that was don't want to do that for the context menu case. I'm actually kinda curious to know what happened before with the original code if the server sent such a header with this case.\n\n::: browser/base/content/nsContextMenu.js\n@@ +1251,5 @@\n>      var ioService = Cc[\"@mozilla.org/network/io-service;1\"].\n>                      getService(Ci.nsIIOService);\n>      var channel = ioService.newChannelFromURI2(makeURI(linkURL),\n> +                                               null, // aLoadingNode\n> +                                               this.principal, // aLoadingPrincipal\n\nYes, it should be the principal for the owner document that triggered the context menu event.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-10T19:40:10Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/mozilla-inbound/rev/c7e21a1fe735",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-02-11T20:56:13Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/c7e21a1fe735",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-12T14:39:08Z"
  }, {
    "text" : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:38.0) Gecko/20100101 Firefox/38.0\n\nReproduced the issue on 2015-02-12 Nightly.\nVerified fixed on latest Nightly, build ID: 20150215030238",
    "authour" : "cornel.ionce@softvision.ro",
    "created" : "2015-02-16T12:07:06Z"
  }, {
    "text" : "*** Bug 1128712 has been marked as a duplicate of this bug. ***",
    "authour" : "Virtual@MsgSafe.io",
    "created" : "2015-02-16T18:04:47Z"
  }, {
    "text" : "*** Bug 1129195 has been marked as a duplicate of this bug. ***",
    "authour" : "Virtual@MsgSafe.io",
    "created" : "2015-02-16T18:05:21Z"
  }, {
    "text" : "*** Bug 1130873 has been marked as a duplicate of this bug. ***",
    "authour" : "Virtual@MsgSafe.io",
    "created" : "2015-02-16T18:05:25Z"
  }, {
    "text" : "*** Bug 1134075 has been marked as a duplicate of this bug. ***",
    "authour" : "bugzilla@mversen.de",
    "created" : "2015-02-18T11:47:32Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-01-30T21:10:17Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-12T14:39:08Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-02-16T12:07:06Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-12T14:39:08Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-30T18:10:31Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-30T19:29:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wmccloskey@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-30T19:29:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1072980"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-30T19:46:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-01-30T21:10:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-01-30T21:10:17Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "wmccloskey@mozilla.com"
    }, {
      "name" : "smichaud@pobox.com",
      "date" : "2015-02-02T23:06:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "smichaud@pobox.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T15:40:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmathies@mozilla.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T20:47:16Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "m5+"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-06T23:35:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "botond@mozilla.com"
    }, {
      "name" : "haleyashley@live.com.au",
      "date" : "2015-02-08T08:12:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "haleyashley@live.com.au"
    }, {
      "name" : "evilpies@gmail.com",
      "date" : "2015-02-09T11:09:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "evilpies@gmail.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-09T16:23:47Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1128712"
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-02-09T21:34:03Z",
      "what" : "attachments.isobsolete:8557321",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-09T22:19:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-02-10T01:28:15Z",
      "what" : "attachments.isobsolete:8561655",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-02-10T01:28:15Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mozilla@christophkerschbaumer.com"
    }, {
      "name" : "ckerschb@christophkerschbaumer.com",
      "date" : "2015-02-11T00:35:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "tanvi@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-12T14:39:08Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-12T14:39:08Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-12 06:39:08"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-12T14:39:08Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-12T14:52:16Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.3 - 23 Feb"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-02-16T12:07:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cornel.ionce@softvision.ro"
    }, {
      "name" : "cornel.ionce@softvision.ro",
      "date" : "2015-02-16T12:07:06Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-16T18:04:47Z",
      "what" : "blocks",
      "removed" : "1128712",
      "added" : ""
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-16T18:04:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "julian.viereck@gmail.com"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-16T18:05:21Z",
      "what" : "cc",
      "removed" : "",
      "added" : "raysatiro@yahoo.com"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-16T18:05:25Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jeremylfw@gmail.com"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-18T11:47:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "flipsarrow@yahoo.com"
    }, {
      "name" : "ckerschb@christophkerschbaumer.com",
      "date" : "2015-06-15T16:47:22Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1136055"
    }, {
      "name" : "trev.moz@adblockplus.org",
      "date" : "2016-06-01T10:27:38Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1266974"
    } ],
    "flagEvents" : [ {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-30T18:10:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-30T19:29:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-01-30T21:10:17Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-01-30T21:10:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557321,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-03T20:40:56Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557321,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-02-09T21:34:03Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561655,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-02-10T01:28:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8561655,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-02-10T01:28:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8561791,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ckerschb@christophkerschbaumer.com",
      "date" : "2015-02-10T04:00:10Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(mozilla@christophkerschbaumer.com)",
      "added" : "",
      "attachmentId" : 8561791,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-10T19:40:10Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8561791,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127927,
  "cclist" : [ "botond@mozilla.com", "ckerschb@christophkerschbaumer.com", "cornel.ionce@softvision.ro", "evilpies@gmail.com", "flipsarrow@yahoo.com", "haleyashley@live.com.au", "jeremylfw@gmail.com", "jmathies@mozilla.com", "julian.viereck@gmail.com", "mconley@mozilla.com", "mmucci@mozilla.com", "raysatiro@yahoo.com", "smichaud@pobox.com", "tanvi@mozilla.com", "Virtual@MsgSafe.io", "wmccloskey@mozilla.com" ]
}, {
  "component" : "Tabbed Browser",
  "summary" : "Detaching a tab  Removes URL, and back/forward History of the Tab on Mac/Windows/Linux",
  "reporter" : "Sasuke345345@gmail.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8557158\nbug.mov\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:38.0) Gecko/20100101 Firefox/38.0\nBuild ID: 20150130030232\n\nSteps to reproduce:\n\nDrag a Tab off Firefox to make a new Window.\n\n\nActual results:\n\nThe url is missing, and all history within the tab is removed. \n\n\nExpected results:\n\nThe url should of been passed, same with history.",
  "comments" : [ {
    "text" : "Created attachment 8557158\nbug.mov\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:38.0) Gecko/20100101 Firefox/38.0\nBuild ID: 20150130030232\n\nSteps to reproduce:\n\nDrag a Tab off Firefox to make a new Window.\n\n\nActual results:\n\nThe url is missing, and all history within the tab is removed. \n\n\nExpected results:\n\nThe url should of been passed, same with history.",
    "authour" : "Sasuke345345@gmail.com",
    "created" : "2015-01-30T16:47:19Z"
  }, {
    "text" : "I can also reproduce on Ubuntu.",
    "authour" : "alice0775@yahoo.co.jp",
    "created" : "2015-01-30T18:40:55Z"
  }, {
    "text" : "Also, New Tab (With no history/page) and moved to a new window, outputs inaccessible tab.",
    "authour" : "Sasuke345345@gmail.com",
    "created" : "2015-01-30T18:56:38Z"
  }, {
    "text" : "(In reply to Sasuke345345 from comment #2)\n> Also, New Tab (With no history/page) and moved to a new window, outputs\n> inaccessible tab.\n\nE10 windows don't bring page, or history into new window.",
    "authour" : "Sasuke345345@gmail.com",
    "created" : "2015-01-31T16:16:41Z"
  }, {
    "text" : "Fixed by bug 1087966",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-25T00:01:13Z"
  }, {
    "text" : "Mistakenly filed against Firefox 38 and should be instead 38 Branch. Sorry for the spam. dkl",
    "authour" : "dkl@mozilla.com",
    "created" : "2015-04-13T22:48:37Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:40:55Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-25T00:01:13Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-25T00:01:13Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:40:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "alice0775@yahoo.co.jp"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:40:55Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "Tabbed Browser"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:40:55Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:40:55Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:40:55Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-30T18:43:58Z",
      "what" : "summary",
      "removed" : "Drag and Drop Removes URL, and History of the Tab on Mac/Windows",
      "added" : "Detaching a tab  Removes URL, and back/forward History of the Tab on Mac/Windows/Linux"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:32:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmathies@mozilla.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:32:43Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1087966"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T21:32:43Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-25T00:01:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-25T00:01:13Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 16:01:13"
    }, {
      "name" : "dkl@mozilla.com",
      "date" : "2015-04-13T22:48:37Z",
      "what" : "version",
      "removed" : "Firefox 38",
      "added" : "38 Branch"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1127904,
  "cclist" : [ "alice0775@yahoo.co.jp", "dtownsend@mozilla.com", "jmathies@mozilla.com" ]
}, {
  "component" : "Downloads Panel",
  "summary" : "Use the new back-end property to get the size of downloads asynchronously",
  "reporter" : "paolo.mozmail@amadzone.org",
  "assigned" : "paolo.mozmail@amadzone.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8557121\nThe patch\n\nWe can now use the DownloadTarget.size property and the Download.refresh methods to get information about the size of the download on disk asynchronously.",
  "comments" : [ {
    "text" : "Created attachment 8557121\nThe patch\n\nWe can now use the DownloadTarget.size property and the Download.refresh methods to get information about the size of the download on disk asynchronously.",
    "authour" : "paolo.mozmail@amadzone.org",
    "created" : "2015-01-30T15:48:44Z"
  }, {
    "text" : "Comment on attachment 8557121\nThe patch\n\nReview of attachment 8557121:\n-----------------------------------------------------------------\n\nit looks reasonable, and I hated maxBytes from the beginning.\n\n::: browser/components/downloads/DownloadsCommon.jsm\n@@ +366,2 @@\n>  \n> +      if (!download.stopped) {\n\nlooks like you removed usage of numScanning, should also remove its definition.\n\n::: browser/components/downloads/content/downloadsViewCommon.js\n@@ +172,5 @@\n>      let text = \"\";\n>      let tip = \"\";\n>  \n>      if (!this.download.stopped) {\n> +      let total = this.download.hasProgress ? this.download.totalBytes : -1;\n\ntotalBytes (let's keep the unit). is at least slightly clearer than maxBytes.\n\n@@ +206,5 @@\n>        if (this.download.succeeded) {\n> +        // For completed downloads, show the file size (e.g. \"1.5 MB\").\n> +        if (this.download.target.size !== undefined) {\n> +          let [size, unit] = DownloadUtils.convertByteUnits(\n> +                                                  this.download.target.size);\n\nnit: I prefer this form:\nlet [size, unit] =\n  DownloadUtils.convertByteUnits(this.download.target.size);",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-01-30T17:32:52Z"
  }, {
    "text" : "Comment on attachment 8557121\nThe patch\n\nReview comments addressed in bug 1129896.",
    "authour" : "paolo.mozmail@amadzone.org",
    "created" : "2015-02-16T15:11:33Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/acb012724bf0",
    "authour" : "paolo.mozmail@amadzone.org",
    "created" : "2015-02-16T18:54:27Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/acb012724bf0",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-17T19:22:28Z"
  }, {
    "text" : "Comment on attachment 8557121\nThe patch\n\n>+++ b/browser/components/downloads/content/allDownloadsViewOverlay.js\n\n>+      // These properties may be updated if the user interface is refreshed.\n>+      this.exists = false;\nShould this be:\nthis.target.exists = false;\ninstead?\n>+      this.target.size = undefined;\n>     }",
    "authour" : "iann_bugzilla@blueyonder.co.uk",
    "created" : "2015-08-15T15:32:20Z"
  }, {
    "text" : "(In reply to Ian Neal from comment #5)\n> Should this be:\n> this.target.exists = false;\n> instead?\n\nGood catch! Mind to file a new bug to fix the typo? :-)",
    "authour" : "paolo.mozmail@amadzone.org",
    "created" : "2015-08-17T12:30:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T19:22:28Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T19:22:28Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-01-30T15:48:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mak77@bonardo.net"
    }, {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-01-30T15:58:40Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-02-05T12:50:54Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1129896"
    }, {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-02-12T16:18:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com, smacleod@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T19:22:28Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "paolo.mozmail@amadzone.org"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T19:22:28Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T19:22:28Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-17 11:22:28"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T19:22:28Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-17T19:25:51Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-17T19:25:51Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.3 - 23 Feb"
    }, {
      "name" : "iann_bugzilla@blueyonder.co.uk",
      "date" : "2015-08-15T15:32:20Z",
      "what" : "cc",
      "removed" : "",
      "added" : "paolo.mozmail@amadzone.org"
    }, {
      "name" : "iann_bugzilla@blueyonder.co.uk",
      "date" : "2015-08-17T12:52:34Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1195279"
    } ],
    "flagEvents" : [ {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-01-30T15:48:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557121,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-01-30T17:32:52Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : 8557121,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-02-12T16:18:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557121,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-02-16T15:11:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557121,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-17T19:25:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-03T23:21:13Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557121,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-18T17:04:59Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557121,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "iann_bugzilla@blueyonder.co.uk",
      "date" : "2015-08-15T15:32:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "paolo.mozmail@amadzone.org",
      "date" : "2015-08-17T12:30:20Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(paolo.mozmail@amadzone.org)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127867,
  "cclist" : [ "jaws@mozilla.com", "mak77@bonardo.net", "mmucci@mozilla.com", "paolo.mozmail@amadzone.org", "smacleod@mozilla.com" ]
}, {
  "component" : "Developer Tools: Graphic Commandline and Toolbar",
  "summary" : "[e10s] The gcli highlight command does not work anymore",
  "reporter" : "pbrosset@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Only in the latest nightly, seems to work fine in dev-edition (37).\n\nOpen any page, then open gcli (shift-F2), then enter:\n\n>   highlight <selector for a node you know on the page>\n\nHere are the errors that appear in the console:\n\nconsole.error: \n  TypeError: doc is undefined\nconsole.error: \n  exports.createEmptyNodeList@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:544:1\nHighlighter@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/host.js:30:17\nonEnter@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/types/node.js:63:28\nInputter.prototype._checkAssignment@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:330:7\nInputter.prototype._processCaretChange@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:297:3\nInputter.prototype.textChanged@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:208:3\nInputter.prototype.handleKeyUp/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:483:7\nresolve@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:40:40\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:20:43\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:58:9\nInputter.prototype.handleKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:479:1\nInputter.prototype.onKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:434:3\n\nconsole.error: \n  TypeError: doc is undefined\nconsole.error: \n  exports.createEmptyNodeList@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:544:1\nexports.items<.parse@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/types/node.js:212:25\nRequisition.prototype.setAssignment@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:1053:16\nRequisition.prototype._assign/positionalDone</positionalDone<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:1985:16\nexports.promiseEach/</callNext@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:277:19\nexports.promiseEach/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:281:5\nPromise@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/promise.js:48:5\nexports.promiseEach@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:258:1\nRequisition.prototype._assign/positionalDone<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:1943:1\nresolve@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:40:40\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:20:43\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:58:9\nPromise.prototype.then/</<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/promise.js:67:17\nsetTimeout_timer@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/promise.js:98:5\n\nconsole.error: \n  Message: TypeError: this.window is null\n  Stack:\n    CommandUtils.createEnvironment/<.document@resource:///modules/devtools/DeveloperToolbar.jsm:224:9\nexports.items<.exec@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/commands/highlight.js:104:9\nRequisition.prototype.exec/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:2098:16\ncreateAsyncFunction/asyncFunction@resource://gre/modules/Task.jsm:239:18\nTask_spawn@resource://gre/modules/Task.jsm:164:12\nexports.exec@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/host.js:72:10\nRequisition.prototype.exec@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:2097:14\nInputter.prototype._handleReturn@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:563:12\nInputter.prototype.handleKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:462:1\nInputter.prototype.onKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:434:3",
  "comments" : [ {
    "text" : "Only in the latest nightly, seems to work fine in dev-edition (37).\n\nOpen any page, then open gcli (shift-F2), then enter:\n\n>   highlight <selector for a node you know on the page>\n\nHere are the errors that appear in the console:\n\nconsole.error: \n  TypeError: doc is undefined\nconsole.error: \n  exports.createEmptyNodeList@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:544:1\nHighlighter@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/host.js:30:17\nonEnter@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/types/node.js:63:28\nInputter.prototype._checkAssignment@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:330:7\nInputter.prototype._processCaretChange@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:297:3\nInputter.prototype.textChanged@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:208:3\nInputter.prototype.handleKeyUp/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:483:7\nresolve@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:40:40\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:20:43\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:58:9\nInputter.prototype.handleKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:479:1\nInputter.prototype.onKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:434:3\n\nconsole.error: \n  TypeError: doc is undefined\nconsole.error: \n  exports.createEmptyNodeList@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:544:1\nexports.items<.parse@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/types/node.js:212:25\nRequisition.prototype.setAssignment@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:1053:16\nRequisition.prototype._assign/positionalDone</positionalDone<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:1985:16\nexports.promiseEach/</callNext@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:277:19\nexports.promiseEach/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:281:5\nPromise@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/promise.js:48:5\nexports.promiseEach@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/util.js:258:1\nRequisition.prototype._assign/positionalDone<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:1943:1\nresolve@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:40:40\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:20:43\nthen@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/deprecated-sync-thenables.js:58:9\nPromise.prototype.then/</<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/promise.js:67:17\nsetTimeout_timer@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/promise.js:98:5\n\nconsole.error: \n  Message: TypeError: this.window is null\n  Stack:\n    CommandUtils.createEnvironment/<.document@resource:///modules/devtools/DeveloperToolbar.jsm:224:9\nexports.items<.exec@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/commands/highlight.js:104:9\nRequisition.prototype.exec/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:2098:16\ncreateAsyncFunction/asyncFunction@resource://gre/modules/Task.jsm:239:18\nTask_spawn@resource://gre/modules/Task.jsm:164:12\nexports.exec@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/util/host.js:72:10\nRequisition.prototype.exec@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/cli.js:2097:14\nInputter.prototype._handleReturn@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:563:12\nInputter.prototype.handleKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:462:1\nInputter.prototype.onKeyUp@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/gcli/mozui/inputter.js:434:3",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T09:51:28Z"
  }, {
    "text" : "Works fine on non-e10s.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-01T10:00:37Z"
  }, {
    "text" : "This was fixed by bug 1128988.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-04-30T16:31:47Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-04-30T16:31:47Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-04-30T16:31:47Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-01T10:00:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-01T10:00:37Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "875871"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-01T10:00:37Z",
      "what" : "summary",
      "removed" : "The gcli highlight command does not work anymore",
      "added" : "[e10s] The gcli highlight command does not work anymore"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-01T10:00:37Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T20:45:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmathies@mozilla.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-03T20:45:16Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-27T14:46:15Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-03-27T14:46:15Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1128988"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-04-30T16:31:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-04-30T16:31:47Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-04-30 09:31:47"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1127756,
  "cclist" : [ "bgrinstead@mozilla.com", "jmathies@mozilla.com", "jryans@gmail.com", "ntim.bugs@gmail.com" ]
}, {
  "component" : "General",
  "summary" : "Checkboxes not visible on about:welcomeback",
  "reporter" : "MattN+bmo@mozilla.com",
  "assigned" : "ntim.bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8556783\nScreen Shot\n\nI can't see any checkboxes and I'm not able to toggle them. I'm guessing this is related to bug 1087618 but perhaps it was broken before.\n\n[Tracking Requested - why for this release]: regression (version unknown)",
  "comments" : [ {
    "text" : "Created attachment 8556783\nScreen Shot\n\nI can't see any checkboxes and I'm not able to toggle them. I'm guessing this is related to bug 1087618 but perhaps it was broken before.\n\n[Tracking Requested - why for this release]: regression (version unknown)",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-01-30T01:00:07Z"
  }, {
    "text" : "This looks like a regression of bug 1087618. about:welcomeback used to include the about:sessionrestore stylesheet, which included the styles for the checkmarks.\n\nTo fix this, we can simply copy over the checkbox style from about:sessionrestore to about:welcomeback.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-01-30T17:54:27Z"
  }, {
    "text" : "Let's get this fixed soon while it's still fresh.  Tim - assigning to you, but feel free to re-assign to another dev if one is available.",
    "authour" : "lukasblakk+bugs@gmail.com",
    "created" : "2015-02-03T12:48:11Z"
  }, {
    "text" : "I should be able to fix this (along with other regressions) by the end of next week.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-03T19:10:21Z"
  }, {
    "text" : "Created attachment 8564306\nPatch (r=jaws)\n\nThis was r+ed in bug 1128882. Just split up the changes at jaws' request.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-13T19:49:05Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/3ad37a67d2d5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T09:41:44Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/3ad37a67d2d5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T09:47:39Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/3ad37a67d2d5",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:54:43Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-03T19:08:54Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:43Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:43Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-30T02:17:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-01-30T17:54:27Z",
      "what" : "keywords",
      "removed" : "regressionwindow-wanted",
      "added" : ""
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-02-03T12:48:11Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-02-03T12:48:11Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "lukasblakk+bugs@gmail.com",
      "date" : "2015-02-03T12:48:11Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:49:21Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:41:44Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:41:44Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:43Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:43Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:43Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:54:43"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:43Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-16T15:17:33Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.3 - 23 Feb"
    } ],
    "flagEvents" : [ {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-01-30T01:00:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:49:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564306,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-16T15:17:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127621,
  "cclist" : [ "mmucci@mozilla.com", "ntim.bugs@gmail.com" ]
}, {
  "component" : "Shell Integration",
  "summary" : "NS_ERROR_FAILURE in nsITaskbarTabPreview.invalidate",
  "reporter" : "vladan.bugzilla@gmail.com",
  "assigned" : "markh@mozilla.com",
  "created" : null,
  "operatingSystem" : "Windows 7",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I see this error repeated many times in the Nightly error console:\n\nNS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE)[nsITaskbarTabPreview.invalidate]1 WindowsPreviewPerTab.jsm:401:0\n\nI suspect it's caused by bug 526620",
  "comments" : [ {
    "text" : "I see this error repeated many times in the Nightly error console:\n\nNS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE)[nsITaskbarTabPreview.invalidate]1 WindowsPreviewPerTab.jsm:401:0\n\nI suspect it's caused by bug 526620",
    "authour" : "vladan.bugzilla@gmail.com",
    "created" : "2015-01-29T22:56:41Z"
  }, {
    "text" : "Looks like a fairly passive failure we can catch and ignore: \n\nhttp://mxr.mozilla.org/mozilla-central/source/widget/windows/TaskbarPreview.cpp#185",
    "authour" : "jmathies@mozilla.com",
    "created" : "2015-02-05T12:38:13Z"
  }, {
    "text" : "Created attachment 8567797\nt.patch\n\nI see this when the taskbar is set to autohide.\n\nSomething like this?  I initially thought that if !mVisible, we should still invalidate the preview, but it appears that mVisible isn't tracking whether the taskbar itself is *currently* visible, so it seems OK.",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-23T07:26:58Z"
  }, {
    "text" : "There are two calls in WindowsPreviewPerTab.jsm to this, one checks preview.visible first before making the call, the other doesn't. I don't think either should need to check visible first, we should remove that check as well.",
    "authour" : "jmathies@mozilla.com",
    "created" : "2015-02-24T16:24:38Z"
  }, {
    "text" : "Created attachment 8568964\n0001-Bug-1127577-nsITaskbarPreview-Invalidate-no-longer-t.patch\n\nPatch with requested change to WindowsPreviewPerTab.jsm, carrying r+ forward.\n\nTry at https://treeherder.mozilla.org/#/jobs?repo=try&revision=a1259f724f0b and I'll land when it looks green.",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-25T05:08:37Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/8739e8b4c207",
    "authour" : "markh@mozilla.com",
    "created" : "2015-02-27T03:22:52Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/8739e8b4c207",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-27T18:34:58Z"
  }, {
    "text" : "Hi Mark, can you provide a point value.",
    "authour" : "mmucci@mozilla.com",
    "created" : "2015-02-27T19:58:25Z"
  }, {
    "text" : "Seems like a low impact issue, so not setting it for verification.",
    "authour" : "florin.mezei@softvisioninc.eu",
    "created" : "2015-03-02T09:48:26Z"
  }, {
    "text" : "Mistakenly filed against Firefox 38 and should be instead 38 Branch. Sorry for the spam. dkl",
    "authour" : "dkl@mozilla.com",
    "created" : "2015-04-13T22:48:38Z"
  }, {
    "text" : "I'm on Firefox 38.0.5b1 x64\nNS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIInterfaceRequestor.getInterface] network-monitor.js:82:0\nNS_ERROR_FAILURE: Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsITaskbarTabPreview.invalidate] WindowsPreviewPerTab.jsm:406:0\n\nI'm getting alot freezes and some time freeze forever and I need kill firefox process.\n\nscreen of my console\nhttp://puu.sh/hK0IL/15d690b775.png",
    "authour" : "anjo1077@gmail.com",
    "created" : "2015-05-12T00:16:17Z"
  }, {
    "text" : "(In reply to Gabriel from comment #10)\n> I'm getting alot freezes and some time freeze forever and I need kill\n> firefox process.\n> \n> screen of my console http://puu.sh/hK0IL/15d690b775.png\n\nI notice \"lastpass\" in the console, so assuming you are using Nightly, lastpass is almost certainly the problem - for me it makes Nightly unusable. Try disabling it and see if your problems stop. Bug 1008768 is tracking this (even though the title of that bug isn't quite up-to-date)",
    "authour" : "markh@mozilla.com",
    "created" : "2015-05-12T00:27:55Z"
  }, {
    "text" : "Hello, I just found this bug number when I found the commit that will hopefully fix this issue.\nIs this targeted for 39? It would be nice to have it fixed also for 38 or 38.0.5.\n\nCould someone please mark https://bugzilla.mozilla.org/show_bug.cgi?id=1151863 and https://bugzilla.mozilla.org/show_bug.cgi?id=1162155 as duplicates of this?",
    "authour" : "ric.valechat@gmail.com",
    "created" : "2015-06-02T21:45:55Z"
  }, {
    "text" : "*** Bug 1151863 has been marked as a duplicate of this bug. ***",
    "authour" : "dteller@mozilla.com",
    "created" : "2015-06-02T21:53:55Z"
  }, {
    "text" : "*** Bug 1162155 has been marked as a duplicate of this bug. ***",
    "authour" : "dteller@mozilla.com",
    "created" : "2015-06-02T21:54:05Z"
  }, {
    "text" : "(In reply to Ricardo from comment #12)\n> Is this targeted for 39? It would be nice to have it fixed also for 38 or\n> 38.0.5.\n\nThat's right, this fix will be in Firefox 39. Firefox 38.0.5 was already released today as far as I know",
    "authour" : "vladan.bugzilla@gmail.com",
    "created" : "2015-06-02T22:35:01Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-27T03:22:52Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T18:34:58Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T18:34:58Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vladan.bugzilla@gmail.com",
      "date" : "2015-02-04T23:08:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dao@mozilla.com, jmathies@mozilla.com"
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-05T12:38:13Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "regression"
    }, {
      "name" : "nayinain@gmail.com",
      "date" : "2015-02-10T05:48:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nayinain@gmail.com"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-23T22:13:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mhammond@mozilla.com"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-25T05:08:37Z",
      "what" : "attachments.isobsolete:8567797",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-25T05:08:37Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mhammond@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T18:34:58Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T18:34:58Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-27 10:34:58"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-27T18:34:58Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-27T19:58:25Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-27T19:58:25Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "39.1 - 9 Mar"
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-28T00:26:32Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "1"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-03-02T09:48:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "dkl@mozilla.com",
      "date" : "2015-04-13T22:48:38Z",
      "what" : "version",
      "removed" : "Firefox 38",
      "added" : "38 Branch"
    }, {
      "name" : "anjo1077@gmail.com",
      "date" : "2015-05-12T00:16:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "anjo1077@gmail.com"
    }, {
      "name" : "ric.valechat@gmail.com",
      "date" : "2015-06-02T21:45:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ric.valechat@gmail.com"
    }, {
      "name" : "dteller@mozilla.com",
      "date" : "2015-06-02T21:53:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "catalin.varga@softvision.ro"
    }, {
      "name" : "dteller@mozilla.com",
      "date" : "2015-06-02T21:54:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mvocom@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "vladan.bugzilla@gmail.com",
      "date" : "2015-02-04T23:08:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vladan.bugzilla@gmail.com",
      "date" : "2015-02-04T23:09:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-05T12:38:13Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(tellrob@gmail.com), needinfo?(jmathies@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-23T07:26:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567797,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jmathies@mozilla.com",
      "date" : "2015-02-24T16:21:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jmathies@mozilla.com)",
      "added" : "",
      "attachmentId" : 8567797,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-25T05:08:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568964,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-27T19:58:25Z",
      "what" : "flagtypes.name",
      "removed" : "firefox-backlog?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "markh@mozilla.com",
      "date" : "2015-02-28T00:26:32Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mhammond@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-03-02T09:48:26Z",
      "what" : "flagtypes.name",
      "removed" : "qe-verify?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127577,
  "cclist" : [ "anjo1077@gmail.com", "catalin.varga@softvision.ro", "dao+bmo@mozilla.com", "florin.mezei@softvisioninc.eu", "jmathies@mozilla.com", "markh@mozilla.com", "mmucci@mozilla.com", "mvocom@gmail.com", "nayinain@gmail.com", "ric.valechat@gmail.com", "tellrob@gmail.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "When I use the 'H' key to hide an element in the DOM, the markup view should grey it out",
  "reporter" : "jgriffiths@mozilla.com",
  "assigned" : "mobyvb@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "P3",
  "duplicateOf" : null,
  "severity" : "enhancement",
  "description" : "Created attachment 8556734\nCodePen_-_Explode_rhombic_dodecahedron_into_its_first_stellation__pure_CSS_2.png\n\nIf I'm working with a bunch of elements, sometimes I want to use the h key shortcut to hide a bunch of them, to focus on just on one. When I'm looking at the markup view, it would be much nicer to look at if the elements that are hidden are also faded out visually. \n\nSide note - I think the dark theme has regressed, in bug 911209 I thought we'd handled this better in the dark theme, but if you look at the screenshot I can't distinguish between an element marked display:none and other elements, see the second screenshot.",
  "comments" : [ {
    "text" : "Created attachment 8556734\nCodePen_-_Explode_rhombic_dodecahedron_into_its_first_stellation__pure_CSS_2.png\n\nIf I'm working with a bunch of elements, sometimes I want to use the h key shortcut to hide a bunch of them, to focus on just on one. When I'm looking at the markup view, it would be much nicer to look at if the elements that are hidden are also faded out visually. \n\nSide note - I think the dark theme has regressed, in bug 911209 I thought we'd handled this better in the dark theme, but if you look at the screenshot I can't distinguish between an element marked display:none and other elements, see the second screenshot.",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-01-29T22:48:19Z"
  }, {
    "text" : "You're right, the elements aren't faded out visually.\nI investigated a little bit and it turns out that what the H key does is hide the element by applying \"visibility:hidden\". This property doesn't cause a reflow, and listening to reflows is the mechanism we use to detect when nodes should be faded out or not.\nIn fact, if you open the inspector then, using the rule-view, add \"visibility:hidden\" to a node, you'll see it does not appear faded out either.\n\nSo it's not a problem with the way the H shortcut works, but with the fact that right now, we only fade out nodes that aren't rendered at all (nodes that don't have any corresponding frames). Nodes that have their visibility set to hidden are still rendered, although not visible.\n\nSo, we could :\n- change the way H works by applying display:none instead, but that would impact the page layout,\n- or also fade out visibility:hidden nodes, but that's not a simple task. I'm not aware of any notification we could use to be alerted of dynamic visibility changes, and polling would be a bad idea.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T07:40:43Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #1)\n\n> So, we could :\n> - change the way H works by applying display:none instead, but that would\n> impact the page layout,\n\nThis is a non-starter, the feature is useless unless we maintain the layout.\n\n> - or also fade out visibility:hidden nodes, but that's not a simple task.\n> I'm not aware of any notification we could use to be alerted of dynamic\n> visibility changes, and polling would be a bad idea.\n\nLet's consider this a nice-to-have. The user experience currently is workable but IMO not great, because only some kinds of invisible elements are visually indicated by the fading.\n\nThe H key was really, really useful for working with Ana's demo fyi, so I could isolate only one of the shapes and then display how tweaking the bezier curve affected that item's animation. The not-so-great thing is in the markup view, tracking which element is not hidden in a big list of hidden ones. having a face would be nicer on the eyes.\n\nIt sounds to me like what we want is an event whenever something becomes 'invisible', eg display:none, visibility:hidden, or opacity set to zero ( or below a certain threshold? ) - this would be more direct than listening for reflows? I assume this involves graphics layer work and therefore either implies the shaving of many yaks or the invention of cold fusion to get working.",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-02-02T22:28:04Z"
  }, {
    "text" : "Inspector bug triage. Filter on CLIMBING SHOES.",
    "authour" : "jdescottes@mozilla.com",
    "created" : "2016-04-14T20:15:30Z"
  }, {
    "text" : "Created attachment 8741493\nbug1127572.proto.patch\n\nI was just quickly looking at this, and I have a small patch that updates the display status on markupmutation (and also checks node.hidden on top of node.isDisplayed of course).\n\nSeems to work, worth cleaning up in your opinion?",
    "authour" : "jdescottes@mozilla.com",
    "created" : "2016-04-14T20:16:50Z"
  }, {
    "text" : "Comment on attachment 8741493\nbug1127572.proto.patch\n\nReview of attachment 8741493:\n-----------------------------------------------------------------\n\nSure, that'd be nice. Worth adding/modifying a test for it too.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2016-04-15T10:22:14Z"
  }, {
    "text" : "Created attachment 8756095\nhide-shortcut.patch\n\nI'd like to take this bug. Could you have a look?",
    "authour" : "mobyvb@gmail.com",
    "created" : "2016-05-25T05:40:13Z"
  }, {
    "text" : "Try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=5f8c1b6e9375",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-05-25T05:45:06Z"
  }, {
    "text" : "Comment on attachment 8756095\nhide-shortcut.patch\n\nReview of attachment 8756095:\n-----------------------------------------------------------------\n\nThanks for the patch moby! \n\nThis looks very good, I just have a few naming nits and a comment.\nI don't think this needs another round of review though (unless you would like to discuss something).\n\n::: devtools/client/inspector/markup/markup.js\n@@ +966,5 @@\n>          // we're not viewing.\n>          continue;\n>        }\n> +\n> +      container.refreshDisplay();\n\nWe should only call refreshDisplay if the mutation might have an impact on the \"displayed\" status. \n\nIf the display (or an ancestor's display) changed, this will be handled by _onDisplayChange.\n\nHere the only mutation of interest should come from a className modification, which means a mutation of type \"attributes\".\n\n@@ +1901,5 @@\n>      return false;\n>    },\n>  \n>    /**\n>     * Show the element has displayed or not.\n\nnit: Let's update the comment to explain which nodes are rendered as \"displayed\".\n\n@@ +1903,5 @@\n>  \n>    /**\n>     * Show the element has displayed or not.\n>     */\n> +  refreshDisplay: function() {\n\nnit: Please add a space before parens. We use eslint to check our syntax. You can check out https://wiki.mozilla.org/DevTools/CodingStandards to see how to setup and run eslint.\n\nFor consistency, we already have several update* methods in the container (update, updateExpander, updateLevel). Maybe reuse this naming convention here?\n\n::: devtools/client/inspector/markup/test/browser_markup_node_not_displayed_01.js\n@@ +18,5 @@\n>    {selector: \"head\", isDisplayed: false},\n>    {selector: \"#display-none\", isDisplayed: false},\n>    {selector: \"#hidden-true\", isDisplayed: false},\n> +  {selector: \"#visibility-hidden\", isDisplayed: true},\n> +  {selector: \"#hidden-via-class\", isDisplayed: false},\n\nnit: \"hidden-via-class\" could be misleading because this only works with the classname used when pressing 'H'.\n\nMaybe \"#hide-shortcut\" or \"#hidden-via-hide-shortcut\" ?",
    "authour" : "jdescottes@mozilla.com",
    "created" : "2016-05-25T16:53:52Z"
  }, {
    "text" : "> We should only call refreshDisplay if the mutation might have an impact on the \"displayed\" status. \n> If the display (or an ancestor's display) changed, this will be handled by _onDisplayChange.\n> Here the only mutation of interest should come from a className modification, which means a mutation of type \"attributes\".\n\nWe still need to call refreshDisplay when the __fx-devtools-hide-shortcut__ class is added to an element, because in that case the element should still be faded in the markup view, but its display CSS attribute was not modified. I could change refreshDisplay to updateIsFaded or something if you want, so its purpose is less ambiguous.",
    "authour" : "mobyvb@gmail.com",
    "created" : "2016-05-25T17:34:51Z"
  }, {
    "text" : "(In reply to Maximillian von Briesen [:moby] from comment #9)\n> > We should only call refreshDisplay if the mutation might have an impact on the \"displayed\" status. \n> > If the display (or an ancestor's display) changed, this will be handled by _onDisplayChange.\n> > Here the only mutation of interest should come from a className modification, which means a mutation of type \"attributes\".\n> \n> We still need to call refreshDisplay when the __fx-devtools-hide-shortcut__\n> class is added to an element, because in that case the element should still\n> be faded in the markup view, but its display CSS attribute was not modified.\n> I could change refreshDisplay to updateIsFaded or something if you want, so\n> its purpose is less ambiguous.\n\nMy reading of the review was that the call to refreshDisplay should only happen if the type of the mutation was \"attributes\" (since there are other mutations in which the display won't be changed like \"characterData\", \"pseudoClassLock\", etc).",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-05-25T17:51:04Z"
  }, {
    "text" : "Sorry about the unclear comments, I should really go straight to the point.\nBrian is right, I meant that \"refreshDisplay\" should only be called when the mutation is of type \"attributes\".\n\n(In reply to Maximillian von Briesen [:moby] from comment #9)\n> \n> I could change refreshDisplay to updateIsFaded or something if you want, so\n> its purpose is less ambiguous.\n\nI think it would be good. \n\"refreshDisplay\" can easily be misinterpreted, and as I said in another comment we already have \"update\" methods in this class.",
    "authour" : "jdescottes@mozilla.com",
    "created" : "2016-05-25T18:10:58Z"
  }, {
    "text" : "Created attachment 8756462\nhide-shortcut.patch",
    "authour" : "mobyvb@gmail.com",
    "created" : "2016-05-25T18:12:18Z"
  }, {
    "text" : "Try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=41dd4262a859",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-05-25T18:15:08Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/4f75d0cc90d1",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-05-26T03:48:41Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/4f75d0cc90d1",
    "authour" : "ryanvm@gmail.com",
    "created" : "2016-05-26T15:27:33Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2016-05-25T05:40:57Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-05-26T15:27:33Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-05-26T15:27:33Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-30T07:40:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-04-14T20:15:30Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P3"
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-04-14T20:15:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jdescottes@mozilla.com"
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-04-14T20:15:30Z",
      "what" : "severity",
      "removed" : "normal",
      "added" : "enhancement"
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-04-18T06:18:06Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug]"
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-04-18T06:18:06Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "jdescottes@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2016-05-25T05:40:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2016-05-25T05:40:57Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mvonbriesen@mozilla.com"
    }, {
      "name" : "mobyvb@gmail.com",
      "date" : "2016-05-25T18:12:40Z",
      "what" : "attachments.isobsolete:8756095",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mobyvb@gmail.com",
      "date" : "2016-05-25T21:08:16Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2016-05-26T03:48:41Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-05-26T15:27:33Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 49"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-05-26T15:27:33Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-05-26 15:27:33"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-05-26T15:27:33Z",
      "what" : "cf_status_firefox49",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-04-14T20:16:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8741493,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2016-04-15T10:22:14Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8741493,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mobyvb@gmail.com",
      "date" : "2016-05-25T05:40:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8756095,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-05-25T16:53:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jdescottes@mozilla.com)",
      "added" : "",
      "attachmentId" : 8756095,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mobyvb@gmail.com",
      "date" : "2016-05-25T18:12:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8756462,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127572,
  "cclist" : [ "bgrinstead@mozilla.com", "jdescottes@mozilla.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Sync",
  "summary" : "Show the Firefox Account profile image when signed in to Sync",
  "reporter" : "rfeeley@mozilla.com",
  "assigned" : "zack.carter@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "When the user has a Firefox Account profile image set, it should appear in the in-content preferences beside the username and replace the Sync icon in the toolbar menu.",
  "comments" : [ {
    "text" : "When the user has a Firefox Account profile image set, it should appear in the in-content preferences beside the username and replace the Sync icon in the toolbar menu.",
    "authour" : "rfeeley@mozilla.com",
    "created" : "2015-01-29T21:57:28Z"
  }, {
    "text" : "We now show the user's FxA avatar in the Sync pref pane!",
    "authour" : "ckarlof@mozilla.com",
    "created" : "2015-07-02T21:48:23Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ckarlof@mozilla.com",
      "date" : "2015-07-02T21:48:23Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ckarlof@mozilla.com",
      "date" : "2015-07-02T21:48:23Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-02-03T19:04:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1127638"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-02-03T19:46:54Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1129086"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-03-02T19:23:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1138590"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-03-04T23:13:17Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1139657"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-03-04T23:55:29Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1139677"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-03-05T00:46:10Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1139698"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-03-24T18:04:59Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1147047"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-05-15T18:30:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1165413"
    }, {
      "name" : "zack.carter@gmail.com",
      "date" : "2015-05-20T21:34:07Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1150344"
    }, {
      "name" : "edwong@mozilla.com",
      "date" : "2015-06-03T23:42:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "edwong@mozilla.com"
    }, {
      "name" : "edwong@mozilla.com",
      "date" : "2015-06-03T23:42:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1171253"
    }, {
      "name" : "wmaggs@mozilla.com",
      "date" : "2015-06-16T22:56:11Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P1"
    }, {
      "name" : "wmaggs@mozilla.com",
      "date" : "2015-06-16T22:56:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wmaggs@mozilla.com"
    }, {
      "name" : "ckarlof@mozilla.com",
      "date" : "2015-07-02T21:46:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ckarlof@mozilla.com"
    }, {
      "name" : "ckarlof@mozilla.com",
      "date" : "2015-07-02T21:46:47Z",
      "what" : "depends_on",
      "removed" : "1139698, 1150344",
      "added" : ""
    }, {
      "name" : "ckarlof@mozilla.com",
      "date" : "2015-07-02T21:48:23Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-07-02 14:48:23"
    }, {
      "name" : "edwong@mozilla.com",
      "date" : "2015-07-09T21:21:10Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1182288"
    }, {
      "name" : "edwong@mozilla.com",
      "date" : "2015-07-09T21:27:47Z",
      "what" : "cf_rank",
      "removed" : "",
      "added" : "15"
    }, {
      "name" : "edwong@mozilla.com",
      "date" : "2015-07-17T21:16:12Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fxsync]"
    }, {
      "name" : "edwong@mozilla.com",
      "date" : "2015-07-17T21:19:07Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "42.1 - Jul 13"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1127540,
  "cclist" : [ "ckarlof@mozilla.com", "edwong@mozilla.com", "wmaggs@mozilla.com" ]
}, {
  "component" : "Screen Sharing Whitelist",
  "summary" : "Removal of screensharing whitelist",
  "reporter" : "martin.thomson@gmail.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This reason the screensharing whitelist exists is the risk to the integrity of unrelated sites.  In many ways, it gives a site access to something that only an add-on can get.  So sharing Firefox is the baby brother of installing an add-on.  The risk of sharing other applications is far more manageable.\n\nWhat I would like to see from the Firefox screensharing UX is the following:\n\n1 - Firefox doesn't appear in the list by default\n2 - Whole-desktop sharing doesn't appear in the list by default (it might contain a Firefox window)\n3 - There is some special process for users to signal to Firefox that they want to share Firefox\n4 - There is some way for a user to discover the above process when they are presented with the screen sharing doorhanger; the same discovery process is probably necessary to explain why Firefox isn't on the list\n\nPlatform needs to help here by providing a way to filter Firefox from the list of windows based on whether this special signal has been created by the user.\n\nDoing just 1&2 alone removes a lot of the incentive to use the whitelist, but until we have 3&4, there is probably a case for retaining the list, solely for access to sharing Firefox.",
  "comments" : [ {
    "text" : "This reason the screensharing whitelist exists is the risk to the integrity of unrelated sites.  In many ways, it gives a site access to something that only an add-on can get.  So sharing Firefox is the baby brother of installing an add-on.  The risk of sharing other applications is far more manageable.\n\nWhat I would like to see from the Firefox screensharing UX is the following:\n\n1 - Firefox doesn't appear in the list by default\n2 - Whole-desktop sharing doesn't appear in the list by default (it might contain a Firefox window)\n3 - There is some special process for users to signal to Firefox that they want to share Firefox\n4 - There is some way for a user to discover the above process when they are presented with the screen sharing doorhanger; the same discovery process is probably necessary to explain why Firefox isn't on the list\n\nPlatform needs to help here by providing a way to filter Firefox from the list of windows based on whether this special signal has been created by the user.\n\nDoing just 1&2 alone removes a lot of the incentive to use the whitelist, but until we have 3&4, there is probably a case for retaining the list, solely for access to sharing Firefox.",
    "authour" : "martin.thomson@gmail.com",
    "created" : "2015-01-29T21:24:29Z"
  }, {
    "text" : "*** Bug 1153998 has been marked as a duplicate of this bug. ***",
    "authour" : "sescalante@mozilla.com",
    "created" : "2015-05-06T20:07:43Z"
  }, {
    "text" : "*** Bug 1153998 has been marked as a duplicate of this bug. ***",
    "authour" : "sescalante@mozilla.com",
    "created" : "2015-05-06T20:15:44Z"
  }, {
    "text" : "Trying to understand: a whitelist would still required to allow users to share their browser? What would be the flow for an informed user who wishes to share their entire desktop?",
    "authour" : "thepotch@gmail.com",
    "created" : "2015-06-19T19:46:10Z"
  }, {
    "text" : "It's been 8 months without resolution here. I understand the security risks, but I worry we're seeing a closed whitelist as \"good enough\" for the time being.",
    "authour" : "thepotch@gmail.com",
    "created" : "2015-09-23T17:18:32Z"
  }, {
    "text" : "I share that concern.  I believe that the resolution is blocked on UX resources.  I will re-raise this with the security team, who are working with UX on new permissions flows.",
    "authour" : "martin.thomson@gmail.com",
    "created" : "2015-09-23T17:26:21Z"
  }, {
    "text" : "In the mean time is it possible for you guys to approve some of the white listing requests that are currently requested? I raised Bug 1201832 for whitelisting of our service www.circuit.com about a month ago. I don't want to have to delay firefox support because we don't have this in place.",
    "authour" : "paul.maddison@unify.com",
    "created" : "2015-09-29T16:53:45Z"
  }, {
    "text" : "Does anyone own the Screen Sharing Whitelist component? There are about 20 unconfirmed bugs [1], all of which appear to have come from the Bugzilla template [2] provided on the Mozilla wiki [3] (and possibly elsewhere).\n\n[1] https://bugzilla.mozilla.org/buglist.cgi?component=Screen%20Sharing%20Whitelist&product=Firefox&bug_status=__open__\n[2] https://bugzilla.mozilla.org/form.screen.share.whitelist\n[3] https://wiki.mozilla.org/Screensharing",
    "authour" : "scott@zerosleeps.com",
    "created" : "2016-03-26T09:01:29Z"
  }, {
    "text" : "Since this is still open, could someone take a look a our whitelisting request, too? We're eager to get FF support implemented, and happy to answer any questions you may have. Here's the ticket: https://bugzilla.mozilla.org/show_bug.cgi?id=1240199.",
    "authour" : "sara@dialpad.com",
    "created" : "2016-04-04T16:00:46Z"
  }, {
    "text" : "Hi there -- bumping this thread again to see if someone can review our whitelist request? Would be much appreciated!\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1240199",
    "authour" : "sara@dialpad.com",
    "created" : "2016-05-05T18:41:47Z"
  }, {
    "text" : "I strongly urge you to not approve any more whitelist-addition requests. Every single entry in the whitelist is a punch in the face of the open web and creates the next walled garden after privileged app in Firefox OS.",
    "authour" : "paul.leo.steinberg@gmail.com",
    "created" : "2016-05-06T19:30:48Z"
  }, {
    "text" : "(In reply to paul.leo.steinberg from comment #10)\n> I strongly urge you to not approve any more whitelist-addition requests.\n> Every single entry in the whitelist is a punch in the face of the open web\n> and creates the next walled garden after privileged app in Firefox OS.\n\nAs much as I'd prefer not to have a whitelist, right now it is the only method available to us (having users edit about:config isn't really practical for the average user). We reported bug 1244765 over 5 months ago to whitelist www.groupworld.net, but it is still UNCONFIRMED.",
    "authour" : "davidj@groupboard.com",
    "created" : "2016-07-19T14:44:33Z"
  }, {
    "text" : "FIXED for 52 by the work that went into bugs this depends on.",
    "authour" : "florian@queze.net",
    "created" : "2016-12-18T01:57:07Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2016-12-18T01:57:07Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2016-12-18T01:57:07Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "martin.thomson@gmail.com",
      "date" : "2015-01-29T21:26:42Z",
      "what" : "cc",
      "removed" : "slin@mozilla.com",
      "added" : "sescalante@mozilla.com"
    }, {
      "name" : "martin.thomson@gmail.com",
      "date" : "2015-01-29T21:26:42Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[ux]"
    }, {
      "name" : "martin.thomson@gmail.com",
      "date" : "2015-01-29T21:30:19Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1127526"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-02-26T23:43:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gpiper@mozilla.com, udevi@mozilla.com"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-02-26T23:43:11Z",
      "what" : "component",
      "removed" : "General",
      "added" : "Screen Sharing Whitelist"
    }, {
      "name" : "panterracontacts1@gmail.com",
      "date" : "2015-03-09T21:04:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "panterracontacts1@gmail.com"
    }, {
      "name" : "panterracontacts1@gmail.com",
      "date" : "2015-03-09T21:05:01Z",
      "what" : "cc",
      "removed" : "panterracontacts1@gmail.com",
      "added" : ""
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-05-06T20:07:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "thepotch@gmail.com"
    }, {
      "name" : "thepotch@gmail.com",
      "date" : "2015-06-19T19:49:11Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "DevAdvocacy"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2015-07-08T20:39:50Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=976814"
    }, {
      "name" : "paul.maddison@unify.com",
      "date" : "2015-09-29T16:53:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "paul.maddison@unify.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2016-03-10T18:03:53Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "scott@zerosleeps.com",
      "date" : "2016-03-26T09:01:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "scott@zerosleeps.com"
    }, {
      "name" : "sara@dialpad.com",
      "date" : "2016-04-04T16:00:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sara@dialpad.com"
    }, {
      "name" : "backstage@glowbl.com",
      "date" : "2016-04-06T13:41:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "backstage@glowbl.com"
    }, {
      "name" : "dan.callahan@gmail.com",
      "date" : "2016-05-06T13:20:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dan.callahan@gmail.com"
    }, {
      "name" : "dan.callahan@gmail.com",
      "date" : "2016-05-06T13:20:12Z",
      "what" : "whiteboard",
      "removed" : "[ux]",
      "added" : "[ux][DevRel:P1]"
    }, {
      "name" : "paul.leo.steinberg@gmail.com",
      "date" : "2016-05-06T19:30:48Z",
      "what" : "cc",
      "removed" : "",
      "added" : "paul.leo.steinberg@gmail.com"
    }, {
      "name" : "sescalante@mozilla.com",
      "date" : "2016-06-16T10:24:00Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1280403"
    }, {
      "name" : "martin.thomson@gmail.com",
      "date" : "2016-06-17T20:01:07Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1280702"
    }, {
      "name" : "florian@queze.net",
      "date" : "2016-06-29T10:24:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florian@queze.net"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2016-06-29T16:00:19Z",
      "what" : "whiteboard",
      "removed" : "[ux][DevRel:P1]",
      "added" : "[ux][DevRel:P1][fxprivacy][triage]"
    }, {
      "name" : "florian@queze.net",
      "date" : "2016-07-06T14:58:10Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1284877"
    }, {
      "name" : "florian@queze.net",
      "date" : "2016-07-06T15:00:07Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1284878"
    }, {
      "name" : "ellee@mozilla.com",
      "date" : "2016-07-08T18:36:35Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1284971"
    }, {
      "name" : "davidj@groupboard.com",
      "date" : "2016-07-19T14:44:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "davidj@groupboard.com"
    }, {
      "name" : "elancaster@mozilla.com",
      "date" : "2016-08-02T16:07:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "elancaster@mozilla.com"
    }, {
      "name" : "elancaster@mozilla.com",
      "date" : "2016-08-02T16:07:34Z",
      "what" : "whiteboard",
      "removed" : "[ux][DevRel:P1][fxprivacy][triage]",
      "added" : "[ux][DevRel:P1][fxprivacy][tracking] "
    }, {
      "name" : "wtds.trabalho@gmail.com",
      "date" : "2016-10-18T22:54:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wtds.trabalho@gmail.com"
    }, {
      "name" : "florian@queze.net",
      "date" : "2016-10-27T10:56:27Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1313324"
    }, {
      "name" : "jib@mozilla.com",
      "date" : "2016-11-07T18:02:55Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1315737"
    }, {
      "name" : "florian@queze.net",
      "date" : "2016-12-18T01:57:07Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 52"
    }, {
      "name" : "florian@queze.net",
      "date" : "2016-12-18T01:57:07Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-12-18 01:57:07"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1127522,
  "cclist" : [ "backstage@glowbl.com", "blassey.bugs@lassey.us", "dan.callahan@gmail.com", "davidj@groupboard.com", "elancaster@mozilla.com", "florian@queze.net", "gpiper@mozilla.com", "mreavy@mozilla.com", "past@mozilla.com", "paul.leo.steinberg@gmail.com", "paul.maddison@unify.com", "philipp@mozilla.com", "sara@dialpad.com", "scott@zerosleeps.com", "sescalante@mozilla.com", "thepotch@gmail.com", "udevi@mozilla.com", "wtds.trabalho@gmail.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "FrameNode.prototype.getInfo should be able to parse columns in locations",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T19:53:07Z"
  }, {
    "text" : "Created attachment 8556648\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T20:00:13Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/34b601b2f646",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-03T05:26:49Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/34b601b2f646",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-03T14:03:45Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T20:00:13Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-03T14:03:45Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-03T14:03:45Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T19:53:18Z",
      "what" : "summary",
      "removed" : "FrameNode.prototype should be able to parse columns in locations",
      "added" : "FrameNode.prototype.getInfo should be able to parse columns in locations"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T20:00:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T20:00:13Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-02T22:04:35Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1122639"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-03T05:26:49Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-03T14:03:45Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-03T14:03:45Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-03T14:03:45Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-03 06:03:45"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T20:00:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556648,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-31T16:59:09Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556648,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127487,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "RecordingUtils.getSamplesFromAllocations should include the function name in the frames' location",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Profiler data has js locations as \"funcName (file:line:column)\".",
  "comments" : [ {
    "text" : "Profiler data has js locations as \"funcName (file:line:column)\".",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T19:27:46Z"
  }, {
    "text" : "(In reply to Victor Porof [:vporof][:vp] from comment #0)\n\n... or \"file:line:column\" when there's no function available.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T19:29:18Z"
  }, {
    "text" : "Created attachment 8556626\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T19:30:05Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/a20a539ac610",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-31T15:46:58Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/a20a539ac610",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-02-01T17:22:02Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T19:30:05Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-01T17:22:02Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-01T17:22:02Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T19:30:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T19:30:05Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-31T15:46:58Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-01T17:22:02Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-01T17:22:02Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-01T17:22:02Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-01 09:22:02"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T19:30:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556626,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-31T08:56:56Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556626,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127472,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Framework",
  "summary" : "Queuing requests is slower than sending them one by one via DebuggerClient.request",
  "reporter" : "poirot.alex@gmail.com",
  "assigned" : "jryans@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "It is really not clear why/how it happens to be slower but, it happens to be faster to wait for a request to finish, before piping another one via Debuggerclient APIs.\nIt's not clear mostly because DebuggerClient and DebuggerTransport are already queuing requests in order to send/receive them one by one!!\n\nI identified this slowness while working on bug 1123788, where fetching icons one by one is faster than piling up requests.\n\nHere is a very simple xpcshell test exposing this slowness:\nconst run_test = Test(function*() {\n  initTestDebuggerServer();\n  const connection = DebuggerServer.connectPipe();\n  const client = Async(new DebuggerClient(connection));\n\n  yield client.connect();\n\n  let N = 100;\n\n  let a = new Date().getTime();\n  for(var i = 0; i < N; i++) {\n    let response = yield client.request({\n      to: \"root\",\n      type: \"echo\"\n    });\n  }\n  let s = \"Sequential: \"+(new Date().getTime()-a)+\"\\n\";\n  dump(s);\n\n  let promises = []\n  for(var i = 0; i < N; i++) {\n    promises.push(client.request({\n      to: \"root\",\n      type: \"echo\"\n    }));\n  }\n  yield promise.all(promises)\n         .then(() => {\n          dump(s + \"Parallel: \"+(new Date().getTime()-a)+\"\\n\");\n         });\n\n  yield client.close();\n});\n\n\"Sequential: 170\"\n\"Parallel: 345\"\n\n\nNow, I have no idea where it ends up being slower...",
  "comments" : [ {
    "text" : "It is really not clear why/how it happens to be slower but, it happens to be faster to wait for a request to finish, before piping another one via Debuggerclient APIs.\nIt's not clear mostly because DebuggerClient and DebuggerTransport are already queuing requests in order to send/receive them one by one!!\n\nI identified this slowness while working on bug 1123788, where fetching icons one by one is faster than piling up requests.\n\nHere is a very simple xpcshell test exposing this slowness:\nconst run_test = Test(function*() {\n  initTestDebuggerServer();\n  const connection = DebuggerServer.connectPipe();\n  const client = Async(new DebuggerClient(connection));\n\n  yield client.connect();\n\n  let N = 100;\n\n  let a = new Date().getTime();\n  for(var i = 0; i < N; i++) {\n    let response = yield client.request({\n      to: \"root\",\n      type: \"echo\"\n    });\n  }\n  let s = \"Sequential: \"+(new Date().getTime()-a)+\"\\n\";\n  dump(s);\n\n  let promises = []\n  for(var i = 0; i < N; i++) {\n    promises.push(client.request({\n      to: \"root\",\n      type: \"echo\"\n    }));\n  }\n  yield promise.all(promises)\n         .then(() => {\n          dump(s + \"Parallel: \"+(new Date().getTime()-a)+\"\\n\");\n         });\n\n  yield client.close();\n});\n\n\"Sequential: 170\"\n\"Parallel: 345\"\n\n\nNow, I have no idea where it ends up being slower...",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-01-29T18:12:20Z"
  }, {
    "text" : "There's a bug in your test above.  You forgot to reset the start time after the \"Sequential\" run.\n\nRegardless, the parallel version is still slower, especially as N gets much larger.\n\nI have fix for this, attaching soon.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-29T22:32:52Z"
  }, {
    "text" : "Created attachment 8556738\nMozReview Request: bz://1127435/jryans\n\n/r/3139 - Bug 1127435 - Use separate client queues per actor. r=ochameau\n\nPull down this commit:\n\nhg pull review -r fc46ca9973426e5e1398dc60e5b50046c0bb58d1",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-29T22:55:48Z"
  }, {
    "text" : "We were iterating one giant queue of all requests:\n\n* For each new request\n* After each in flight request completed\n\nThat's quite silly, since we really only queue per actor, not globally.\n\nThe parallel case is now faster (as it should be) for all values of N.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=4c27c9970eab",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-29T22:58:48Z"
  }, {
    "text" : "Comment on attachment 8556738\nMozReview Request: bz://1127435/jryans\n\nThis version is not quite right...  The debugger seems to rely on the implicit total order of requests.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-30T18:31:02Z"
  }, {
    "text" : "Comment on attachment 8556738\nMozReview Request: bz://1127435/jryans\n\n/r/3139 - Bug 1127435 - Use separate client queues per actor. r=ochameau\n\nPull down this commit:\n\nhg pull review -r d8f2c51cb8a58fd73c8d913546edee5903a6885d",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-30T19:04:39Z"
  }, {
    "text" : "Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=36be772afd7b",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-30T19:05:12Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/3139/#review2691\n\nLooks good, but I'm wondering if we have an issue with protocol.js actors and Client classes.\nLooking at the existing code, and the code with this patch, it seems like we have issues when we start queuing requests for these actors/clients.\nI'm not sure this patch makes things worse or just alike, could you check this before landing?\n\n::: toolkit/devtools/client/dbg-client.jsm\n(Diff revision 2)\n> -  _sendRequests: function () {\n> +  _sendOrQueueRequest(request) {\n\nWhat?\\!\nYet another JS syntax :-o\n\n::: toolkit/devtools/client/dbg-client.jsm\n(Diff revision 2)\n>      }\n\nI'm wondering how do things work when we have a protocol.js or a Client class in this.\\_clients (where we return early)?\nIt looks like we are not calling sendRequest/attemptNextRequest in these cases...",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-02-03T15:00:01Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/3139/#review2791\n\nI agree this code is hard to follow, so I can understand why you would be worried!\n\nThe changes here only impact requests that use dbg-client's own queueing system by calling it's |send| method.\n\nprotocol.js fronts don't use[1] this, they call the transport directly.\n\nFor the clients block, this only concerns clients using the \"generic actor event\" support (that you added! :P).  This is to handle one-off events *from* the actor, so there would not be any requests queued in the client.\n\n[1]: https://dxr.mozilla.org/mozilla-central/source/toolkit/devtools/server/protocol.js#1146",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T21:58:24Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/de4682147093",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T22:00:20Z"
  }, {
    "text" : "Wrong link in comment 9, corrected link:\n\nhttps://hg.mozilla.org/integration/fx-team/rev/54414d565677",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T22:05:35Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/54414d565677",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-02-07T16:57:34Z"
  }, {
    "text" : "Comment on attachment 8556738\nMozReview Request: bz://1127435/jryans",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:54Z"
  }, {
    "text" : "Created attachment 8619241\nMozReview Request: Bug 1127435 - Use separate client queues per actor. r=ochameau",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:54Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-29T22:02:34Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:34Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:34Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-29T18:32:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "philipp@bugzilla.kewis.ch",
      "date" : "2015-01-29T18:53:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "philipp@bugzilla.kewis.ch"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-29T22:02:34Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-29T22:55:48Z",
      "what" : "cc",
      "removed" : "",
      "added" : "poirot.alex@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T22:00:20Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T22:00:30Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T22:00:30Z",
      "what" : "op_sys",
      "removed" : "Windows 7",
      "added" : "All"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:34Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:34Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:34Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-07 08:57:34"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-02-07T16:57:34Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:54Z",
      "what" : "attachments.isobsolete:8556738",
      "removed" : "0",
      "added" : "1"
    } ],
    "flagEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-29T22:55:48Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556738,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T18:31:02Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8556738,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-30T19:04:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556738,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-02-03T16:33:49Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8556738,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619241,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127435,
  "cclist" : [ "jryans@gmail.com", "philipp@bugzilla.kewis.ch", "poirot.alex@gmail.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "When selecting an element in markup view, the window gets scrolled horizontally",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "bgrinstead@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "P3",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This is annoying, especially in the Browser Toolbox.  Get into a reasonably nested element and select a child.  The whole viewport shifts to the right.\n\nI think it's because scrollIntoViewIfNeeded [0] scrolls horizontally.  In this case, I don't think that's what we want.\n\n[0]: https://dxr.mozilla.org/mozilla-central/source/toolkit/devtools/LayoutHelpers.jsm#224",
  "comments" : [ {
    "text" : "This is annoying, especially in the Browser Toolbox.  Get into a reasonably nested element and select a child.  The whole viewport shifts to the right.\n\nI think it's because scrollIntoViewIfNeeded [0] scrolls horizontally.  In this case, I don't think that's what we want.\n\n[0]: https://dxr.mozilla.org/mozilla-central/source/toolkit/devtools/LayoutHelpers.jsm#224",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T17:43:32Z"
  }, {
    "text" : "Created attachment 8556550\nbefore.png\n\nBefore selecting a new element",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T17:44:29Z"
  }, {
    "text" : "Created attachment 8556552\nafter.png\n\nAfter selecting a new element.  Notice that the markup view is scrolled way to the right.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T17:45:15Z"
  }, {
    "text" : "Patrick, looks like the markup view is the only place using this function: https://dxr.mozilla.org/mozilla-central/search?q=scrollIntoViewIfNeeded&redirect=true.  I'm inclined to just strip out any horizontal scrolling from this function, as I'm not sure if we ever want this to happen.  What do you think?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T17:48:34Z"
  }, {
    "text" : "This is *very* annoying indeed, it makes it really hard to not loose track of the nodes you're looking at in the browser toolbox.\n\nI agree to just remove the auto horizontal scrolling part.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T07:46:19Z"
  }, {
    "text" : "Created attachment 8558656\nscrollintoview-horizontal-WIP.patch\n\nI was hoping this was going to be a really quick fix, but there are two weird things going on, so I'm just going to stash this WIP here:\n\n1) the horizontal scrolling issue still seems to happen when clicking on the element -- even if I completely comment out scrollIntoViewIfNeeded.  Not that we shouldn't proceed with changing this behavior (it could still help when in element picking mode), but I can't find any code in the markup view that is causing this scrolling to happen.\n2) Some of the assertions in the existing test simply never run right now, and when you make them run, they fail: https://dxr.mozilla.org/mozilla-central/source/browser/devtools/shared/test/browser_layoutHelpers.js#89.  It's waiting for a load event on an iframe, but never yielding for it, and also doesn't handle the case where the frame has already loaded when this happens.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T19:20:22Z"
  }, {
    "text" : "Setting devedition-40 bugs to p3, filter on FB20EAC4-3FC3-48D9-B15F-0587C3987C25",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-04-08T22:53:21Z"
  }, {
    "text" : "Created attachment 8603621\nscrollintoview.patch\n\nHi Ryan, I would request review from Patrick but his queue is very big right now.  This is just a change to a shared/ utility for scrolling into view.  I believe this used to be used for the highlighter before it was remoted so it handled lots of extra stuff (horizontal scrolling, iframes).  But now it's only used client side in the toolbox and we don't need this functionality.\n\nI guess you could make a case that some day we will want this back, but in the meantime I think it's best to just remove the code.  I've done this and updated the test (which wasn't actually testing a lot before hand).  Try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=25b5efd0498f.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-08T23:06:49Z"
  }, {
    "text" : "Comment on attachment 8603621\nscrollintoview.patch\n\nReview of attachment 8603621:\n-----------------------------------------------------------------\n\n::: toolkit/devtools/LayoutHelpers.jsm\n@@ +214,5 @@\n>      }\n>      return node;\n>    },\n>  \n> +  /**`\n\nNit: remove `",
    "authour" : "jryans@gmail.com",
    "created" : "2015-05-08T23:42:44Z"
  }, {
    "text" : "Created attachment 8603649\nscrollintoview-r=jryans.patch\n\nThanks for the review",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-08T23:59:51Z"
  }, {
    "text" : "Created attachment 8603684\nscrollintoview-r=jryans.patch\n\nHad to do some rounding on the test for off by .5px errors on various platforms.  New try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=673e051bbfef",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-09T02:25:23Z"
  }, {
    "text" : "There's some orange on the try push, but it all looks unrelated",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-09T03:16:10Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/fx-team/rev/f407ab8f7129",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-09T03:42:05Z"
  }, {
    "text" : "Backed this out over suspicion of causing test failures on browser/devtools/shared/test/browser_mdn-docs-01.js like https://treeherder.mozilla.org/#/jobs?repo=fx-team&revision=f407ab8f7129\n\nhttps://hg.mozilla.org/integration/fx-team/rev/aa4eac3a4336",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-09T05:43:32Z"
  }, {
    "text" : "Created attachment 8603734\nscrollintoview-r=jryans.patch\n\nJust had to load the test content in a host instead of a tab.  As a bonus this also should also fix any CPOW warnings the test was throwing.\n\nTry push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=93e2c70ffe85",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-05-09T15:51:40Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/0a10db771035",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-05-10T02:57:15Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0a10db771035",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-05-10T15:49:58Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:06:49Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-10T15:49:58Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-10T15:49:58Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T17:43:52Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "831711"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T17:48:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:58:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-07T16:58:34Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[devedition-40]"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-04-08T15:46:26Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40]",
      "added" : "[devedition-40][difficulty=easy]"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-08T22:53:21Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P3"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T22:45:08Z",
      "what" : "summary",
      "removed" : "When selecting an element in markup view, the window gets scrolled to the horizontally",
      "added" : "When selecting an element in markup view, the window gets scrolled horizontally"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:06:49Z",
      "what" : "attachments.isobsolete:8558656",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:06:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:06:49Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:59:51Z",
      "what" : "attachments.isobsolete:8603621",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T02:25:23Z",
      "what" : "attachments.isobsolete:8603649",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T03:16:10Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T03:42:05Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T03:42:05Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40][difficulty=easy]",
      "added" : "[fixed-in-fx-team][devedition-40][difficulty=easy]"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T05:43:32Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team][devedition-40][difficulty=easy]",
      "added" : "[devedition-40][difficulty=easy]"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T15:51:40Z",
      "what" : "attachments.isobsolete:8603684",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T15:52:09Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-05-10T02:57:15Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-10T15:49:58Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-10T15:49:58Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-05-10 08:49:58"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-05-10T15:49:58Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-07-25T05:43:53Z",
      "what" : "whiteboard",
      "removed" : "[devedition-40][difficulty=easy]",
      "added" : "[polish-backlog][difficulty=easy]"
    } ],
    "flagEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T17:48:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-30T07:46:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:06:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8603621,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-05-08T23:42:44Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8603621,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-08T23:59:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8603649,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-05-09T15:51:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8603734,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127423,
  "cclist" : [ "jgriffiths@mozilla.com", "jryans@gmail.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "Replace hardcoded \"\" with internationalized version in markup view",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "choudharyvaibhav132@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "See \"XXX: internationalize the elliding\" at https://dxr.mozilla.org/mozilla-central/source/browser/devtools/markupview/markup-view.js#2075.\n\nWe just need to replace this character with:\n\nServices.prefs.getComplexValue(\"intl.ellipsis\", Ci.nsIPrefLocalizedString).data",
  "comments" : [ {
    "text" : "See \"XXX: internationalize the elliding\" at https://dxr.mozilla.org/mozilla-central/source/browser/devtools/markupview/markup-view.js#2075.\n\nWe just need to replace this character with:\n\nServices.prefs.getComplexValue(\"intl.ellipsis\", Ci.nsIPrefLocalizedString).data",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T17:32:48Z"
  }, {
    "text" : ":Brain i would really like to work on this bug.I m new to open source and i think this can help me to further venture in open source world.",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-29T19:32:47Z"
  }, {
    "text" : "(In reply to vaibhav from comment #1)\n> :Brain i would really like to work on this bug.I m new to open source and i\n> think this can help me to further venture in open source world.\n\nHello, to get started first take a look at https://wiki.mozilla.org/DevTools/GetInvolved for some information and resources about working on DevTools.\n\nOnce you are ready to start pulling down the code, follow the instructions at https://wiki.mozilla.org/DevTools/Hacking#First_Build.  Feel free to hop onto the #devtools IRC channel and ask if you have any issues getting started up.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T19:51:33Z"
  }, {
    "text" : "Once you get a build running, the patch itself should be pretty simple.  The hard part is going to be getting your development environment set up and then learning how to build and submit a patch: https://developer.mozilla.org/en-US/docs/Mercurial_FAQ#How_can_I_generate_a_patch_for_somebody_else_to_check-in_for_me.3F.\n\n\nWe will just need a line like this near the top of the file with any other consts:\n\nconst ELLIPSIS = Services.prefs.getComplexValue(\"intl.ellipsis\", Ci.nsIPrefLocalizedString).data;\n\nAnd then just replace the hardcoded \"\" with ELLIPSIS.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T19:54:12Z"
  }, {
    "text" : "Created attachment 8557262\nbug1127417_InternationalizedMarkup.diff",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T19:44:37Z"
  }, {
    "text" : "Brian ,would greatly appriciate if u can review the patch and let me know if there are any problems with it.",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T19:46:29Z"
  }, {
    "text" : "Brain ,do i have to do anything else regarding this patch ?",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T19:50:00Z"
  }, {
    "text" : "Comment on attachment 8557262\nbug1127417_InternationalizedMarkup.diff\n\nReview of attachment 8557262:\n-----------------------------------------------------------------\n\nThis isn't quite right (see inline comments for what needs to change).  You can test your changes on a page like: http://jsbin.com/yubaniseze/1.  Inspect the div with the really long text content and expand it in the markup view - you should see the ellipses in this case.\n\n::: browser/devtools/markupview/markup-view.js\n@@ +2072,5 @@\n>  \n>    update: function() {\n>      if (!this.selected || !this.node.incompleteValue) {\n>        let text = this.node.shortValue;\n> +      Services.prefs.getComplexValue(\"intl.ellipsis\", Ci.nsIPrefLocalizedString).data;\n\nRemove this line altogether\n\n@@ +2077,2 @@\n>        if (this.node.incompleteValue) {\n>          text += \"\";\n\nYou need to replace the \"\" here with ELLIPSIS, and just remove the line with the comment.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-30T19:53:01Z"
  }, {
    "text" : "sorry for check-in ...will changing code right now ..",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T19:54:56Z"
  }, {
    "text" : "brian ,can you please explain what do you mean by \"nspect the div with the really long text content and expand it in the markup view\".",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T20:06:18Z"
  }, {
    "text" : "(In reply to vaibhav [:vaibhavChoudhary] from comment #9)\n> brian ,can you please explain what do you mean by \"nspect the div with the\n> really long text content and expand it in the markup view\".\n\nOpen this in a tab: http://jsbin.com/yubaniseze/1.  Then right click on the text and say Inspect Element.  Notice that a <div> gets highlighted in the markup view.  Now expand this div in devtools by clicking on the triangle to the left of it.  See the \"...\" at the end of it and how it cuts off the text of the element?  This is the string that we want to update.\n\nSo you can test that you are changing the right thing by modifying that string to something else and see if it is reflected in your build.  Once you know you are changing the right thing, just swap it out with ELLIPSIS.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-30T20:13:31Z"
  }, {
    "text" : "Brian,Thanx",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T20:15:55Z"
  }, {
    "text" : "Created attachment 8557308\nrev1 : modified and tested",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-30T20:38:15Z"
  }, {
    "text" : "Comment on attachment 8557308\nrev1 : modified and tested\n\nReview of attachment 8557308:\n-----------------------------------------------------------------\n\n::: browser/devtools/markupview/markup-view.js\n@@ +2076,2 @@\n>        if (this.node.incompleteValue) {\n> +        text = ELLIPSIS;\n\nThis should remain += so we don't end up overwriting the actual text",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-30T21:13:35Z"
  }, {
    "text" : "Created attachment 8557462\nrev_2  += added\n\nbrian ,i added the \"+=\" sign there but if you notice problem still persists. check the rev1 after changing \"+=\" to \"=\" whole text appear as \"..\" and on click it expands.but with rev2 which is this current patch the small section of text appears with \"..\" .I would really appriciate if u can explain this to me.",
    "authour" : "choudharyvaibhav132@gmail.com",
    "created" : "2015-01-31T11:39:29Z"
  }, {
    "text" : "(In reply to vaibhav [:vaibhavChoudhary] from comment #14)\n> after changing \"+=\" to \"=\" whole text appear as \"..\" and on\n> click it expands.but with rev2 which is this current patch the small section\n> of text appears with \"..\" .I would really appriciate if u can explain this\n> to me.\n\nThis is the expected behavior :).  The patch looks good, pushed it to the test servers: https://treeherder.mozilla.org/#/jobs?repo=try&revision=fb42294b4353",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T18:29:10Z"
  }, {
    "text" : "Comment on attachment 8557462\nrev_2  += added\n\nReview of attachment 8557462:\n-----------------------------------------------------------------\n\nLooks good to me",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T18:30:20Z"
  }, {
    "text" : "Pushed to fxteam: https://hg.mozilla.org/integration/fx-team/rev/2098158a0374",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-03T18:33:14Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2098158a0374",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-04T13:54:30Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T19:47:08Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:30Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:30Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T17:33:13Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug][lang=js]"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T17:33:13Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-29T19:32:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "choudharyvaibhav132@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-29T19:37:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-30T19:44:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T19:47:08Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "choudharyvaibhav132@gmail.com"
    }, {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-30T19:53:48Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T19:57:11Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-30T20:38:15Z",
      "what" : "attachments.isobsolete:8557262",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T18:29:33Z",
      "what" : "attachments.isobsolete:8557308",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T18:33:14Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=js]",
      "added" : "[fixed-in-fx-team][good first bug][lang=js]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:30Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:30Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team][good first bug][lang=js]",
      "added" : "[good first bug][lang=js]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:54:30Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-04 05:54:30"
    } ],
    "flagEvents" : [ {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-30T19:44:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557262,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T19:53:01Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557262,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-30T20:38:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557308,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T21:13:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557308,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "choudharyvaibhav132@gmail.com",
      "date" : "2015-01-31T11:39:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557462,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-03T18:30:20Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557462,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127417,
  "cclist" : [ "bgrinstead@mozilla.com", "choudharyvaibhav132@gmail.com", "jryans@gmail.com" ]
}, {
  "component" : "Tabbed Browser",
  "summary" : "Cannot close single tab after choosing to remain on page (from onbeforeunload dialog)",
  "reporter" : "florin.mezei@softvisioninc.eu",
  "assigned" : "gijskruitbosch+bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Reproducible with: \n- Firefox 38 Nightly latest - BuildID: 20150128101733\n\nNOT Reproducible with:\n- Firefox 35.0.1\n- Firefox 36 Beta latest\n- Firefox 37 Aurora latest\n\nReproducible on: Windows 7 x64, Mac OS X 10.9.5, Ubuntu 12.04 x86\n\nSteps to reproduce:\n1. Open Firefox and go to http://dolske.net/mozilla/tests/prompt/onbeforeunload.html (make sure it's the only tab).\n2. Chose to close the tab (click \"x\" or Ctrl+W).\n3. In the prompt that appears click \"Stay on Page\".\n4. After the dialog is dismissed, attempt to once again close the tab (click \"x\" or Ctrl+W).\n\nExpected results:\nThe onbeforeunload dialog should once again display asking whether to leave or remain on the page.\n\nActual results:\nNothing happens.\n\nNotes:\n- this scenario used to work for previous versions (where bug 305085 is not yet fixed). However, there was a variation of this scenario where this issue was showing also for older versions: prior to the fix for 305085, in the scenario above we display the dialog 2 times, and if you click \"Leave\" and then \"Stay\" on the second prompt, then this bug also reproduces there.\n- choosing to close the window still works as expected, as the dialog displays and works correctly\n- trying this scenario with more tabs works fine... it's just the one remaining tab that causes this issue",
  "comments" : [ {
    "text" : "Reproducible with: \n- Firefox 38 Nightly latest - BuildID: 20150128101733\n\nNOT Reproducible with:\n- Firefox 35.0.1\n- Firefox 36 Beta latest\n- Firefox 37 Aurora latest\n\nReproducible on: Windows 7 x64, Mac OS X 10.9.5, Ubuntu 12.04 x86\n\nSteps to reproduce:\n1. Open Firefox and go to http://dolske.net/mozilla/tests/prompt/onbeforeunload.html (make sure it's the only tab).\n2. Chose to close the tab (click \"x\" or Ctrl+W).\n3. In the prompt that appears click \"Stay on Page\".\n4. After the dialog is dismissed, attempt to once again close the tab (click \"x\" or Ctrl+W).\n\nExpected results:\nThe onbeforeunload dialog should once again display asking whether to leave or remain on the page.\n\nActual results:\nNothing happens.\n\nNotes:\n- this scenario used to work for previous versions (where bug 305085 is not yet fixed). However, there was a variation of this scenario where this issue was showing also for older versions: prior to the fix for 305085, in the scenario above we display the dialog 2 times, and if you click \"Leave\" and then \"Stay\" on the second prompt, then this bug also reproduces there.\n- choosing to close the window still works as expected, as the dialog displays and works correctly\n- trying this scenario with more tabs works fine... it's just the one remaining tab that causes this issue",
    "authour" : "florin.mezei@softvisioninc.eu",
    "created" : "2015-01-29T16:45:48Z"
  }, {
    "text" : "Note that currently this only works with e10s disabled (the dialog does not show when e10s is enabled, because of bug 967873).",
    "authour" : "florin.mezei@softvisioninc.eu",
    "created" : "2015-01-29T16:56:00Z"
  }, {
    "text" : "I can reproduce this. It's because _beginRemoveTab calls closeWindow calls window.close, and then *always* returns true - including if the close is cancelled. Unfortunately window.close doesn't tell you if that is the case... I'll look into whether we can determine that some other way or are just going to have to call WindowIsClosing() manually from the function we pass to closeWindow from _beginRemoveTab. The latter has the downside that we wouldn't catch add-ons that register close event handlers...\n\nI *think* we might be able to figure this out by at least one of:\n- checking window.closed\n- adding a system event close listener that checks whether preventDefault has been called on the event\n- looking if we can make window.close() return whether it worked or not (might not be spec-compatible...)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-30T19:16:59Z"
  }, {
    "text" : "I have a test for this, but I'd like Florin and/or QE to check if there aren't edgecases I've forgotten about.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-30T19:52:13Z"
  }, {
    "text" : "Created attachment 8557272\nshould be able to close single tab through tabclose button even if we said 'stay on page' initially,\n\nJared, seeing as you did the 305085 reviews... also, sorry for the kludgy test, but... yeah. :-\\",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-30T19:55:17Z"
  }, {
    "text" : "Comment on attachment 8557272\nshould be able to close single tab through tabclose button even if we said 'stay on page' initially,\n\nReview of attachment 8557272:\n-----------------------------------------------------------------\n\n::: toolkit/content/globalOverlay.js\n@@ +32,2 @@\n>      window.close();\n> +    return window.closed;\n\nOk, so _windowIsClosing gets the wrong state in there and then any future attempts to close the window bail out early because tabbrowser thinks the window is closing already.\n\n@@ +32,5 @@\n>      window.close();\n> +    return window.closed;\n> +  }\n> +\n> +\n\nnit, only one blank line here.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-02T07:13:38Z"
  }, {
    "text" : "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #5)\n> Ok, so _windowIsClosing gets the wrong state in there and then any future\n> attempts to close the window bail out early because tabbrowser thinks the\n> window is closing already.\n\nYes, sorry for not doing a thorough explanation to go with the patch, but that's exactly right.\n\n> @@ +32,5 @@\n> >      window.close();\n> > +    return window.closed;\n> > +  }\n> > +\n> > +\n> \n> nit, only one blank line here.\n\nDone.\n\nremote:   https://hg.mozilla.org/integration/fx-team/rev/0718406be39a",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-02T14:02:33Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0718406be39a",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-02T22:13:43Z"
  }, {
    "text" : "I can no longer reproduce the issue on Windows 7 x64, Mac OS X 10.8.5, Ubuntu 14.04 x64, using the latest Firefox 38 Nightly (BuildID=20150203062848). Everything works fine now when choosing to leave or stay.",
    "authour" : "florin.mezei@softvisioninc.eu",
    "created" : "2015-02-04T13:26:56Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:16:59Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T22:13:43Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-04T13:26:56Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T22:13:43Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:16:59Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "5"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:16:59Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:16:59Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-30T19:46:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:55:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T22:13:43Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T22:13:43Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-02 14:13:43"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-02T22:13:43Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-03T11:59:38Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-04T13:26:56Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-29T16:51:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:16:59Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-30T19:46:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:52:13Z",
      "what" : "flagtypes.name",
      "removed" : "in-testsuite?, qe-verify?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T19:55:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557272,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-02T07:13:38Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557272,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127394,
  "cclist" : [ "gijskruitbosch+bugs@gmail.com", "jaws@mozilla.com", "mmucci@mozilla.com" ]
}, {
  "component" : "Theme",
  "summary" : "DevEdition dark theme find bar is not styled correctly",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "bgrinstead@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8556497\nfindbar.png\n\nSee attachment.  There is a background image that is overriding the background color.\n\nThis is in addition to bug 1121432 and bug 1125677, which are caused by the australis styling of the findbar buttons.",
  "comments" : [ {
    "text" : "Created attachment 8556497\nfindbar.png\n\nSee attachment.  There is a background image that is overriding the background color.\n\nThis is in addition to bug 1121432 and bug 1125677, which are caused by the australis styling of the findbar buttons.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T15:45:52Z"
  }, {
    "text" : "Created attachment 8556525\nfindbar-background.patch\n\nI'm still not thrilled about how this looks, but it fixes the obvious problem caused by not clearing out the background image.  Will tackle the other problems in their respective bugs",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-29T16:46:59Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/716daa49404f",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-01-30T16:16:46Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/716daa49404f",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-01-31T17:08:28Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T16:46:59Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:28Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:28Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T16:46:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T16:46:59Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T17:24:03Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1125677"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-30T16:16:46Z",
      "what" : "whiteboard",
      "removed" : "[devedition-polish]",
      "added" : "[fixed-in-fx-team][devedition-polish]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:28Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:28Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team][devedition-polish]",
      "added" : "[devedition-polish]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:28Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-31 09:08:28"
    } ],
    "flagEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-01-29T16:46:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556525,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T12:46:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8556525,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127351,
  "cclist" : [ "gijskruitbosch+bugs@gmail.com" ]
}, {
  "component" : "General",
  "summary" : "SSLv3 error page is shown even for cases where the issue is a mismatch between supported TLS ranges",
  "reporter" : "felix.erlacher@uibk.ac.at",
  "assigned" : "VYV03354@nifty.ne.jp",
  "created" : null,
  "operatingSystem" : "Linux",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150125222139\n\nSteps to reproduce:\n\nUsing Firefox for Ubuntu version 35.0.1, on Ubuntu 12.04.\nCipherfox add-on installed\nFollowing security related config values set:\nsecurity.tls.version.min;2\nsecurity.ssl3.ecdhe_ecdsa_rc4_128_sha;false\nsecurity.ssl3.ecdhe_rsa_rc4_128_sha;false\nsecurity.ssl3.rsa_rc4_128_md5;false\nsecurity.ssl3.rsa_rc4_128_sha;false\nextensions.cipherfox.disable_rc4;true\n\n\n\nActual results:\n\nEvery time I visit a page that uses TLS 1.1 or TLS 1.0 I get an error message (which is ok, because as above minimum TLS version is set to value 2) but error message says:\n\"Firefox cannot guarantee the safety of your data on [sitename] because it uses SSLv3, a broken security protocol.\nAdvanced info: ssl_error_no_cypher_overlap\"\n\nThis error message is wrong because it appears also for sites using TLS 1.0 and not just for sites using ssl v3.\n\n\nExpected results:\n\nAn error message that says e.g. ssl_error_no_cypher_overlap, (as in previous versions of FF) and nothing about ssl v3.\n\nOn debian 7.0 with Iceweasel 31.3.0 (no cipherfox) and above security configs the error message is correct saying:\nAn error occurred during a connection to [sitename]. Cannot communicate securely with peer: no common encryption algorithm(s). (Error code: ssl_error_no_cypher_overlap)",
  "comments" : [ {
    "text" : "User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150125222139\n\nSteps to reproduce:\n\nUsing Firefox for Ubuntu version 35.0.1, on Ubuntu 12.04.\nCipherfox add-on installed\nFollowing security related config values set:\nsecurity.tls.version.min;2\nsecurity.ssl3.ecdhe_ecdsa_rc4_128_sha;false\nsecurity.ssl3.ecdhe_rsa_rc4_128_sha;false\nsecurity.ssl3.rsa_rc4_128_md5;false\nsecurity.ssl3.rsa_rc4_128_sha;false\nextensions.cipherfox.disable_rc4;true\n\n\n\nActual results:\n\nEvery time I visit a page that uses TLS 1.1 or TLS 1.0 I get an error message (which is ok, because as above minimum TLS version is set to value 2) but error message says:\n\"Firefox cannot guarantee the safety of your data on [sitename] because it uses SSLv3, a broken security protocol.\nAdvanced info: ssl_error_no_cypher_overlap\"\n\nThis error message is wrong because it appears also for sites using TLS 1.0 and not just for sites using ssl v3.\n\n\nExpected results:\n\nAn error message that says e.g. ssl_error_no_cypher_overlap, (as in previous versions of FF) and nothing about ssl v3.\n\nOn debian 7.0 with Iceweasel 31.3.0 (no cipherfox) and above security configs the error message is correct saying:\nAn error occurred during a connection to [sitename]. Cannot communicate securely with peer: no common encryption algorithm(s). (Error code: ssl_error_no_cypher_overlap)",
    "authour" : "felix.erlacher@uibk.ac.at",
    "created" : "2015-01-29T15:28:31Z"
  }, {
    "text" : "EDIT: Of course it appears only for TLS 1.0 sites (as security.tls.version.min;2 means TLS 1.1 is the minimum required version)",
    "authour" : "felix.erlacher@uibk.ac.at",
    "created" : "2015-01-29T15:35:27Z"
  }, {
    "text" : "Either bug 1054349 or bug 1084669 is needed to get the SSL version that the server tried to negotiate.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-09T12:28:06Z"
  }, {
    "text" : "But we can display a generic SSL error page if \"security.tls.version.min/max\" is not default.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-09T12:29:50Z"
  }, {
    "text" : "To be clear, I would expect this to no longer be the case in 36 already. Are my expectations not correct?\n\n(you can test using https://www.mozilla.org/en-US/firefox/channel/#beta )",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T13:00:48Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #4)\n> To be clear, I would expect this to no longer be the case in 36 already. Are\n> my expectations not correct?\n\nNot correct, because the fix for bug 1113780 works only if \"security.tls.version.min/max\" is set to default.\nSSL_ERROR_UNSUPPORTED_VERSION is not limited to SSLv3.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-09T13:07:54Z"
  }, {
    "text" : ":-(",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-09T13:10:11Z"
  }, {
    "text" : "Created attachment 8562606\nDetect SSLv3-only server in PSM\n\nSet STATE_USES_SSL_3 only if \"security.tls.version.min\" is 1 because otherwise we don't know the precise ServerHelloVersion.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-11T08:13:46Z"
  }, {
    "text" : "Created attachment 8562608\nMove SSLv3 detection out of aboutNetError.xhtml",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-11T08:15:01Z"
  }, {
    "text" : "Comment on attachment 8562608\nMove SSLv3 detection out of aboutNetError.xhtml\n\nReview of attachment 8562608:\n-----------------------------------------------------------------\n\nAIUI, if we're using a separate error code (rather than the generic nssFailure2) we shouldn't need the separate if statement (almost?) at all anymore - we should be able to just name the short & long description containers with the appropriate ID, and things should Just Work... (the only reason we might continue to need it is to fill in the appropriate error code in the <span>, AIUI)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-11T10:47:51Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #9)\n> (the only\n> reason we might continue to need it is to fill in the appropriate error code\n> in the <span>, AIUI)\n\nAnd adding \"sslv3\" attribute to select \"aboutNetError_alert.svg\". Is it possible without using an if statement here?\nMoreover, getDescription() will not return an expected text because SSL_ERROR_UNSUPPORTED_VERSION is not dedicated for SSLv3 as I already said.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-11T12:05:15Z"
  }, {
    "text" : "(In reply to Masatoshi Kimura [:emk] from comment #10)\n> (In reply to :Gijs Kruitbosch from comment #9)\n> > (the only\n> > reason we might continue to need it is to fill in the appropriate error code\n> > in the <span>, AIUI)\n> \n> And adding \"sslv3\" attribute to select \"aboutNetError_alert.svg\". Is it\n> possible without using an if statement here?\n\nWe could set an attribute like \"errorID\" on the container for all errors, and then style it with CSS, without resorting to an if statement. However, I think we might still need logic here for the \"learn more\" button...\n\n> Moreover, getDescription() will not return an expected text because\n> SSL_ERROR_UNSUPPORTED_VERSION is not dedicated for SSLv3 as I already said.\n\nBut your patch isn't changing which text is being used (ie there are no l10n changes), so I'm afraid I don't follow what you're saying.\n\nThe ideal end-state is that we should be getting rid of as much of the if statement's contents as possible (I guess the icon and the button will still need some extra logic for this case), and the specific error for SSLv3 should be treated like any of the other errors, with all the relevant localized elements (et_, esd_, ed_) having the ID corresponding to the error message so they get picked up by getDescription() and friends.\n\nRight now, the only time when we get the \"oldSecurityProtocol\" error (if I understand your PSM+docshell patch correctly - please let me know if I'm missing something!) is if the site is using SSLv3 and we don't support it, so continuing to use those strings seems appropriate.\n\nIf we want a separate error for other cases of SSL_ERROR_UNSUPPORTED_VERSION then we should add more strings and more error codes. We should try to persist in having a user-friendly SSLv3 message considering that's the most common case (rather than people manually changing their tls requirements in about:config).",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-11T12:29:11Z"
  }, {
    "text" : "Comment on attachment 8562606\nDetect SSLv3-only server in PSM\n\nReview of attachment 8562606:\n-----------------------------------------------------------------\n\nLooks good to me, but you should get a quick review from a docshell peer.\n\n::: security/manager/ssl/src/nsNSSIOLayer.cpp\n@@ +1166,5 @@\n>    // Note this only happens during the initial SSL handshake.\n>  \n>    SSLVersionRange range = socketInfo->GetTLSVersionRange();\n> +  if (err == SSL_ERROR_UNSUPPORTED_VERSION &&\n> +      range.min == SSL_LIBRARY_VERSION_TLS_1_0) {\n\nWill this display a misleading error message if the user has changed their preferences to (e.g.) disable TLS 1.2 and they encounter a server that only supports TLS 1.2? If so, I think it's probably ok to not support this non-standard configuration, but it's something we should be aware of, in any case.",
    "authour" : "dkeeler@mozilla.com",
    "created" : "2015-02-13T00:30:21Z"
  }, {
    "text" : "(In reply to David Keeler [:keeler] (use needinfo?) from comment #12)\n> Looks good to me, but you should get a quick review from a docshell peer.\n\nProbably more changes to docshell would be needed to resolve comments from :Gijs. I'll attach a new separate patch to docshell.\n\n> ::: security/manager/ssl/src/nsNSSIOLayer.cpp\n> @@ +1166,5 @@\n> >    // Note this only happens during the initial SSL handshake.\n> >  \n> >    SSLVersionRange range = socketInfo->GetTLSVersionRange();\n> > +  if (err == SSL_ERROR_UNSUPPORTED_VERSION &&\n> > +      range.min == SSL_LIBRARY_VERSION_TLS_1_0) {\n> \n> Will this display a misleading error message if the user has changed their\n> preferences to (e.g.) disable TLS 1.2 and they encounter a server that only\n> supports TLS 1.2? If so, I think it's probably ok to not support this\n> non-standard configuration, but it's something we should be aware of, in any\n> case.\n\nIn that case, the server should refuse handshake with protocol_version alert that will be mapped to SSL_ERROR_PROTOCOL_VERSION_ALERT in NSS. But, of course, some broken servers may not handle the version mismatch correctly, as everyone knows :)\n\nOn the other hand, when TLS 1.0 or lower is disabled, the server can not determine if the peer supports TLS 1.0 because ClientHello does not include the lowest supported version. So it's our responsibility to check the version in ServerHello and fail the handshake if it is inappropriate.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-13T00:56:41Z"
  }, {
    "text" : "*** Bug 1133101 has been marked as a duplicate of this bug. ***",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-13T22:56:52Z"
  }, {
    "text" : "Created attachment 8564473\ndocshell change",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-14T05:56:59Z"
  }, {
    "text" : "Created attachment 8564474\nUI changes (WIP)\n\noldSecurityProtocol.longDesc2 contained some markups, but error strings from appstrings.properties can not contain markups. So the hostname is no longer bolded. Also I hardcoded \"Firefox\" again because appstrings.properties is under browser/ and other strings in this file also hardcode \"Firefox\". Is this OK?",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-14T05:59:33Z"
  }, {
    "text" : "Comment on attachment 8564474\nUI changes (WIP)\n\nReview of attachment 8564474:\n-----------------------------------------------------------------\n\nNice!",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-14T16:24:07Z"
  }, {
    "text" : "Created attachment 8564667\nUI changes, v2",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-15T07:52:39Z"
  }, {
    "text" : "Comment on attachment 8564667\nUI changes, v2\n\nReview of attachment 8564667:\n-----------------------------------------------------------------\n\nr+ on the browser bits either way, but I do have a question/suggestion below...\n\nAlso, I think if this changes in appstrings.properties, for toolkit etc. compat you probably need to adjust the other appstrings.properties files, too, so as not to break other consumers? ( cf. http://mxr.mozilla.org/mozilla-central/search?string=remoteXUL&find=properties&findi=&filter=^[^\\0]*%24&hitlimit=&tree=mozilla-central )\n\n::: browser/locales/en-US/chrome/overrides/appstrings.properties\n@@ +34,5 @@\n>  cspBlocked=This page has a content security policy that prevents it from being loaded in this way.\n>  corruptedContentError=The page you are trying to view cannot be shown because an error in the data transmission was detected.\n>  remoteXUL=This page uses an unsupported technology that is no longer available by default in Firefox.\n> +## LOCALIZATION NOTE (oldSecurityProtocol) - Do not translate \"%S\".\n> +oldSecurityProtocol=Firefox cannot guarantee the safety of your data on %S because it uses SSLv3, a broken security protocol.\n\nSo, I'm a little confused that this is called \"oldSecurityProtocol\", which seems more generic (than just sslv3), and the bug is about issues regarding the text saying \"ssl v3\" even though there's an issue with something else, but the docshell change fixes this to really be specific to ssl v3, right? Should we pick a more specific error code to correspond to the ssl3 detection in docshell?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-15T21:29:39Z"
  }, {
    "text" : "Comment on attachment 8564473\ndocshell change\n\nr=me.  Sorry for the lag.  :(",
    "authour" : "bzbarsky@mit.edu",
    "created" : "2015-02-18T21:12:36Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=fc5830ec1fab",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-21T04:20:09Z"
  }, {
    "text" : "Created attachment 8567459\nDetect SSLv3-only server in PSM\n\nRebased",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-21T08:10:59Z"
  }, {
    "text" : "Created attachment 8567460\nAssign a dedicated error code for SSLv3 in docshell\n\n- Rebased.\n- Changed the error code and added a message to dom/locales/en-US/chrome/appstrings.properties to align it with the next patxh.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-21T08:12:55Z"
  }, {
    "text" : "Created attachment 8567461\nMove SSLv3 detection out of aboutNetError.xhtml\n\n(In reply to :Gijs Kruitbosch from comment #19)\n> Also, I think if this changes in appstrings.properties, for toolkit etc.\n> compat you probably need to adjust the other appstrings.properties files,\n> too, so as not to break other consumers? ( cf.\n> http://mxr.mozilla.org/mozilla-central/\n> search?string=remoteXUL&find=properties&findi=&filter=^[^\\0]*%24&hitlimit=&tr\n> ee=mozilla-central )\n\nGood catch, fixed.\n\n> So, I'm a little confused that this is called \"oldSecurityProtocol\", which\n> seems more generic (than just sslv3), and the bug is about issues regarding\n> the text saying \"ssl v3\" even though there's an issue with something else,\n> but the docshell change fixes this to really be specific to ssl v3, right?\n> Should we pick a more specific error code to correspond to the ssl3\n> detection in docshell?\n\nI renamed it to \"sslv3Used\".",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-21T08:15:50Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/mozilla-inbound/rev/4e11a8c6230e\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/da3ca2b04b86\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/01fb39cc4980",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-21T08:21:01Z"
  }, {
    "text" : "Comment on attachment 8567461\nMove SSLv3 detection out of aboutNetError.xhtml\n\nReview of attachment 8567461:\n-----------------------------------------------------------------\n\nMinor drive-by nits...\n\n::: browser/locales/en-US/chrome/overrides/appstrings.properties\n@@ +33,5 @@\n>  phishingBlocked=The website at %S has been reported as a web forgery designed to trick users into sharing personal or financial information.\n>  cspBlocked=This page has a content security policy that prevents it from being loaded in this way.\n>  corruptedContentError=The page you are trying to view cannot be shown because an error in the data transmission was detected.\n>  remoteXUL=This page uses an unsupported technology that is no longer available by default in Firefox.\n> +## LOCALIZATION NOTE (oldSecurityProtocol) - Do not translate \"%S\".\n\ns/oldSecurityProtocol/sslv3Used/\n\n::: browser/locales/en-US/chrome/overrides/netError.dtd\n@@ +205,5 @@\n>  <!ENTITY remoteXUL.title \"Remote XUL\">\n>  <!ENTITY remoteXUL.longDesc \"<p><ul><li>Please contact the website owners to inform them of this problem.</li></ul></p>\">\n>  \n> +<!ENTITY sslv3Used.title \"Unable to Connect Securely\">\n> +<!-- LOCALIZATION NOTE (sslv3Used.advancedInfo) - Do not translate\n\ns/sslv3Used.advancedInfo/sslv3Used.longDesc/",
    "authour" : "cykesiopka.bmo@gmail.com",
    "created" : "2015-02-21T16:25:06Z"
  }, {
    "text" : "Oops, fixed the comments. Thanks for pointing out.\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/65af65cf5021",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-21T16:47:31Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/4e11a8c6230e\nhttps://hg.mozilla.org/mozilla-central/rev/da3ca2b04b86\nhttps://hg.mozilla.org/mozilla-central/rev/01fb39cc4980\nhttps://hg.mozilla.org/mozilla-central/rev/65af65cf5021",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-21T22:05:49Z"
  }, {
    "text" : "This patch removes the span with the errorcode, which was at least used in our Mozmill test to determine the error, which is shown. With that removal it's no longer possible to do that easily. Was that on purpose or by accident?",
    "authour" : "hskupin@gmail.com",
    "created" : "2015-02-23T12:45:11Z"
  }, {
    "text" : "(In reply to Henrik Skupin (:whimboo) from comment #29)\n> This patch removes the span with the errorcode, which was at least used in\n> our Mozmill test to determine the error, which is shown. With that removal\n> it's no longer possible to do that easily.\n\nwhat's wrong with whateverNode.textContent.contains('ssl_error_unsupported_version'); ?\n\n> Was that on purpose or by\n> accident?\n\nOn purpose.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-23T12:53:06Z"
  }, {
    "text" : "(In reply to Henrik Skupin (:whimboo) from comment #29)\n> This patch removes the span with the errorcode, which was at least used in\n> our Mozmill test to determine the error, which is shown. With that removal\n> it's no longer possible to do that easily. Was that on purpose or by\n> accident?\n\nSee comment #16. The new strings can no longer contain markups. Before bug 1098371, the span was not present, so I don't think it's too difficult to find the error code.",
    "authour" : "VYV03354@nifty.ne.jp",
    "created" : "2015-02-23T12:56:20Z"
  }, {
    "text" : "Thank you both for the answer. That clarifies it and we will check if the code is contained.",
    "authour" : "hskupin@gmail.com",
    "created" : "2015-02-23T13:07:24Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cykesiopka.bmo@gmail.com",
      "date" : "2015-02-09T12:17:41Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:22:42Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:49Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:49Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "cykesiopka.bmo@gmail.com",
      "date" : "2015-02-09T12:17:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cykesiopka.bmo@gmail.com"
    }, {
      "name" : "cykesiopka.bmo@gmail.com",
      "date" : "2015-02-09T12:17:41Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "General"
    }, {
      "name" : "cykesiopka.bmo@gmail.com",
      "date" : "2015-02-09T12:17:41Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1098371"
    }, {
      "name" : "cykesiopka.bmo@gmail.com",
      "date" : "2015-02-09T12:17:41Z",
      "what" : "summary",
      "removed" : "sslv3 error altough TLS is used",
      "added" : "SSLv3 error page is shown even for cases where the issue is a mismatch between supported TLS ranges"
    }, {
      "name" : "cykesiopka.bmo@gmail.com",
      "date" : "2015-02-09T12:17:41Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-09T12:28:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "VYV03354@nifty.ne.jp"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-09T12:28:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1084669, 1054349"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T13:00:48Z",
      "what" : "cc",
      "removed" : "",
      "added" : "felix.erlacher@uibk.ac.at, gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-11T08:13:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dkeeler@mozilla.com"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-13T22:56:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "rlb@ipv.sx"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-14T12:58:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-15T07:52:02Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bzbarsky@mit.edu"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-15T07:52:02Z",
      "what" : "attachments.description:8564473",
      "removed" : "docshell change (WIP)",
      "added" : "docshell change"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-15T07:52:39Z",
      "what" : "attachments.isobsolete:8564474",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:12:55Z",
      "what" : "attachments.isobsolete:8562606",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:12:55Z",
      "what" : "attachments.isobsolete:8562608",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:12:55Z",
      "what" : "attachments.isobsolete:8564473",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:22:27Z",
      "what" : "attachments.isobsolete:8564667",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:22:42Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "VYV03354@nifty.ne.jp"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:49Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:49Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-21 14:05:49"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:49Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "hskupin@gmail.com",
      "date" : "2015-02-23T11:33:45Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1135616"
    }, {
      "name" : "hskupin@gmail.com",
      "date" : "2015-02-23T12:45:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "hskupin@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T13:00:48Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-09T13:10:11Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(felix.erlacher@uibk.ac.at)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-11T08:13:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8562606,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-11T08:15:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8562608,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-11T10:47:51Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8562608,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dkeeler@mozilla.com",
      "date" : "2015-02-13T00:30:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dkeeler@mozilla.com)",
      "added" : "",
      "attachmentId" : 8562606,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-14T05:59:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564474,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-14T16:24:07Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8564474,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-15T07:52:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564473,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-15T07:52:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564667,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-15T21:29:39Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8564667,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bzbarsky@mit.edu",
      "date" : "2015-02-18T21:12:36Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bzbarsky@mit.edu)",
      "added" : "",
      "attachmentId" : 8564473,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:10:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567459,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:12:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "VYV03354@nifty.ne.jp",
      "date" : "2015-02-21T08:15:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567461,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "hskupin@gmail.com",
      "date" : "2015-02-23T12:45:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-23T12:53:06Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(VYV03354@nifty.ne.jp), needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127339,
  "cclist" : [ "bzbarsky@mit.edu", "cykesiopka.bmo@gmail.com", "dkeeler@mozilla.com", "felix.erlacher@uibk.ac.at", "gijskruitbosch+bugs@gmail.com", "hskupin@gmail.com", "rlb@ipv.sx", "Virtual@MsgSafe.io", "VYV03354@nifty.ne.jp" ]
}, {
  "component" : "General",
  "summary" : "Show article favicon in reader mode",
  "reporter" : "margaret.leibovic@gmail.com",
  "assigned" : "abhinav.koppula@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P4",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We just need to hook up some pieces here:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/modules/ReaderParent.jsm#52",
  "comments" : [ {
    "text" : "We just need to hook up some pieces here:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/modules/ReaderParent.jsm#52",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-01-29T15:22:03Z"
  }, {
    "text" : "P4 based on being polish, adding an icon in-content to the reader view's header.",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-03-04T23:53:32Z"
  }, {
    "text" : "(In reply to Justin Dolske [:Dolske] from comment #1)\n> P4 based on being polish, adding an icon in-content to the reader view's\n> header.\n\nOh, this is about showing the favicon in the toolbar, to match the URL that we're showing. We need to handle this because we're loading about:reader, which doesn't actually have a favicon, so we want to pull the favicon that's stored for the original URL.\n\nWe don't currently have any place we show an icon in the content of about:reader (we would need another bug for that).",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-05T00:14:17Z"
  }, {
    "text" : "NI to dolske, since I'm not sure if this changes your prioritization reasoning.",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-05T00:15:27Z"
  }, {
    "text" : "Created attachment 8574284\nfaviconReader.patch\n\nUsed PlacesUtils to obtain favicon of the article and placed the data in the messageManager.",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-07T13:52:10Z"
  }, {
    "text" : "Comment on attachment 8574284\nfaviconReader.patch\n\nReview of attachment 8574284:\n-----------------------------------------------------------------\n\nNice patch, works good :) Just some code-style things to tweak, and I want to run it by Margaret after you make your changes to make sure I didn't miss anything.\n\n::: browser/modules/ReaderParent.jsm\n@@ +55,5 @@\n>          });\n>          break;\n>  \n>        case \"Reader:FaviconRequest\": {\n> +        // Make sure the target browser is still alive before trying to send data back.\n\nHm, this comment is already above. I'm not sure if it is necessary in both places, so we can remove it.\n\n@@ +57,5 @@\n>  \n>        case \"Reader:FaviconRequest\": {\n> +        // Make sure the target browser is still alive before trying to send data back.\n> +        if (message.target.messageManager) {\n> +          //Get faviconUrl\n\nThis comment is redundant.\n\n@@ +59,5 @@\n> +        // Make sure the target browser is still alive before trying to send data back.\n> +        if (message.target.messageManager) {\n> +          //Get faviconUrl\n> +          let faviconUrl = PlacesUtils.promiseFaviconLinkUrl(message.data.url);\n> +          Promise.resolve(faviconUrl).then(function(favicon) {\n\nWe don't need to use `Promise.resolve(promise).then()`. We can instead just use the promise.then itself.\n\n@@ +60,5 @@\n> +        if (message.target.messageManager) {\n> +          //Get faviconUrl\n> +          let faviconUrl = PlacesUtils.promiseFaviconLinkUrl(message.data.url);\n> +          Promise.resolve(faviconUrl).then(function(favicon) {\n> +            message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", { url: message.data.url, faviconUrl: favicon.path.replace(\"favicon:\",\"\") });\n\nPlease use `favicon.path.replace(/^favicon:/, \"\") instead. This uses a regular-expression to only remove \"favicon:\" from the start of the string and in no other place.\n\nAlso, please start a new line after the opening curly bracket of the data object. The code should look something like:\n\n> faviconUrl.then(function(favicon) {\n>   message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", {\n>     url: message.data.url,\n>     faviconUrl: favicon.path.replace(/^favicon:/, \"\")\n>   });\n> });",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-09T03:26:44Z"
  }, {
    "text" : "Created attachment 8574614\nfaviconReader.patch\n\nImproved code style",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-09T10:45:33Z"
  }, {
    "text" : "Created attachment 8574620\nfaviconReader.patch\n\nImproved code styling and fixed indentation issue of last patch",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-09T10:58:06Z"
  }, {
    "text" : "Comment on attachment 8574620\nfaviconReader.patch\n\nReview of attachment 8574620:\n-----------------------------------------------------------------\n\nMargaret, this looks good to me. Can you take a look at this too?",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-09T16:49:01Z"
  }, {
    "text" : "Comment on attachment 8574620\nfaviconReader.patch\n\nReview of attachment 8574620:\n-----------------------------------------------------------------\n\n::: browser/modules/ReaderParent.jsm\n@@ +11,5 @@\n>  \n>  Cu.import(\"resource://gre/modules/XPCOMUtils.jsm\");\n>  Cu.import(\"resource://gre/modules/Services.jsm\");\n>  Cu.import(\"resource://gre/modules/Task.jsm\");\n> +Cu.import(\"resource://gre/modules/PlacesUtils.jsm\");\n\nWe could probably make this a lazy module getter, since we don't necessarily need this right away, but ReaderParent is loaded during startup:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/components/nsBrowserGlue.js#705\n\n@@ +58,5 @@\n>        case \"Reader:FaviconRequest\": {\n> +        if (message.target.messageManager) {\n> +          let faviconUrl = PlacesUtils.promiseFaviconLinkUrl(message.data.url);\n> +          faviconUrl.then(function(favicon) {\n> +            message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", { \n\nNit: Please remove trailing whitespace.\n\n@@ +60,5 @@\n> +          let faviconUrl = PlacesUtils.promiseFaviconLinkUrl(message.data.url);\n> +          faviconUrl.then(function(favicon) {\n> +            message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", { \n> +              url: message.data.url,\n> +              faviconUrl: favicon.path.replace(/^favicon:/, \"\") \n\nSame here.\n\nAlso, I trust Jared's review on whether or not this returns a favicon URL formatted the way we would want it to be.",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-09T21:11:02Z"
  }, {
    "text" : "(In reply to :Margaret Leibovic from comment #2)\n> (In reply to Justin Dolske [:Dolske] from comment #1)\n> > P4 based on being polish, adding an icon in-content to the reader view's\n> > header.\n> \n> Oh, this is about showing the favicon in the toolbar, to match the URL that\n> we're showing. We need to handle this because we're loading about:reader,\n> which doesn't actually have a favicon, so we want to pull the favicon that's\n> stored for the original URL.\n\nAh, we read it wrong in triage. Still a P4, since it's a polish issue that doesn't impact being able to use it, but I'm glad we're fixing it. :)",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-03-09T22:23:06Z"
  }, {
    "text" : "Created attachment 8575404\nfaviconReader.patch\n\nRemoved trailing whitespace and lazy loading of PlacesUtils",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-10T17:31:38Z"
  }, {
    "text" : "Created attachment 8575422\nPatch for checkin",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-10T17:57:35Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=620185398501",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-10T18:00:33Z"
  }, {
    "text" : "We can also uplift this to Fx38 with a=readinglist. Let's remember to do that after this lands on m-c.",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-10T18:56:55Z"
  }, {
    "text" : "It looks like there is are mochitest-browser-chrome test failures:\n\n> 74 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_bug1124271_readerModePinnedTab.js | A promise chain failed to handle a rejection: - undefined\n> 692 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_readerMode.js | A promise chain failed to handle a rejection: - undefined\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=5531144&repo=try",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-03-11T06:11:55Z"
  }, {
    "text" : "Created attachment 8576140\nfaviconReader.patch\n\nReport unhandled errors which prevents failing of tests.",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-11T18:35:52Z"
  }, {
    "text" : "Comment on attachment 8576140\nfaviconReader.patch\n\nReview of attachment 8576140:\n-----------------------------------------------------------------\n\n::: browser/modules/ReaderParent.jsm\n@@ +62,5 @@\n> +            message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", {\n> +              url: message.data.url,\n> +              faviconUrl: favicon.path.replace(/^favicon:/, \"\")\n> +            });\n> +          }).catch(Components.utils.reportError);\n\nNit: If this is the correct solution (jaws will review), shorten this to Cu.reportError",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-03-11T20:03:32Z"
  }, {
    "text" : "Comment on attachment 8576140\nfaviconReader.patch\n\nReview of attachment 8576140:\n-----------------------------------------------------------------\n\nI can't reproduce the test failures locally. Abhinav, do you know why the exception was getting thrown? The promise gets rejected if there is no favicon for the URI. It is fine here to keep the .catch(Cu.reportError) that you have added but we should also add a separate function for the rejection case.\n\nPlease also update http://mxr.mozilla.org/mozilla-central/source/toolkit/components/places/PlacesUtils.jsm#1466 to provide a reason for the rejection. You can pass \"favicon not found for uri\" to deferred.reject().\n\n::: browser/modules/ReaderParent.jsm\n@@ +62,5 @@\n> +            message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", {\n> +              url: message.data.url,\n> +              faviconUrl: favicon.path.replace(/^favicon:/, \"\")\n> +            });\n> +          }).catch(Components.utils.reportError);\n\nfaviconUrl.then(function onResolution(favicon) {\n  ...\n}, function onRejection(reason) {\n  Cu.reportError(\"Error requesting favicon URL for about:reader content: \" + reason);\n}).catch(Cu.reportError);",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-13T17:23:58Z"
  }, {
    "text" : "Created attachment 8578169\nfaviconReader.patch\n\nAdded rejection case and catch for promise",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-16T19:16:58Z"
  }, {
    "text" : "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #18)\n> Comment on attachment 8576140\n> faviconReader.patch\n> \n> Review of attachment 8576140:\n> -----------------------------------------------------------------\n> \n> I can't reproduce the test failures locally. Abhinav, do you know why the\n> exception was getting thrown? The promise gets rejected if there is no\n> favicon for the URI. It is fine here to keep the .catch(Cu.reportError) that\n> you have added but we should also add a separate function for the rejection\n> case.\n> \n> Please also update\n> http://mxr.mozilla.org/mozilla-central/source/toolkit/components/places/\n> PlacesUtils.jsm#1466 to provide a reason for the rejection. You can pass\n> \"favicon not found for uri\" to deferred.reject().\n> \n> ::: browser/modules/ReaderParent.jsm\n> @@ +62,5 @@\n> > +            message.target.messageManager.sendAsyncMessage(\"Reader:FaviconReturn\", {\n> > +              url: message.data.url,\n> > +              faviconUrl: favicon.path.replace(/^favicon:/, \"\")\n> > +            });\n> > +          }).catch(Components.utils.reportError);\n> \n> faviconUrl.then(function onResolution(favicon) {\n>   ...\n> }, function onRejection(reason) {\n>   Cu.reportError(\"Error requesting favicon URL for about:reader content: \" +\n> reason);\n> }).catch(Cu.reportError);\n\nI ran the tests in few scenarios, first I added the rejection case and then all tests passed as expected. Then I ran the tests after removing the rejection case and still the tests passed, as Jared stated. Next I ran the tests, but this time my browser was not in focus, which meant that there were timeouts that were bound to happen and hence I got above 2 mentioned failures if I didn't have the rejection case.\n\nI saw here http://mxr.mozilla.org/mozilla-central/source/browser/base/content/test/general/head.js#591 and concluded that rejection of promises happen in case of timeouts and since the rejections were not handled the exceptions were raised.\n\nPardon me if I am completely wrong.",
    "authour" : "abhinav.koppula@gmail.com",
    "created" : "2015-03-16T19:27:56Z"
  }, {
    "text" : "Comment on attachment 8578169\nfaviconReader.patch\n\nReview of attachment 8578169:\n-----------------------------------------------------------------\n\nLooks good. Can you please update your patch summary to just \"Bug 1127337 - Show article favicon in the browser tab in reader mode. r=jaws\"? Then you can reupload and mark this for checkin-needed.\n\nIf you are using Mercurial Queues, you can run `hg qref -e` to edit the patch summary.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-16T23:12:38Z"
  }, {
    "text" : "Created attachment 8579683\nPatch for check-in\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=3f5244d09ddd",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-18T23:22:46Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/2166c79040a7",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-23T19:04:38Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2166c79040a7",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-24T16:33:09Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/dfd7c0ccfffd",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-27T00:36:30Z"
  }, {
    "text" : "Verified fixed on Beta 38.0b1-build1 (20150330154247) and Aurora 39.0a2 (2015-04-02), using Windows 7 (x64), Ubuntu 14.04 (x64) and Mac OS X 10.9.5.",
    "authour" : "andrei.vaida@softvision.ro",
    "created" : "2015-04-03T06:41:26Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-04T17:56:05Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T16:33:09Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "andrei.vaida@softvision.ro",
      "date" : "2015-04-03T06:41:26Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T16:33:09Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-04T21:16:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-04T17:56:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-04T17:56:05Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "abhinav.koppula@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-04T17:56:05Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "jaws@mozilla.com, margaret.leibovic@gmail.com"
    }, {
      "name" : "dolske@mozilla.com",
      "date" : "2015-03-04T23:53:32Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P4"
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-05T00:15:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dolske@mozilla.com"
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-09T10:45:33Z",
      "what" : "attachments.isobsolete:8574284",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-09T10:58:06Z",
      "what" : "attachments.isobsolete:8574614",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-09T16:49:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "margaret.leibovic@gmail.com"
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-10T17:31:38Z",
      "what" : "attachments.isobsolete:8574620",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-10T17:57:35Z",
      "what" : "attachments.isobsolete:8575404",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-10T18:00:33Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-10T18:56:55Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-03-11T06:11:55Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-03-11T06:11:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "abhinav.koppula@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-13T17:24:10Z",
      "what" : "attachments.isobsolete:8575422",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-16T19:16:58Z",
      "what" : "attachments.isobsolete:8576140",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-18T23:22:46Z",
      "what" : "attachments.isobsolete:8578169",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-20T20:39:44Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-23T19:04:38Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-23T19:04:38Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T16:33:09Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T16:33:09Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T16:33:09Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-24 09:33:09"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T16:33:09Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-24T16:55:44Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "39.3 - 30 Mar"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-27T00:36:30Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-03-31T12:00:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-03-31T12:00:06Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "andrei.vaida@softvision.ro"
    }, {
      "name" : "andrei.vaida@softvision.ro",
      "date" : "2015-04-03T06:41:26Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "andrei.vaida@softvision.ro",
      "date" : "2015-04-03T06:41:26Z",
      "what" : "cf_status_firefox39",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2016-07-13T11:58:15Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1166729"
    } ],
    "flagEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-04T21:16:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-05T00:15:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-07T13:52:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574284,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-09T03:26:44Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574284,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-09T10:45:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574614,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-09T10:58:06Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574614,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-09T10:58:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574620,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-09T16:49:01Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574620,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-09T21:11:02Z",
      "what" : "flagtypes.name",
      "removed" : "review?(margaret.leibovic@gmail.com)",
      "added" : "",
      "attachmentId" : 8574620,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "dolske@mozilla.com",
      "date" : "2015-03-09T22:23:06Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dolske@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-10T17:31:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575404,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-10T17:57:13Z",
      "what" : "flagtypes.name",
      "removed" : "review?(margaret.leibovic@gmail.com)",
      "added" : "",
      "attachmentId" : 8575404,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-10T17:57:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575422,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-03-11T06:11:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-11T18:35:52Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(abhinav.koppula@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-11T18:35:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8576140,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-13T17:23:58Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8576140,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "abhinav.koppula@gmail.com",
      "date" : "2015-03-16T19:16:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8578169,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-16T23:12:38Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8578169,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-18T23:22:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8579683,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-24T16:55:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "andrei.vaida@softvision.ro",
      "date" : "2015-04-03T06:41:26Z",
      "what" : "flagtypes.name",
      "removed" : "qe-verify?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127337,
  "cclist" : [ "abhinav.koppula@gmail.com", "dolske@mozilla.com", "florin.mezei@softvisioninc.eu", "jaws@mozilla.com", "margaret.leibovic@gmail.com", "mmucci@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Create helper function for converting allocation sites data from the memory actor to samples similar to the profiler data",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T14:54:10Z"
  }, {
    "text" : "Blocks bug 1077461 and bug 1077469.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T14:54:43Z"
  }, {
    "text" : "Created attachment 8556480\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T15:10:01Z"
  }, {
    "text" : "Comment on attachment 8556480\nv1\n\nReview of attachment 8556480:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/modules/recording-utils.js\n@@ +67,5 @@\n> + * @return array\n> + *         The samples data.\n> + */\n> +exports.RecordingUtils.getSamplesFromAllocations = function(allocations) {\n> +  let { sites, timestamps, frames, counts } = allocations;\n\nNote: sites === \"allocations\", timestamps === \"allocationTimestamps\" from the data returned by `getAllocations`.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T15:11:04Z"
  }, {
    "text" : "Comment on attachment 8556480\nv1\n\nReview of attachment 8556480:\n-----------------------------------------------------------------\n\n::: browser/devtools/performance/modules/recording-utils.js\n@@ +62,5 @@\n> + * Converts allocation data from the memory actor to something that follows\n> + * the same structure as the samples data received from the profiler.\n> + *\n> + * @param array samples\n> + *        A list of { sites, timestamps, frames, counts } arrays.\n\nMaybe mention MemoryActor.prototype.getAllocations? That has a lot of context about what is what in these type of objects that is lost here.\n\nAlso, this param is wrongly named and isn't actually an array either. I assume this is a hold over from an old version of code or something, but we should fix it :)\n\n::: browser/devtools/performance/test/browser_perf-allocations-to-samples.js\n@@ +10,5 @@\n> +function test() {\n> +  let { RecordingUtils } = devtools.require(\"devtools/performance/recording-utils\");\n> +\n> +  let output = RecordingUtils.getSamplesFromAllocations(TEST_DATA);\n> +  is(output.toSource(), EXPECTED_OUTPUT.toSource(), \"The output is correct.\");\n\nYou can use `deepEqual(output, EXPECTED_OUTPUT)` now that we have the common js assert module in tests: https://developer.mozilla.org/en-US/docs/Mochitest#Test_functions",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-01-29T17:52:23Z"
  }, {
    "text" : "Addressed comments and landed https://hg.mozilla.org/integration/fx-team/rev/87679fb7bef1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T18:38:32Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/87679fb7bef1",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T23:30:13Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T15:10:01Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:13Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:13Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T14:54:43Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1077461, 1077469"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T15:10:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T15:10:01Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T18:38:32Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:13Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:13Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:13Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 15:30:13"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T15:10:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556480,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-01-29T17:52:23Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556480,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127322,
  "cclist" : [ "nfitzgerald@mozilla.com" ]
}, {
  "component" : "Preferences",
  "summary" : "Have headers in in-content prefs for both the DRM checkbox and the popup controls under Preferences -> Content",
  "reporter" : "dao+bmo@mozilla.com",
  "assigned" : "gijskruitbosch+bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "In-content prefs are usually grouped with headers. In bug 1111146, I removed the \"Pop-ups\" header so that I could group that checkbox with the one I added rather than introducing a \"DRM Content\" header. Having one header per checkbox doesn't really seem useful to me, so I think we'd rather have no header here or a \"General\" header for both checkboxes (like we do in the Security pane).\n\nIf we end up not reinstating the \"Pop-ups\" header, that string should be removed from content.dtd.",
  "comments" : [ {
    "text" : "In-content prefs are usually grouped with headers. In bug 1111146, I removed the \"Pop-ups\" header so that I could group that checkbox with the one I added rather than introducing a \"DRM Content\" header. Having one header per checkbox doesn't really seem useful to me, so I think we'd rather have no header here or a \"General\" header for both checkboxes (like we do in the Security pane).\n\nIf we end up not reinstating the \"Pop-ups\" header, that string should be removed from content.dtd.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-29T12:58:29Z"
  }, {
    "text" : "I feel that the headers are important to have as it makes it easier for users to quickly scan a page to find what they want. Without the headers on some prefs users will be pulled out of \"quick-scan mode\" and they will be forced to read the details.\n\nAlso, when search is implemented in about:preferences the headers will be nice to have in surfaced results.",
    "authour" : "sfranks@mozilla.com",
    "created" : "2015-01-30T17:07:39Z"
  }, {
    "text" : "Per comment #1",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-30T17:26:47Z"
  }, {
    "text" : "Created attachment 8557460\nadd header for DRM checkbox, fix link alignment,\n\nI took the opportunity to fix the alignment of the 'learn more' link (it was 4px out compared to the buttons horizontally, and it was aligned differently in the row than the checkbox text meaning it was off vertically).",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-01-31T10:38:24Z"
  }, {
    "text" : "Comment on attachment 8557460\nadd header for DRM checkbox, fix link alignment,\n\nReview of attachment 8557460:\n-----------------------------------------------------------------\n\n::: browser/locales/en-US/chrome/browser/preferences/content.dtd\n@@ +42,5 @@\n>    -->\n>  <!ENTITY translation.options.attribution.beforeLogo \"Translations by\">\n>  <!ENTITY translation.options.attribution.afterLogo \"\">\n>  \n> +<!ENTITY  drmContent.label             \"DRM content\">\n\nI feel like this must run afoul of some regulation from the Department of Redundancy Department... A \"DRM content\" label in the \"content\" tabs of prefs for a \"play DRM content\" pref.\n\nBut I don't have a better suggestion. (Just \"DRM\" crossed my mind, but then we've got a weird / jargony 3-character header.)",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-02-03T22:14:03Z"
  }, {
    "text" : "Inclusive of the redundancy inclusive*:\n\nremote:   https://hg.mozilla.org/integration/fx-team/rev/1c1df7f43de0\n\n\n* I'm sorry, I'm not as good at this as you are.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-05T12:21:13Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/1c1df7f43de0\nhttps://hg.mozilla.org/mozilla-central/rev/4d5442b5f446",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-05T22:19:39Z"
  }, {
    "text" : "Uplifted in bug 1136165.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-05T00:11:50Z"
  }, {
    "text" : "- (2015-03-05) (Fx37) https://hg.mozilla.org/releases/mozilla-beta/rev/4d6e9e4e5e87",
    "authour" : "mcdavis941.bugs@gmail.com",
    "created" : "2015-04-03T01:32:10Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:26:47Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:39Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:39Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "sfranks@mozilla.com",
      "date" : "2015-01-30T17:07:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sfranks@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:25:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:25:52Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "2"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:25:52Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:25:52Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:26:47Z",
      "what" : "summary",
      "removed" : "Figure out whether popup blocking and DRM checkboxe under Preferences -> Content need a header",
      "added" : "Have headers in in-content prefs for both the DRM checkbox and the popup controls under Preferences -> Content"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-30T19:46:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-31T10:38:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dolske@mozilla.com"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-05T12:21:13Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "jmoradi@mozilla.com",
      "date" : "2015-02-05T16:23:15Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmoradi@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:39Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:39Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:39Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-05 14:19:39"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-05T22:19:39Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-24T15:28:23Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1136165"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-05T00:11:50Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mcdavis941.bugs@gmail.com",
      "date" : "2015-04-03T01:32:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mcdavis941.bugs@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-30T17:26:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-01-31T10:38:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dolske@mozilla.com",
      "date" : "2015-02-03T22:14:03Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dolske@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127288,
  "cclist" : [ "dolske@mozilla.com", "gijskruitbosch+bugs@gmail.com", "jmoradi@mozilla.com", "mcdavis941.bugs@gmail.com", "mmucci@mozilla.com", "sfranks@mozilla.com" ]
}, {
  "component" : "Session Restore",
  "summary" : "Clean up sessionstore tests",
  "reporter" : "ttaubert@mozilla.com",
  "assigned" : "ttaubert@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I just stumbled upon a test that's still using the about:newtab TestRunner (meh). Getting rid of that isn't hard as the test is already async fortunately. Let's clean up some more old helper functions while we're at it.",
  "comments" : [ {
    "text" : "I just stumbled upon a test that's still using the about:newtab TestRunner (meh). Getting rid of that isn't hard as the test is already async fortunately. Let's clean up some more old helper functions while we're at it.",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-01-29T10:42:19Z"
  }, {
    "text" : "Created attachment 8556408\n0001-Bug-1127264-Clean-up-sessionstore-tests.patch\n\nThis patch does the following:\n\n1) Removes whenBrowserLoaded() and replaces it with promiseBrowserLoaded(). Remove whenTabRestored() and replace it with promiseTabRestored().\n\n2) Gets rid of the about:newtab TestRunner().\n\n3) Fixes a place that was using promiseBrowserLoaded() where it should have been waiting for promiseBrowserRestored(). Not a big difference in that specific test but certainly more correct.\n\n4) Combines setTabState() & promiseTabRestored() calls into promiseTabState().\n\n5) Refactores browser_819510_perwindowpb.js which invented its own TestRunner.\n\n6) Adds forgetClosedWindows() to head.js as a helper function to forget all closed windows.\n\n7) Removes some unused helper functions: whenBrowserUnloaded(), promiseBrowserUnloaded(), and loadPage().\n\n\nI know this won't be super fun to review (sorry!) but I thought it was important to at least do a little cleanup after our tests can be so much nicer with add_task() and Promises now.",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-01-29T11:16:36Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=9505702cfcc1",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-01-29T11:19:43Z"
  }, {
    "text" : "Comment on attachment 8556408\n0001-Bug-1127264-Clean-up-sessionstore-tests.patch\n\nReview of attachment 8556408:\n-----------------------------------------------------------------\n\n::: browser/components/sessionstore/test/browser_586068-browser_state_interrupted.js\n@@ +85,3 @@\n>  \n> +      // Remove the progress listener from this window, it will be removed from\n> +      // theWin when that window is closed (in setBrowserState).\n\nIf we're touching this anyways might as well fix up the typo.\n\n::: browser/components/sessionstore/test/browser_819510_perwindowpb.js\n@@ +116,1 @@\n>  }\n\nThis test is much nicer now :)",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-01-29T17:47:42Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/4f22f76a622d",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-01-29T18:12:21Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/4f22f76a622d",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T23:30:16Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:59:12Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:16Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:16Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:58:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttaubert@mozilla.com"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:59:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:59:12Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "3"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:59:12Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:59:12Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ttaubert@mozilla.com"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T11:16:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "smacleod@mozilla.com"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:16Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:16Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 15:30:16"
    } ],
    "flagEvents" : [ {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T10:59:12Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-01-29T11:16:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556408,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-01-29T17:47:42Z",
      "what" : "flagtypes.name",
      "removed" : "review?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556408,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127264,
  "cclist" : [ "mmucci@mozilla.com", "smacleod@mozilla.com", "ttaubert@mozilla.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "Remove the hard-coded list of highlighters",
  "reporter" : "zer0@mozilla.com",
  "assigned" : "zer0@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Currently we have the custom highlighters' list hard-coded in two different places (highlighter.js and root.js); we should make highlighters be able to register themselves, so that those two list won't be necessary anymore, make easier to maintain for us, and make possible for developers implement their own highlighters.",
  "comments" : [ {
    "text" : "Currently we have the custom highlighters' list hard-coded in two different places (highlighter.js and root.js); we should make highlighters be able to register themselves, so that those two list won't be necessary anymore, make easier to maintain for us, and make possible for developers implement their own highlighters.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-01-29T09:10:48Z"
  }, {
    "text" : "Created attachment 8556983\nhighlighter-list.patch",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-01-30T08:54:14Z"
  }, {
    "text" : "Comment on attachment 8556983\nhighlighter-list.patch\n\nReview of attachment 8556983:\n-----------------------------------------------------------------\n\nCool! These changes look good to me.\nAs discussed in person today, I only have a few nits and I know you have a patch to correct those.\nI have tested the patch locally both on the same desktop version and remotely connected to an older backend, everything worked as expected.\nSo, r=me with the discussed nit changes.\nLet's push to try to see if everything's fine.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T09:59:25Z"
  }, {
    "text" : "Created attachment 8557068\nhighlighter-list2.patch",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-01-30T12:30:51Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=c722a3bc9add",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-01-30T12:43:15Z"
  }, {
    "text" : "Created attachment 8557095\nhighlighter-list3.patch\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=5842f3692b21",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-01-30T14:23:37Z"
  }, {
    "text" : "Alright, great work Matteo, try is all green, patch is R+. You can either push the patch to fx-team if you can or add the checkin-needed keyword to the bug.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T20:28:58Z"
  }, {
    "text" : "CCing bgrins and miker: I think you should know about this change. With this patch, it'll be easier for addons to register new highlighters as the list of supported highlighters isn't hard-coded anymore. Highlighter classes register themselves instead.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-01-30T20:30:29Z"
  }, {
    "text" : "I'll check with Joe about my permission to push on the repo! In the meantime, checkin-needed. :)",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-02-02T08:01:32Z"
  }, {
    "text" : "Hi, this patch didn't apply cleanly:\n\nadding 1127238 to series file\nrenamed 1127238 -> highlighter-list3.patch\napplying highlighter-list3.patch\npatching file toolkit/devtools/gcli/commands/highlight.js\nHunk #1 FAILED at 1\n1 out of 1 hunks FAILED -- saving rejects to file toolkit/devtools/gcli/commands/highlight.js.rej\n\ncould you take a look, thanks!",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-02T08:13:42Z"
  }, {
    "text" : "Comment on attachment 8557095\nhighlighter-list3.patch\n\nReview of attachment 8557095:\n-----------------------------------------------------------------\n\nI like this approach... awesome work!",
    "authour" : "mratcliffe@mozilla.com",
    "created" : "2015-02-02T11:22:47Z"
  }, {
    "text" : "Created attachment 8558474\nhighlighter-list4.patch",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-02-03T12:07:34Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/2dc360586545",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-04T00:24:44Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2dc360586545",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-04T13:53:55Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-30T20:29:09Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:53:55Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:53:55Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-29T09:11:00Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "zer0@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-30T08:54:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-30T12:31:32Z",
      "what" : "attachments.isobsolete:8556983",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-30T14:23:37Z",
      "what" : "attachments.isobsolete:8557068",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-30T20:30:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com, mratcliffe@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-02T08:01:32Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-02T08:13:42Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-02T08:13:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cbook@mozilla.com, zer0@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-03T12:07:34Z",
      "what" : "attachments.isobsolete:8557095",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-03T12:07:49Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-04T00:24:44Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-04T00:24:44Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:53:55Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:53:55Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-04T13:53:55Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-04 05:53:55"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-12T16:36:42Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1132255"
    } ],
    "flagEvents" : [ {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-30T08:54:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556983,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-01-30T09:59:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556983,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-30T12:30:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557068,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-01-30T14:23:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557095,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-02T08:13:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-02T11:22:47Z",
      "what" : "flagtypes.name",
      "removed" : "review+",
      "added" : "",
      "attachmentId" : 8557095,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mratcliffe@mozilla.com",
      "date" : "2015-02-02T11:23:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557095,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-03T12:07:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(zer0@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-03T12:07:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558474,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127238,
  "cclist" : [ "bgrinstead@mozilla.com", "cbook@mozilla.com", "mratcliffe@mozilla.com", "pbrosset@mozilla.com", "zer0@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "Create a Vsync Source on Windows",
  "reporter" : "mchang@mozilla.com",
  "assigned" : "mchang@mozilla.com",
  "created" : null,
  "operatingSystem" : "Windows 7",
  "hardware" : "x86_64",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We have hardware vsync sources on OSX + b2g. Create the same thing on Windows platforms.",
  "comments" : [ {
    "text" : "We have hardware vsync sources on OSX + b2g. Create the same thing on Windows platforms.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-29T01:27:48Z"
  }, {
    "text" : "From an initial investigation with windows outside of Firefox, using the WaitForVBlank API - https://msdn.microsoft.com/en-us/library/windows/desktop/bb174559%28v=vs.85%29.aspx. \n\nIt looks like Windows makes it pretty explicit about which GPU and monitor we're on and it waits for vblank on a specific monitor/GPU combination. It also blocks the current thread rather than making a dedicated vsync thread like OSX/b2g. Thus the vsync message may be bad for specific gpu/monitor combinations whereas OS X has a specific vsync rate that works across all connected monitors. \n\nThe option I'm going to try is to create a new nsThread like the Software vsync thread that WaitForVblank and sends a vsync notification. The problem with this is that it is noisy compared to the other platforms. We'll have to get the TimeStamp of when the thread woke up instead of when the vsync actually occurred. From limited testing, this is still better than software timers, but much noiser than OS X. e.g. 16.64-16.68 ms ranges from my limited, non stress-tested testing.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-29T22:23:28Z"
  }, {
    "text" : "On platforms where the Desktop Window Manager (DWM) exists (Windows Vista and up) and is enabled (guaranteed on Windows 8 and up), DwmGetCompositionTimingInfo [1] should give you the QueryPerformanceCounter timestamp of the last VBlank (or the timestamp of the last composition, which may be more relevant). There's also DwmFlush [2], which does something similar to WaitForVBlank (but I'm not sure how they compare exactly).\n\nAlso, does DXGI require Direct3D 10+ hardware?\n\n[1] https://msdn.microsoft.com/en-us/library/windows/desktop/aa969514.aspx\n[2] https://msdn.microsoft.com/en-us/library/windows/desktop/dd389405.aspx",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-01-29T22:38:13Z"
  }, {
    "text" : "(In reply to Emanuel Hoogeveen [:ehoogeveen] from comment #2)\n> On platforms where the Desktop Window Manager (DWM) exists (Windows Vista\n> and up) and is enabled (guaranteed on Windows 8 and up),\n> DwmGetCompositionTimingInfo [1] should give you the QueryPerformanceCounter\n> timestamp of the last VBlank (or the timestamp of the last composition,\n> which may be more relevant). There's also DwmFlush [2], which does something\n> similar to WaitForVBlank (but I'm not sure how they compare exactly).\n> \n> Also, does DXGI require Direct3D 10+ hardware?\n> \n> [1] https://msdn.microsoft.com/en-us/library/windows/desktop/aa969514.aspx\n> [2] https://msdn.microsoft.com/en-us/library/windows/desktop/dd389405.aspx\n\nI don't know if DXGI requires D3D 10+ hardware, but requires D3D10. D3D10 looks like Windows Vista, so I think it's probably a safe assumption? I can't find the link, but I think in the worst case, windows falls back to a software display.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-29T23:05:02Z"
  }, {
    "text" : "(In reply to Emanuel Hoogeveen [:ehoogeveen] from comment #2)\n> On platforms where the Desktop Window Manager (DWM) exists (Windows Vista\n> and up) and is enabled (guaranteed on Windows 8 and up),\n> DwmGetCompositionTimingInfo [1] should give you the QueryPerformanceCounter\n> timestamp of the last VBlank (or the timestamp of the last composition,\n> which may be more relevant). There's also DwmFlush [2], which does something\n> similar to WaitForVBlank (but I'm not sure how they compare exactly).\n> \n> Also, does DXGI require Direct3D 10+ hardware?\n> \n> [1] https://msdn.microsoft.com/en-us/library/windows/desktop/aa969514.aspx\n> [2] https://msdn.microsoft.com/en-us/library/windows/desktop/dd389405.aspx\n\nThanks for these tips! So I tried DwmGetCompositionTimingInfo which gives us the last timestamp of the previous composite, but it doesn't actually wait for a vsync, so it would be useful to ensure clean timestamps. I also tried DwmFlush, which is similar to WaitForVBlank but much noiser in terms of when it wakes up than WaitForVBlank. The problem is that WaitForVBlank actually kills the whole system, which I'm not sure why. Still investigating, maybe a combination of DwmFlush + getting the timestamp from [1] may be the right way to go.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-30T17:41:33Z"
  }, {
    "text" : "So the Dwm should be calling WaitForVBlank so I'm surprised that having another process call it would ruin the system.",
    "authour" : "jmuizelaar@mozilla.com",
    "created" : "2015-01-30T20:43:06Z"
  }, {
    "text" : "(In reply to Jeff Muizelaar [:jrmuizel] from comment #5)\n> So the Dwm should be calling WaitForVBlank so I'm surprised that having\n> another process call it would ruin the system.\n\nYes... I am very confused. Actually creating a separate vsync thread that just does this:\n\nfor (;;) {\n  if (!vsyncEnabled) return;\n  IDXGIOutput::WaitForVBlank();\n}\n\nKills the whole thing. BUT doing this spin loop:\n\nfor (;;) {\n  if (!vsyncEnabled) return;\n  sleep(1);\n  IDXGIOutput::WaitForVBlank();\n}\n\nWorks just fine....",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-30T20:47:04Z"
  }, {
    "text" : "Is WaitForVBlank actually working? or is the loop spinning a lot more without the sleep?",
    "authour" : "jmuizelaar@mozilla.com",
    "created" : "2015-01-30T21:04:26Z"
  }, {
    "text" : "(In reply to Jeff Muizelaar [:jrmuizel] from comment #7)\n> Is WaitForVBlank actually working? or is the loop spinning a lot more\n> without the sleep?\n\nYeah the WaitForVBlank is actually working. I ran Firefox through VTune and the thread is actually still sleeping without the sleep. So it's not spin looping CPU.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-30T21:05:57Z"
  }, {
    "text" : "Created attachment 8557432\nCreate Windows Vsync Source\n\nCreate a hardware vsync source using DwmFlush and DwmGetCompositionTimingInfo. This creates a separate thread that just loops forever for DwmFlushes() and grabs the last vblank time from DwmGetCompositionTimingInfo. This works pretty well on my windows machine whereas WaitForVBlank doesn't.\n\n@Bas - I was having problems getting WaitForVBlank to work correctly. Just creating a new vsync thread + calling IDXGIOutput->WaitForVBlank() and doing nothing else in a loop killed performance on Firefox. I couldn't type anything or load any menus. Interestingly, if I put a sleep(1); WaitForVBlank(), everything worked fine. Any thoughts on why this could occur? I already verified that the thread is actually sleeping and not using CPU in vtune.\n\nSomething that may help is that we create the Vsync thread during gfxPlatform creation time. So during gfxPlatform::init(), I get the adapter via GetDXGIAdapter(). Then in the vsync thread loop:\n\nIDXGIOutput mOutput;\nGetDXGIAdapter()->EnumOutputs(0, mOutput);\n\nvsync loop:\nfor (;;) {\n  mOutput->WaitForVBlank().\n}\n\nI have a feeling that I'm just using it too early or calling it in some bad context. Any hints would be very useful. Thanks!",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T02:38:24Z"
  }, {
    "text" : "Comment on attachment 8557432\nCreate Windows Vsync Source\n\nReview of attachment 8557432:\n-----------------------------------------------------------------\n\n::: gfx/thebes/gfxWindowsPlatform.cpp\n@@ +1943,5 @@\n> +          }\n> +\n> +          // Use a combination of DwmFlush + DwmGetCompositionTimingInfoPtr\n> +          // The qpcVBlank is always AFTER Now(), so it behaves like b2g\n> +          // Using mPrimaryDisplay->WaitForVBlank, the whole system dies :/\n\nUsing WaitForVBlank here produces lockups everywhere.\n\n@@ +1970,5 @@\n> +      Monitor mVsyncEnabledLock;\n> +      base::Thread* mVsyncThread;\n> +      bool mVsyncEnabled;\n> +      nsRefPtr<IDXGIAdapter1> mAdapter;\n> +      IDXGIOutput* mPrimaryDisplay;\n\nWill clean these up after figuring out if its possible to use WaitForVBlank().",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T02:41:35Z"
  }, {
    "text" : "On the plus side, this + APZ on windows while holding down the \"down\" arrow keypad browsing engadget, it's a perfectly smooth scroll with almost no jank. Without silk + APZ, engadget is super janky.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T02:43:05Z"
  }, {
    "text" : "This needs at least a check for Windows XP, since the DWM was introduced with Windows Vista. In addition, it can be turned off dynamically - you can use DwmIsCompositionEnabled [1] to check if it's active. These checks could be omitted on Windows 8+, where the DWM is always active. I assume DwmFlush will return immediately if the compositor is disabled, but I haven't tested this.\n\nIt would also be nice to have a solution for Windows XP or when the compositor is disabled. You could do this by presenting continually using a Direct3D 9 device created with a PresentationInterval of D3DPRESENT_INTERVAL_ONE [2], or do something more precise using IDirect3DDevice9::GetRasterStatus [3], Sleep and as little busy-looping as you can get away with (D3DRASTER_STATUS::ScanLine is not guaranteed to be accurate). I've had success in the past using Sleep(n), Sleep(1), Sleep(0) and SwitchToThread() and a bit of statistics, but as you can probably tell this can get hairy ;) I also understand if we choose to just ignore these situations, given that their prevalence should be decreasing.\n\n[1] https://msdn.microsoft.com/en-us/library/windows/desktop/aa969518.aspx\n[2] https://msdn.microsoft.com/en-us/library/windows/desktop/bb172588.aspx\n[3] https://msdn.microsoft.com/en-us/library/windows/desktop/bb174402.aspx",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-01-31T03:10:24Z"
  }, {
    "text" : "(In reply to Emanuel Hoogeveen [:ehoogeveen] from comment #12)\n> This needs at least a check for Windows XP, since the DWM was introduced\n> with Windows Vista. In addition, it can be turned off dynamically - you can\n> use DwmIsCompositionEnabled [1] to check if it's active. These checks could\n> be omitted on Windows 8+, where the DWM is always active. I assume DwmFlush\n> will return immediately if the compositor is disabled, but I haven't tested\n> this.\n> \n> It would also be nice to have a solution for Windows XP or when the\n> compositor is disabled. You could do this by presenting continually using a\n> Direct3D 9 device created with a PresentationInterval of\n> D3DPRESENT_INTERVAL_ONE [2], or do something more precise using\n> IDirect3DDevice9::GetRasterStatus [3], Sleep and as little busy-looping as\n> you can get away with (D3DRASTER_STATUS::ScanLine is not guaranteed to be\n> accurate). I've had success in the past using Sleep(n), Sleep(1), Sleep(0)\n> and SwitchToThread() and a bit of statistics, but as you can probably tell\n> this can get hairy ;) I also understand if we choose to just ignore these\n> situations, given that their prevalence should be decreasing.\n> \n> [1] https://msdn.microsoft.com/en-us/library/windows/desktop/aa969518.aspx\n> [2] https://msdn.microsoft.com/en-us/library/windows/desktop/bb172588.aspx\n> [3] https://msdn.microsoft.com/en-us/library/windows/desktop/bb174402.aspx\n\nAhh good to know! I think realistically, on windows XP we'll just fallback to software vsync and not use hardware vsync. Software vsync is already implemented here - https://dxr.mozilla.org/mozilla-central/source/gfx/thebes/SoftwareVsyncSource.cpp?from=SoftwareVsyncSource.cpp&case=true#1",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T03:31:55Z"
  }, {
    "text" : "That will no doubt cause tearing, but then I doubt the approach of 'notify a thread that VBlank has happened, and so we should paint in time for the next one' is really amenable to presenting *inside* VBlank - unless it can be done in less than 0.5ms. You'd want your actual Present() call in the VSync thread for that.",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-01-31T03:46:24Z"
  }, {
    "text" : "Oh, though if I recall correctly we already create devices with D3DPRESENT_INTERVAL_ONE / D3DPRESENT_INTERVAL_DEFAULT or the Direct3D 10+ equivalent, so that will probably prevent tearing. We'll just drop paint notifications on the floor every now and then (as 60fps tends to be slightly faster than the actual refresh rate).",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-01-31T03:49:45Z"
  }, {
    "text" : "Mason, I might have missed that on one of the other bugs, but does the new system support \"vsync off\" style iterations for performance tests? Right now \"ASAP mode\" (vsync off to iterate as fast as possible) is used extensively in our performance tests because it's a great indication of how fast the system can iterate animations and other rendering iterations.\n\nIs it supported? How would such mode be triggered? Maybe using software mode with very high frequency? or maybe an explicit mode where it iterates as fast as possible?\n\nFWIW, currently it's controlled using the pref layout.frame_rate where -1 is the default (use vsync if available or 60hz otherwise), a positive number is an explicit frequency, and 0 is ASAP mode.",
    "authour" : "avihpit@yahoo.com",
    "created" : "2015-01-31T07:45:46Z"
  }, {
    "text" : "(In reply to Avi Halachmi (:avih) from comment #16)\n> Mason, I might have missed that on one of the other bugs, but does the new\n> system support \"vsync off\" style iterations for performance tests? Right now\n> \"ASAP mode\" (vsync off to iterate as fast as possible) is used extensively\n> in our performance tests because it's a great indication of how fast the\n> system can iterate animations and other rendering iterations.\n> \n> Is it supported? How would such mode be triggered? Maybe using software mode\n> with very high frequency? or maybe an explicit mode where it iterates as\n> fast as possible?\n> \n> FWIW, currently it's controlled using the pref layout.frame_rate where -1 is\n> the default (use vsync if available or 60hz otherwise), a positive number is\n> an explicit frequency, and 0 is ASAP mode.\n\nAhh good timing, I was going to ping you about it soon. I have to think a bit more about how to do this. Knowing that the tests are controlled with that pref is good to know! I suspect in the short term, we can just not use hardware vsync if that pref is set to -1, so all the old code paths will still execute. In the long run, we may have to use a software mode with a high frequency, but that would be kind of ugly right now. I'll have to think about it more.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T15:29:39Z"
  }, {
    "text" : "(In reply to Emanuel Hoogeveen [:ehoogeveen] from comment #14)\n> That will no doubt cause tearing, but then I doubt the approach of 'notify a\n> thread that VBlank has happened, and so we should paint in time for the next\n> one' is really amenable to presenting *inside* VBlank - unless it can be\n> done in less than 0.5ms. You'd want your actual Present() call in the VSync\n> thread for that.\n\nHmm, yeah we shouldn't have tearing with software vsync. Even with the current implementation (not silk), everything is on software timers and the vsync notifications we get in the refresh driver aren't really waiting on vsync. It tries to predict the next vsync but still uses a software timer to schedule the next paint. I think we use Present(0) to wait for the next frame in the compositor to prevent tearing. Lumping the compositor and refresh driver into 1 software timer shouldn't cause anymore tearing than what we already have without silk since both are already on independent software timers.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-01-31T15:35:06Z"
  }, {
    "text" : "Created attachment 8558045\nWaitForVBlank Implementation\n\nCreates and enables silk on Windows using the WaitForVBlank() implementation.\n\n@David - Jeff suggested I try this on another machine to see if it also locks up. Can you please try this patch locally and see if everything becomes 10x slower? Thanks!",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-02T19:22:05Z"
  }, {
    "text" : "Created attachment 8558047\nDwmFlush implementation\n\nIf attachment 8558045, WaitForVBlank is really slow, can you please try this implementation? It uses DwmFlush instead. Just some verification that it doesn't slow down Firefox is enough. Thanks!",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-02T19:26:06Z"
  }, {
    "text" : "Comment on attachment 8558045\nWaitForVBlank Implementation\n\nReview of attachment 8558045:\n-----------------------------------------------------------------\n\nYes indeed, that's very strange. It seems like vblanks are being delivered at a reasonable rate... I think it's worth digging into why the main thread is blocked. I'll poke at it a bit tonight.",
    "authour" : "dvander@alliedmods.net",
    "created" : "2015-02-03T01:38:07Z"
  }, {
    "text" : "From chatting with dvander, he can reproduce the issue with WaitForVBlank and using the dwmflush method resolves the issue.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-03T02:23:41Z"
  }, {
    "text" : "Comment on attachment 8558047\nDwmFlush implementation\n\nIndeed, the DWM variant works fine for me and the WaitForVBlank version is super laggy. I tried digging into why. The furthest I was able to get tonight is that VsyncRefreshDriverTimer::RunRefreshDrivers() very often takes 200-300ms in the bad build. With the Sleep(1) it's usually much less than that. It seems like other messages that come in are getting processed fine.",
    "authour" : "dvander@alliedmods.net",
    "created" : "2015-02-03T10:32:39Z"
  }, {
    "text" : "Created attachment 8558874\nExpose DwmFlush as a proc in WinUtils.h\n\nI think we'll go with the DwmFlush + DwmGetCompositionTiming method. WaitForVBlank seems to have some internal lock that causes all d3d calls to spend most of their time waiting for locks. Plus, DwmGetCompositionTiming has more accurate timestamps due to the qpcVBlank info. \n\nPart 1 exposes the DwmFlush method in WinUtils.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T02:44:11Z"
  }, {
    "text" : "Created attachment 8558876\nPart 2: Create a Vsync Source on Windows\n\nCreates a D3DVsyncSource in gfxWindowsPlatform if dwm is enabled, otherwise falls back to software vsync. Since DwmFlush halts the current thread, we create a new thread that calls DwmFlush, much like the SoftwareVsync thread.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T02:45:24Z"
  }, {
    "text" : "Created attachment 8558877\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nUses DwmGetCompositionTime in the vsync thread to grab the last vsync time. Then adjusts the vsync timestamp from Now() to when the qpcVBlank occurred. An alternative to adjusting the vsync timestamp would be to implement a direct TimeStamp_Value in TimeStamp_windows.cpp.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T02:48:53Z"
  }, {
    "text" : "Comment on attachment 8558877\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nReview of attachment 8558877:\n-----------------------------------------------------------------\n\n::: gfx/thebes/gfxWindowsPlatform.cpp\n@@ +1946,5 @@\n> +        LARGE_INTEGER qpcNow;\n> +        LARGE_INTEGER frequency;\n> +        QueryPerformanceFrequency(&frequency);\n> +        TimeStamp vsync = TimeStamp::Now();\n> +        TimeStamp prev = TimeStamp::Now();\n\nwill delete this prev, just realized it's here.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T02:49:44Z"
  }, {
    "text" : "Created attachment 8558878\nPart 4: Update TimeStamp::FromSystemTime comment to include windows",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T02:50:15Z"
  }, {
    "text" : "This is hinted at elsewhere in this bug but I figured I'd make it explicit. What is likely happening when we call WaitForVBlank is that we take a DXGI lock and that blocks us from making progress elsewhere. It seems reasonable to assume that WaitForVBlank is intended to be called on the same thread as is doing the Present. (I think I may be able to confirm that this is what the DWM does).\n\nStarting in Windows 8.1 it may make sense to use the GetFrameLatencyWaitableObject method but I haven't looked in detail https://msdn.microsoft.com/en-us/library/windows/apps/dn448914.aspx",
    "authour" : "jmuizelaar@mozilla.com",
    "created" : "2015-02-04T06:51:01Z"
  }, {
    "text" : "Comment on attachment 8558877\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nReview of attachment 8558877:\n-----------------------------------------------------------------\n\n::: gfx/thebes/gfxWindowsPlatform.cpp\n@@ +1959,5 @@\n> +          // Use a combination of DwmFlush + DwmGetCompositionTimingInfoPtr\n> +          // The qpcVBlank is always AFTER Now(), so it behaves like b2g\n> +          // Using WaitForVBlank, the whole system locks due to lock contention in WaitForVBlank\n> +          WinUtils::dwmFlushProcPtr();\n> +          HRESULT hr = WinUtils::dwmGetCompositionTimingInfoPtr(0, &vblankTime);\n\nThe first parameter is HWND to the window we're interested at, which implies the monitor we're getting the info for (in case of multiple monitors).\n\n0 is IIRC half-documented way to get the desktop window, which means that the info will apply only to the main monitor. The current implementation of windows vsync ended up with 0 since it was hard to get the handle to the actual window.\n\nHowever, apparently with Windows 8.1 it must be 0, which I guess will end up with windows choosing the window according to the process which makes this API call - https://msdn.microsoft.com/en-us/library/windows/desktop/aa969514%28v=vs.85%29.aspx\n\nAlso, IIRC the first 1/few calls to to this API can end up without results, so if this happens - we shouldn't disable HW timing forever and try few more times before we're giving up.",
    "authour" : "avihpit@yahoo.com",
    "created" : "2015-02-04T08:52:37Z"
  }, {
    "text" : "(In reply to Jeff Muizelaar [:jrmuizel] from comment #29)\n> This is hinted at elsewhere in this bug but I figured I'd make it explicit.\n> What is likely happening when we call WaitForVBlank is that we take a DXGI\n> lock and that blocks us from making progress elsewhere. It seems reasonable\n> to assume that WaitForVBlank is intended to be called on the same thread as\n> is doing the Present. \n> \n> Starting in Windows 8.1 it may make sense to use the\n> GetFrameLatencyWaitableObject method but I haven't looked in detail\n> https://msdn.microsoft.com/en-us/library/windows/apps/dn448914.aspx\n\nAhh thanks for that link. Actually it's explicit in that doc:\n\n\"With the flip model swap chain, back buffer \"flips\" are queued whenever your game calls IDXGISwapChain::Present. When the rendering loop calls Present(), the system blocks the thread until it is done presenting a prior frame, making room to queue up the new frame, before it actually presents.\" I think you're right, WaitForVBLank is intended to be called on the same thread.\n\n> (I think I may be able to confirm that this is what the DWM does).\nI traced through the dissassembly of DwmFlush and ran it through a vtune. I don't see WaitForVBlank ever called in the DwmFlush mechanism and didn't see it in the disassembly, but I might have done a mis-step while debugging. I do think it uses a different path since WaitForVBlank waits for a hardware signal whereas DwmFlush is when all surface updates have been done, not necessarily vblank I think.\n\n> Starting in Windows 8.1 it may make sense to use the\n> GetFrameLatencyWaitableObject method but I haven't looked in detail\n> https://msdn.microsoft.com/en-us/library/windows/apps/dn448914.aspx\n\nAhh that would be very nice. Do we know if we want to do that since it isn't backwards compatible to Windows 7? I'd rather not do two vsync implementations.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T17:07:00Z"
  }, {
    "text" : "(In reply to Avi Halachmi (:avih) from comment #30)\n> Comment on attachment 8558877\n> Part 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n> \n> Review of attachment 8558877:\n> -----------------------------------------------------------------\n> \n> ::: gfx/thebes/gfxWindowsPlatform.cpp\n> @@ +1959,5 @@\n> > +          // Use a combination of DwmFlush + DwmGetCompositionTimingInfoPtr\n> > +          // The qpcVBlank is always AFTER Now(), so it behaves like b2g\n> > +          // Using WaitForVBlank, the whole system locks due to lock contention in WaitForVBlank\n> > +          WinUtils::dwmFlushProcPtr();\n> > +          HRESULT hr = WinUtils::dwmGetCompositionTimingInfoPtr(0, &vblankTime);\n> \n> The first parameter is HWND to the window we're interested at, which implies\n> the monitor we're getting the info for (in case of multiple monitors).\n> \n> 0 is IIRC half-documented way to get the desktop window, which means that\n> the info will apply only to the main monitor. The current implementation of\n> windows vsync ended up with 0 since it was hard to get the handle to the\n> actual window.\n> \n> However, apparently with Windows 8.1 it must be 0, which I guess will end up\n> with windows choosing the window according to the process which makes this\n> API call -\n> https://msdn.microsoft.com/en-us/library/windows/desktop/aa969514%28v=vs.\n> 85%29.aspx\n\nYeah, I chose 0 since it's explicit that it must be 0 in newer versions of windows. \n\n> Also, IIRC the first 1/few calls to to this API can end up without results,\n> so if this happens - we shouldn't disable HW timing forever and try few more\n> times before we're giving up.\n\nYea, this code checks to ensure that the call succeeded, otherwise we just use the current TimeStamp, which is when the thread woke up and not the actual vblank time.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T17:08:48Z"
  }, {
    "text" : "Comment on attachment 8558877\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nReview of attachment 8558877:\n-----------------------------------------------------------------\n\nI don't know anything about windows APIs, so I can't really provide any feedback here. But the way it's integrated into the vsync framework looks ok.",
    "authour" : "bugmail@mozilla.staktrace.com",
    "created" : "2015-02-04T17:09:51Z"
  }, {
    "text" : "Comment on attachment 8558876\nPart 2: Create a Vsync Source on Windows\n\nReview of attachment 8558876:\n-----------------------------------------------------------------\n\n::: gfx/thebes/gfxWindowsPlatform.cpp\n@@ +1909,5 @@\n> +        }\n> +\n> +        MOZ_RELEASE_ASSERT(mVsyncThread->Start(), \"Could not start Windows vsync thread\");\n> +        CancelableTask* vsyncStart = NewRunnableMethod(this,\n> +            &D3DVsyncDisplay::VBlankLoop);\n\nThis function doesn't exist. Please try to split patches so that no parts depend on future parts.",
    "authour" : "bugmail@mozilla.staktrace.com",
    "created" : "2015-02-04T17:10:19Z"
  }, {
    "text" : "(In reply to Kartikaya Gupta (email:kats@mozilla.com) from comment #34)\n> Comment on attachment 8558876\n> Part 2: Create a Vsync Source on Windows\n> \n> Review of attachment 8558876:\n> -----------------------------------------------------------------\n> \n> ::: gfx/thebes/gfxWindowsPlatform.cpp\n> @@ +1909,5 @@\n> > +        }\n> > +\n> > +        MOZ_RELEASE_ASSERT(mVsyncThread->Start(), \"Could not start Windows vsync thread\");\n> > +        CancelableTask* vsyncStart = NewRunnableMethod(this,\n> > +            &D3DVsyncDisplay::VBlankLoop);\n> \n> This function doesn't exist. Please try to split patches so that no parts\n> depend on future parts.\n\nAhh yeah, but from comment 33, I tried to extract the Windows API parts from the VsyncSource parts. I thought this time it would be appropriate.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-04T17:12:59Z"
  }, {
    "text" : "Comment on attachment 8558877\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nIf you don't mind, I have some questions about this patch.\n\n> +          if (hr == S_OK) {\n\nThe DWM can be disabled dynamically, either by the user or by starting a program that does not support it (such as some games or VNC), or specifically disables it. So I think you need to handle failure here in some way, or check WinUtils::dwmIsCompositionEnabledPtr() directly. It would also be nice if we could try again at some later point, so we don't get stuck with software vsync for the whole session!\n\n> +            QPC_TIME adjust = qpcNow.QuadPart - vblankTime.qpcVBlank;\n\nIs qpcVBlank actually the value we want here? Technically I don't think we care about VBlank *itself* - we care that we're in time for the next composition. So perhaps qpcCompose or even qpcFrameDisplayed would be more suitable, assuming those report sane values.\n\n> +            MOZ_ASSERT(adjust > 0);\n\nIsn't it conceivable that vblank *just* started, and we managed to call QPC before its value changed? More seriously, IIRC QPC values are not guaranteed to be in sync across threads, so this assertion might trip. I would expect the actual difference to be negligible.",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-02-04T20:34:09Z"
  }, {
    "text" : "Comment on attachment 8558877\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nReview of attachment 8558877:\n-----------------------------------------------------------------\n\n::: gfx/thebes/gfxWindowsPlatform.cpp\n@@ +1934,5 @@\n>          MonitorAutoLock lock(mVsyncEnabledLock);\n>          return mVsyncEnabled;\n>        }\n>  \n> +      void VBlankLoop()\n\nWhat is the overhead of this loop? How do talos numbers look?\n\n@@ +1961,5 @@\n> +          // Using WaitForVBlank, the whole system locks due to lock contention in WaitForVBlank\n> +          WinUtils::dwmFlushProcPtr();\n> +          HRESULT hr = WinUtils::dwmGetCompositionTimingInfoPtr(0, &vblankTime);\n> +          vsync = TimeStamp::Now();\n> +          if (hr == S_OK) {\n\nuse SUCCEEDED(hr) here.",
    "authour" : "jmathies@mozilla.com",
    "created" : "2015-02-04T20:46:43Z"
  }, {
    "text" : "(In reply to Emanuel Hoogeveen [:ehoogeveen] from comment #36)\n> Comment on attachment 8558877\n> Part 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n> \n> If you don't mind, I have some questions about this patch.\n> \n> > +          if (hr == S_OK) {\n> \n> The DWM can be disabled dynamically, either by the user or by starting a\n> program that does not support it (such as some games or VNC), or\n> specifically disables it. So I think you need to handle failure here in some\n> way, or check WinUtils::dwmIsCompositionEnabledPtr() directly. It would also\n> be nice if we could try again at some later point, so we don't get stuck\n> with software vsync for the whole session!\n\nOh that's terrible, ok thanks. I'll rework this patch to incorporate this feedback, thanks!\n\n> > +            QPC_TIME adjust = qpcNow.QuadPart - vblankTime.qpcVBlank;\n> \n> Is qpcVBlank actually the value we want here? Technically I don't think we\n> care about VBlank *itself* - we care that we're in time for the next\n> composition. So perhaps qpcCompose or even qpcFrameDisplayed would be more\n> suitable, assuming those report sane values.\n\nI'll double check these values tomorrow. I actually do think we care about vblank itself and not necessarily when we composites. If we have variable length composites, we would also get variable length timestamps, which isn't what we want, but I'll check again tomorrow.\n\n> \n> > +            MOZ_ASSERT(adjust > 0);\n> \n> Isn't it conceivable that vblank *just* started, and we managed to call QPC\n> before its value changed? More seriously, IIRC QPC values are not guaranteed\n> to be in sync across threads, so this assertion might trip. I would expect\n> the actual difference to be negligible.\n\nHm, I guess yes that is conceivable. I don't know the inner workings of DwmGetCompositionTimingInfoPtr if it blocks to sync QPC or not, but yes, I can delete this.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-05T01:32:17Z"
  }, {
    "text" : "(In reply to Jim Mathies [:jimm] from comment #37)\n> Comment on attachment 8558877\n> Part 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n> \n> Review of attachment 8558877:\n> -----------------------------------------------------------------\n> \n> ::: gfx/thebes/gfxWindowsPlatform.cpp\n> @@ +1934,5 @@\n> >          MonitorAutoLock lock(mVsyncEnabledLock);\n> >          return mVsyncEnabled;\n> >        }\n> >  \n> > +      void VBlankLoop()\n> \n> What is the overhead of this loop? How do talos numbers look?\n\nThe overhead should be rather small, otherwise we would have lots of problems! It only posts tasks on other threads. On my Macbook Pro on OS X (which has the exact same loop, just listening to vsync), it usually takes ~0.01 milliseconds. Even with ~10 windows open, still only takes ~0.02 milliseconds. The DwmFlush puts the thread to sleep so it's not burning CPU. We already do the same thing with software timers in the refresh driver / compositor with the MessageLoop.\n\nI haven't tested on talos yet since this is always enabled by default and the talos tests always execute in ASAP mode, so they execute composites/refresh driver ticks as soon as possible. This scheduling mechanism won't be in effect for talos tests.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-05T01:48:52Z"
  }, {
    "text" : "Sorry, should say this is always disabled by default.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-05T01:49:56Z"
  }, {
    "text" : "(In reply to Mason Chang [:mchang] from comment #38)\n> I'll double check these values tomorrow. I actually do think we care about\n> vblank itself and not necessarily when we composites. If we have variable\n> length composites, we would also get variable length timestamps, which isn't\n> what we want, but I'll check again tomorrow.\n\nMy reasoning is that composition must happen *before* VBlank, so the DWM can copy or flip the buffer or whatever it does internally when VBlank does hit to avoid tearing. I would expect the DWM to have a set cutoff point, where it collects whatever presents have been queued up and merges them into a single updated surface.\n\nBut perhaps this time is dynamic, based on how much work there is for it to do. VBlank is still a nice stable source for us to use, and it should always follow composition, so perhaps it is the right thing to use here.",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-02-05T17:10:21Z"
  }, {
    "text" : "(In reply to Emanuel Hoogeveen [:ehoogeveen] from comment #41)\n> (In reply to Mason Chang [:mchang] from comment #38)\n> > I'll double check these values tomorrow. I actually do think we care about\n> > vblank itself and not necessarily when we composites. If we have variable\n> > length composites, we would also get variable length timestamps, which isn't\n> > what we want, but I'll check again tomorrow.\n> \n> My reasoning is that composition must happen *before* VBlank, so the DWM can\n> copy or flip the buffer or whatever it does internally when VBlank does hit\n> to avoid tearing. I would expect the DWM to have a set cutoff point, where\n> it collects whatever presents have been queued up and merges them into a\n> single updated surface.\n> \n> But perhaps this time is dynamic, based on how much work there is for it to\n> do. VBlank is still a nice stable source for us to use, and it should always\n> follow composition, so perhaps it is the right thing to use here.\n\nI just did some tests and using the qpcComposeTime is ~2-3x more variable than the qpcVBlankTime. It must mean that composition time is variable depending on how much work to do, which makes sense. Using qpcVBlankTime, we get std-deviations of ~0.01-~0.02ms whereas with qpcComposeTime, we get ~0.03ms - 0.07ms. This testing is done outside of Gecko. With qpcVBlankTime, we sometimes get below <0.008! Tested over 100 loop iterations, so qpcVBlankTime is the way to go for more uniform timestamps.\n\nI also tested qpcFrameDisplayed, qpcFrameComplete and qpcFrameDisplayed. All these numbers are always 0 on Windows 7, so these numbers cannot be used.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-05T18:14:50Z"
  }, {
    "text" : "Created attachment 8559970\nPart 3: Use DwmFlush and DwmGetCompositionTime in vsync thread loop\n\nUpdated with feedback from various comments. Also falls back to posting a delayed task is DwmComposition becomes disabled.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-05T19:30:53Z"
  }, {
    "text" : "Looks good on try - https://treeherder.mozilla.org/#/jobs?repo=try&revision=de3036705e68",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-13T09:15:02Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/mozilla-inbound/rev/c4061f7c9422\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9b1c4da648ca\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/6b41f4a59447\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f0649ab1c75f",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-13T09:18:12Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/c4061f7c9422\nhttps://hg.mozilla.org/mozilla-central/rev/9b1c4da648ca\nhttps://hg.mozilla.org/mozilla-central/rev/6b41f4a59447\nhttps://hg.mozilla.org/mozilla-central/rev/f0649ab1c75f",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T15:19:45Z"
  }, {
    "text" : "I'd like to point out the solution Chromium is investigating (crbug.com/467617) for Windows-based v-sync: D3DKMTWaitForVerticalBlankEvent. See https://msdn.microsoft.com/en-us/library/windows/hardware/ff547265(v=vs.85).aspx - apparently it works on Vista+ and does not depend on the DWM.",
    "authour" : "ashley@scirra.com",
    "created" : "2015-03-16T19:25:23Z"
  }, {
    "text" : "Interesting. From the Chromium bug, here's an implementation: https://gist.github.com/anonymous/4397e4909c524c939bee\n\nAside from the obvious advantage of not requiring the DWM to be active, and the other advantages listed in the Chromium bug, it would be interesting to see if it does the right thing for multiple monitors. But this discussion should probably go into a new bug.",
    "authour" : "emanuel.hoogeveen@gmail.com",
    "created" : "2015-03-24T12:23:31Z"
  }, {
    "text" : "(In reply to ashley from comment #47)\n> I'd like to point out the solution Chromium is investigating\n> (crbug.com/467617) for Windows-based v-sync:\n> D3DKMTWaitForVerticalBlankEvent. See\n> https://msdn.microsoft.com/en-us/library/windows/hardware/ff547265(v=vs.85).\n> aspx - apparently it works on Vista+ and does not depend on the DWM.\n\nAhh cool, thanks for bringing this up! I can try this in a bit to see if it helps.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-03-24T15:05:03Z"
  }, {
    "text" : "See bug 1146942.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-03-24T15:09:33Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T15:19:45Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T15:19:45Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mchang@mozilla.com",
      "date" : "2015-01-29T01:28:32Z",
      "what" : "component",
      "removed" : "Performance",
      "added" : "General"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-01-29T01:28:32Z",
      "what" : "platform",
      "removed" : "ARM",
      "added" : "x86_64"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-01-29T01:28:32Z",
      "what" : "version",
      "removed" : "unspecified",
      "added" : "Trunk"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-01-29T01:28:32Z",
      "what" : "product",
      "removed" : "Firefox OS",
      "added" : "Firefox"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-01-29T01:28:32Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "milan@mozilla.com",
      "date" : "2015-01-29T17:30:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dvander@alliedmods.net"
    }, {
      "name" : "dvander@alliedmods.net",
      "date" : "2015-01-29T19:36:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "luke@mozilla.com"
    }, {
      "name" : "emanuel.hoogeveen@gmail.com",
      "date" : "2015-01-29T22:38:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "emanuel.hoogeveen@gmail.com"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T23:42:50Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1128165"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:44:11Z",
      "what" : "attachments.isobsolete:8557432",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:44:11Z",
      "what" : "attachments.isobsolete:8558045",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:44:11Z",
      "what" : "attachments.isobsolete:8558047",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:45:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugmail.mozilla@staktrace.com"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-05T19:30:53Z",
      "what" : "attachments.isobsolete:8558877",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T15:19:45Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 07:19:45"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T15:19:45Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-20T19:25:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "mchang@mozilla.com",
      "date" : "2015-01-31T02:38:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T19:22:05Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bas@basschouten.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T19:22:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558045,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-02T19:26:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558047,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dvander@alliedmods.net",
      "date" : "2015-02-03T01:38:07Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(dvander@alliedmods.net)",
      "added" : "",
      "attachmentId" : 8558045,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dvander@alliedmods.net",
      "date" : "2015-02-03T10:32:39Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(dvander@alliedmods.net)",
      "added" : "",
      "attachmentId" : 8558047,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:44:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558874,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:45:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558876,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:48:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558877,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-04T02:50:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558878,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bugmail@mozilla.staktrace.com",
      "date" : "2015-02-04T17:09:51Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(bugmail.mozilla@staktrace.com)",
      "added" : "",
      "attachmentId" : 8558877,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bugmail@mozilla.staktrace.com",
      "date" : "2015-02-04T17:10:19Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugmail.mozilla@staktrace.com)",
      "added" : "",
      "attachmentId" : 8558876,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bugmail@mozilla.staktrace.com",
      "date" : "2015-02-04T17:10:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugmail.mozilla@staktrace.com)",
      "added" : "",
      "attachmentId" : 8558878,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-05T19:30:53Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jmuizelaar@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558877,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-05T19:30:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559970,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jmuizelaar@mozilla.com",
      "date" : "2015-02-09T05:12:56Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jmuizelaar@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558874,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jmuizelaar@mozilla.com",
      "date" : "2015-02-09T05:45:00Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jmuizelaar@mozilla.com)",
      "added" : "",
      "attachmentId" : 8559970,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127151,
  "cclist" : [ "andre.graziani@gmail.com", "arpad.borsos@googlemail.com", "ashley@scirra.com", "atilag@gmail.com", "avihpit@yahoo.com", "bas@basschouten.com", "boris.chiou@gmail.com", "bugmail@mozilla.staktrace.com", "chrislord.net@gmail.com", "cku@mozilla.com", "cmtalbert@gmail.com", "dietrich@mozilla.com", "dvander@alliedmods.net", "emanuel.hoogeveen@gmail.com", "fb+mozdev@quantumedia.de", "gal@uci.edu", "gandalf@aviary.pl", "gsvelto@mozilla.com", "harshid@gmail.com", "howareyou322@gmail.com", "hshih@mozilla.com", "itsay@mozilla.com", "jeremy.kim.leo@gmail.com", "jmathies@mozilla.com", "jmuizelaar@mozilla.com", "jsmith@mozilla.com", "kaichih.hu@gmail.com", "kairo@kairo.at", "kchang@mozilla.com", "kgilbert@mozilla.com", "luke@mozilla.com", "matt.woodrow@gmail.com", "mcastelluccio@mozilla.com", "mchang@mozilla.com", "milan@mozilla.com", "mstange@themasta.com", "m_kato@ga2.so-net.ne.jp", "nefzaoui@arabicmozilla.org", "nissan4321@gmail.com", "npark@mozilla.com", "rdandu@mozilla.com", "roc@ocallahan.org", "skamat@mozilla.com", "timbugzilla@gmail.com", "tlin@mozilla.com", "Virtual@MsgSafe.io", "vlin@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "[e10s] popup/right-click menus are showing far away from the cursor",
  "reporter" : "dkeeler@mozilla.com",
  "assigned" : "davidp99@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8556193\nscreenshot.png\n\nSTR:\n1. open a page in an e10s window\n2. right-click\n\nExpected results: the menu appears near the cursor.\nActual results: the menu does not appear near the cursor (see attached image)",
  "comments" : [ {
    "text" : "Created attachment 8556193\nscreenshot.png\n\nSTR:\n1. open a page in an e10s window\n2. right-click\n\nExpected results: the menu appears near the cursor.\nActual results: the menu does not appear near the cursor (see attached image)",
    "authour" : "dkeeler@mozilla.com",
    "created" : "2015-01-29T00:35:47Z"
  }, {
    "text" : "*** Bug 1127191 has been marked as a duplicate of this bug. ***",
    "authour" : "alice0775@yahoo.co.jp",
    "created" : "2015-01-29T07:50:16Z"
  }, {
    "text" : "I'm seeing this too (On both a Win2008R2 x64 PC and a Win2012R2 x64 VM). \n\nContext menu, select element drop-downs and the middle-click scroll cursor consistently appears ~100px vertically below the mouse pointer. They're also offset slightly to the left. Disabling E10S makes them appear in the right place.\n\nThis only happens inside the content area. Context menus appear correctly if I right-click the bookmark bar for instance. Additionally when middle-clicking, the scroll cursor appears offset from the mouse pointer.",
    "authour" : "bugzilla@planetgnarly.com",
    "created" : "2015-01-29T12:51:53Z"
  }, {
    "text" : "Created attachment 8556424\nincorrect_position_input_form.png",
    "authour" : "wtds.trabalho@gmail.com",
    "created" : "2015-01-29T12:53:30Z"
  }, {
    "text" : "resolved by backout of bug 1075670",
    "authour" : "blassey.bugs@lassey.us",
    "created" : "2015-01-29T17:31:06Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-01-29T17:31:06Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-01-29T17:31:06Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-29T02:42:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "alice0775@yahoo.co.jp"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-29T02:42:45Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075670"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-01-29T07:50:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wtds.trabalho@gmail.com"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-01-29T10:49:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "bugzilla@planetgnarly.com",
      "date" : "2015-01-29T12:51:53Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugzilla@planetgnarly.com"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-01-29T17:31:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-01-29T17:31:06Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "davidp99@gmail.com"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-01-29T17:31:06Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 09:31:06"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1127134,
  "cclist" : [ "alice0775@yahoo.co.jp", "blassey.bugs@lassey.us", "bugzilla@planetgnarly.com", "Virtual@MsgSafe.io", "wtds.trabalho@gmail.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "DetailsView.components should identify subviews by id, rather than index",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This decouples the object from the order in which nodes are defined in xul. Makes things easier to maintain and change around.",
  "comments" : [ {
    "text" : "This decouples the object from the order in which nodes are defined in xul. Makes things easier to maintain and change around.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T22:47:28Z"
  }, {
    "text" : "Created attachment 8556122\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T22:50:43Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/86bb4e6f5fe2",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T18:52:54Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/86bb4e6f5fe2",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T23:30:33Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T22:50:43Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:33Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:33Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T22:50:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T22:50:43Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T18:52:54Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:33Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:33Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:33Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 15:30:33"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T22:50:43Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556122,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-29T11:21:26Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556122,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1127090,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "TypeError: frame is null: MarkerDetails.prototype.renderStackTrace",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "ttromey@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Seeing a lot of these.\n\nSTR: Record while cnn.com is loading. Then click on random markers until you get this error.\n\nTypeError: frame is null: MarkerDetails.prototype.renderStackTrace@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/marker-details.js:182:11\nMarkerDetails.prototype.render@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/marker-details.js:151:1\nWaterfallView._onMarkerSelected@chrome://browser/content/devtools/performance/views/details-waterfall.js:121:1\nEventEmitter_emit@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/event-emitter.js:137:11\nWaterfall.prototype.selectRow@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/waterfall.js:367:7\nWaterfall.prototype._buildMarker/container.onclick@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/waterfall.js:330:33",
  "comments" : [ {
    "text" : "Seeing a lot of these.\n\nSTR: Record while cnn.com is loading. Then click on random markers until you get this error.\n\nTypeError: frame is null: MarkerDetails.prototype.renderStackTrace@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/marker-details.js:182:11\nMarkerDetails.prototype.render@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/marker-details.js:151:1\nWaterfallView._onMarkerSelected@chrome://browser/content/devtools/performance/views/details-waterfall.js:121:1\nEventEmitter_emit@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/event-emitter.js:137:11\nWaterfall.prototype.selectRow@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/waterfall.js:367:7\nWaterfall.prototype._buildMarker/container.onclick@resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/timeline/waterfall.js:330:33",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T20:10:40Z"
  }, {
    "text" : "stack.js initializes _lastEventSize to -1, then later in makeEvent does\n\n    let packet = Array(size - this._lastEventSize).fill(null);\n\nThis results in a null entry in the frame array that is sent to the client.\n\nThe simplest fix is to initialize to zero. I have a patch that does this,\nbut I haven't written a test yet.",
    "authour" : "ttromey@mozilla.com",
    "created" : "2015-03-09T19:09:03Z"
  }, {
    "text" : "Created attachment 8574816\nfix _lastEventSize initialization in stack.js",
    "authour" : "ttromey@mozilla.com",
    "created" : "2015-03-09T20:00:45Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=7d66285e5ca4",
    "authour" : "ttromey@mozilla.com",
    "created" : "2015-03-09T20:04:15Z"
  }, {
    "text" : "Comment on attachment 8574816\nfix _lastEventSize initialization in stack.js\n\nReview of attachment 8574816:\n-----------------------------------------------------------------\n\nOnly two big problems in computer science, right?",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-10T00:06:10Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/94b360f64761",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-10T14:46:56Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/94b360f64761",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-10T22:35:38Z"
  }, {
    "text" : "Sorry for the spam. Moving bugs to Firefox :: Developer Tools: Performance Tools (Profiler/Timeline).\n\ndkl",
    "authour" : "dkl@mozilla.com",
    "created" : "2015-03-20T21:08:41Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:38Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-27T15:16:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-03-09T19:09:03Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-03-09T20:18:35Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-03-10T14:08:10Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-10T14:46:56Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-10T14:46:56Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:38Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:38Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:38Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-10 15:35:38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:38Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "dkl@mozilla.com",
      "date" : "2015-03-20T21:08:41Z",
      "what" : "component",
      "removed" : "Developer Tools: Timeline",
      "added" : "Developer Tools: Performance Tools (Profiler/Timeline)"
    } ],
    "flagEvents" : [ {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-03-09T20:18:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574816,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T00:06:10Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574816,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-10T14:46:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126987,
  "cclist" : [ "ttromey@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: WebIDE",
  "summary" : "WiFi auth client dialog for WebIDE",
  "reporter" : "jryans@gmail.com",
  "assigned" : "jryans@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "With bug 1103120 landed, we should override the WiFi client OOB dialog in WebIDE to show a QR code.",
  "comments" : [ {
    "text" : "With bug 1103120 landed, we should override the WiFi client OOB dialog in WebIDE to show a QR code.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-01-28T19:35:49Z"
  }, {
    "text" : "Created attachment 8558111\nMozReview Request: bz://1126965/jryans\n\n/r/3267 - Bug 1126965 - Show QR code for WiFi auth in WebIDE. r=past\n\nPull down this commit:\n\nhg pull review -r e8ba4dd40d13f9c77c4551222fc225de4810f752",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-02T21:21:26Z"
  }, {
    "text" : "Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=8d1d92b3b0a9",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-02T21:22:35Z"
  }, {
    "text" : "Comment on attachment 8558111\nMozReview Request: bz://1126965/jryans\n\nhttps://reviewboard.mozilla.org/r/3265/#review2721\n\n::: browser/devtools/webide/content/wifi-auth.js\n(Diff revision 1)\n> +/* This Source Code Form is subject to the terms of the Mozilla Public\n> + * License, v. 2.0. If a copy of the MPL was not distributed with this\n> + * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n> +\n> +const Cu = Components.utils;\n\nY U NO \"use strict;\"?\n\n::: browser/devtools/webide/content/wifi-auth.js\n(Diff revision 1)\n> +  window.removeEventListener(\"load\", onLoad);\n\naddEventListener had useCaptrue=true, so removeEventListener should too.\n\n::: browser/devtools/webide/content/wifi-auth.js\n(Diff revision 1)\n> +  let imgData = QR.encodeToDataURI(oobData, \"L\" /* low quality */);\n\nBlech, C-style parameter comment.\nFINE.\n\n::: browser/devtools/webide/content/wifi-auth.js\n(Diff revision 1)\n> +  document.querySelector(\"#close\").onclick = () => window.close();\n> +  document.querySelector(\"#no-scanner\").onclick = showToken;\n> +  document.querySelector(\"#yes-scanner\").onclick = hideToken;\n\nMaybe this file does not contain performance-critical code, but why take the slow, rule-parsing path, instead of the quick getElementById one?\n\n::: browser/devtools/webide/modules/runtimes.js\n(Diff revision 1)\n> +   * @param host string\n> +   *        The host name or IP address of the debugger server.\n> +   * @param port number\n> +   *        The port number of the debugger server.\n> +   * @param cert object (optional)\n> +   *        The server's cert details.\n> +   * @param authResult AuthenticationResult\n> +   *        Authentication result sent from the server.\n> +   * @param oob object (optional)\n> +   *        The token data to be transferred during OOB_CERT step 8:\n> +   *        * sha256: hash(ClientCert)\n> +   *        * k     : K(random 128-bit number)\n> +   * @return object containing:\n> +   *         * close: Function to hide the notification\n> +   */\n> +  sendOOB(session) {\n\nMaybe clarify the relationship between the |session| argument and the various @param notes in the comment?\n\n::: browser/devtools/webide/themes/wifi-auth.css\n(Diff revision 1)\n> +  margin-left: 10px;\n\nWe use -moz-margin-start in these cases to support RTL locales.",
    "authour" : "past@mozilla.com",
    "created" : "2015-02-04T14:31:19Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/3265/#review2755\n\n> Maybe this file does not contain performance-critical code, but why take the slow, rule-parsing path, instead of the quick getElementById one?\n\nGood idea, changed to getElementById.\n\n> We use -moz-margin-start in these cases to support RTL locales.\n\nActually, this line is incorrect to start with, so I've removed it.\n\n> Y U NO \"use strict;\"?\n\nAdded.\n\n> addEventListener had useCaptrue=true, so removeEventListener should too.\n\nDoesn't seem necessary, removed true from aEL instead.\n\n> Maybe clarify the relationship between the |session| argument and the various @param notes in the comment?\n\nOkay, added a line to clarify.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-05T21:06:29Z"
  }, {
    "text" : "Try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=257b90f29af2",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-05T21:21:19Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/a462b35377de",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-06T18:10:07Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/a462b35377de",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-06T22:42:37Z"
  }, {
    "text" : "Comment on attachment 8558111\nMozReview Request: bz://1126965/jryans",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:52Z"
  }, {
    "text" : "Created attachment 8619237\nMozReview Request: Bug 1126965 - Show QR code for WiFi auth in WebIDE. r=past",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-10T15:20:52Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-28T19:36:23Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:37Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:37Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-28T19:36:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-28T19:36:08Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "962308"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-28T19:36:08Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1103120"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-01-28T19:36:23Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-02T21:21:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-06T18:10:07Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:37Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:37Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:37Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-06 14:42:37"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-06T22:42:37Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:52Z",
      "what" : "attachments.isobsolete:8558111",
      "removed" : "0",
      "added" : "1"
    } ],
    "flagEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-02T21:21:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558111,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-02-04T14:31:19Z",
      "what" : "flagtypes.name",
      "removed" : "review?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558111,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-10T15:20:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619237,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126965,
  "cclist" : [ "jryans@gmail.com", "past@mozilla.com" ]
}, {
  "component" : "Screen Sharing Whitelist",
  "summary" : "Enable screensharing in whitelist for TokBox",
  "reporter" : "msander@tokbox.com",
  "assigned" : "mreavy@mozilla.com",
  "created" : null,
  "operatingSystem" : "Other",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : ">> Vendor name\nTokBox\n\n>> Point of contact\nMichael Sander\n\n>> Site URLs\n*.tokbox.com\n\n>> Does the application provide users with notice and control?\nhttps://tokbox.com/support/privacy-policy\n\n>> Have you seen and agree with the Developer Screen Sharing Submission policy?\nYes\n\n>> Does the usage comply with the Developer Screen Sharing Submission Policy guidelines?\nYes",
  "comments" : [ {
    "text" : ">> Vendor name\nTokBox\n\n>> Point of contact\nMichael Sander\n\n>> Site URLs\n*.tokbox.com\n\n>> Does the application provide users with notice and control?\nhttps://tokbox.com/support/privacy-policy\n\n>> Have you seen and agree with the Developer Screen Sharing Submission policy?\nYes\n\n>> Does the usage comply with the Developer Screen Sharing Submission Policy guidelines?\nYes",
    "authour" : "msander@tokbox.com",
    "created" : "2015-01-28T19:03:11Z"
  }, {
    "text" : "*** Bug 1079531 has been marked as a duplicate of this bug. ***",
    "authour" : "sescalante@mozilla.com",
    "created" : "2015-01-28T19:24:11Z"
  }, {
    "text" : "Hi Michael -- Do you need \"tokbox.com\" to be whitelisted as well or just \"*.tokbox.com\"?",
    "authour" : "mreavy@mozilla.com",
    "created" : "2015-02-03T15:55:35Z"
  }, {
    "text" : "Both please.",
    "authour" : "msander@tokbox.com",
    "created" : "2015-02-03T16:46:30Z"
  }, {
    "text" : "Created attachment 8559213\ntokbox.com added to screensharing whitelist",
    "authour" : "mreavy@mozilla.com",
    "created" : "2015-02-04T16:43:12Z"
  }, {
    "text" : "Chad/Brad -- Jishnu is deferring to you on whitelist decisions.  Can I get approval from either of you to add TokBox to the Firefox screensharing whitelist?  My plan is to land it on Nightly and then ask for uplift to Aurora and Beta (if there's still time to get it into Beta) since it's a trivial change.  Thanks.",
    "authour" : "mreavy@mozilla.com",
    "created" : "2015-02-04T16:54:23Z"
  }, {
    "text" : "Comment on attachment 8559213\ntokbox.com added to screensharing whitelist\n\nReview of attachment 8559213:\n-----------------------------------------------------------------\n\nRandell -- can you sanity check (especially for stupid typos) and land this today?  Thanks.",
    "authour" : "mreavy@mozilla.com",
    "created" : "2015-02-05T20:08:40Z"
  }, {
    "text" : "I got approval from Chad via email a few minutes ago.  We should be able to get this into tomorrow's Nightly.  Then I'll ask for aurora/beta approval.",
    "authour" : "mreavy@mozilla.com",
    "created" : "2015-02-05T20:09:41Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/mozilla-inbound/rev/ab30483ead66",
    "authour" : "rjesup@jesup.org",
    "created" : "2015-02-06T06:05:41Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/ab30483ead66",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-06T14:16:47Z"
  }, {
    "text" : "Comment on attachment 8559213\ntokbox.com added to screensharing whitelist\n\nApproval Request Comment\n[Feature/regressing bug #]:screensharing whitelist\n[User impact if declined]: screensharing won't work with tokbox.com unless the user adds it to the whitelist or installs a special extension\n[Describe test coverage new/current, TreeHerder]: confirmed visually (text change)\n[Risks and why]: Very low risk.  It's a text change to a whitelist that is easily verified if it's working or not\n[String/UUID change made/needed]: None",
    "authour" : "mreavy@mozilla.com",
    "created" : "2015-02-06T18:46:20Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/0cb3b566de1b",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-09T15:49:05Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-beta/rev/b5b3f7d712a9",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-09T15:49:26Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-04T16:43:15Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-06T14:16:47Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-06T14:16:47Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-03T15:55:35Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mreavy@mozilla.com, msander@tokbox.com"
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-04T16:43:15Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mreavy@mozilla.com"
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-04T16:43:15Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-04T16:54:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us, cweiner@mozilla.com"
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-05T20:08:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "rjesup@jesup.org"
    }, {
      "name" : "rjesup@jesup.org",
      "date" : "2015-02-05T20:11:25Z",
      "what" : "summary",
      "removed" : "TokBox",
      "added" : "Enable screensharing in whitelist for TokBox"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-06T14:16:47Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-06T14:16:47Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-06 06:16:47"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-06T14:16:47Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-09T10:52:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-09T10:52:45Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-09T10:52:45Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-09T15:49:05Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-09T15:49:26Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-03T15:55:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "msander@tokbox.com",
      "date" : "2015-02-03T16:46:30Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(msander@tokbox.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-04T16:54:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-05T20:08:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559213,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-05T20:09:41Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cweiner@mozilla.com), needinfo?(blassey.bugs@lassey.us)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "rjesup@jesup.org",
      "date" : "2015-02-05T20:09:58Z",
      "what" : "flagtypes.name",
      "removed" : "review?(rjesup@jesup.org)",
      "added" : "",
      "attachmentId" : 8559213,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mreavy@mozilla.com",
      "date" : "2015-02-06T18:46:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8559213,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-02-09T10:53:30Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8559213,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126952,
  "cclist" : [ "blassey.bugs@lassey.us", "cweiner@mozilla.com", "gpiper@mozilla.com", "mreavy@mozilla.com", "msander@tokbox.com", "rjesup@jesup.org", "sescalante@mozilla.com", "sledru@mozilla.com", "udevi@mozilla.com" ]
}, {
  "component" : "PDF Viewer",
  "summary" : "Update pdf.js to version 1.0.1130",
  "reporter" : "ryanvm@gmail.com",
  "assigned" : "ryanvm@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "+++ This bug was initially created as a clone of Bug #1117757 +++\n\nChanges since last update:\n#5552 Creates/refactors PDFPageView class\n#5603 Use Content-Range instead of Content-Length #5512\n#5618 Version 1.0.1040\n#5606 Add a |textlayerrendered| event\n#5600 Implement guards for stringToBytes and bytesToString\n#5622 Move the |pagerendered| event to pdf_page_view.js\n#5554 Refactors getDocument and adds PDFDataRangeTransport.\n#5632 Fixes B2G file open sequence.\n#5627 Whitelists 'tel' schema.\n#5631 Refactor searching for end of inline (EI) JPEG image streams\n#5624 Base64 example and be more flexible what type of data is passed\n#5638 Fix thumbnail scaling regression for files with different page sizes (issue 5637)\n#5641 Prevent setting |isStandardFont| to |undefined| for non-embedded fonts\n#5639 Attempt to display the File size quicker in the Document Properties dialog (PR 5554 followup)\n#5646 Amend the docs for |disableAutoFetch| to mention that streaming must also be disabled\n#5619 Chrome extension: Add options page\n#5567 Add marker segment (PLT, PLM) and refactor TLM\n#5659 Fix thumbnail rendering regression, when using |draw|, for PDF files with blend modes (issue 5637)\n#5660 Fill temporary canvases with a white background too\n#5511 Bug 639134 - update check for document colors\n#5610 Better thumbnail image scaling\n#5596 Fix border sizes around thumbnails\n#5588 Remove unused anchor links placed before every page\n#5671 Remove unused index.html.template\n#5674 Avoid getting |childNodes| twice in PDFPageView_reset, by using the variable instead\n#5672 Remove unused viewer-snippet-b2g-activity-header.html\n#5675 Remove obselete file from .gitignore\n#5669 Avoid out of range array access in JBIG2 decoder\n#5673 Refactor the thumbnail code\n#5679 Refactor the outline code",
  "comments" : [ {
    "text" : "+++ This bug was initially created as a clone of Bug #1117757 +++\n\nChanges since last update:\n#5552 Creates/refactors PDFPageView class\n#5603 Use Content-Range instead of Content-Length #5512\n#5618 Version 1.0.1040\n#5606 Add a |textlayerrendered| event\n#5600 Implement guards for stringToBytes and bytesToString\n#5622 Move the |pagerendered| event to pdf_page_view.js\n#5554 Refactors getDocument and adds PDFDataRangeTransport.\n#5632 Fixes B2G file open sequence.\n#5627 Whitelists 'tel' schema.\n#5631 Refactor searching for end of inline (EI) JPEG image streams\n#5624 Base64 example and be more flexible what type of data is passed\n#5638 Fix thumbnail scaling regression for files with different page sizes (issue 5637)\n#5641 Prevent setting |isStandardFont| to |undefined| for non-embedded fonts\n#5639 Attempt to display the File size quicker in the Document Properties dialog (PR 5554 followup)\n#5646 Amend the docs for |disableAutoFetch| to mention that streaming must also be disabled\n#5619 Chrome extension: Add options page\n#5567 Add marker segment (PLT, PLM) and refactor TLM\n#5659 Fix thumbnail rendering regression, when using |draw|, for PDF files with blend modes (issue 5637)\n#5660 Fill temporary canvases with a white background too\n#5511 Bug 639134 - update check for document colors\n#5610 Better thumbnail image scaling\n#5596 Fix border sizes around thumbnails\n#5588 Remove unused anchor links placed before every page\n#5671 Remove unused index.html.template\n#5674 Avoid getting |childNodes| twice in PDFPageView_reset, by using the variable instead\n#5672 Remove unused viewer-snippet-b2g-activity-header.html\n#5675 Remove obselete file from .gitignore\n#5669 Avoid out of range array access in JBIG2 decoder\n#5673 Refactor the thumbnail code\n#5679 Refactor the outline code",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-28T18:44:12Z"
  }, {
    "text" : "Created attachment 8555993\nUpdate pdf.js to version 1.0.1123\n\nWith the usual review split :)\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=24fd21152f30",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-28T18:47:22Z"
  }, {
    "text" : "Comment on attachment 8555993\nUpdate pdf.js to version 1.0.1123\n\nFor whoever gets to it first.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-30T02:15:52Z"
  }, {
    "text" : "Might as well sync with upstream while we wait.\n\nChanges since last update:\n#5678 Refactor the attachment code",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-30T15:50:06Z"
  }, {
    "text" : "Created attachment 8557133\nUpdate pdf.js to version 1.0.1130",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-30T16:11:30Z"
  }, {
    "text" : "Comment on attachment 8557133\nUpdate pdf.js to version 1.0.1130\n\nReview of attachment 8557133:\n-----------------------------------------------------------------\n\nLooks good",
    "authour" : "ydelendik@mozilla.com",
    "created" : "2015-01-30T19:53:21Z"
  }, {
    "text" : "Thanks :)\nhttps://hg.mozilla.org/integration/fx-team/rev/9289992e25eb",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-30T20:13:54Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9289992e25eb",
    "authour" : "philringnalda@gmail.com",
    "created" : "2015-01-31T17:08:08Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:08Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:08Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T15:50:06Z",
      "what" : "summary",
      "removed" : "Update pdf.js to version 1.0.1123",
      "added" : "Update pdf.js to version 1.0.1130"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T16:11:30Z",
      "what" : "attachments.isobsolete:8555993",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T20:13:54Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:08Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:08Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2015-01-31T17:08:08Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-31 09:08:08"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T13:06:00Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1135021"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-20T14:06:35Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-28T18:47:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555993,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-28T19:44:59Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555993,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T02:15:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555993,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T16:11:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bdahl@mozilla.com), review?(ydelendik@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555993,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T16:11:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8557133,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ydelendik@mozilla.com",
      "date" : "2015-01-30T19:53:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(ydelendik@mozilla.com), review?(bdahl@mozilla.com)",
      "added" : "",
      "attachmentId" : 8557133,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126941,
  "cclist" : [ "bdahl@mozilla.com", "dtownsend@mozilla.com", "Virtual@MsgSafe.io", "ydelendik@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Detail views in the new performance tool should be populated lazily",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "When a recording is selected, all detail views are populated. Everything would be more snappy if this was done lazily, especially after adding the new memory call tree and flame graph.",
  "comments" : [ {
    "text" : "When a recording is selected, all detail views are populated. Everything would be more snappy if this was done lazily, especially after adding the new memory call tree and flame graph.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T17:42:55Z"
  }, {
    "text" : "Created attachment 8555992\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T18:46:45Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/303ec6eb1f8f",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T18:52:47Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/303ec6eb1f8f",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T23:30:36Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T18:46:45Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:36Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:36Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T18:46:12Z",
      "what" : "summary",
      "removed" : "Detail views in the new performance tool should be initialized and populated lazily",
      "added" : "Detail views in the new performance tool should be populated lazily"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T18:46:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T18:46:45Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T18:52:47Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:36Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:36Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:36Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 15:30:36"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T18:46:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555992,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-29T11:21:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555992,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126901,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Detail views in the new performance tool should share a base class to avoid code duplication",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "There's currently a lot of code duplicated across these views, and there's going to be even more after bug 1077461 and bug 1077469.",
  "comments" : [ {
    "text" : "There's currently a lot of code duplicated across these views, and there's going to be even more after bug 1077461 and bug 1077469.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T17:22:23Z"
  }, {
    "text" : "Created attachment 8555946\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T17:25:45Z"
  }, {
    "text" : "Created attachment 8555949\nv2\n\nbug fix",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T17:40:35Z"
  }, {
    "text" : "Comment on attachment 8555949\nv2\n\nReview of attachment 8555949:\n-----------------------------------------------------------------\n\nGood idea! May look into this for other main sets of views if we need as well.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-01-29T11:19:28Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/2fe1f84fd087",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T18:52:37Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2fe1f84fd087",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T23:30:38Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:25:45Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:38Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:38Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:25:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:25:45Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:40:35Z",
      "what" : "attachments.isobsolete:8555946",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T18:52:37Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:38Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:38Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:38Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 15:30:38"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:25:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555946,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:40:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555946,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:40:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555949,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-29T11:19:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555949,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126882,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "FlameGraphUtils should have a cache to avoid duplicating work",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T17:18:46Z"
  }, {
    "text" : "Created attachment 8555942\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-28T17:20:41Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/1d40e42a66ba",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-01-29T18:52:31Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/1d40e42a66ba",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-01-29T23:30:40Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:20:41Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:40Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:40Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:20:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:20:41Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-29T18:52:31Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:40Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:40Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-01-29T23:30:40Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 15:30:40"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-01-28T17:20:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555942,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-01-29T11:17:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555942,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126880,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Search",
  "summary" : "a search started before the search panel opens goes to the previously selected one-off engine",
  "reporter" : "florian@queze.net",
  "assigned" : "florian@queze.net",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8555884\nPatch\n\nI had initially noticed this when I was at a place with a slow Internet connection and pressed Command+k,Command+v,Enter quickly to search something I had in the clipboard without letting time for the suggestions to appear.\n\nI've now found steps to reproduce reliably even with a fast connection:\n- focus the searchbox, type something in it\n- press tab once to select the first one off button\n- press escape to close the panel but keep the searchbox focused\n- press enter\n\nExpected result: search performed with the default engine\n\nActual result: search performed with the first one-off engine.\n\nThe cause of the bug is that we clear the selected one-off when the panel is redisplayed rather than when it's hidden.\n\nI believe this bug is the cause of the Linux failure of the test I'm adding in bug 1124900. The attached patch applies after the patches from bug 1124904.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=1eef9a2188be",
  "comments" : [ {
    "text" : "Created attachment 8555884\nPatch\n\nI had initially noticed this when I was at a place with a slow Internet connection and pressed Command+k,Command+v,Enter quickly to search something I had in the clipboard without letting time for the suggestions to appear.\n\nI've now found steps to reproduce reliably even with a fast connection:\n- focus the searchbox, type something in it\n- press tab once to select the first one off button\n- press escape to close the panel but keep the searchbox focused\n- press enter\n\nExpected result: search performed with the default engine\n\nActual result: search performed with the first one-off engine.\n\nThe cause of the bug is that we clear the selected one-off when the panel is redisplayed rather than when it's hidden.\n\nI believe this bug is the cause of the Linux failure of the test I'm adding in bug 1124900. The attached patch applies after the patches from bug 1124904.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=1eef9a2188be",
    "authour" : "florian@queze.net",
    "created" : "2015-01-28T15:13:09Z"
  }, {
    "text" : "Comment on attachment 8555884\nPatch\n\nReview of attachment 8555884:\n-----------------------------------------------------------------\n\nTest?",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-01-28T18:05:13Z"
  }, {
    "text" : "(In reply to Dave Townsend [:mossop] from comment #1)\n\n> Test?\n\nI pondered the same question and more or less intentionally decided to not write a test here because:\n1. This already makes an existing test fail.\n2. I intend to write much more thorough tests for the one-off button behaviors in bug 1107178 soon, so I don't think testing this specific case now is worth the time.",
    "authour" : "florian@queze.net",
    "created" : "2015-01-28T18:49:07Z"
  }, {
    "text" : "Created attachment 8558019\nPatch v2\n\nTurns out when pressing enter the command event fires after the popuphidden event (I expected it to fire between popuphiding and popuphidden), so the previous patch was breaking using the one-off buttons with the keyboard.\n\nI really want bug 1107178 fixed!",
    "authour" : "florian@queze.net",
    "created" : "2015-02-02T18:46:12Z"
  }, {
    "text" : "Comment on attachment 8558019\nPatch v2\n\nReview of attachment 8558019:\n-----------------------------------------------------------------\n\nIcky but I guess if it is the only solution. I don't suppose the blur event on the search bar happens later does it?",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-03T23:58:16Z"
  }, {
    "text" : "I don't think the blur event would be fired at all in some of the cases, eg. type something in the textbox, press <tab> to select the first one-off, then press <escape> to close the panel, and press <enter> to search with the default engine. Am I missing something?",
    "authour" : "florian@queze.net",
    "created" : "2015-02-04T00:10:28Z"
  }, {
    "text" : "(In reply to Florian Quze [:florian] [:flo] from comment #5)\n> I don't think the blur event would be fired at all in some of the cases, eg.\n> type something in the textbox, press <tab> to select the first one-off, then\n> press <escape> to close the panel, and press <enter> to search with the\n> default engine. Am I missing something?\n\nProbably not, let's just go with what you have.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-04T18:02:52Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/9b09899049a6",
    "authour" : "florian@queze.net",
    "created" : "2015-02-04T23:16:09Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9b09899049a6",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-05T13:39:34Z"
  }, {
    "text" : "Comment on attachment 8558019\nPatch v2\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1088660\n[User impact if declined]: the engine used when searching quickly using only the keyboard may not be what the user expects.\n[Describe test coverage new/current, TreeHerder]: We somehow have some code coverage in that landing bug 1124900 without this turned bc1 orange, but we are hoping to add more tests in the future in bug 1107178. QA will verify.\n[Risks and why]: the patch is quite simple.\n[String/UUID change made/needed]: none.\n\nNote: this patch applies after the patches from bug 1124904 which I don't intend to uplift to beta/36. This bug is serious enough that I think we could have attempted to fix it for 36 (with a different patch targetting 36). However, given that it seems I'm the only one who noticed this bug, and we already shipped it in 34 and 35, I would suggest that we just wontfix for 36.",
    "authour" : "florian@queze.net",
    "created" : "2015-02-05T14:02:02Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/ecfc90f3adec",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-06T20:02:18Z"
  }, {
    "text" : "Verified that the searches are performed with the default search engine using Nightly 38.0a1 2015-02-08 under Ubuntu 12.04 LTS 32-bit, Windows 7 64-bit and Mac OS X 10.9.5.\n\nThe issue is still reproducible with Developer Edition 37.0a2 2015-02-08 - all platforms.",
    "authour" : "petruta.rasa@softvision.ro",
    "created" : "2015-02-09T12:18:52Z"
  }, {
    "text" : "(In reply to Petruta Rasa [QA] [:petruta] from comment #11)\n\n> The issue is still reproducible with Developer Edition 37.0a2 2015-02-08 -\n> all platforms.\n\nThe patch that landed here does nothing if the patches from bug 1124904 don't land first, and these haven't landed on aurora yet.",
    "authour" : "florian@queze.net",
    "created" : "2015-02-09T12:23:45Z"
  }, {
    "text" : "Thanks! I've modified the flag.",
    "authour" : "petruta.rasa@softvision.ro",
    "created" : "2015-02-09T12:39:27Z"
  }, {
    "text" : "Verified as fixed using Firefox 37 beta 1 under Ubuntu 12.04 LTS 32-bit, Windows 7 64-bit and Mac OS X 10.9.5.",
    "authour" : "petruta.rasa@softvision.ro",
    "created" : "2015-02-24T10:22:15Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-28T17:13:32Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:34Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-02-09T12:18:52Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:34Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-01-28T15:13:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-28T17:13:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-01-28T17:13:32Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.2 - 9 Feb"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-02T18:46:12Z",
      "what" : "attachments.isobsolete:8555884",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-04T23:16:09Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:34Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:34Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:34Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-05 05:39:34"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-05T13:39:34Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-05T13:55:52Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "wontfix"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-05T13:55:52Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-06T11:59:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-02-06T11:59:42Z",
      "what" : "qa_contact",
      "removed" : "",
      "added" : "petruta.rasa@softvision.ro"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-06T20:02:18Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-02-09T12:18:52Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "affected"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-02-09T12:18:52Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-02-09T12:39:27Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "petruta.rasa@softvision.ro",
      "date" : "2015-02-24T10:22:15Z",
      "what" : "cf_status_firefox37",
      "removed" : "fixed",
      "added" : "verified"
    } ],
    "flagEvents" : [ {
      "name" : "florian@queze.net",
      "date" : "2015-01-28T15:13:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555884,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-01-28T15:13:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-01-28T18:05:13Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555884,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-02T19:10:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558019,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-03T23:58:16Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8558019,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-04T00:10:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-04T18:02:52Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-04T22:22:03Z",
      "what" : "flagtypes.name",
      "removed" : "review-",
      "added" : "",
      "attachmentId" : 8558019,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-02-05T14:02:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8558019,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-06T02:54:22Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8558019,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126816,
  "cclist" : [ "dtownsend@mozilla.com", "florin.mezei@softvisioninc.eu", "mmucci@mozilla.com" ]
}, {
  "component" : "Build Config",
  "summary" : "[uz] Add Uzbek to shipped-locales in Beta and Aurora",
  "reporter" : "jbeatty@mozilla.com",
  "assigned" : "jbeatty@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8555862\nAdds uz to browser/locales/shipped-locales\n\nThe Uzbek (uz) locale is ready to be added to shipped-locales for Aurora and Beta. The attached patch adds the locale for Beta, but we'd like this to also be ported to Aurora. As I do not have commit access, this patch will need to be commited for me please. Uzbek has completed localization on Firefox 36 and has received a full sign-off from us to begin shipping in Release.\n\nAs usual, this is not going to land on mozilla-central.",
  "comments" : [ {
    "text" : "Created attachment 8555862\nAdds uz to browser/locales/shipped-locales\n\nThe Uzbek (uz) locale is ready to be added to shipped-locales for Aurora and Beta. The attached patch adds the locale for Beta, but we'd like this to also be ported to Aurora. As I do not have commit access, this patch will need to be commited for me please. Uzbek has completed localization on Firefox 36 and has received a full sign-off from us to begin shipping in Release.\n\nAs usual, this is not going to land on mozilla-central.",
    "authour" : "jbeatty@mozilla.com",
    "created" : "2015-01-28T14:33:38Z"
  }, {
    "text" : "Are we going to uplift it to mozilla-release on Feb 16 (next beta-to-release uplift) or is it going to be beta-only for some period?",
    "authour" : "rail@mozilla.com",
    "created" : "2015-01-28T15:30:13Z"
  }, {
    "text" : "We're taking it for uplift to release on Feb 16.",
    "authour" : "jbeatty@mozilla.com",
    "created" : "2015-01-28T15:36:53Z"
  }, {
    "text" : "Yay!",
    "authour" : "rail@mozilla.com",
    "created" : "2015-01-28T15:37:37Z"
  }, {
    "text" : "Comment on attachment 8555862\nAdds uz to browser/locales/shipped-locales\n\nLet me know when we have to update product details.",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-01-28T15:39:19Z"
  }, {
    "text" : "Added to the release notes with 'Locale added: Uzbek (uz)' as wording!",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-01-28T15:42:41Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/43b766496295\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/344958aebbe2",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-29T16:28:20Z"
  }, {
    "text" : "As soon as we verify these landings, could you please update product details?",
    "authour" : "jbeatty@mozilla.com",
    "created" : "2015-01-29T17:09:37Z"
  }, {
    "text" : "Sure, just set the ni back and I will",
    "authour" : "sledru@mozilla.com",
    "created" : "2015-01-29T17:16:41Z"
  }, {
    "text" : "Thank you!",
    "authour" : "jbeatty@mozilla.com",
    "created" : "2015-01-29T17:18:41Z"
  }, {
    "text" : "A quick check shows builds created for all platforms for UZ, in Firefox 36 Beta 6. On Windows 7 x64 the build installs and works correctly.",
    "authour" : "florin.mezei@softvisioninc.eu",
    "created" : "2015-01-30T12:14:05Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "rail@mozilla.com",
      "date" : "2015-01-28T15:41:13Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1119236"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T15:42:41Z",
      "what" : "cf_tracking_firefox_relnote",
      "removed" : "---",
      "added" : "36+"
    }, {
      "name" : "jbeatty@mozilla.com",
      "date" : "2015-01-28T18:09:41Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[checkin-needed-aurora-beta]"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T18:16:39Z",
      "what" : "whiteboard",
      "removed" : "[checkin-needed-aurora-beta]",
      "added" : ""
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T18:16:39Z",
      "what" : "cf_tracking_firefox36",
      "removed" : "---",
      "added" : "+"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T18:16:39Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T18:16:39Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jbeatty@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 36"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-29 08:28:20"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "cf_status_firefox36",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-29T16:28:20Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-01-30T12:14:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    } ],
    "flagEvents" : [ {
      "name" : "jbeatty@mozilla.com",
      "date" : "2015-01-28T14:33:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8555862,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "l10n@mozilla.com",
      "date" : "2015-01-28T14:44:04Z",
      "what" : "flagtypes.name",
      "removed" : "review?(l10n@mozilla.com)",
      "added" : "",
      "attachmentId" : 8555862,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-28T15:39:19Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?, approval-mozilla-beta?",
      "added" : "",
      "attachmentId" : 8555862,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      }, {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jbeatty@mozilla.com",
      "date" : "2015-01-29T17:09:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-01-29T17:16:41Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(sledru@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126794,
  "cclist" : [ "florin.mezei@softvisioninc.eu", "l10n@mozilla.com", "lhenry@mozilla.com", "rail@mozilla.com", "release-mgmt@mozilla.com", "ryanvm@gmail.com", "sledru@mozilla.com" ]
}, {
  "component" : "Search",
  "summary" : "browser-search-autocomplete-result-popup's popupshowing handler shouldn't clobber the popup's style attribute",
  "reporter" : "dao+bmo@mozilla.com",
  "assigned" : "gioyik@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "browser-search-autocomplete-result-popup's popupshowing handler sets the min-width on the popup like this:\n\n  panel.setAttribute(\"style\", \"min-width: \" + minWidth + \"px\");\n\n(http://hg.mozilla.org/mozilla-central/annotate/b2b10231606b/browser/base/content/urlbarBindings.xml#l1176)\n\nInstead, it should set panel.style.minWidth directly.",
  "comments" : [ {
    "text" : "browser-search-autocomplete-result-popup's popupshowing handler sets the min-width on the popup like this:\n\n  panel.setAttribute(\"style\", \"min-width: \" + minWidth + \"px\");\n\n(http://hg.mozilla.org/mozilla-central/annotate/b2b10231606b/browser/base/content/urlbarBindings.xml#l1176)\n\nInstead, it should set panel.style.minWidth directly.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-28T13:53:04Z"
  }, {
    "text" : "The solution could be:\n\npanel.style.minWidth(minWidth);\n\nor should I add the \"px\" too? Something like:\n\npanel.style.minWidth(minWidth + \"px\");",
    "authour" : "gioyik@gmail.com",
    "created" : "2015-01-28T22:49:13Z"
  }, {
    "text" : "minWidth isn't a function, it's a property that needs to be set like foo.minWidth = ...;\n\nAnd yes, \"px\" needs to be added.",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-28T23:11:35Z"
  }, {
    "text" : "So, the correct way could be:\n\npanel.minWidth = minWidth + \"px\";\n\nI ask before send a patch to be sure. :)",
    "authour" : "gioyik@gmail.com",
    "created" : "2015-01-28T23:17:31Z"
  }, {
    "text" : "panel.style.minWidth, not panel.minWidth",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-29T00:58:52Z"
  }, {
    "text" : "Created attachment 8556817\n1126781.patch\n\nPatch",
    "authour" : "gioyik@gmail.com",
    "created" : "2015-01-30T02:34:07Z"
  }, {
    "text" : "Comment on attachment 8556817\n1126781.patch\n\nThanks!",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-30T05:43:43Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/93a250d4877c",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-01-30T06:02:00Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/93a250d4877c",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-01-30T17:28:05Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T17:28:05Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T17:28:05Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "gioyik@gmail.com",
      "date" : "2015-01-28T22:49:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dao@mozilla.com, gioyik@gmail.com"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-30T06:02:00Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "gioyik@gmail.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T17:28:05Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-01-30T17:28:05Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-01-30 09:28:05"
    } ],
    "flagEvents" : [ {
      "name" : "gioyik@gmail.com",
      "date" : "2015-01-28T22:49:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-28T23:11:35Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gioyik@gmail.com",
      "date" : "2015-01-28T23:17:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-29T00:58:52Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gioyik@gmail.com",
      "date" : "2015-01-30T02:34:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8556817,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-01-30T05:43:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8556817,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1126781,
  "cclist" : [ "dao+bmo@mozilla.com", "gioyik@gmail.com" ]
} ]