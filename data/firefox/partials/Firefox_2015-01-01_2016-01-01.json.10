[ {
  "component" : "Developer Tools: Netmonitor",
  "summary" : "Show cause of a network request in netmonitor",
  "reporter" : "bgrinstead@mozilla.com",
  "assigned" : "jsnajdr@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We should add a column with the reason for a network request happened (XHR, <img>, <script>, form submit, etc).\n\nIf it was triggered by JS we may be able to show additional details like a stack trace to help figure out why a request happened.",
  "comments" : [ {
    "text" : "We should add a column with the reason for a network request happened (XHR, <img>, <script>, form submit, etc).\n\nIf it was triggered by JS we may be able to show additional details like a stack trace to help figure out why a request happened.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-18T02:28:06Z"
  }, {
    "text" : "Implementation notes:\n\n- the NetworkMonitor (network-monitor.js) should record and transmit the request types defined here:\nhttps://dxr.mozilla.org/mozilla-central/source/dom/base/nsIContentPolicyBase.idl\n- we would need to maintain a (localized) number-to-string lookup table in the frontend for these types, but transfer the number in the protocol packet\n- NM__matchRequest already has code that checks the right field for TYPE_BEACON",
    "authour" : "past@mozilla.com",
    "created" : "2015-02-25T14:29:34Z"
  }, {
    "text" : "Isn't this a little redundant with the \"Type\" column ?",
    "authour" : "nounoursheureux@openmailbox.org",
    "created" : "2015-03-13T16:18:38Z"
  }, {
    "text" : "Well I thought about it and I came to this conclusion: the current \"Type\" column is for the type of the resource, and the new column would be for the type of the request (or why it happened). Am I wrong ?",
    "authour" : "nounoursheureux@openmailbox.org",
    "created" : "2015-03-13T17:04:35Z"
  }, {
    "text" : "Jaws im working on this, sorry it has been a little long. I just have one question what shall I name the new column \"Reason\" or any other...?",
    "authour" : "anush@techstream.org",
    "created" : "2015-04-19T19:18:07Z"
  }, {
    "text" : "I'll let bgrins answer that :)",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-04-19T19:31:42Z"
  }, {
    "text" : "In the meantime though, you can use \"Reason\". We can always change it later.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-04-19T22:32:09Z"
  }, {
    "text" : "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #6)\n> In the meantime though, you can use \"Reason\". We can always change it later.\n\nAgreed - just ship it and we can discus the right label as an aside.\n\nbgrins: I like 'reason', 'cause' maybe. I really dislike chrome's 'initiator':\n\nhttp://note.io/1aLm1Me\n\nWhatever we do here, I think it should be consistent with other language we might use in performance or other tools for similar reasons.",
    "authour" : "jgriffiths@mozilla.com",
    "created" : "2015-04-20T17:11:24Z"
  }, {
    "text" : "(In reply to Anush [:bmx] from comment #4)\n> Jaws im working on this, sorry it has been a little long. I just have one\n> question what shall I name the new column \"Reason\" or any other...?\n\n\"Reason\" sounds great.  We may move to \"Cause\" before landing but feel free to get reviews started with either one.\n\n(In reply to Jeff Griffiths (:canuckistani) from comment #7)\n> Whatever we do here, I think it should be consistent with other language we\n> might use in performance or other tools for similar reasons.\n\nSure, it looks like \"Cause\" is currently being used in the patch in Bug 1050500 for timeline markers.  We may want to stick with the same name for the two tools if the features are sufficiently similar.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-20T21:20:32Z"
  }, {
    "text" : "Anush, any update here?",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-05-26T20:34:41Z"
  }, {
    "text" : "Sorry I just got a little Lazy, Im on it....I managed to get the tab I'm working to capture the requests in backed (network-monitor.js) looks like i need some help.",
    "authour" : "anush@techstream.org",
    "created" : "2015-05-27T13:58:28Z"
  }, {
    "text" : "Anush, any updates? You can paste a work-in-patch if you have something working but don't have time to polish.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-07-31T18:36:30Z"
  }, {
    "text" : "Gabriel I couldn't get to know how the network-monitor works, got busy with university exams last month and will be for a few more days.\n\nI just created new tab in template do you want that.?",
    "authour" : "anush@techstream.org",
    "created" : "2015-08-03T17:09:04Z"
  }, {
    "text" : "Created attachment 8724688\nShow cause of a network request in netmonitor. r=jaws",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-02-29T13:26:55Z"
  }, {
    "text" : "Added a WIP patch that does the following:\n- add a new 'cause' field to the NetworkEvent actor and protocol packet\n- display the field in a 'Cause' column in the network monitor\n\nWhat needs to be done:\n\n1. Add localization for the 'Cause' column label (I don't know how this process works).\n\n2. Decide if we like the string names of the various causes (document, subdocument, img, xhr, beacon, ...) and if we want to localize them (my personal opinion is that localization is near to useless here).\n\n3. Use symbolic names for constants in the LOAD_CAUSE_STRINGS map - is it OK to import from Ci module in netmonitor-view.js? I know these modules are discouraged for extensions authors, not sure what the devtools policy is. By the way, very similar code is already in toolkit/modules/addons/WebRequestCommon.jsm\n\n4. Write new tests for this feature and make sure that existing ones are passing.\n\n5. It would be nice if the new feature was documented somehow - providing the user with some detailed information about what the different 'causes' are. For example, I didn't know that things like 'ping' or 'beacon' exist before I started working on this bug.\n\n6. Should the 'Cause' really be a column in the request list? As the columns are not resizable and can't be added/removed, the new columns occupies precious screen real-estate. Maybe the request detail pane would be a better place for it.\n\n7. It would be very nice to include a sourceURL and sourceLine fields pointing to the exact location from where the request was triggered. The sources include CSS, HTML, JS (maybe stack trace would be good here, too) and maybe other places. This would probably require further extension of the NetworkEventActor and the corresponding protocol packets.\n\n8. The NetworkEvent's 'isXHR' field is now redundant, as it's value can be always computed from the 'cause' value. What about removing it? It would be a breaking change in the debugger protocol. I don't know how much public the protocol is and what is the policy for making changes - wouldn't it break Firebug, for example?",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-02-29T13:43:56Z"
  }, {
    "text" : "Comment on attachment 8724688\nShow cause of a network request in netmonitor. r=jaws\n\nThanks for the patch. Honza is in a better position to review this patch. I'll let him take it from here.",
    "authour" : "jaws@mozilla.com",
    "created" : "2016-02-29T15:12:34Z"
  }, {
    "text" : "Created attachment 8725175\nShow cause of a network request in netmonitor. r=Honza",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-03-01T10:34:07Z"
  }, {
    "text" : "Comment on attachment 8725175\nShow cause of a network request in netmonitor. r=Honza\n\nAdded a new version of the patch:\n- use constants from Ci.nsIContentPolicy to convert ints to strings\n- added a mochitest for the feature",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-03-01T10:43:08Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #14)\n> Added a WIP patch that does the following:\n> - add a new 'cause' field to the NetworkEvent actor and protocol packet\n> - display the field in a 'Cause' column in the network monitor\nThanks for the patch Jardo!\n\nI like that feature in general and I think we should ship it.\n\n> What needs to be done:\n> \n> 1. Add localization for the 'Cause' column label (I don't know how this\n> process works).\nThe column label is properly defined in netmonitor.dtd file so, \nwe are good here (someone in the l10n team will take care of it).\n\n> 2. Decide if we like the string names of the various causes (document,\n> subdocument, img, xhr, beacon, ...) and if we want to localize them (my\n> personal opinion is that localization is near to useless here).\nI definitely agree.\n\n> 3. Use symbolic names for constants in the LOAD_CAUSE_STRINGS map - is it OK\n> to import from Ci module in netmonitor-view.js? I know these modules are\n> discouraged for extensions authors, not sure what the devtools policy is. By\n> the way, very similar code is already in\n> toolkit/modules/addons/WebRequestCommon.jsm\nLooks ok to me.\n\n\n> 4. Write new tests for this feature and make sure that existing ones are\n> passing.\nPush to try:\ntreeherder.mozilla.org/#/jobs?repo=try&revision=3f00a361eb95\n\nlet's see how tests are working.\n\n\n> 5. It would be nice if the new feature was documented somehow - providing\n> the user with some detailed information about what the different 'causes'\n> are. For example, I didn't know that things like 'ping' or 'beacon' exist\n> before I started working on this bug.\nYes, flag doc-needed set.\n\n> 6. Should the 'Cause' really be a column in the request list? As the columns\n> are not resizable and can't be added/removed, the new columns occupies\n> precious screen real-estate. Maybe the request detail pane would be a better\n> place for it.\nI like having a new column and perhaps it can help to increase priority\nof a 'column picker' feature that would allow the user to show/hide columns.\nI might look at this, since I did it in Firebug the other day.\nAs soon as this is done we might discuss what columns should be visible\nby default.\n\nHelen what do you think?\n\n> 7. It would be very nice to include a sourceURL and sourceLine fields\n> pointing to the exact location from where the request was triggered. The\n> sources include CSS, HTML, JS (maybe stack trace would be good here, too)\n> and maybe other places. This would probably require further extension of the\n> NetworkEventActor and the corresponding protocol packets.\nSounds like a nice follow up to me. \n\n> 8. The NetworkEvent's 'isXHR' field is now redundant, as it's value can be\n> always computed from the 'cause' value. What about removing it? It would be\n> a breaking change in the debugger protocol. I don't know how much public the\n> protocol is and what is the policy for making changes - wouldn't it break\n> Firebug, for example?\nFirebug should be fine. But, not sure who's responsible for RDP back comp.\nPatrick who should we ask?\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-02T11:35:21Z"
  }, {
    "text" : "Comment on attachment 8724688\nShow cause of a network request in netmonitor. r=jaws\n\nMaking the previous patch obsolete.\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-02T11:38:07Z"
  }, {
    "text" : "New push to try (fixing merge conflict)\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=76a6ca3a2ef3\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-02T11:40:54Z"
  }, {
    "text" : "(In reply to Jan Honza Odvarko [:Honza] from comment #18)\n> > 8. The NetworkEvent's 'isXHR' field is now redundant, as it's value can be\n> > always computed from the 'cause' value. What about removing it? It would be\n> > a breaking change in the debugger protocol. I don't know how much public the\n> > protocol is and what is the policy for making changes - wouldn't it break\n> > Firebug, for example?\n> Firebug should be fine. But, not sure who's responsible for RDP back comp.\n> Patrick who should we ask?\nUntil not long ago, we very much cared about one aspect of our protocol compatibility: that connecting to older debugger servers would still work.\nSo, in the present case, a network monitor UI would have to both know how to handle communicating with a server that sends the isXHR flag, and one that doesn't (but has the cause instead).\nThis has changed when we moved FirefoxOS to tier 3 support.\nHaving said this, we still want to support Firefox for Android up to release. So, if you open the network monitor UI with a connection to an Android phone, this should still work.\nSee this thread about backward compatibility: https://groups.google.com/forum/#!searchin/mozilla.dev.developer-tools/Tier$203$20support/mozilla.dev.developer-tools/RiKZhVbgn8o/TpExfI9VAwAJ\nAnd: https://wiki.mozilla.org/DevTools/Backwards_Compatibility",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2016-03-02T12:42:41Z"
  }, {
    "text" : "(In reply to Jan Honza Odvarko [:Honza] from comment #18)\n> > 6. Should the 'Cause' really be a column in the request list? As the columns\n> > are not resizable and can't be added/removed, the new columns occupies\n> > precious screen real-estate. Maybe the request detail pane would be a better\n> > place for it.\n> I like having a new column and perhaps it can help to increase priority\n> of a 'column picker' feature that would allow the user to show/hide columns.\n> I might look at this, since I did it in Firebug the other day.\n> As soon as this is done we might discuss what columns should be visible\n> by default.\n> \n> Helen what do you think?\n\nHaving it as a column makes sense to me (I'm not a huge fan of our sliding panels, so I prefer an additional column). I agree that a column picker is worth looking into, although that's not within the scope of this bug.",
    "authour" : "hholmes@mozilla.com",
    "created" : "2016-03-02T13:54:16Z"
  }, {
    "text" : "(In reply to Helen V. Holmes (:helenvholmes) (:âœ¨)(Please needinfo) from comment #22)\n> Having it as a column makes sense to me (I'm not a huge fan of our sliding\n> panels, so I prefer an additional column). I agree that a column picker is\n> worth looking into, although that's not within the scope of this bug.\nGreat, here is a bug for the column picker: Bug 1252858\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-02T14:03:13Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:pbro] from comment #21)\n> (In reply to Jan Honza Odvarko [:Honza] from comment #18)\n> > > 8. The NetworkEvent's 'isXHR' field is now redundant, as it's value can be\n> > > always computed from the 'cause' value. What about removing it? It would be\n> > > a breaking change in the debugger protocol. I don't know how much public the\n> > > protocol is and what is the policy for making changes - wouldn't it break\n> > > Firebug, for example?\n> > Firebug should be fine. But, not sure who's responsible for RDP back comp.\n> > Patrick who should we ask?\n> Until not long ago, we very much cared about one aspect of our protocol\n> compatibility: that connecting to older debugger servers would still work.\n> So, in the present case, a network monitor UI would have to both know how to\n> handle communicating with a server that sends the isXHR flag, and one that\n> doesn't (but has the cause instead).\n> This has changed when we moved FirefoxOS to tier 3 support.\n> Having said this, we still want to support Firefox for Android up to\n> release. So, if you open the network monitor UI with a connection to an\n> Android phone, this should still work.\n> See this thread about backward compatibility:\n> https://groups.google.com/forum/#!searchin/mozilla.dev.developer-tools/\n> Tier$203$20support/mozilla.dev.developer-tools/RiKZhVbgn8o/TpExfI9VAwAJ\n> And: https://wiki.mozilla.org/DevTools/Backwards_Compatibility\n\nIf anyone's unsure if compatibility is being done correctly, please flag me on the patch.  I am happy to take a look to double check.",
    "authour" : "jryans@gmail.com",
    "created" : "2016-03-02T16:27:09Z"
  }, {
    "text" : "New try push here:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a4437075d005\n\n@Jarda Snajdr: Here are some tips for pushing to try.\n\n* MDN page: https://wiki.mozilla.org/ReleaseEngineering/TryServer\n* Try Chooser: https://wiki.mozilla.org/Build:TryChooser\n* My typical try-commit message for devtools: \"try: -b do -p linux64,macosx64,win32 -u xpcshell,mochitest-dt,mochitest-o,mochitest-e10s-devtools-chrome -t none\"\n* The push command: hg push -f ssh://jodvarko@mozilla.com@hg.mozilla.org/try/\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-03T15:08:36Z"
  }, {
    "text" : "One more comment to this feature.\n\nMy test page has an image in CSS file. Somethings like as follows:\n\n.myRule {\n  border-image: url(image.png) 1 1 1 1 repeat;\n}\n\nThe HTTP request for the image.png displayed in the Net panel says cause: 'img'. But, what I would really expect here (as a web developer) is 'stylesheet'. Since it was the CSS rule in my stylesheet that caused the request to happen. I know the patch is just consuming platform API so, there is not much we (devtools) can do, but if we agree with such behavior we might want to ask the platform folks to improve the API.\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-03T15:34:34Z"
  }, {
    "text" : "Created attachment 8726691\nShow cause of a network request in netmonitor.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-03-04T12:30:29Z"
  }, {
    "text" : "Uploaded a new version of the patch with one improvement - retrieve also the URI of the document that originated the request and show it as a tooltip of the 'cause' column value.\n\nThese values are exactly the same ones that are passed to nsIContentPolicy::shouldLoad as the aContentType and aRequestOrigin arguments. It's a public API commonly used by content-blocking extensions, so changing and extending it (to report a different TYPE_ for images loaded from CSS, for example) can be quite a big deal. It's probably not possible to get more information about the requests from the current platform API.\n\nWhat's not very nice is that the requestOrigin URI is always the URI of the loading document (top-level or iframe) instead of being the URL of the stylesheet loading an image, for example.\n\nI decided not to remove the isXHR field from the protocol packet - it requires nontrivial effort for very little benefit, and would require update of MDN pages like this one: https://developer.mozilla.org/en-US/docs/Tools/Web_Console/remoting\n\nThe feature can't be significantly improved without some larger update to the platform code. Honza, please decide if it's worth shipping in the current state.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-03-04T12:48:56Z"
  }, {
    "text" : "Comment on attachment 8726691\nShow cause of a network request in netmonitor.\n\n(In reply to Jarda Snajdr [:jsnajdr] from comment #28)\n> The feature can't be significantly improved without some larger update to\n> the platform code. Honza, please decide if it's worth shipping in the\n> current state.\n\nI've been playing with this a bit more and I'll also attach a screenshot that compares the 'Cause' and 'Type' columns. In most cases these columns are mostly showing the same info (slightly different wording). For example: cause for 'css' is 'stylesheet', cause for 'js' is 'script', 'html' -> 'subdocument', 'png' -> 'img', etc. The additional value is very low.\n\nSince the requestOrigin URI is also not adding much (if there was a line number pointing to the source that caused the traffic, that would be something! ... and Chrome does that), so I am voting for not landing this feature. \n\nBut, this was great prototyping! Trying to build a new feature on top of platform API is always great and it's nice to see such effort. I'd recommend to file a platform bug with explanation why the API are not much useful for devtools. Such feedback could help to get better platform support in the future.\n\nTo be sure, Victor what do you think? (you might want to read from comment #26\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-04T16:33:47Z"
  }, {
    "text" : "Created attachment 8726787\nbug1134073.png",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-04T16:34:04Z"
  }, {
    "text" : "There are actually two different meanings of the \"file/line that caused the traffic\".\n\nIf a page loads a stylesheet.css file that contains one rule:\n\n.highlighted { background-image: url(highlight.png); }\n\nthen the event of loading 'highlight.png' can have two sources:\n\n1. The obvious one: stylesheet.css:1 - the place where the image file is referenced.\n\n2. Because the 'highlight.png' is lazy-loaded at the time when the '.highlighted' rule is first used, the source can be the JS code that adds the 'highlighted' class to an element for the first time. This is what Chrome network inspector shows in their 'Initiator' column.\n\nSource #2 could be probably extracted without a new platform API - by looking at the components.stack.caller object. The ConsoleReflowListener code already uses that to report places that trigger CSS reflows.\n\nAbout source #1, I don't know. The nsIContentPolicy::shouldLoad API gets an aContext parameter that is the DOM node that triggered the request. Maybe something could be extracted from that. But I'm afraid that it's the top-level document/tab element, not the actual <script>, <link> or <img> one.\n\nI'll explore these two ideas and if nothing else, it will make me more qualified to file a relevant platform bug.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-03-04T21:58:31Z"
  }, {
    "text" : "I think there's a few cases where the distinction can be useful, e.g. when a script is requesting js, or a xhr is requesting json. In those cases there's quite a few ways in which such actions can be performed. It would be infinitely more useful if these would link to the actual request site (e.g. the source/line in which that xhr was performed, for instance). I personally wouldn't find that much value in seeing these columns as they are, but I haven't been doing actual web development in quite a long time.",
    "authour" : "vporof@mozilla.com",
    "created" : "2016-03-08T14:12:42Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #31)\n> I'll explore these two ideas and if nothing else, it will make me more\n> qualified to file a relevant platform bug.\nAlright. Please let us know what you've found and whether there is room for any improvement (using the current platform API) and we'll re-evaluate. Victor is voting for it so, we might want to land it.\n\nHonza",
    "authour" : "odvarko@gmail.com",
    "created" : "2016-03-08T15:51:39Z"
  }, {
    "text" : "(In reply to Victor Porof [:vporof][:vp] from comment #32)\n\n>  It would be\n> infinitely more useful if these would link to the actual request site (e.g.\n> the source/line in which that xhr was performed, for instance). \n\nAdding stacks to XHR is bug 9062329.\nThat one is waiting for the network view refactor.",
    "authour" : "ttromey@mozilla.com",
    "created" : "2016-03-08T20:15:51Z"
  }, {
    "text" : "(In reply to Tom Tromey :tromey from comment #34)\n> Adding stacks to XHR is bug 9062329.\n\nIt's actually bug 906239.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-03-08T21:04:17Z"
  }, {
    "text" : "Created attachment 8747762\nPart 1: notify http-on-opening-request observers in content process",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-02T16:14:30Z"
  }, {
    "text" : "Created attachment 8747763\nPart 2: collect information about request cause and stacktrace in network monitor",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-02T16:14:43Z"
  }, {
    "text" : "Created attachment 8747764\nPart 3: Improve the Tooltip behavior to allow interactivity",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-02T16:14:52Z"
  }, {
    "text" : "Created attachment 8747765\nPart 4: show network request cause and stacktrace in netmonitor UI",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-02T16:14:57Z"
  }, {
    "text" : "Created attachment 8747766\nPart 5: show network request cause in netmonitor UI - mochitest",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-02T16:15:03Z"
  }, {
    "text" : "New WIP version of the 'show request cause' feature that also shows the stack trace, if available. It appears as a popup bubble over the 'cause' column (very similar to Chrome's Initiator column).\n\nPart 1:\n- C++ patch to fire http-on-opening-request also in the content process\n- copied without change from tromey's patch in bug 906239\n\nPart 2:\n- collect the information about request's stacktrace and type on the server\n- based on tromey's patch in bug 906239, merged with my 'request cause' patch back from March\n\nPart 3:\n- Tooltip patch needed for the UI - don't hide the tooltip popup when mouse is over it - allows it to be interactive\n- I want to eventually land this as a separate bug that improves the behavior of tooltips\n\nPart 4:\n- frontend UI: new \"Cause\" column in netmonitor, shows stacktrace in a popup tooltip on mouseover\n\nPart 5:\n- mochitest for the cause column, doesn't include the new stacktrace stuff\n\nThings to do before this can be put up for review and landed:\n\nBackend: There is a serious bug if there are multiple tabs open. The http-on-opening-request observer is observing ALL requests from all tabs, and sending them to all network monitor actors, even for other tabs. Just open multiple tabs and watch the console.logs: many requests are pushed to the this.stacktraces queue, but they are not always shifted.\n\nFrontend: Properly design the UI and finalize it:\n- is a popup bubble the right place to show the stack trace?\n- the stack should be also displayed in the HTTP request details in the console\n- how to properly display the stack and the links to source? At various places, it's done slightly differently. There is console.trace, event handler viewer in inspector, and probably also others",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-02T16:16:29Z"
  }, {
    "text" : "Created attachment 8748622\nPart 2: collect information about request cause and stacktrace in network monitor\n\nI made the backend code work better than before, in both e10s and non-e10s. The whole approach is still very problematic - it's fragile and can easily break. As a next step, I'll focus on the client process notifications in bug 1269765.\n\nTo make the code cleaner, I did the following:\n- extracted the stack-collecting code to a separate class StackTraceCollector\n- extracted the matchRequest function out of the NetworkMonitor class - it's now used by the StackTraceCollector, too\n\nHow it works?\n\nIn e10s:\n- the child's NetworkMonitorChild has a StackTraceCollector that listens on the \"http-on-opening-request\" and collects a stack trace\n- the parent's NetworkMonitor creates a new network event, either on nsIHttpActivityObserver's ACTIVITY_SUBTYPE_REQUEST_HEADER event, or on the \"http-on-examine-cached-response\" event, in case when the response is from cache\n- the parent sends the event through NetworkEventActorProxy to the child\n- the child has a stack trace for this request in its queue and attaches it to the network event\n\nIn non-e10s:\n- there is no parent and child, both the stack collection and network event creation happens in the same NetworkMonitor object\n\nIn both cases, we rely on the precise ordering of the events:\n1. the \"http-on-opening-request\" in the child must always fire before the message about the new event arrives from the parent\n2. all the events always fire in the same order - they must never be swapped\n3. the \"http-on-opening-request\" fires if and only if the ACTIVITY_SUBTYPE_REQUEST_HEADER/http-on-examine-cached-response in the parent fires, too. I must never happen that one of these event doesn't fire\n\nAssuption #3 doesn't always hold. I encountered problems when the toolbox is being opened in the middle of network activity. Then some events are lost. Also, the \"http-on-opening-request\" doesn't always fire in case there is going to be a cached response.\n\nAnother problem is that the matchRequest function should have exactly the same results in the parent and in the child. It's called for the same request in both processes. However, in parent it tests against topFrame, and in the child it tests against window. I'm not sure if the results are always 100% the same. And of course, I didn't test any b2g stuff (appId).\n\nThings I didn't investigate much yet:\n- requests from service workers\n- network monitor in the browser toolbox",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-04T13:15:55Z"
  }, {
    "text" : "Created attachment 8748623\nPart 5: show network request cause in netmonitor UI - mochitest\n\nImproved mochitest to test the stack traces, too",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-04T13:16:42Z"
  }, {
    "text" : "Comment on attachment 8748622\nPart 2: collect information about request cause and stacktrace in network monitor\n\nReview of attachment 8748622:\n-----------------------------------------------------------------\n\n::: devtools/shared/webconsole/network-monitor.js\n@@ +162,5 @@\n> +      }\n> +    }\n> +\n> +    console.log(\"Queued stacktrace:\", this.stacktraces.length, uri);\n> +    this.stacktraces.push({ uri, stacktrace });\n\nI looked over nsIHttpChannel, nsIChannel and nsIRequest and I haven't seen any meaningful identifier for a request.\nIf we end up piling hacks on top of the parent <-> child piping, we should find a better id than just the url. It would address the fact that we mostly rely on various cross process call orders, which is just frightening!\n\n@@ +179,5 @@\n> +      return null;\n> +    }\n> +\n> +    console.log(\"Retrieved stacktrace:\", this.stacktraces.length, uri);\n> +    return trace.stacktrace;\n\nOn non-e10s, and let's say on e10s if bug 1269765 is addressable.\nHere we could match against nsIHttpChannel object safely without weak ordering issues, right?\n\n@@ +951,5 @@\n> +    let loadingPrincipal = channel.loadInfo.loadingPrincipal;\n> +    let causeUri = loadingPrincipal ? loadingPrincipal.URI : null;\n> +    event.cause = {\n> +      type: causeType,\n> +      uri: causeUri ? causeUri.spec : null\n\nevent.url, event.cause.uri. Too many uri/l.\nWhat about naming that documentUri or something similar?\nJust to be explicit about what causeUri is. It's not the request uri, but the loading document one.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-05-04T14:33:19Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #44)\n> I looked over nsIHttpChannel, nsIChannel and nsIRequest and I haven't seen\n> any meaningful identifier for a request.\n> If we end up piling hacks on top of the parent <-> child piping, we should\n> find a better id than just the url. It would address the fact that we mostly\n> rely on various cross process call orders, which is just frightening!\n\nI'm now relying on the order of events and I compare the URL just to assert that everything is right. But I don't believe this approach will ever work reliably - I'm already getting random errors when responses are served from cache. I'll focus on studying the C++ netwerk code and bug 1269765 now.\n\n> On non-e10s, and let's say on e10s if bug 1269765 is addressable.\n> Here we could match against nsIHttpChannel object safely without weak\n> ordering issues, right?\n\nYes, then the collecting the stack and attaching it to the network event happen in the same process and the channels are the same object. It will be similar to how we use NetworkMonitor.interceptedChannels to identify service worker requests.\n\n> event.url, event.cause.uri. Too many uri/l.\n> What about naming that documentUri or something similar?\n> Just to be explicit about what causeUri is. It's not the request uri, but\n> the loading document one.\n\nI might drop the event.cause.uri altogether, as it's not very useful. But if we keep it, loadingDocumentUri is a better name.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-04T14:51:11Z"
  }, {
    "text" : "Created attachment 8751734\nPart 1: notify http-on-opening-request observers in content process",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-12T12:41:48Z"
  }, {
    "text" : "Created attachment 8751735\nPart 2: collect information about request cause and stacktrace in network monitor",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-12T12:42:08Z"
  }, {
    "text" : "Created attachment 8751736\nPart 3: Improve the Tooltip behavior to allow interactivity",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-12T12:42:21Z"
  }, {
    "text" : "Created attachment 8751737\nPart 4: show network request cause and stacktrace in netmonitor UI",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-12T12:42:38Z"
  }, {
    "text" : "Created attachment 8751738\nPart 5: show network request cause in netmonitor UI - mochitest",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-12T12:42:56Z"
  }, {
    "text" : "Just attached the latest version of the patch that adds a way how to reliably connect the stacktrace collected in the child with the other info collected in the parent (and sent to child over messageManager).\n\nnsIHttpChannel now has a new attribute: channelId. It's a uint32 allocated in the parent when creating a HttpChannel. It's retrieved by NetworkMonitor and send over the messageManager as a property of the network event.\n\nChild can read the property over a synchronous IPDL method \"GetChannelId\". This happens in the http-on-opening-request handler, while collecting the stacktrace, and the channelId can be used as a key to store the stacktrace in a map (and later picked up when other events arrive from the parent).\n\nSeveral things that should be improved in the next step:\n1. The method \"GetChannelId\" can cause trouble, because it's sync. For example, when you set a tab.contentWindow.location property in the parent, it sends a sync CPOW request to the child. The handler on the child side immediately (synchronously) initiates a HTTP request to load the new URL, which, in case when NetworkMonitor is active, triggers a sync GetChannelId call back to the parent, and causes a \"cross-process JS call failed\" error. Try to run the browser_net_cause.js mochitest to see it. I'm going to replace the sync method called by the child by an async notification sent from the parent to child.\n\n2. Redirects are not handled. When a request is redirected (HSTS or HTTP redirect), parent creates a new channel with a new channelId and tells the child to connect to the new one, but the stacktrace is still stored under the old channelId. When an event from parent arrives over messageManager, it has the new channelId, however. And the stack is not found.\n\n3. When redirecting, nsRedirectChannelRegistrar assigns its own \"channelId\" to the channel, but it's a different ID from the internal channel's channelId. Very ugly and confusing. The solution is to move the channelId from nsIHttpChannel up the hierarchy to nsIChannel. This will require touching many more classes that also implement nsIChannel. But the registrar will be able to reuse the nsIChannel's ID and won't have to assign its own ones.\n\nAlex, what do you think? Jason, can I get some feedback from the Necko team about this?\n\nAll the code I just described is in Part 1 of the patch, the rest is \"just the remaining easy parts\"",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-12T13:00:23Z"
  }, {
    "text" : "Created attachment 8752688\nPart 1: add support for nsIHttpChannel ID, notify http-on-opening-request in content process",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T08:08:49Z"
  }, {
    "text" : "Created attachment 8752689\nPart 2: collect information about request cause and stacktrace in network monitor",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T08:09:02Z"
  }, {
    "text" : "Created attachment 8752690\nPart 3: Improve the Tooltip behavior to allow interactivity",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T08:09:15Z"
  }, {
    "text" : "Created attachment 8752691\nPart 4: show network request cause and stacktrace in netmonitor UI",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T08:09:28Z"
  }, {
    "text" : "Created attachment 8752692\nPart 5: show network request cause in netmonitor UI - mochitest",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T08:09:42Z"
  }, {
    "text" : "New version of the patch with the following improvements:\n\n- getting the information about the channelId is no more a sync IPDL request sent by the child, but rather an async notification sent by the parent. The workflow is:\n\n1. Child sends an async constructor request to the parent\n2. Until the child is notified back about the ID, its GetChannelId method returns NS_ERROR_NOT_AVAILABLE\n3. After the parent channel is initialized, it notifies the child about the assigned ID\n\n- there is a new nsIObserverService notification \"http-on-channel-id\", fired in the child process after a child channel gets its ID\n\n- the NetworkMonitor's StackCollector does a slightly complicated dance to coordinate all this async action:\n\n1. When the JS stack is collected, the channel doesn't have an ID yet, so we store it in a \"stackTracesByChannel\" map keyed by the channel object.\n2. When the http-on-channel-id notification arrives, we move the stacktrace from stackTracesByChannel map to a stackTracesById map, keyed by the ID.\n3. When an information about further network activity arrives from parent to child, the stacktrace is picked up from the stackTracesById map.\n\nHow do I handle redirections?\n\n- if it's a normal HTTP redirect, the request has two records in the network monitor: the first is the one that got the 30x response, and the JS stack will be associated with it. The next request, to the redirected URL, won't have a stack trace.\n\n- if it's an \"internal\" redirect (e.g., a HSTS redirect), the original channel is replaced by another one with a different ID, no network activity ever occurs for the original channel, and we need to associate the JS stack (stored with original ID as the key) with the replacement channel's ID. We do this by implementing a nsIChannelEventSink that gets notified about redirects from channel X to channel Y. The network monitor will then display only one request (from channel Y), with the right stack trace.\n\nThere's a mochitest that tests the HSTS redirect.\n\nWhat needs to be done next?\n\n- check how the channelIds behave when HTTP requests from different processes start to mix in one network monitor. This happens when a service worker is used - service worker's network activity happens in the child process.\n\n- move the channelId property up the hiearchy to nsIChannel, and use the channelId in the RedirectChannelRegistrar.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T08:27:10Z"
  }, {
    "text" : "Haven't looked at the patches yet, but I was wondering, just by reading your comments, if it would be easier to compute the id in the child? I imagine the channels are always created first in the child and then forwarded back to the parent??\n\nSee this code which computes cross process unique ids from any process:\n  http://mxr.mozilla.org/mozilla-central/source/dom/ipc/ContentChild.cpp#3163\n(there is most likely other ways to do similar thing)\n\nWhat about keeping proper stacks for redirected channels for a followup?\nOr pull it out from attachment 8752691.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-05-16T10:12:23Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #58)\n> Haven't looked at the patches yet, but I was wondering, just by reading your\n> comments, if it would be easier to compute the id in the child? I imagine\n> the channels are always created first in the child and then forwarded back\n> to the parent??\n\nBecause of redirects that are initiated in parent, it actually works both ways:\n\n1. If child initiates a request, the child creates a channel and then tells the parent to create the corresponding channel in the parent.\n\n2. If a redirect happens, the parent creates a new channel and then tells the child to create the corresponding child channel.\n\nSo if there is one authority assigning the ID, there is always a case when the other side needs to be notified about the ID.\n\n> See this code which computes cross process unique ids from any process:\n>   http://mxr.mozilla.org/mozilla-central/source/dom/ipc/ContentChild.cpp#3163\n> (there is most likely other ways to do similar thing)\n\nThis is a great idea, however - give all processes authority to allocate the IDs, and make them unique by making  the process ID a part of the channel ID. I'll definitely try it out.\n\n> What about keeping proper stacks for redirected channels for a followup?\n> Or pull it out from attachment 8752691.\n\nI can divide the backend patch into multiple ones, if it helps the reviewers to understand it.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T11:13:32Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #59)\n> (In reply to Alexandre Poirot [:ochameau] from comment #58)\n> > Haven't looked at the patches yet, but I was wondering, just by reading your\n> > comments, if it would be easier to compute the id in the child? I imagine\n> > the channels are always created first in the child and then forwarded back\n> > to the parent??\n> \n> Because of redirects that are initiated in parent, it actually works both\n> ways:\n> \n> 1. If child initiates a request, the child creates a channel and then tells\n> the parent to create the corresponding channel in the parent.\n\nIf the channelID is created in the child, would it be possible to pass its id to the parent when the child \"tells the parent to create the corresponding channel in the parent\"?\nThen both child and parent would have the same id immediately.\n\n> 2. If a redirect happens, the parent creates a new channel and then tells\n> the child to create the corresponding child channel.\n\nYou have the event-sink listener which handles this, right? It wouldn't depend on http-on-channel-id notification. The original request would have an id computed from the child while the redirected request would be computed from the parent, but that's not an issue. The event-sink doesn't care, it just matches the id. But it depends on the previous comment. ID's should be synced between processes on creation.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-05-16T11:24:12Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #60)\n> > 1. If child initiates a request, the child creates a channel and then tells\n> > the parent to create the corresponding channel in the parent.\n> \n> If the channelID is created in the child, would it be possible to pass its\n> id to the parent when the child \"tells the parent to create the\n> corresponding channel in the parent\"?\n> Then both child and parent would have the same id immediately.\n\nYes, it's possible. It would be passed as extra constructor parameter here:\nhttps://dxr.mozilla.org/mozilla-central/source/netwerk/ipc/PNecko.ipdl#64\n\n> \n> > 2. If a redirect happens, the parent creates a new channel and then tells\n> > the child to create the corresponding child channel.\n> \n> You have the event-sink listener which handles this, right? It wouldn't\n> depend on http-on-channel-id notification. The original request would have\n> an id computed from the child while the redirected request would be computed\n> from the parent, but that's not an issue.\n\nYes, if the IDs can be allocated both in parent and in child, at the place of channel creation, and are guaranteed to be unique, then we can get rid of the http-on-channel-id notification. The IDs will be passed as constructor arguments and will be in sync from the beginning.\n\nThe event sink serves to notify the JS code in NetworkMonitor that channel X was redirected to channel Y. Assigning of the IDs must happen at lower level - in the C++ HttpChannelParent/Child.cpp objects and the IPDL protocol between them.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-16T11:38:51Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=65aa83725783",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-20T08:32:02Z"
  }, {
    "text" : "Created attachment 8758150\nPart 1: Collect information about request cause and stacktrace in netmonitor backend",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-31T08:44:54Z"
  }, {
    "text" : "Created attachment 8758151\nPart 2: Show network request cause and stacktrace in netmonitor UI",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-31T08:45:18Z"
  }, {
    "text" : "Created attachment 8758152\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-31T08:45:33Z"
  }, {
    "text" : "The NetworkMonitor backend part (part 1) is ready for review. The UI patch I'll submit for review after I polish it and add the stacktrace also to the HTTP request log in console.\n\nYou need patches from bug 1270111 (tooltips), bug 1274556 (channelId in Necko) and bug 1269765 (http-on-opening-request in Necko) to make it work. They should be landing in m-c very soon, but are not there yet at this moment.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-31T08:50:31Z"
  }, {
    "text" : "Comment on attachment 8758150\nPart 1: Collect information about request cause and stacktrace in netmonitor backend\n\nReview of attachment 8758150:\n-----------------------------------------------------------------\n\nLooks good, I just have some tweaks here and there.\nI haven't tested your patches yet. I'll get to that for the review of UI patches.\n\n::: devtools/server/actors/webconsole.js\n@@ +603,5 @@\n> +            // NetworkMonitorChild (getting messages about requests from parent) and\n> +            // by the NetworkMonitor that directly watches service workers requests.\n> +            this.stackTraceCollector = new StackTraceCollector({\n> +              window: window,\n> +              appId: appId\n\n{ window, appId } ?\n\n::: devtools/shared/webconsole/network-monitor.js\n@@ +127,5 @@\n> +\n> +  QueryInterface: XPCOMUtils.generateQI([Ci.nsIChannelEventSink, Ci.nsIFactory]),\n> +\n> +  init() {\n> +    let registrar = Cm.nsIComponentRegistrar;\n\nThat's the first time I see this. It doesn't seem to be very common and it doesn't seem to be \"specififed\" as it isn't in the related idl.\n\nThis version is more common:\n  let registrar = Cm.QueryInterface(Ci.nsIComponentRegistrar);\n\n@@ +135,5 @@\n> +\n> +    registrar.registerFactory(this.classID, this.classDescription, this.contractID, this);\n> +    let catMan = Cc[\"@mozilla.org/categorymanager;1\"].getService(Ci.nsICategoryManager);\n> +    catMan.addCategoryEntry(\"net-channel-event-sinks\", this.contractID, this.contractID,\n> +      false, true);\n\nnit: you may use loader.lazyServiceGetter() like activity distributor.\n\n@@ +144,5 @@\n> +    this.collectors.add(collector);\n> +  },\n> +\n> +  unregister(collector) {\n> +    this.collectors.delete(collector);\n\nWhat about unregistering it when this.collectors.size == 0?\n\n@@ +158,5 @@\n> +  asyncOnChannelRedirect(oldChannel, newChannel, flags, callback) {\n> +    for (let collector of this.collectors) {\n> +      collector.onChannelRedirect(oldChannel, newChannel, flags);\n> +    }\n> +    callback.onRedirectVerifyCallback(Cr.NS_OK);\n\nWhat happens if collector.onChannelRegister throws?\nDoes that cancel the redirect or change its behavior in any wait?\nIf yes, I would suggest adding try/catch around the for() to prevent changing content behavior in unexpected error within devtools.\n\n@@ +166,5 @@\n> +};\n> +\n> +function StackTraceCollector(filters) {\n> +  this.filters = filters;\n> +  this.stacktracesById = new Map();\n\nWeakMap doesn't work with nsIHttpChannel as key, right?\n\n@@ +173,5 @@\n> +}\n> +\n> +StackTraceCollector.prototype = {\n> +  init() {\n> +    Services.obs.addObserver(this._onOpeningRequest, \"http-on-opening-request\", false);\n\nnit: addObserver also accept an object, similar to addEventListener.\nIt prevents having to bind a callback.\nIt would do something like this:\n  init() {\n    Services.obs.addObserver(this, ...)\n  },\n  observe(subject, topic, data) {\n    \n  }\n\n@@ +187,5 @@\n> +    this.stacktracesById.set(channel.channelId, stacktrace);\n> +  },\n> +\n> +  _onOpeningRequest(subject) {\n> +    let channel = subject.QueryInterface(Ci.nsIHttpChannel);\n\nCan't it happen that http-on-opening-request is called on non-http channel? Like chrome://, resource://, about: ?\nWe can do XHR from these documents.\nI'm not asking this patch to support non-http requests.\nI'm just wondering if that throws here. If yes, we should just prevent such exception.\n\nTo check for interfaces you can use (object instanceof Ci.nsIHttpChannel). It also act as QueryInterface if object implements the interface.\n\n@@ +192,5 @@\n> +\n> +    if (!matchRequest(channel, this.filters)) {\n> +      return;\n> +    }\n> +\n\nYou may briefly explain why you need to serialize the stack here \ninstead of just passing components.stack.\n\n@@ +203,5 @@\n> +          filename: frame.filename,\n> +          lineNumber: frame.lineNumber,\n> +          columnNumber: frame.columnNumber,\n> +          functionName: frame.name,\n> +          asyncCause: frame.asyncCause,\n\nPlease ensure copying only the field you actually plan to use in the UI.\n\n@@ +236,5 @@\n> +    if (!trace) {\n> +      return null;\n> +    }\n> +\n> +    return trace;\n\nnit: `return trace || null;`\nBut is it really important to be null instead of undefined?\n\n@@ +1436,5 @@\n> +\n> +    if (this.owner.stackTraceCollector) {\n> +      event.cause.stacktrace =\n> +        this.owner.stackTraceCollector.getStackTrace(event.channelId);\n> +    }\n\nCould you drop a comment about why you also need the stack collector over here? (and not only in createNetworkEvent())",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-05-31T09:58:30Z"
  }, {
    "text" : "Created attachment 8758274\nPart 1: Collect information about request cause and stacktrace in netmonitor backend",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-31T13:50:27Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #67)\n> { window, appId } ?\n\nFixed.\n\n> > +    let registrar = Cm.nsIComponentRegistrar;\n> \n> That's the first time I see this. It doesn't seem to be very common and it\n> doesn't seem to be \"specififed\" as it isn't in the related idl.\n> \n> This version is more common:\n>   let registrar = Cm.QueryInterface(Ci.nsIComponentRegistrar);\n\nFixed.\n\n> > +    catMan.addCategoryEntry(\"net-channel-event-sinks\", this.contractID, this.contractID,\n> > +      false, true);\n> \n> nit: you may use loader.lazyServiceGetter() like activity distributor.\n\nUsed the XPCOMUtils.categoryManager getter, which is even better.\n\n> > +  unregister(collector) {\n> > +    this.collectors.delete(collector);\n> \n> What about unregistering it when this.collectors.size == 0?\n\nAdded deleteCategoryEntry when the collectors count drops to zero. However, I failed to unregister the factory. The unregisterFactory expects the factory object that was registered as an argument, but then refuses the JS object I pass with NS_ERROR_XPC_BAD_CONVERT_JS.\n\nI think that calling deleteCategoryEntry is the important part of the cleanup - it stops the event sink handler being called when no network monitor is active. Keeping the component registered doesn't really harm anyone.\n\n> What happens if collector.onChannelRegister throws?\n> Does that cancel the redirect or change its behavior in any wait?\n> If yes, I would suggest adding try/catch around the for() to prevent\n> changing content behavior in unexpected error within devtools.\n\nGood catch, really bad things happen when the channels are not nsIHttpChannels - the redirect is cancelled. Added a try/catch block.\n\n> WeakMap doesn't work with nsIHttpChannel as key, right?\n\nExactly, I've been advised to not even hope it would work :) Something with cycle collection.\n\n> nit: addObserver also accept an object, similar to addEventListener.\n\nFixed.\n\n> Can't it happen that http-on-opening-request is called on non-http channel?\n\nNo, unlike asyncOnChannelRedirect, here the channel is guaranteed to be nsIHttpChannel. XHRs for other schemes won't be noticed by NetworkMonitor at all.\n\n> To check for interfaces you can use (object instanceof Ci.nsIHttpChannel).\n> It also act as QueryInterface if object implements the interface.\n\nHmm, doesn't work for me. \"channel.channelId\" stopped being undefined only after explicit \"channel.QueryInterface(Ci.nsIHttpChannel)\".\n\n> You may briefly explain why you need to serialize the stack here \n> instead of just passing components.stack.\n\nWell, I copied this without thinking from the original tromey's patch :) But: components.stack is an XPCOM wrapper. We need to send it as a JSON through message manager. Explained in a comment.\n\n> Please ensure copying only the field you actually plan to use in the UI.\n\nRemoved the asyncCause property, will add back when it's needed.\n\n> @@ +236,5 @@\n> > +    if (!trace) {\n> > +      return null;\n> > +    }\n> > +\n> > +    return trace;\n> \n> nit: `return trace || null;`\n> But is it really important to be null instead of undefined?\n\nThere used to be a \"console.log\" inside the \"if\". Removed the \"if\" block completely.\n\n> Could you drop a comment about why you also need the stack collector over\n> here? (and not only in createNetworkEvent())\n\nOne place is in parent process, the other is in child. In order to work in both e10s and non-e10s, it must be at both places.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-05-31T14:06:30Z"
  }, {
    "text" : "Comment on attachment 8758274\nPart 1: Collect information about request cause and stacktrace in netmonitor backend\n\nReview of attachment 8758274:\n-----------------------------------------------------------------\n\n> > > +  unregister(collector) {\n> > > +    this.collectors.delete(collector);\n> > \n> > What about unregistering it when this.collectors.size == 0?\n> \n> Added deleteCategoryEntry when the collectors count drops to zero. However,\n> I failed to unregister the factory. The unregisterFactory expects the\n> factory object that was registered as an argument, but then refuses the JS\n> object I pass with NS_ERROR_XPC_BAD_CONVERT_JS.\n\nIsn't that because of the duplicated instances introduces by the browser toolbox?\nI'm unregistering a component successfully here:\n  http://mxr.mozilla.org/mozilla-central/source/devtools/client/framework/about-devtools-toolbox.js#57\nBut you shouldn't pass the instance. You should pass the component.\n\nMy suggestion to use ChannelEventSinkComponent may help there.\n\n::: devtools/shared/webconsole/network-monitor.js\n@@ +158,5 @@\n> +  register(collector) {\n> +    this.init();\n> +\n> +    // Add a collector to the registered service instance. If we load this file several\n> +    // times into different globals, \"this\" is no longer the right singleton.\n\ns/globals/loaders/\n\n@@ +159,5 @@\n> +    this.init();\n> +\n> +    // Add a collector to the registered service instance. If we load this file several\n> +    // times into different globals, \"this\" is no longer the right singleton.\n> +    let me = Cc[this.contractID].getService(Ci.nsIChannelEventSink).wrappedJSObject;\n\nIt may be slightly more clear with something like that:\nconst ChannelEventSinkComponent = {\n  ...\n}\nChannelEventSinkComponent.init();\n\nAnd then wherever you use it do:\nconst ChannelEventSink = Cc[ChannelEventSinkComponent.contractID].getService(Ci.nsIChannelEventSink).wrappedJSObject;\n// wrappedJSObject to have access to register/unregister which aren't part of nsIChannelEventSink.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-05-31T14:55:28Z"
  }, {
    "text" : "Created attachment 8758605\nPart 1: Collect information about request cause and stacktrace in netmonitor backend",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T08:03:53Z"
  }, {
    "text" : "I divided the event sink code into ChannelEventSink that's the actual sink, and ChannelEventSinkFactory that implements all the bookkeeping. Suddenly everything is much cleaner and works like a charm - registering, unregistering, multiple loaders...\n\nBTW the NS_ERROR_XPC_BAD_CONVERT_JS is XPConnect's way to say that a function argument is undefined.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T08:07:06Z"
  }, {
    "text" : "Comment on attachment 8758605\nPart 1: Collect information about request cause and stacktrace in netmonitor backend\n\nReview of attachment 8758605:\n-----------------------------------------------------------------\n\nLooks perfect.\n\nThanks for addressing every single comment I made!",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-01T09:22:06Z"
  }, {
    "text" : "Created attachment 8758693\nScreenshot of the UI (for review)",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T12:39:49Z"
  }, {
    "text" : "Created attachment 8758697\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\nUI for the network request cause and stack trace. Adds a new column to the request list, displays a \"JS\" marker for requests that have a stacktrace, and displays a popup with the stack trace on mouseover. The stack frames are cliclickable and open the source in the debugger.\n\nHelen, please have a look. How do you like it? I attached also a screenshot to make review easier.\n\nAs a next and final step, I'll add the stack trace also to the network event details in the console.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T12:44:36Z"
  }, {
    "text" : "Created attachment 8758698\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests\n\nMochitests for the cause/stacktrace feature. They test various kind of requests, including redirects, service worker requests, and internal redirects like HSTS.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T12:46:01Z"
  }, {
    "text" : "Comment on attachment 8758697\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\nLooking at the screenshot also attached, I think we might want to make the background of these popups full opacity. It's opaque enough that you can't get any info from below the tooltip anyway, and the slight opacity makes it harder to read.\n\nI notice in other HTML tooltip work (such as bug 1266450) their heights are bound to the size of devtoolsâ€”is this bug affected by that work at all?",
    "authour" : "hholmes@mozilla.com",
    "created" : "2016-06-01T13:00:42Z"
  }, {
    "text" : "(In reply to Helen V. Holmes (:helenvholmes) (:âœ¨)(pls ni?) from comment #77)\n> Looking at the screenshot also attached, I think we might want to make the\n> background of these popups full opacity. It's opaque enough that you can't\n> get any info from below the tooltip anyway, and the slight opacity makes it\n> harder to read.\n\nGood idea, I'll remove the opacity.\n\n> I notice in other HTML tooltip work (such as bug 1266450) their heights are\n> bound to the size of devtoolsâ€”is this bug affected by that work at all?\n\nNo, this is still pure XUL. I plan to migrate to the HTML tooltip as soon as Julian's changes are stable and get landed. In the meantime, I'll limit the height. A very long stack trace could break the UI now.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T13:05:28Z"
  }, {
    "text" : "Created attachment 8758726\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\n- changed the tooltip background to non-opaque theme background color\n- when the tooltip is too high, allow scrolling with overflow-y: auto\n- did some tooltip sizing tweaks similar to the Event tooltip in Inspector\n\nIt's hard to improve further with the XUL tooltip. I plan to migrate this to the HTML tooltip when it's ready.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-01T14:24:17Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=102e57c24e88",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T10:25:56Z"
  }, {
    "text" : "Created attachment 8759154\nbuggy borders\n\nOh! This is so great to finally see the stacks appear in the UI!!\n\nI'm seeing some minor style issues.\nHere the right border is missing, most likely some css/layout issue.\nYou can reproduce that while inspecting XHR requests on google search on linux/ubuntu.\n\nAlso, the stacks may end up very long, I'm wondering if we should have an overflowable popup with a maximal height.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-02T12:17:03Z"
  }, {
    "text" : "Oh! And we get stacks on not just XHR, this is so handy!\n\nBut some are leaking chrome behavior. Like the stacks for documents shows a chrome stack which may mislead beginners by showing sources from browser chrome...",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-02T12:26:40Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #82)\n> But some are leaking chrome behavior. Like the stacks for documents shows a\n> chrome stack which may mislead beginners by showing sources from browser\n> chrome...\n\nI plan to solve this as one of the followup bugs (I already have quite a long todo list). Hide the chrome: stack frames in page toolbox, but show them in browser toolbox. I'll have to figure out the best way to do this.\n\nAnd yes, whenever there is a something on the JS stack at the moment we open the HTTP channel, we display it. Unfortunately, it doesn't work with the Fetch API, because it does something like executeSoon(() => channel.asyncOpen(...)). Another followup, will probably need a small FetchDriver patch.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T12:34:25Z"
  }, {
    "text" : "Comment on attachment 8758726\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\nReview of attachment 8758726:\n-----------------------------------------------------------------\n\nLooks good codewise. But please address the overflow and border issue.\nYou may keep the chrome stacks for a followup. We can ship with them being displayed.\n\n::: devtools/client/netmonitor/netmonitor-view.js\n@@ +2295,5 @@\n>      }\n>  \n>      let hovered = requestItem.attachment;\n> +    if (hovered.responseContent &&\n> +        target.closest(\".requests-menu-icon-and-file\", requestItem.target)) {\n\nHere and in the `else if`, closest only accepts a selector parameter and not a second argument:\nhttp://mxr.mozilla.org/mozilla-central/source/dom/webidl/Element.webidl#58\n\n@@ +2325,5 @@\n> +          frameEl.className = \"requests-menu-stack-frame devtools-monospace\";\n> +\n> +          let funcEl = doc.createElement(\"label\");\n> +          funcEl.className = \"requests-menu-stack-frame-function-name\";\n> +          funcEl.setAttribute(\"value\", functionName || \"<anonymous>\");\n\nYou may use a l10n string for <anonymous>:\nstacktrace.anonymousFunction\n\n@@ +2352,5 @@\n> +\n> +        tooltip.content = el;\n> +        tooltip.panel.setAttribute(\"wide\", \"\");\n> +\n> +        return true;\n\nYou may split each popup creation: image popup and stack popup in two dedicated functions.\n\n::: devtools/client/themes/netmonitor.css\n@@ +699,5 @@\n> +.requests-menu-stack-trace {\n> +  background-color: var(--theme-body-background);\n> +  margin: -4px; /* Compensate for the .panel-arrowcontent padding. */\n> +  width: 600px;\n> +  overflow-y: auto;\n\nI don't know why, but this overflow doesn't seem to work?\nOr the maximal height is too big?",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-02T12:44:11Z"
  }, {
    "text" : "Comment on attachment 8758698\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests\n\nReview of attachment 8758698:\n-----------------------------------------------------------------\n\nLooks good.\n\nIt would be great to augment browser_net_cause.js or provide yet another test to assert at least one stack.\n\n::: devtools/client/netmonitor/test/browser_net_cause.js\n@@ +36,5 @@\n> +\n> +  EXPECTED_REQUESTS.forEach((spec, i) => {\n> +    let [ method, url, causeType, causeUri, hasStack ] = spec;\n> +\n> +    let requestItem = RequestsMenu.getItemAtIndex(i);\n\nAre you confident requests are going to be in the same order, always?\nCould you spawn multiple runs on linux32 or win debug to ensure it won't be intermittent?\n\n@@ +42,5 @@\n> +      method, url, { cause: { type: causeType, loadingDocumentUri: causeUri } }\n> +    );\n> +\n> +    let { stacktrace } = requestItem.attachment.cause;\n> +    let stackLen = (stacktrace || []).length;\n\nnit: (here and in other tests) I would have done: stacktrace ? stacktrace.length : 0\ninstead of creating an array for nothing.\n\n::: devtools/client/netmonitor/test/browser_net_cause_service_worker.js\n@@ +31,5 @@\n> +  info(\"Registering the service worker...\");\n> +  yield debuggee.registerServiceWorker();\n> +\n> +  info(\"Performing requests...\");\n> +  debuggee.performXHRRequests();\n\nGiven that you are using status-code.html\nI think you should merge this test into browser_net_service-worker-status.js\n(do not hesitate to rename this test accordingly)",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-02T13:09:06Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=b99094629782",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T13:35:11Z"
  }, {
    "text" : "Created attachment 8759164\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\nAddressed review issues:\n- removed second argument to Element.closest\n- use l10n.getStr(\"stacktrace.anonymousFunction\")\n- divided tooltip onHover callback into image/stacktrace sub-methods\n\nAlso tried to solve the overflow issue:\n- removed the ugly \"margin: -4px\" CSS hack\n- had to revert to the transparent background, otherwise the tooltip would look bad in dark theme. Helen's no-transparency suggestion will be addressed in the HTMLTooltip followup\n- specified fixed 400px max-height for the tooltip, should now limit the height and scroll on all platforms\n\nAlex, please verify the tooltip overflow/scrolling on Ubuntu. It was always right on OS X.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T13:41:16Z"
  }, {
    "text" : "Created attachment 8759173\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T14:19:17Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=102af90616ef",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T14:20:52Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #85)\n> It would be great to augment browser_net_cause.js or provide yet another\n> test to assert at least one stack.\n\nAdded a check of the function name to browser_net_cause and also to the service worker test.\n\n> Are you confident requests are going to be in the same order, always?\n> Could you spawn multiple runs on linux32 or win debug to ensure it won't be\n> intermittent?\n\nI ran this test many times both locally and in try runs and the order was always right. The requests are added to the NetworkMonitor immediately after they are started (http-on-opening-request), which is a quite synchronous operation that shouldn't leave much room for race conditions. I started 3 try runs today.\n\n> nit: (here and in other tests) I would have done: stacktrace ?\n> stacktrace.length : 0\n> instead of creating an array for nothing.\n\nFixed.\n\n> Given that you are using status-code.html\n> I think you should merge this test into browser_net_service-worker-status.js\n> (do not hesitate to rename this test accordingly)\n\nGood idea. Merged both tests into one - I just added stacktrace check to browser_net_service-worker-status.js. I also removed the crazy workaround that created an embedded iframe and replaced it with normal XHR request. The reason this hack was needed is that the page is not immediately controlled by the service worker on first load. Solved this by adding code where the SW explicitly claims control over the page when activated, and the test waits for the page being controlled before it issues requests.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-02T14:29:17Z"
  }, {
    "text" : "Comment on attachment 8759164\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\nReview of attachment 8759164:\n-----------------------------------------------------------------\n\nOverflow works fine now, but border are still broken.\nI've debugged that and provided multiple ways to address that.\n\nI've also another UI minor issue. When you hover \"JS\" logo,\nlet the tooltip display, move over the tooltip, and then move against over the same \"JS\" logo,\nthe tooltip is going to blink (hide and redisplayed).\n\n::: devtools/client/themes/netmonitor.css\n@@ +697,5 @@\n>  \n> +/* Requests menu stacktrace tooltip */\n> +.requests-menu-stack-trace {\n> +  max-height: 400px;\n> +  width: 590px;\n\nThe border is still broken here.\nBut you can fix it by setting this width to 586px (max, you can set less).\n\nOr can set set this max-width to 603px (min, you can set more)\n.devtools-tooltip[wide] {max-width: 603px;}",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-02T16:33:17Z"
  }, {
    "text" : "Comment on attachment 8759173\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests\n\nReview of attachment 8759173:\n-----------------------------------------------------------------\n\nThat would be great to test more than just function names in one test.\nAt least the values we display in the toolbox: uri, line and column.\n\nThanks for addressing all my comments in your patches.\nEverything looks good. Great piece of work there and in all dependent bugs!",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2016-06-02T16:40:35Z"
  }, {
    "text" : "Created attachment 8759556\nPart 2: Show network request cause and stacktrace in netmonitor UI",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T08:53:50Z"
  }, {
    "text" : "Created attachment 8759557\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T08:55:05Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=968a65b4a6f3",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T08:57:09Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #91)\n> I've also another UI minor issue. When you hover \"JS\" logo,\n> let the tooltip display, move over the tooltip, and then move against over\n> the same \"JS\" logo,\n> the tooltip is going to blink (hide and redisplayed).\n\nYes, this is a bug in TooltipToggle. If there is an image request in netmonitor, it shows a little preview icon next to the file name. If you move the mouse from the icon to the filename label and back, the tooltip will be blinking, too. I plan to fix it as a followup during the HTMLTooltip migration.\n\n> The border is still broken here.\n> But you can fix it by setting this width to 586px (max, you can set less).\n> \n> Or can set set this max-width to 603px (min, you can set more)\n> .devtools-tooltip[wide] {max-width: 603px;}\n\nI changed the width to 586px. The .devtools-tooltip[wide] style is used also by other tooltips and could break if the style was changed.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T09:01:36Z"
  }, {
    "text" : "(In reply to Alexandre Poirot [:ochameau] from comment #92)\n> That would be great to test more than just function names in one test.\n> At least the values we display in the toolbox: uri, line and column.\n\nAt first I wanted to avoid this, because it makes the tests fragile (adding a line to the HTML file breaks the test), but then I remembered that the debugger tests do this all the time - they wait for a breakpoint to be triggered at line 34 etc. I added a check for funcName/fileName/lineNo to the browser_net_cause test.\n\n> Thanks for addressing all my comments in your patches.\n> Everything looks good. Great piece of work there and in all dependent bugs!\n\nThanks for all your help! I can't believe this is finally landing. At first it looked like a good-first-bug :)",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T09:05:15Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=aa8869e43d93",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T10:12:10Z"
  }, {
    "text" : "Created attachment 8759588\nPart 2: Show network request cause and stacktrace in netmonitor UI\n\nChange \"const L10N\" back to \"var L10N\" in netmonitor-view.js. Some tests rely on L10N being a property of the window.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T10:24:25Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=cf1be102ca3a",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T12:15:33Z"
  }, {
    "text" : "The try runs often have failures in browser_net_statistics_0x.js - already reported in bug 1253794. Let's watch if this patch increases the frequency of these intermittents. I don't see any direct reason why it should. I'll have a look at the statistics intermittents asap.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T14:24:45Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=068d7ddee551",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T14:27:22Z"
  }, {
    "text" : "Pushed by ryanvm@gmail.com:\nhttps://hg.mozilla.org/integration/fx-team/rev/f12a69ba9122\nPart 1: Collect information about request cause and stacktrace in netmonitor backend. r=ochameau\nhttps://hg.mozilla.org/integration/fx-team/rev/572ebec612e8\nPart 2: Show network request cause and stacktrace in netmonitor UI. r=ochameau\nhttps://hg.mozilla.org/integration/fx-team/rev/a43d99734390\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests. r=ochameau",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-06-03T17:52:55Z"
  }, {
    "text" : "Release Note Request (optional, but appreciated)\n[Why is this notable]: New Developer Tools feature\n[Suggested wording]: Network monitor now displays the cause and the stack trace of each request\n[Links (documentation, blog post, etc)]: none yet",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-03T18:58:11Z"
  }, {
    "text" : "I'm going to back this out because it's my first guess at what caused the clipboard tests to fail like https://treeherder.mozilla.org/logviewer.html#?job_id=9754279&repo=fx-team\n\nIf it's still busted after the backout, feel free to ask for this to be re-landed.\n\nhttps://hg.mozilla.org/integration/fx-team/rev/ab5e81678aaa",
    "authour" : "wkocher@mozilla.com",
    "created" : "2016-06-03T21:01:42Z"
  }, {
    "text" : "This feature shouldn't affect anything clipboard related at all, and has no relation to devtools/client/eyedropper. If there are no suspicious failures in devtools/client/netmonitor/*, then please re-land.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-03T21:53:05Z"
  }, {
    "text" : "After sorting through all of the bustage on fx-team at the moment, there actually have been some netmonitor failures like https://treeherder.mozilla.org/logviewer.html#?job_id=9758518&repo=fx-team",
    "authour" : "wkocher@mozilla.com",
    "created" : "2016-06-04T00:32:15Z"
  }, {
    "text" : "(In reply to Wes Kocher (:KWierso) from comment #107)\n> After sorting through all of the bustage on fx-team at the moment, there\n> actually have been some netmonitor failures like\n> https://treeherder.mozilla.org/logviewer.html#?job_id=9758518&repo=fx-team\n\nThey are unrelated according to comment 101.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-04T12:24:47Z"
  }, {
    "text" : "Pushed by ntim.bugs@gmail.com:\nhttps://hg.mozilla.org/integration/fx-team/rev/691b0e0a6ca1\nPart 1: Collect information about request cause and stacktrace in netmonitor backend r=ochameau\nhttps://hg.mozilla.org/integration/fx-team/rev/616b2bbf8fd0\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests r=ochameau\nhttps://hg.mozilla.org/integration/fx-team/rev/a58743e540f5\nPart 2: Show network request cause and stacktrace in netmonitor UI r=ochameau",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-06-04T12:28:29Z"
  }, {
    "text" : "(In reply to Tim Nguyen :ntim from comment #108)\n> They are unrelated according to comment 101.\n\nIt's possible that for some mysterious reason, this patch increased the frequency of the browser_net_statistics_* intermittents. I'm getting a lot of failures on linux64/e10s and when looking at these tests, they are not very e10s friendly - they start waiting for events at times when these event could have already fired etc.\n\nIf these tests turn out to be a problem, I recommend to disable them in e10s (skip-if=e10s) until we get to rewrite them properly.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-04T15:21:03Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #110)\n> (In reply to Tim Nguyen :ntim from comment #108)\n> > They are unrelated according to comment 101.\n> \n> It's possible that for some mysterious reason, this patch increased the\n> frequency of the browser_net_statistics_* intermittents. I'm getting a lot\n> of failures on linux64/e10s and when looking at these tests, they are not\n> very e10s friendly - they start waiting for events at times when these event\n> could have already fired etc.\n> \n> If these tests turn out to be a problem, I recommend to disable them in e10s\n> (skip-if=e10s) until we get to rewrite them properly.\n\nLooks like this patch caused browser_net_statistics_01.js to perma-fail in addition to browser_net_statistics_02.js failures getting its frequency increased. The first failure is mentioned in comment 107, although I misread it as the second failure (which I why I thought it was OK to reland). Going to back this out again.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-04T16:39:05Z"
  }, {
    "text" : "(In reply to Tim Nguyen :ntim from comment #111)\n> Looks like this patch caused browser_net_statistics_01.js to perma-fail in\n> addition to browser_net_statistics_02.js failures getting its frequency\n> increased. The first failure is mentioned in comment 107, although I misread\n> it as the second failure (which I why I thought it was OK to reland). Going\n> to back this out again.\n\nDoes the statistics_01.js test fail on all platforms, or just linux64? I saw it fail many times on Linux, but never on OS X, both on try and localhost. Any difference between e10s and non-e10s?\n\nCan I see these stats anywhere?",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-04T16:46:38Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=0a349045f211",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-04T17:00:46Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #112)\n> (In reply to Tim Nguyen :ntim from comment #111)\n> > Looks like this patch caused browser_net_statistics_01.js to perma-fail in\n> > addition to browser_net_statistics_02.js failures getting its frequency\n> > increased. The first failure is mentioned in comment 107, although I misread\n> > it as the second failure (which I why I thought it was OK to reland). Going\n> > to back this out again.\n> \n> Does the statistics_01.js test fail on all platforms, or just linux64? I saw\n> it fail many times on Linux, but never on OS X, both on try and localhost.\n> Any difference between e10s and non-e10s?\n> \n> Can I see these stats anywhere?\n\nYou can see the failures here: https://treeherder.mozilla.org/#/jobs?repo=fx-team&revision=a58743e540f5894ce8d802784bbd16737f5ae2c3\nNotably dt5 on Windows and Linux. \n\nThose seemed to happen every time when it was landed.\n\nYou can retrigger jobs to check the frequency of intermittents.\n\nHere's the backout changeset in case you missed it: https://hg.mozilla.org/integration/fx-team/rev/a139db504ae189bb3115ff9156ab47fc7bbddcda",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-04T17:15:52Z"
  }, {
    "text" : "I've rewritten the failing tests, let's see if it fixes things: https://treeherder.mozilla.org/#/jobs?repo=try&revision=7fddea9e5134",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-04T22:03:10Z"
  }, {
    "text" : "Try push with `devtools.dump.emit` --> true: https://treeherder.mozilla.org/#/jobs?repo=try&revision=f1716b4ed77bb105218bf478a1efeb1efb469a5a\n\nMy guess is that the order of events is not being respected on Linux for whatever reason. It works fine on OSX though.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-04T23:20:39Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=c87d1e3094b4",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-06T07:59:53Z"
  }, {
    "text" : "The browser_net_statistics test failures were solved in bug 1253794. After it's landed, please re-land also this bug.\n\nTry run with both patches:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=908cc361d1a3",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-06T11:50:02Z"
  }, {
    "text" : "Pushed by pbrosset@mozilla.com:\nhttps://hg.mozilla.org/integration/fx-team/rev/372af96174c3\nPart 1: Collect information about request cause and stacktrace in netmonitor backend r=ochameau\nhttps://hg.mozilla.org/integration/fx-team/rev/91dbcbbb29ef\nPart 2: Show network request cause and stacktrace in netmonitor UI r=ochameau\nhttps://hg.mozilla.org/integration/fx-team/rev/9f5dcabac6c7\nPart 3: Show network request cause and stacktrace in netmonitor - mochitests r=ochameau",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-06-06T12:30:48Z"
  }, {
    "text" : "It would be awesome to get this in time for FF49 as this is one of the main devtools features of this release.\nIf we can't, uplifting after it lands in 50 seems low risk. It relies on platform changes that have landed in other bugs a week ago, and is mostly new feature code, so risks of regressions in the netmonitor are low.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2016-06-06T12:32:11Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/372af96174c3\nhttps://hg.mozilla.org/mozilla-central/rev/91dbcbbb29ef\nhttps://hg.mozilla.org/mozilla-central/rev/9f5dcabac6c7",
    "authour" : "wkocher@mozilla.com",
    "created" : "2016-06-06T22:18:54Z"
  }, {
    "text" : "Comment on attachment 8758605\nPart 1: Collect information about request cause and stacktrace in netmonitor backend\n\nApproval Request Comment\n[Feature/regressing bug #]: new devtools feature we want to land in 49, see comment 120, we plan to write about it in the hacks post in DE 49.\n[User impact if declined]: feature not landed\n[Describe test coverage new/current, TreeHerder]: on mc, local testing done, soon in nightly\n[Risks and why]: low, very early in the cycle, and see comment 120 as well\n[String/UUID change made/needed]: Yes, 1 new string.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-07T05:54:07Z"
  }, {
    "text" : "flod, are you ok with this uplift to aurora 49 given that there is a new string? It seems fairly minor. Is this ok with the l10n team?",
    "authour" : "lhenry@mozilla.com",
    "created" : "2016-06-09T16:34:28Z"
  }, {
    "text" : "(In reply to Liz Henry (:lizzard) (needinfo? me) from comment #123)\n> flod, are you ok with this uplift to aurora 49 given that there is a new\n> string? It seems fairly minor. Is this ok with the l10n team?\n\nYes, we also already warned localizers about this bug on merge day.",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2016-06-09T16:53:54Z"
  }, {
    "text" : "Please note that bug 1253794 is a dependency of this bug.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2016-06-09T17:13:47Z"
  }, {
    "text" : "Comment on attachment 8758605\nPart 1: Collect information about request cause and stacktrace in netmonitor backend\n\nOK to uplift to aurora, new feature for dev tools.",
    "authour" : "lhenry@mozilla.com",
    "created" : "2016-06-09T17:24:05Z"
  }, {
    "text" : "All 3 patches should uplift.",
    "authour" : "lhenry@mozilla.com",
    "created" : "2016-06-09T18:24:32Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/releases/mozilla-aurora/rev/6ead63ddad79\nremote:   https://hg.mozilla.org/releases/mozilla-aurora/rev/7dab350597e6\nremote:   https://hg.mozilla.org/releases/mozilla-aurora/rev/4253296f212b",
    "authour" : "jryans@gmail.com",
    "created" : "2016-06-09T21:33:30Z"
  }, {
    "text" : "*** Bug 906239 has been marked as a duplicate of this bug. ***",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-06-16T13:26:11Z"
  }, {
    "text" : "I've updated the network monitor MDN page with information about the new Cause column. This includes new screenshots so you can see it in action, an entry in the Network request fields list:\n\nhttps://developer.mozilla.org/en-US/docs/Tools/Network_Monitor#Network_request_list\n\nAnd a separate section to provide more information:\n\nhttps://developer.mozilla.org/en-US/docs/Tools/Network_Monitor#Cause_column\n\nI've also updated the Fx 49 release notes to mention this change:\n\nhttps://developer.mozilla.org/en-US/Firefox/Releases/49#Developer_Tools\n\nA quick review would be much appreciated. Thanks!",
    "authour" : "cmills@mozilla.com",
    "created" : "2016-07-15T09:14:47Z"
  }, {
    "text" : "(In reply to Chris Mills (Mozilla, MDN editor) [:cmills] from comment #130)\n> A quick review would be much appreciated. Thanks!\n\nLooks good, I only have one idea for improvement: displaying the JS stack trace is actually the most important and valuable aspect of this feature, so maybe the documentation should give it more attention.\n\nThere's also a typo (reuqest) in the note describing JS stack traces.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-07-18T08:33:22Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #131)\n> (In reply to Chris Mills (Mozilla, MDN editor) [:cmills] from comment #130)\n> > A quick review would be much appreciated. Thanks!\n> \n> Looks good, I only have one idea for improvement: displaying the JS stack\n> trace is actually the most important and valuable aspect of this feature, so\n> maybe the documentation should give it more attention.\n> \n> There's also a typo (reuqest) in the note describing JS stack traces.\n\nThanks! Typo fixed; I've also added in a screenshot showing the stack trace in action, plus some more details about it. Let me know if you think the text needs more work.",
    "authour" : "cmills@mozilla.com",
    "created" : "2016-07-18T08:57:30Z"
  }, {
    "text" : "(In reply to Chris Mills (Mozilla, MDN editor) [:cmills] from comment #132)\n> Thanks! Typo fixed; I've also added in a screenshot showing the stack trace\n> in action, plus some more details about it. Let me know if you think the\n> text needs more work.\n\nI would leave out the description of the tooltip with the full URL - it's nothing else but a full expansion of the URL that's already visible, only truncated. That's a widely used UI pattern that doesn't need extra documentation. The screenshot would also look better and cleaner without the tooltip.",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-07-18T13:45:25Z"
  }, {
    "text" : "(In reply to Jarda Snajdr [:jsnajdr] from comment #133)\n> (In reply to Chris Mills (Mozilla, MDN editor) [:cmills] from comment #132)\n> > Thanks! Typo fixed; I've also added in a screenshot showing the stack trace\n> > in action, plus some more details about it. Let me know if you think the\n> > text needs more work.\n> \n> I would leave out the description of the tooltip with the full URL - it's\n> nothing else but a full expansion of the URL that's already visible, only\n> truncated. That's a widely used UI pattern that doesn't need extra\n> documentation. The screenshot would also look better and cleaner without the\n> tooltip.\n\nOk, no problem - updated.",
    "authour" : "cmills@mozilla.com",
    "created" : "2016-07-18T14:47:24Z"
  }, {
    "text" : "Added to the release notes using the same wording as mdn\n\"The Network Monitor now shows a Cause column, which provides an indication of what caused each particular network request\"",
    "authour" : "sledru@mozilla.com",
    "created" : "2016-08-03T16:55:12Z"
  }, {
    "text" : "I have successfully reproduce this bug on firefox nightly 38.0a1 (2015-02-17)\nwith windows 7 (32 bit)\nMozilla/5.0 (Windows NT 6.1; rv:38.0) Gecko/20100101 Firefox/38.0\n\nI found this fix on latest beta 49.0b3\n\nMozilla/5.0 (Windows NT 6.1; rv:49.0) Gecko/20100101 Firefox/49.0\nBuild ID : 20160811031722\n\n[testday-20160812]",
    "authour" : "rift1994raahim@gmail.com",
    "created" : "2016-08-14T18:57:39Z"
  }, {
    "text" : "I have reproduced this bug with Nightly 38.0a1 (2015-02-17) on Ubuntu 14.04, 64 bit!\n\nThe bug's fix is now verified on latest Beta 49.0b4, Aurora 50.0a2.\n\nBeta 49.0b4:\nBuild ID \t20160814184416\nUser Agent \tMozilla/5.0 (X11; Linux x86_64; rv:49.0) Gecko/20100101 Firefox/49.0\n\nAurora 50.0a2:\nBuild ID \t20160817004002\nUser Agent \tMozilla/5.0 (X11; Linux x86_64; rv:50.0) Gecko/20100101 Firefox/50.0\n\n[bugday-20160817]",
    "authour" : "farhadurfahim@gmail.com",
    "created" : "2016-08-18T18:01:18Z"
  }, {
    "text" : "*** Bug 1235248 has been marked as a duplicate of this bug. ***",
    "authour" : "jsnajdr@gmail.com",
    "created" : "2016-08-31T19:48:18Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-24T21:37:16Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-06T22:18:54Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-08-15T05:22:26Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-06T22:18:54Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-02-18T16:31:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-02-25T14:29:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-02-25T14:29:59Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[lang=js]"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-02-25T14:29:59Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "nounoursheureux@openmailbox.org",
      "date" : "2015-03-13T16:18:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "schtroumps31@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-24T21:37:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-24T21:37:16Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "anush@techstream.org"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-24T21:37:16Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-04-19T19:31:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-20T21:20:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-20T21:20:32Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1050500"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-05-26T20:34:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "anush@techstream.org"
    }, {
      "name" : "stephen.donner@gmail.com",
      "date" : "2015-06-05T01:46:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "stephen.donner@gmail.com"
    }, {
      "name" : "me@michael-nolan.com",
      "date" : "2015-07-31T18:32:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "me@michael-nolan.com"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-07-31T18:36:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gabriel.luong@gmail.com"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-02-29T13:43:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsnajdr@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-02-29T15:10:37Z",
      "what" : "assigned_to",
      "removed" : "anush@techstream.org",
      "added" : "jsnajdr@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-02-29T15:12:34Z",
      "what" : "cc",
      "removed" : "",
      "added" : "odvarko@gmail.com"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-02-29T15:12:53Z",
      "what" : "bug_mentor",
      "removed" : "past@mozilla.com",
      "added" : "odvarko@gmail.com"
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-02T11:35:21Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "user-doc-needed"
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-02T11:35:21Z",
      "what" : "cc",
      "removed" : "",
      "added" : "hholmes@mozilla.com, pbrosset@mozilla.com"
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-02T11:38:07Z",
      "what" : "attachments.isobsolete:8724688",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "hholmes@mozilla.com",
      "date" : "2016-03-02T14:00:03Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1170617"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-03-04T12:30:32Z",
      "what" : "attachments.isobsolete:8725175",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-04T16:33:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-02T16:14:32Z",
      "what" : "attachments.isobsolete:8726691",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-03T15:51:08Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1269765"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-04T13:15:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "poirot.alex@gmail.com"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-04T13:15:58Z",
      "what" : "attachments.isobsolete:8747763",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-04T13:16:46Z",
      "what" : "attachments.isobsolete:8747766",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-04T14:06:38Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1270111"
    }, {
      "name" : "aha@pinknet.cz",
      "date" : "2016-05-06T11:27:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "aha@pinknet.cz"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T12:41:51Z",
      "what" : "attachments.isobsolete:8747762",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T12:42:11Z",
      "what" : "attachments.isobsolete:8748622",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T12:42:23Z",
      "what" : "attachments.isobsolete:8747764",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T12:42:40Z",
      "what" : "attachments.isobsolete:8747765",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T12:42:58Z",
      "what" : "attachments.isobsolete:8748623",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T13:00:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jduell.mcbugs@gmail.com"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-16T08:08:52Z",
      "what" : "attachments.isobsolete:8751734",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-16T08:09:05Z",
      "what" : "attachments.isobsolete:8751735",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-16T08:09:18Z",
      "what" : "attachments.isobsolete:8751736",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-16T08:09:32Z",
      "what" : "attachments.isobsolete:8751737",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-16T08:09:45Z",
      "what" : "attachments.isobsolete:8751738",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-20T13:34:19Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1274556"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T08:44:57Z",
      "what" : "attachments.isobsolete:8752688",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T08:44:57Z",
      "what" : "attachments.isobsolete:8752689",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T08:44:58Z",
      "what" : "attachments.isobsolete:8752690",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T08:45:20Z",
      "what" : "attachments.isobsolete:8752691",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T08:45:36Z",
      "what" : "attachments.isobsolete:8752692",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T13:50:29Z",
      "what" : "attachments.isobsolete:8758150",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T08:03:55Z",
      "what" : "attachments.isobsolete:8758274",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T12:44:39Z",
      "what" : "attachments.isobsolete:8758151",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T12:46:03Z",
      "what" : "attachments.isobsolete:8758152",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T14:24:19Z",
      "what" : "attachments.isobsolete:8758697",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jdescottes@mozilla.com",
      "date" : "2016-06-01T15:51:55Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1277264"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-02T13:41:20Z",
      "what" : "attachments.isobsolete:8758726",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-02T14:19:20Z",
      "what" : "attachments.isobsolete:8758698",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T08:53:53Z",
      "what" : "attachments.isobsolete:8759164",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T08:55:08Z",
      "what" : "attachments.isobsolete:8759173",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T10:24:28Z",
      "what" : "attachments.isobsolete:8759556",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T14:24:45Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2016-06-03T17:52:55Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-03T18:54:36Z",
      "what" : "keywords",
      "removed" : "user-doc-needed",
      "added" : "dev-doc-needed"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-03T18:58:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim.bugs@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-03T18:58:11Z",
      "what" : "cf_tracking_firefox_relnote",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-03T21:01:42Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wkocher@mozilla.com"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T21:53:05Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-04T00:32:27Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-04T12:24:47Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2016-06-04T12:28:29Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-06T11:50:02Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-06T11:50:02Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1253794"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2016-06-06T12:30:48Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2016-06-06T20:20:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "francesco.lodolo@gmail.com"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-06T22:18:54Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 50"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-06T22:18:54Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-06-06 22:18:54"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-06T22:18:54Z",
      "what" : "cf_status_firefox50",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "theo@mozillafoundation.org",
      "date" : "2016-06-06T23:02:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "theo.chevalier11@gmail.com"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-08T08:30:26Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1278778"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-08T12:41:19Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1278797"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2016-06-09T21:33:30Z",
      "what" : "cf_status_firefox49",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-15T13:49:10Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1280247"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-15T15:30:41Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1280266"
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-16T13:26:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com"
    }, {
      "name" : "sebastianzartner@gmail.com",
      "date" : "2016-06-26T13:26:56Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1230922"
    }, {
      "name" : "bkelly@mozilla.com",
      "date" : "2016-07-08T20:20:13Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1285638"
    }, {
      "name" : "nachtigall@web.de",
      "date" : "2016-07-11T10:04:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nachtigall@web.de"
    }, {
      "name" : "nachtigall@web.de",
      "date" : "2016-07-11T10:04:30Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1285895"
    }, {
      "name" : "cmills@mozilla.com",
      "date" : "2016-07-15T09:14:47Z",
      "what" : "keywords",
      "removed" : "dev-doc-needed",
      "added" : "dev-doc-complete"
    }, {
      "name" : "cmills@mozilla.com",
      "date" : "2016-07-15T09:14:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cmills@mozilla.com"
    }, {
      "name" : "nachtigall@web.de",
      "date" : "2016-08-01T12:07:20Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1290868"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2016-08-03T16:55:12Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sledru@mozilla.com"
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2016-08-03T16:55:12Z",
      "what" : "cf_tracking_firefox_relnote",
      "removed" : "?",
      "added" : "49+"
    }, {
      "name" : "rift1994raahim@gmail.com",
      "date" : "2016-08-14T18:57:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "rift1994raahim@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-08-15T05:22:26Z",
      "what" : "cf_status_firefox49",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-08-15T05:22:26Z",
      "what" : "cf_status_firefox50",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "farhadurfahim@gmail.com",
      "date" : "2016-08-18T18:01:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "farhadurfahim@gmail.com"
    }, {
      "name" : "sebastianzartner@gmail.com",
      "date" : "2016-09-07T05:29:18Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1230922"
    }, {
      "name" : "sebastianzartner@gmail.com",
      "date" : "2016-09-07T05:29:18Z",
      "what" : "see_also",
      "removed" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1230922",
      "added" : ""
    }, {
      "name" : "nachtigall@web.de",
      "date" : "2016-09-29T11:50:13Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1306261"
    }, {
      "name" : "sebastianzartner@gmail.com",
      "date" : "2017-03-27T06:07:54Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1350812"
    } ],
    "flagEvents" : [ {
      "name" : "anush@techstream.org",
      "date" : "2015-04-19T19:18:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-04-19T19:31:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-20T21:20:32Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-05-26T20:34:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "anush@techstream.org",
      "date" : "2015-05-27T13:58:28Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(anush@techstream.org)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-07-31T18:36:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "anush@techstream.org",
      "date" : "2015-08-03T17:09:04Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(anush@techstream.org)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-02-29T13:43:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-02-29T15:12:34Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2016-02-29T15:12:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8724688,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-03-01T10:40:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8725175,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-02T11:35:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-02T11:36:01Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(odvarko@gmail.com)",
      "added" : "",
      "attachmentId" : 8725175,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-02T11:38:07Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(odvarko@gmail.com)",
      "added" : "",
      "attachmentId" : 8724688,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2016-03-02T12:42:41Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "hholmes@mozilla.com",
      "date" : "2016-03-02T13:54:16Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(hholmes@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-03-04T12:30:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8726691,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-04T16:33:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "odvarko@gmail.com",
      "date" : "2016-03-04T16:33:47Z",
      "what" : "flagtypes.name",
      "removed" : "review?(odvarko@gmail.com)",
      "added" : "",
      "attachmentId" : 8726691,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2016-03-08T14:12:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-02T16:16:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-04T13:15:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8748622,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-05-04T14:33:19Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8748622,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-12T13:00:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-19T07:29:11Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(odvarko@gmail.com), needinfo?(poirot.alex@gmail.com), needinfo?(jduell.mcbugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T08:44:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758150,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-05-31T09:58:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8758150,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-05-31T13:50:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758274,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-05-31T14:55:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8758274,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T08:03:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758605,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-06-01T09:22:06Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8758605,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T12:44:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758697,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T12:46:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758698,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T14:24:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758726,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-01T14:24:19Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com), ui-review?(hholmes@mozilla.com)",
      "added" : "",
      "attachmentId" : 8758697,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-06-02T12:44:11Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8758726,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-06-02T13:09:06Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8758698,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-02T13:41:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759164,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-02T13:41:20Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(hholmes@mozilla.com)",
      "added" : "",
      "attachmentId" : 8758726,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-02T14:19:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759173,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-06-02T16:33:17Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8759164,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2016-06-02T16:40:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8759173,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T08:53:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759556,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T08:55:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759557,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T10:24:25Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759588,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2016-06-03T21:01:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jsnajdr@gmail.com",
      "date" : "2016-06-03T21:53:05Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jsnajdr@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-07T05:54:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8758605,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-07T05:56:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759557,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2016-06-07T05:57:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8759588,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lhenry@mozilla.com",
      "date" : "2016-06-09T16:34:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2016-06-09T16:53:54Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(francesco.lodolo@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "lhenry@mozilla.com",
      "date" : "2016-06-09T17:24:05Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8758605,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "lhenry@mozilla.com",
      "date" : "2016-07-01T17:58:00Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8759557,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "lhenry@mozilla.com",
      "date" : "2016-07-01T17:58:19Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8759588,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1134073,
  "cclist" : [ "aha@pinknet.cz", "anush@techstream.org", "bgrinstead@mozilla.com", "cmills@mozilla.com", "farhadurfahim@gmail.com", "francesco.lodolo@gmail.com", "gl@mozilla.com", "hholmes@mozilla.com", "jaws@mozilla.com", "jduell.mcbugs@gmail.com", "jgriffiths@mozilla.com", "jryans@gmail.com", "jsnajdr@gmail.com", "MattN+bmo@mozilla.com", "me@michael-nolan.com", "nachtigall@web.de", "nfitzgerald@mozilla.com", "nounoursheureux@openmailbox.org", "ntim.bugs@gmail.com", "odvarko@gmail.com", "past@mozilla.com", "pbrosset@mozilla.com", "poirot.alex@gmail.com", "rift1994raahim@gmail.com", "sledru@mozilla.com", "stephen.donner@gmail.com", "theo@mozillafoundation.org", "ttromey@mozilla.com", "vporof@mozilla.com", "wkocher@mozilla.com" ]
}, {
  "component" : "Developer Tools: Web Audio Editor",
  "summary" : "[meta] Web Audio Editor Fx39",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-18T00:13:02Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-18T00:15:43Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-30T23:58:52Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-30T23:58:52Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-18T00:15:43Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1125600, 1134036, 1009056, 1097887, 1118577, 1121458, 1122957"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-18T00:15:43Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-18T00:17:18Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1122294"
    }, {
      "name" : "ciro9758@gmail.com",
      "date" : "2015-02-18T11:26:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ciro9758@gmail.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T20:47:38Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1134079"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-09T20:40:16Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1128974"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T17:12:39Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1141261"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T17:12:51Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1141638"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-30T23:58:09Z",
      "what" : "depends_on",
      "removed" : "1141261",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-30T23:58:37Z",
      "what" : "depends_on",
      "removed" : "1097887, 1118577, 1121458, 1122294, 1122957, 1125600, 1134036, 1141638",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-30T23:58:52Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-30 16:58:52"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1134046,
  "cclist" : [ "ciro9758@gmail.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Test timeout in browser_perf-recording-selected-04.js, browser_perf-details-calltree-render.js | Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIURI.host]",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T23:07:04Z"
  }, {
    "text" : "Seen again: https://treeherder.mozilla.org/logviewer.html#?job_id=52071&repo=gum",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:46:03Z"
  }, {
    "text" : "This looks interesting: \"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIURI.host]\"  \n\nresource:///modules/devtools/shared/profiler/tree-model.js :: FrameNode.prototype.getInfo :: line 227",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:50:59Z"
  }, {
    "text" : "Created attachment 8573458\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:56:08Z"
  }, {
    "text" : "Landed on gum: https://hg.mozilla.org/projects/gum/rev/e6a355cb1572",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:56:17Z"
  }, {
    "text" : "Seen again: https://treeherder.mozilla.org/logviewer.html#?job_id=52126&repo=gum",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:58:43Z"
  }, {
    "text" : "Created attachment 8573608\nv1\n\nOH MY GOD",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-06T00:35:30Z"
  }, {
    "text" : "Created attachment 8573610\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-06T00:38:14Z"
  }, {
    "text" : "Comment on attachment 8573610\nv1\n\nReview of attachment 8573610:\n-----------------------------------------------------------------\n\nyikes.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-06T02:21:33Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/6caebaafc4df",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-06T03:20:09Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/6caebaafc4df",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-06T12:05:55Z"
  }, {
    "text" : "*** Bug 1139388 has been marked as a duplicate of this bug. ***",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-08T14:53:25Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:56:08Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T12:05:55Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T12:05:55Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T23:07:12Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1133808"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:56:08Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:58:24Z",
      "what" : "summary",
      "removed" : "Test timeout in browser_perf-recording-selected-04.js",
      "added" : "Test timeout in browser_perf-recording-selected-04.js, browser_perf-details-calltree-render.js | Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIURI.host]"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T00:35:30Z",
      "what" : "attachments.isobsolete:8573458",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T00:35:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T00:38:14Z",
      "what" : "attachments.isobsolete:8573608",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T03:20:09Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T12:05:55Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T12:05:55Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T12:05:55Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-06 04:05:55"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T12:05:55Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T00:35:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573608,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T00:38:14Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573608,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T00:38:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573610,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-06T02:21:33Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573610,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1134029,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Theme",
  "summary" : "Pinned tab (app tab) \"focus ring\" is a 2px-wide dotted vertical bar (around a 0-width region)",
  "reporter" : "dholbert@mozilla.com",
  "assigned" : "dao+bmo@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "STR:\n 1. Pin a tab. (Right-click tab, & select \"pin tab\")\n 2. Focus the URL bar, e.g. with Ctrl + L\n 3. Hold \"Shift\" and hit tab twice. (to focus the site identity area, and then the tab itself)\n\nEXPECTED RESULTS: Some meaningful focus ring, to indicate that the app tab is focused -- e.g. around app-tab favicon.\n\nACTUAL RESULTS: The focus \"ring\" is around a 0-width box at the right edge of the app tab (the tab's textual label, I'm guessing? and the label is empty because it's an app tab). So the \"ring\" renders as a weird-looking 2px-wide dotted bar.",
  "comments" : [ {
    "text" : "STR:\n 1. Pin a tab. (Right-click tab, & select \"pin tab\")\n 2. Focus the URL bar, e.g. with Ctrl + L\n 3. Hold \"Shift\" and hit tab twice. (to focus the site identity area, and then the tab itself)\n\nEXPECTED RESULTS: Some meaningful focus ring, to indicate that the app tab is focused -- e.g. around app-tab favicon.\n\nACTUAL RESULTS: The focus \"ring\" is around a 0-width box at the right edge of the app tab (the tab's textual label, I'm guessing? and the label is empty because it's an app tab). So the \"ring\" renders as a weird-looking 2px-wide dotted bar.",
    "authour" : "dholbert@mozilla.com",
    "created" : "2015-02-17T20:40:29Z"
  }, {
    "text" : "Created attachment 8565602\nscreenshot",
    "authour" : "dholbert@mozilla.com",
    "created" : "2015-02-17T20:43:22Z"
  }, {
    "text" : "Created attachment 8635687\npatch",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-07-18T11:09:06Z"
  }, {
    "text" : "Created attachment 8635689\npatch v2\n\napparently OS X is affected too",
    "authour" : "dao+bmo@mozilla.com",
    "created" : "2015-07-18T11:14:53Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/b14780320c5f",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-07-20T15:45:34Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/b14780320c5f",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-07-20T20:04:04Z"
  }, {
    "text" : "I can verify it's fixed in Windows 7 32 bit.\n\nUser Agent Mozilla/5.0 (Windows NT 6.1; WOW64; rv:42.0) Gecko/20100101 Firefox/42.0\nBuild Id: 20150804030204",
    "authour" : "gmontagu@gmail.com",
    "created" : "2015-08-05T11:39:13Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-07-20T20:04:04Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "gmontagu@gmail.com",
      "date" : "2015-08-05T11:40:04Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-07-20T20:04:04Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "dholbert@mozilla.com",
      "date" : "2015-02-17T20:41:05Z",
      "what" : "summary",
      "removed" : "Pinned tab (app tab) focus-ring is just a vertical bar (0 width)",
      "added" : "Pinned tab (app tab) \"focus ring\" is a 2px-wide dotted vertical bar (around a 0-width region)"
    }, {
      "name" : "bomfog@gmail.com",
      "date" : "2015-02-18T20:23:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bomfog@gmail.com"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-17T15:11:38Z",
      "what" : "component",
      "removed" : "Tabbed Browser",
      "added" : "Theme"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-17T15:11:38Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-17T15:11:38Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "dao@mozilla.com"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-18T11:09:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-18T11:14:53Z",
      "what" : "attachments.isobsolete:8635687",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-18T11:15:05Z",
      "what" : "op_sys",
      "removed" : "Linux",
      "added" : "All"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-07-20T20:04:04Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 42"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-07-20T20:04:04Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-07-20 13:04:04"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-07-20T20:04:04Z",
      "what" : "cf_status_firefox42",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "gmontagu@gmail.com",
      "date" : "2015-08-05T11:39:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gmontagu@gmail.com"
    }, {
      "name" : "gmontagu@gmail.com",
      "date" : "2015-08-05T11:39:13Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[bugday-20150805]"
    } ],
    "flagEvents" : [ {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-18T11:09:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8635687,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-18T11:14:53Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8635687,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "dao+bmo@mozilla.com",
      "date" : "2015-07-18T11:14:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8635689,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-07-20T12:55:19Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8635689,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133930,
  "cclist" : [ "bomfog@gmail.com", "gmontagu@gmail.com", "jaws@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "[meta] Fix test failures in the new perf tool",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T17:00:57Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-17T15:20:44Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-17T15:20:44Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:01:29Z",
      "what" : "alias",
      "removed" : "",
      "added" : "perf-tool-tests"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:01:38Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:01:49Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:02:33Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1132370"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:02:46Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1130054"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:03:18Z",
      "what" : "summary",
      "removed" : "Fix test failures in the new perf tool",
      "added" : "[meta] Fix test failures in the new perf tool"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:09:23Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133811"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:10:17Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133812"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:13:00Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1109952"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T23:07:12Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1134029"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T23:08:25Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1134031"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-26T22:32:10Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137487"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-26T23:03:20Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137500"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-26T23:20:24Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137503"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-27T00:05:55Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137518"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:48:34Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140083"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T21:07:12Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140074"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T21:09:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1139388"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T21:21:20Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140100"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T14:40:21Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140404"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T21:16:39Z",
      "what" : "depends_on",
      "removed" : "1130054",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T22:01:06Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1142748"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-14T00:44:34Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1143249"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-14T00:45:14Z",
      "what" : "depends_on",
      "removed" : "1143249",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-17T15:20:44Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-17 08:20:44"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1133808,
  "cclist" : [ ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "CRASH: browser_perf-clear-02.js | application crashed",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T16:46:57Z"
  }, {
    "text" : "Very likely fixed by bug 1137503",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:37:18Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:18Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:18Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:47:05Z",
      "what" : "summary",
      "removed" : "Bug 1133796 - CRASH: browser_perf-clear-01.js | application crashed",
      "added" : "Bug 1133796 - CRASH: browser_perf-clear-02.js | application crashed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:47:13Z",
      "what" : "summary",
      "removed" : "Bug 1133796 - CRASH: browser_perf-clear-02.js | application crashed",
      "added" : "CRASH: browser_perf-clear-02.js | application crashed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:47:22Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567, 1123815, 1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:59:11Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : ""
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-19T14:41:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:18Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 12:37:18"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1133800,
  "cclist" : [ "ttromey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "CRASH: browser_perf-clear-01.js | application crashed",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T16:45:38Z"
  }, {
    "text" : "Very likely fixed by bug 1137503",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:37:10Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:10Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:10Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:45:45Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567, 1123815, 1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:46:16Z",
      "what" : "summary",
      "removed" : "CRASH: browser_perf-options-flatten-tree-recursion-01.js | application crashed",
      "added" : "CRASH: browser_perf-clear-01.js | application crashed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:59:07Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : ""
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-19T14:41:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:10Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 12:37:10"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1133796,
  "cclist" : [ "ttromey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "CRASH: browser_perf-options-flatten-tree-recursion-01.js | application crashed",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T16:44:35Z"
  }, {
    "text" : "Very likely fixed by bug 1137503",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:37:06Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:06Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:06Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:44:53Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567, 1123815, 1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:59:03Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : ""
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-19T14:41:44Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:06Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 12:37:06"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1133793,
  "cclist" : [ "ttromey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "CRASH: browser/devtools/performance/test/browser_perf-compatibility-04.js | application crashed",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T16:43:06Z"
  }, {
    "text" : "I can't make this crash, but I did manage to make it hang.\nThe hang has a useless stack:\n\n(gdb) bt\n#0  0x00007f9b2237fecb in ?? ()\n#1  0x0000000000000000 in ?? ()\n\nDisassembling around the PC and single-stepping a bit shows what seems to be JIT output:\n\n(gdb) disas 0x7f9b2237fec3, 0x7f9b2237feff\nDump of assembler code from 0x7f9b2237fec3 to 0x7f9b2237feff:\n=> 0x00007f9b2237fec3:\txorpd  %xmm2,%xmm2\n   0x00007f9b2237fec7:\tcvtsi2sd %edx,%xmm2\n   0x00007f9b2237fecb:\tmovapd %xmm0,%xmm3\n   0x00007f9b2237fecf:\tmulsd  %xmm2,%xmm3\n   0x00007f9b2237fed3:\tucomisd %xmm3,%xmm1\n   0x00007f9b2237fed7:\tjbe    0x7f9b2237fee4\n   0x00007f9b2237fedd:\tshl    %edx\n   0x00007f9b2237fedf:\tjmpq   0x7f9b2237fec3\n   0x00007f9b2237fee4:\tmovq   %xmm3,%rcx\n   0x00007f9b2237fee9:\tadd    $0x20,%rsp\n   0x00007f9b2237feed:\tjmpq   0x7f9b22380110\n   0x00007f9b2237fef2:\tretq   \n   0x00007f9b2237fef3:\tnop\n   0x00007f9b2237fef4:\tnop\n   0x00007f9b2237fef5:\tnop\n   0x00007f9b2237fef6:\tnop\n   0x00007f9b2237fef7:\tnop\n   0x00007f9b2237fef8:\tnop\n   0x00007f9b2237fef9:\tnop\n   0x00007f9b2237fefa:\tnop\n   0x00007f9b2237fefb:\tmovabs $0x6906d70,%r11\nEnd of assembler dump.\n\n\nIn another session I tried getting a stack trace from SpiderMonkey, but this crashed:\n(gdb) js\n\nProgram received signal SIGSEGV, Segmentation fault.\njs::jit::JitFrameIterator::operator++ (this=this@entry=0x7fffffff4e88)\n    at /home/tromey/firefox-git/gecko-dev/js/src/jit/JitFrames-inl.h:40\n40\t    CommonFrameLayout *current = (CommonFrameLayout *) current_;\nThe program being debugged was signaled while in a function called from GDB.\nGDB remains in the frame where the signal was received.\nTo change this behavior use \"set unwindonsignal on\".\nEvaluation of the expression containing the function\n(DumpJSStack()) will be abandoned.\nWhen the function is done executing, GDB will silently stop.\n\nShu said he thinks it isn't possible to get the JS stack from any arbitrary spot anyhow.",
    "authour" : "ttromey@mozilla.com",
    "created" : "2015-02-19T19:23:12Z"
  }, {
    "text" : "Very likely fixed by bug 1137503",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:37:00Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:00Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:00Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:43:15Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567, 1123815, 1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:58Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : ""
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-19T14:41:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:37:00Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 12:37:00"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1133791,
  "cclist" : [ "ttromey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "[meta] Many tests crash after ending in the new performance tool",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T16:35:05Z"
  }, {
    "text" : "Take a look at this gum run: https://treeherder.mozilla.org/#/jobs?repo=gum&revision=2af669f79b9e\n\nAlmost all failures are crashes, even though all the checks pass during the test.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T16:36:19Z"
  }, {
    "text" : "Looks like browser_perf-compatibility-04.js is the worst offender, so that could be a good starting point to reproduce/debug this.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-17T21:09:55Z"
  }, {
    "text" : "For the new performance developer tools, we're seeing a lot from what we believe is the profiler. Tromey has done some debugging in bug 1133791 (comment #1), and seems to be some sort of JIT error. Do any of you have any idea what could be causing this, possible solutions, next steps? Once these crashes are solved, we'll flip the switch to enable in Nightly for the new profiler/timeline tool.\n\nThanks!",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-20T20:31:24Z"
  }, {
    "text" : "Forwarding to Kannan as this is probably fallout from the new profiler backend.",
    "authour" : "jdemooij@mozilla.com",
    "created" : "2015-02-20T20:41:59Z"
  }, {
    "text" : "Created attachment 8567339\ndebugging.patch\n\nAttaching the patch I used with djvj to debug this. We ended up concluding that a normally dispatched event on the main thread isn't being executed (via `executeSoon`), because of the beachball, which can mean one of three things: 1. the event is removed from the dispatcher, 2. the dispatcher is blocked waiting for something, 3. the dispatcher itself died. Since the debugger server is making heavy use of those, it's entirely possible that while the clients are shutting down, some packets end up being stuck.\n\nWe'll be looking more into this on Monday.\n\nI hope there's some delirium tremens in our keg.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-20T22:26:40Z"
  }, {
    "text" : "Clearing needinfo. Found iloop in _findOptimalTickInterval in devtools/shared/timeline/markers-overview.js",
    "authour" : "shu@mozilla.com",
    "created" : "2015-02-26T00:13:07Z"
  }, {
    "text" : "Thanks shu. Will look at this tomorrow.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-26T00:27:42Z"
  }, {
    "text" : "Infinite loop was fixed in bug 1137503.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-04T14:04:55Z"
  }, {
    "text" : "Paul, these are the current outstanding crashes on gum: https://bugzilla.mozilla.org/showdependencytree.cgi?id=1133781&hide_resolved=1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:41:09Z"
  }, {
    "text" : "Talked to shu and I'm not panicking anymore. Removing needinfo",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T21:37:49Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-17T15:20:40Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-17T15:20:40Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:38:55Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133230, 1133129, 1132206, 1130669, 1129960"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:39:51Z",
      "what" : "depends_on",
      "removed" : "1129960",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:40:25Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1129960"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:40:56Z",
      "what" : "alias",
      "removed" : "",
      "added" : "perf-tool-crashes"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:41:07Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567, 1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:43:15Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133791"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:44:53Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133793"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:45:45Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133796"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:47:22Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1133800"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:02Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1132370"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:14Z",
      "what" : "depends_on",
      "removed" : "1132370",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:59:54Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:01:49Z",
      "what" : "blocks",
      "removed" : "1123815",
      "added" : "1133808"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T21:09:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-20T20:31:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jdemooij@mozilla.com, jsantell@mozilla.com, luke@mozilla.com, shu@mozilla.com"
    }, {
      "name" : "jdemooij@mozilla.com",
      "date" : "2015-02-20T20:41:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kvijayan@mozilla.com"
    }, {
      "name" : "paul@mozilla.com",
      "date" : "2015-02-25T02:58:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "paul@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-27T17:15:49Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137780"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-04T14:01:52Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1139386"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-04T14:02:56Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1139388"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:29:38Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140076"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:30:08Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140074"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:32:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140077"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T21:07:12Z",
      "what" : "depends_on",
      "removed" : "1140074",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T21:09:50Z",
      "what" : "depends_on",
      "removed" : "1139388",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-06T18:07:36Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140487"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-08T14:51:57Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1140848"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T16:05:22Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1142564"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-14T00:45:14Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1143249"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-17T15:20:40Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-17 08:20:40"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-20T20:31:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jdemooij@mozilla.com",
      "date" : "2015-02-20T20:41:59Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jdemooij@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "luke@mozilla.com",
      "date" : "2015-02-20T20:42:55Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(luke@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "shu@mozilla.com",
      "date" : "2015-02-26T00:13:07Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(shu@mozilla.com), needinfo?(kvijayan@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:41:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T21:37:49Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(paul@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133781,
  "cclist" : [ "jdemooij@mozilla.com", "jordan@jsantell.com", "kvijayan@mozilla.com", "luke@mozilla.com", "paul@mozilla.com", "shu@mozilla.com", "ttromey@mozilla.com" ]
}, {
  "component" : "Menus",
  "summary" : "[e10s] \"Open Link in New Tab\" in remote browser causes unsafe CPOW usage warning",
  "reporter" : "mconley@mozilla.com",
  "assigned" : "moz-ian@perix.co.uk",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "STR:\n\n1) Visit a site with some links on it in an e10s window\n2) Right-click on a link, and choose \"Open Link in New Tab\"\n\nThis causes some \"unsafe CPOW usage\" warnings in the Browser Console.\n\nIn browser/base/content/nsContextMenu.js:\n\n  // Open linked-to URL in a new tab.\n  openLinkInTab: function() {\n    var doc = this.target.ownerDocument; <-- Causes CPOW warning\n    urlSecurityCheck(this.linkURL, this.principal);\n    var referrerURI = doc.documentURIObject; <-- Causes CPOW warning\n\n    // if the mixedContentChannel is present and the referring URI passes\n    // a same origin check with the target URI, we can preserve the users\n    // decision of disabling MCB on a page for it's child tabs.\n    var persistAllowMixedContentInChildTab = false;\n\n    if (this.browser.docShell && this.browser.docShell.mixedContentChannel) {\n      const sm = Services.scriptSecurityManager;\n      try {\n        var targetURI = this.linkURI;\n        sm.checkSameOriginURI(referrerURI, targetURI, false);\n        persistAllowMixedContentInChildTab = true;\n      }\n      catch (e) { }\n    }\n\n    let params = this._openLinkInParameters(doc, {\n      allowMixedContent: persistAllowMixedContentInChildTab,\n    });\n    openLinkIn(this.linkURL, \"tab\", params);\n  },\n\n...\n\n  _openLinkInParameters : function (doc, extra) {\n    let params = { charset: doc.characterSet,\n                   referrerURI: doc.documentURIObject, <-- Causes CPOW warning\n                   noReferrer: BrowserUtils.linkHasNoReferrer(this.link) };\n    for (let p in extra)\n      params[p] = extra[p];\n    return params;\n  },\n\nin toolkit/modules/BrowserUtils.jsm:\n\n  /**\n   * Return true if linkNode has a rel=\"noreferrer\" attribute.\n   *\n   * @param linkNode The <a> element, or null.\n   * @return a boolean indicating if linkNode has a rel=\"noreferrer\" attribute.\n   */\n  linkHasNoReferrer: function (linkNode) {\n    if (!linkNode)\n      return false;\n\n    let rel = linkNode.getAttribute(\"rel\"); <-- Causes CPOW warning\n    if (!rel)\n      return false;\n\n    // The HTML spec says that rel should be split on spaces before looking\n    // for particular rel values.\n    let values = rel.split(/[ \\t\\r\\n\\f]/);\n    return values.indexOf('noreferrer') != -1;\n  },\n\nin toolkit/modules/RemoteWebNavigation.jsm\n\n  loadURI: function(aURI, aLoadFlags, aReferrer, aPostData, aHeaders) {\n    if (aPostData || aHeaders)\n      throw Components.Exception(\"RemoteWebNavigation doesn't accept postdata or headers.\", Cr.NS_ERROR_INVALID_ARGS);\n\n    this._browser._contentTitle = \"\";\n    this._sendMessage(\"WebNavigation:LoadURI\", {\n      uri: aURI,\n      flags: aLoadFlags,\n      referrer: aReferrer ? aReferrer.spec : null <-- Causes CPOW warning\n    });\n  },",
  "comments" : [ {
    "text" : "STR:\n\n1) Visit a site with some links on it in an e10s window\n2) Right-click on a link, and choose \"Open Link in New Tab\"\n\nThis causes some \"unsafe CPOW usage\" warnings in the Browser Console.\n\nIn browser/base/content/nsContextMenu.js:\n\n  // Open linked-to URL in a new tab.\n  openLinkInTab: function() {\n    var doc = this.target.ownerDocument; <-- Causes CPOW warning\n    urlSecurityCheck(this.linkURL, this.principal);\n    var referrerURI = doc.documentURIObject; <-- Causes CPOW warning\n\n    // if the mixedContentChannel is present and the referring URI passes\n    // a same origin check with the target URI, we can preserve the users\n    // decision of disabling MCB on a page for it's child tabs.\n    var persistAllowMixedContentInChildTab = false;\n\n    if (this.browser.docShell && this.browser.docShell.mixedContentChannel) {\n      const sm = Services.scriptSecurityManager;\n      try {\n        var targetURI = this.linkURI;\n        sm.checkSameOriginURI(referrerURI, targetURI, false);\n        persistAllowMixedContentInChildTab = true;\n      }\n      catch (e) { }\n    }\n\n    let params = this._openLinkInParameters(doc, {\n      allowMixedContent: persistAllowMixedContentInChildTab,\n    });\n    openLinkIn(this.linkURL, \"tab\", params);\n  },\n\n...\n\n  _openLinkInParameters : function (doc, extra) {\n    let params = { charset: doc.characterSet,\n                   referrerURI: doc.documentURIObject, <-- Causes CPOW warning\n                   noReferrer: BrowserUtils.linkHasNoReferrer(this.link) };\n    for (let p in extra)\n      params[p] = extra[p];\n    return params;\n  },\n\nin toolkit/modules/BrowserUtils.jsm:\n\n  /**\n   * Return true if linkNode has a rel=\"noreferrer\" attribute.\n   *\n   * @param linkNode The <a> element, or null.\n   * @return a boolean indicating if linkNode has a rel=\"noreferrer\" attribute.\n   */\n  linkHasNoReferrer: function (linkNode) {\n    if (!linkNode)\n      return false;\n\n    let rel = linkNode.getAttribute(\"rel\"); <-- Causes CPOW warning\n    if (!rel)\n      return false;\n\n    // The HTML spec says that rel should be split on spaces before looking\n    // for particular rel values.\n    let values = rel.split(/[ \\t\\r\\n\\f]/);\n    return values.indexOf('noreferrer') != -1;\n  },\n\nin toolkit/modules/RemoteWebNavigation.jsm\n\n  loadURI: function(aURI, aLoadFlags, aReferrer, aPostData, aHeaders) {\n    if (aPostData || aHeaders)\n      throw Components.Exception(\"RemoteWebNavigation doesn't accept postdata or headers.\", Cr.NS_ERROR_INVALID_ARGS);\n\n    this._browser._contentTitle = \"\";\n    this._sendMessage(\"WebNavigation:LoadURI\", {\n      uri: aURI,\n      flags: aLoadFlags,\n      referrer: aReferrer ? aReferrer.spec : null <-- Causes CPOW warning\n    });\n  },",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-16T21:05:55Z"
  }, {
    "text" : "Created attachment 8567156\nWIP patch\n\nWork in progress patch I'm putting here for safe keeping.\nFixes all but one CPOW, the linkHasNoReferrer one, which I need to think about more.\nAlso fixes bug 1134227 for \"[...] New Window\", and the as-yet unfiled bug for \"[...] Private Window\"\nDepends on the work done in bug 1134708 for the equivalent frame commands.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-20T17:04:24Z"
  }, {
    "text" : "Comment on attachment 8567156\nWIP patch\n\n(In reply to Ian Moody [:Kwan] from comment #1)\n> Created attachment 8567156\n> WIP patch\n> \n> Work in progress patch I'm putting here for safe keeping.\n> Fixes all but one CPOW, the linkHasNoReferrer one, which I need to think\n> about more.\n> Also fixes bug 1134227 for \"[...] New Window\", and the as-yet unfiled bug\n> for \"[...] Private Window\"\n> Depends on the work done in bug 1134708 for the equivalent frame commands.\n\nThis is currently all wrong because I'm constructing the URI using the document.referrer URL rather than the document.location.href as I should be.  Getting mixed up over naming, especially on top of the frame patch.  Need to go back through both.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-20T22:12:04Z"
  }, {
    "text" : "Created attachment 8567387\nMake context-menu open link/frame commands use messages to avoid unsafe CPOW warnings\n\nPatch for all the open link and open frame commands, since the changes for one set build on the other.\nThis will clash with bug 1075670 (patch 4 specifically)\n\nTesting completed locally for all commands in e10s and non-e10s",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-21T00:46:16Z"
  }, {
    "text" : "(In reply to Ian Moody [:Kwan] from comment #3)\n> Created attachment 8567387\n> Make context-menu open link/frame commands use messages to avoid unsafe CPOW\n> warnings\n> \n> Patch for all the open link and open frame commands, since the changes for\n> one set build on the other.\n> This will clash with bug 1075670 (patch 4 specifically)\n> \n> Testing completed locally for all commands in e10s and non-e10s\n\nHmm, I just remembered that my original patch for bug 1134708 left frameURL as an empty string when we weren't actually in a frame.  Something that got lost in the reshuffling and refactoring. There's no behavioural change since it's only accessed by the three open frame functions, but something to consider for neatness.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-21T00:58:13Z"
  }, {
    "text" : "Comment on attachment 8567387\nMake context-menu open link/frame commands use messages to avoid unsafe CPOW warnings\n\nReview of attachment 8567387:\n-----------------------------------------------------------------\n\nThis looks good to me.\n\nWaiting for results from a try run:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=da67270553cc",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-24T01:21:54Z"
  }, {
    "text" : "Failure in bc1 in\nhttps://dxr.mozilla.org/mozilla-central/source/browser/base/content/test/general/browser_bug734076.js\nreason:\n\"JavaScript error: chrome://browser/content/nsContextMenu.js, line 942: TypeError: gContextMenuContentData is null\"\nhmm, I must confess I'm not sure how to fix this.  Is the problem in the test, in how it's creating the context menu? Or should gContextMenuContentData be getting set regardless and the problem's with that?",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-24T12:56:45Z"
  }, {
    "text" : "Let me see if I can reproduce this locally, one sec...",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-24T15:39:01Z"
  }, {
    "text" : "The problem is here: \n\nhttps://dxr.mozilla.org/mozilla-central/source/browser/base/content/test/general/browser_bug734076.js#69\n\nThis test is calling directly into nsContextMenu's showOnlyThisFrame, but doing that doesn't populate gContextMenuContentData. I think this test is going to need to be updated in order to trigger the context menu event that populates gContextMenuContentData.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-24T15:46:17Z"
  }, {
    "text" : "Let me know if you need any help with that.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-24T15:46:32Z"
  }, {
    "text" : "Created attachment 8568842\nWIP \"fix\" test browser_bug734076.js to use synthesized mouse events\n\nThe fix that doesn't fix.\n\nThe view background and image tests don't currently have command-clicking code because the context menus don't come up anyway, and the show only clicking code is commented out because it doesn't work.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-24T23:27:45Z"
  }, {
    "text" : "Created attachment 8570591\nfix test browser_bug734076.js to use mouse events to open the context menu so the menu inits correctly\n\nLet's see how this goes with a limited try run\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=4e4c93a070ae",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-27T17:53:37Z"
  }, {
    "text" : "Created attachment 8571662\nMake context-menu open link/frame commands use messages to avoid unsafe CPOW warnings\n\nWaited to post this until bug 1075670 landed so I could rebase on top of it\n\nChanges since you looked at it before in comment #5:\nâ€“ changed .documentURI to .documentURIObject to prevent confusion, since documentURI on an actual doc is different\nâ€“ got rid of .frameURL since it's redundant.  Just use .docLocation directly (should it be .docLocationHref?)\nâ€“ noticed I missed passing along linkHasNoReferrer in tabbrowser.xml for the e10s case\nâ€“ variable ordering is slightly different for neatness",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-03T00:19:44Z"
  }, {
    "text" : "Created attachment 8571664\nFix test browser_bug734076.js to open the context menu with mouse events so the menu inits correctly\n\nChanges since previous:\nâ€“ realised my DRY function was always called after sendMouseEvent(), so moved that into it as well\n\nNew try run:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=0caf06264178",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-03T00:21:49Z"
  }, {
    "text" : "Hmm, after working on some other code, I can't help but think I should have put linkHasNoReferrer in nsContextMenu.setTarget(), with all the other link stuff, rather than content.js.  In fact, I don't even think it'll always provide the correct results currently.  Clicking on an element child of a <a/>, for instance.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-03T12:34:26Z"
  }, {
    "text" : "Created attachment 8571953\nMake context-menu open link/frame commands use messages to avoid unsafe CPOW warnings\n\n(In reply to Ian Moody [:Kwan] from comment #14)\n> Hmm, after working on some other code, I can't help but think I should have\n> put linkHasNoReferrer in nsContextMenu.setTarget(), with all the other link\n> stuff, rather than content.js.  In fact, I don't even think it'll always\n> provide the correct results currently.  Clicking on an element child of a\n> <a/>, for instance.\nAh yes, I was right.  Child elements (eg an image) do leave the referrer on rel=\"noreferrer\" links with my previous patch.  Here's one that fixes that, tested manually.\n\nAlso, it appears there are currently no tests for this functionality.  There does appear to be one test just for clicking on a link, but none for context-menu actions.\nhttps://dxr.mozilla.org/mozilla-central/source/docshell/test/test_bug530396.html",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-03T14:26:34Z"
  }, {
    "text" : "Comment on attachment 8571664\nFix test browser_bug734076.js to open the context menu with mouse events so the menu inits correctly\n\nReview of attachment 8571664:\n-----------------------------------------------------------------\n\nThis looks good!",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-04T19:33:32Z"
  }, {
    "text" : "Comment on attachment 8571953\nMake context-menu open link/frame commands use messages to avoid unsafe CPOW warnings\n\nReview of attachment 8571953:\n-----------------------------------------------------------------\n\nr=me with a satisfactory answer to my question below.\n\n::: browser/base/content/nsContextMenu.js\n@@ +738,5 @@\n>            this.linkURI = this.getLinkURI();\n>            this.linkProtocol = this.getLinkProtocol();\n>            this.onMailtoLink = (this.linkProtocol == \"mailto\");\n>            this.onSaveableLink = this.isLinkSaveable( this.link );\n> +          this.linkHasNoReferrer = BrowserUtils.linkHasNoReferrer(elem);\n\nIs this going to cause an unsafe CPOW usage when we attempt to determine if we have rel=\"noreferrer\" on this node? If not, why not?\n\nIf so, can we compute this in the content process like you're doing for the other values, like the documentURI, charset, etc?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-04T19:57:49Z"
  }, {
    "text" : "(In reply to Mike Conley (:mconley) - Needinfo me! from comment #17)\n> > +          this.linkHasNoReferrer = BrowserUtils.linkHasNoReferrer(elem);\n> \n> Is this going to cause an unsafe CPOW usage when we attempt to determine if\n> we have rel=\"noreferrer\" on this node? If not, why not?\n\nIt is not, and to be honest, I'm not 100% sure why not.  I would have expected all the stuff in setTarget() to be spitting out CPOWs left and right, but they don't.  I know the elem is (originally) gContextMenuContentData.event.target, but I would not have thought that'd be enough, given all the parent walking.\n \n> If so, can we compute this in the content process like you're doing for the\n> other values, like the documentURI, charset, etc?\n\nWe could.  The main reason I didn't is because setTarget() already has all the necessary walking-up the DOM tree, and isn't causing CPOWS, so it seemed a waste to duplicate it.  Might make sense to move all that stuff to content.js, but since it doesn't appear to be causing CPOWs, it doesn't seem urgent.\n\nUnless it's possible that it is causing CPOWs, but they just aren't being detected to cause the warnings? (I don't know anything about the detection mechanism to know if that's possible)",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-04T21:18:56Z"
  }, {
    "text" : "Ah, I think we're OK here.\n\nThe \"contextmenu\" is synchronous, and also passes up the event target, which is the item that we're analyzing in that block of code.\n\nThat satisfies the conditions for a \"safe CPOW usage\", since the content process is blocked waiting for a response from the parent, and it passed us the CPOW in the first place, the only overhead here is a bit of IPC traffic.\n\nSo I think we're good here. Land away. :)",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-04T21:25:26Z"
  }, {
    "text" : "Created attachment 8572866\nMake context-menu open link/frame commands use messages to avoid unsafe CPOW warnings. r=mconley (rebased for landing)\n\nRebased since bug 1075670 got backed out, and added r=mconley to the commit mesage while I was at it\n\nSmall try run at:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a39a9f7e5fa0\n\nFull run seemed unnecessary given the greenness of the run in comment 13 and the small nature of the change since then,",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-04T21:48:21Z"
  }, {
    "text" : "I need to remember to make use of -u test[platform], those Win7 runs weren't intended/necessary.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-03-05T09:29:58Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/a2672fc5c5e5\nhttps://hg.mozilla.org/integration/fx-team/rev/5532969bd5df",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-06T13:36:41Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/a2672fc5c5e5\nhttps://hg.mozilla.org/mozilla-central/rev/5532969bd5df",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-06T21:15:30Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/abb82568a7d0\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/5049d11255b9",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-24T17:03:26Z"
  }, {
    "text" : "Why was this uplifted? There was no uplift request for these patches.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-24T17:06:17Z"
  }, {
    "text" : "Bug 1113431",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-24T17:12:53Z"
  }, {
    "text" : "This caused regression bug 1159259 I think.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-04-28T14:35:17Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-21T00:46:16Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-16T21:51:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:40:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:40:03Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "timbugzilla@gmail.com",
      "date" : "2015-02-18T00:48:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "timbugzilla@gmail.com"
    }, {
      "name" : "johnp@gmx.de",
      "date" : "2015-02-18T10:10:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "johnp@gmx.de"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-18T16:08:11Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1134227"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-19T18:06:40Z",
      "what" : "cf_tracking_e10s",
      "removed" : "+",
      "added" : "m8+"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-20T17:05:24Z",
      "what" : "cc",
      "removed" : "",
      "added" : "moz-ian@perix.co.uk"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-20T17:05:24Z",
      "what" : "see_also",
      "removed" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1134227",
      "added" : ""
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-20T17:05:24Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134227"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-20T17:05:24Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1134708"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-20T22:12:04Z",
      "what" : "attachments.isobsolete:8567156",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-21T00:46:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-21T00:46:16Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "moz-ian@perix.co.uk"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-21T00:47:33Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134708"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-21T00:47:33Z",
      "what" : "depends_on",
      "removed" : "1134708",
      "added" : ""
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-23T12:37:14Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1135619"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-24T00:12:49Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1135934"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-27T17:53:37Z",
      "what" : "attachments.isobsolete:8568842",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T00:19:44Z",
      "what" : "attachments.isobsolete:8567387",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T00:21:49Z",
      "what" : "attachments.isobsolete:8570591",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T00:49:20Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134391"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T14:26:34Z",
      "what" : "attachments.isobsolete:8571662",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-04T21:48:21Z",
      "what" : "attachments.isobsolete:8571953",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-05T09:29:58Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-05T09:29:58Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-05T09:29:58Z",
      "what" : "op_sys",
      "removed" : "Mac OS X",
      "added" : "All"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T13:36:41Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-06T13:36:41Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-06 13:15:30"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T17:03:26Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-24T17:06:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ryanvm@gmail.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T17:12:53Z",
      "what" : "cc",
      "removed" : "ryanvm@gmail.com",
      "added" : ""
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-04-28T14:35:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "enndeakin@gmail.com"
    }, {
      "name" : "epinal99-bugzilla2@yahoo.fr",
      "date" : "2015-08-19T23:59:47Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1195741"
    } ],
    "flagEvents" : [ {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-21T00:46:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567387,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-24T23:28:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T00:19:44Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8567387,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T00:19:44Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8571662,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T00:21:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8571664,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T14:26:34Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8571662,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-03-03T14:26:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8571953,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-04T19:33:32Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8571664,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-04T19:57:49Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8571953,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-04T19:58:05Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-06T21:15:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-24T17:06:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-24T17:12:53Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(ryanvm@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133577,
  "cclist" : [ "blassey.bugs@lassey.us", "enndeakin@gmail.com", "johnp@gmx.de", "mconley@mozilla.com", "moz-ian@perix.co.uk", "timbugzilla@gmail.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "General",
  "summary" : "[e10s] Back/forward gesture causes \"unsafe CPOW usage\" warning",
  "reporter" : "mconley@mozilla.com",
  "assigned" : "enndeakin@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "STR:\n\n1) In a remote browser, do some browsing so that you have some session history\n2) Use the \"back\" gesture to go back a page. On my MacBook, that's 3-finger swipe left, but it might be different for other folk.\n3) Use the \"forward\" gesture to go forward to where you came from.\n\nThis causes some \"unsafe CPOW usage\" warnings in the Browser Console at the following locations:\n\nin browser/base/content/browser.js:\n\n  /**\n   * Starts the swipe animation and handles fast swiping (i.e. a swipe animation\n   * is already in progress when a new one is initiated).\n   *\n   * @param aIsVerticalSwipe\n   *        Whether we're dealing with a vertical swipe or not.\n   */\n  startAnimation: function HSA_startAnimation(aIsVerticalSwipe) {\n    this._direction = aIsVerticalSwipe ? \"vertical\" : \"horizontal\";\n\n    if (this.isAnimationRunning()) {\n      // If this is a horizontal scroll, or if this is a vertical scroll that\n      // was started while a horizontal scroll was still running, handle it as\n      // as a fast swipe. In the case of the latter scenario, this allows us to\n      // start the vertical animation without first loading the final page, or\n      // taking another snapshot. If vertical scrolls are initiated repeatedly\n      // without prior horizontal scroll we skip this and restart the animation\n      // from 0.\n      if (this._direction == \"horizontal\" || this._lastSwipeDir != \"\") {\n        gBrowser.stop();\n        this._lastSwipeDir = \"RELOAD\"; // just ensure that != \"\"\n        this._canGoBack = this.canGoBack();\n        this._canGoForward = this.canGoForward();\n        this._handleFastSwiping();\n      }\n    }\n    else {\n      this._startingIndex = gBrowser.webNavigation.sessionHistory.index; <-- Causes CPOW warning\n      this._historyIndex = this._startingIndex;\n      this._canGoBack = this.canGoBack();\n      this._canGoForward = this.canGoForward();\n      if (this.active) {\n        this._addBoxes();\n        this._takeSnapshot();\n        this._installPrevAndNextSnapshots();\n        this._lastSwipeDir = \"\";\n      }\n    }\n    this.updateAnimation(0);\n  },\n\nand later in the same file:\n\n  /**\n   * Stops the swipe animation.\n   */\n  stopAnimation: function HSA_stopAnimation() {\n    gHistorySwipeAnimation._removeBoxes();\n    this._historyIndex = gBrowser.webNavigation.sessionHistory.index; <-- Causes CPOW warning\n  },",
  "comments" : [ {
    "text" : "STR:\n\n1) In a remote browser, do some browsing so that you have some session history\n2) Use the \"back\" gesture to go back a page. On my MacBook, that's 3-finger swipe left, but it might be different for other folk.\n3) Use the \"forward\" gesture to go forward to where you came from.\n\nThis causes some \"unsafe CPOW usage\" warnings in the Browser Console at the following locations:\n\nin browser/base/content/browser.js:\n\n  /**\n   * Starts the swipe animation and handles fast swiping (i.e. a swipe animation\n   * is already in progress when a new one is initiated).\n   *\n   * @param aIsVerticalSwipe\n   *        Whether we're dealing with a vertical swipe or not.\n   */\n  startAnimation: function HSA_startAnimation(aIsVerticalSwipe) {\n    this._direction = aIsVerticalSwipe ? \"vertical\" : \"horizontal\";\n\n    if (this.isAnimationRunning()) {\n      // If this is a horizontal scroll, or if this is a vertical scroll that\n      // was started while a horizontal scroll was still running, handle it as\n      // as a fast swipe. In the case of the latter scenario, this allows us to\n      // start the vertical animation without first loading the final page, or\n      // taking another snapshot. If vertical scrolls are initiated repeatedly\n      // without prior horizontal scroll we skip this and restart the animation\n      // from 0.\n      if (this._direction == \"horizontal\" || this._lastSwipeDir != \"\") {\n        gBrowser.stop();\n        this._lastSwipeDir = \"RELOAD\"; // just ensure that != \"\"\n        this._canGoBack = this.canGoBack();\n        this._canGoForward = this.canGoForward();\n        this._handleFastSwiping();\n      }\n    }\n    else {\n      this._startingIndex = gBrowser.webNavigation.sessionHistory.index; <-- Causes CPOW warning\n      this._historyIndex = this._startingIndex;\n      this._canGoBack = this.canGoBack();\n      this._canGoForward = this.canGoForward();\n      if (this.active) {\n        this._addBoxes();\n        this._takeSnapshot();\n        this._installPrevAndNextSnapshots();\n        this._lastSwipeDir = \"\";\n      }\n    }\n    this.updateAnimation(0);\n  },\n\nand later in the same file:\n\n  /**\n   * Stops the swipe animation.\n   */\n  stopAnimation: function HSA_stopAnimation() {\n    gHistorySwipeAnimation._removeBoxes();\n    this._historyIndex = gBrowser.webNavigation.sessionHistory.index; <-- Causes CPOW warning\n  },",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-16T20:32:07Z"
  }, {
    "text" : "Currently, the swipe gesture works anywhere that is not scrollable, e.g. the toolbar, findbar, (outer) window, or the top of the sidebar (but not sidebar content or tabbar since they could scroll). However it *should* only work within the content. \n\nReworking this to only work in content may fix this issue since swipe detection can happen in the content process and only the navigation event needs to be reported to the main thread. This may or may not help with Bug 927702, too.",
    "authour" : "fb+mozdev@quantumedia.de",
    "created" : "2015-02-17T23:14:39Z"
  }, {
    "text" : "I am not seeing this unsafe CPOW usage warning now, but I want to dig into _why_ this got fixed...",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-26T17:42:38Z"
  }, {
    "text" : "Nope, I'm wrong. This is still around.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-27T00:14:47Z"
  }, {
    "text" : "Re-nomming - this is definitely still around.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-06-29T14:27:12Z"
  }, {
    "text" : "Stealing because gw280 is on PTO.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-08-05T22:26:46Z"
  }, {
    "text" : "Hey Neil - as you're already in progress fixing bug 1148505, do you think you'd also like to take this bug as well?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-08-17T13:08:13Z"
  }, {
    "text" : "Created attachment 8680012\npatch?\n\nThis is a patch that just uses the session history instead. This won't be 100% accurate is some cases.\n\nI can't get the gesture to work very reliably at all anyway, so it's hard to tell if this patch works or not. I've spent too much time on this already.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-10-28T14:01:48Z"
  }, {
    "text" : "Created attachment 8691463\nUpdated patch\n\nThis patch gets the updated history index from session store. It seems to work ok for me. The animation mode, disabled by default, doesn't work anyway (bug 1170032) so I didn't particularly test it.",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-11-24T17:55:11Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/mozilla-inbound/rev/696662fec7bf036aa62d259d08bcaceb055c4ac2\nBug 1133569, remove cpow usage from back/forward gesture, r=felipe",
    "authour" : "enndeakin@gmail.com",
    "created" : "2015-11-26T15:24:04Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/696662fec7bf",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-11-27T15:26:38Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:42:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-27T00:14:47Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "REOPENED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-27T15:26:38Z",
      "what" : "status",
      "removed" : "REOPENED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:42:38Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "WORKSFORME"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-27T00:14:47Z",
      "what" : "resolution",
      "removed" : "WORKSFORME",
      "added" : "",
      "type" : "UNKNOWN"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-27T15:26:38Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-16T21:51:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:39:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:39:41Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "fb+mozdev@quantumedia.de",
      "date" : "2015-02-17T23:14:39Z",
      "what" : "cc",
      "removed" : "",
      "added" : "fb+mozdev@quantumedia.de, spohl.mozilla.bugs@gmail.com"
    }, {
      "name" : "fb+mozdev@quantumedia.de",
      "date" : "2015-02-17T23:14:39Z",
      "what" : "platform",
      "removed" : "x86",
      "added" : "All"
    }, {
      "name" : "fb+mozdev@quantumedia.de",
      "date" : "2015-02-17T23:16:20Z",
      "what" : "cc",
      "removed" : "",
      "added" : "josiah@programmer.net, MattN+bmo@mozilla.com, paul@mozilla.com, smichaud@pobox.com"
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-17T23:32:22Z",
      "what" : "cc",
      "removed" : "MattN+bmo@mozilla.com",
      "added" : ""
    }, {
      "name" : "timbugzilla@gmail.com",
      "date" : "2015-02-18T00:47:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "timbugzilla@gmail.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-19T18:06:40Z",
      "what" : "cf_tracking_e10s",
      "removed" : "+",
      "added" : "m8+"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:03:27Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[unsafe-cpow-usage]"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:03:27Z",
      "what" : "cf_tracking_e10s",
      "removed" : "m8+",
      "added" : "---"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:42:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:42:38Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-06-26 10:42:38"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-29T14:27:12Z",
      "what" : "whiteboard",
      "removed" : "[unsafe-cpow-usage]",
      "added" : ""
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-29T14:27:12Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-06-30T20:13:32Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "m8+"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-06-30T20:13:50Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-07-09T16:51:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gwright@mozilla.com"
    }, {
      "name" : "gw@gwright.org.uk",
      "date" : "2015-07-09T16:51:47Z",
      "what" : "assigned_to",
      "removed" : "mconley@mozilla.com",
      "added" : "gwright@mozilla.com"
    }, {
      "name" : "aleth@instantbird.org",
      "date" : "2015-08-01T19:29:05Z",
      "what" : "cc",
      "removed" : "",
      "added" : "aleth@instantbird.org"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-08-05T22:26:46Z",
      "what" : "assigned_to",
      "removed" : "gwright@mozilla.com",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-08-17T13:08:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "enndeakin@gmail.com"
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-08-17T13:54:20Z",
      "what" : "assigned_to",
      "removed" : "mconley@mozilla.com",
      "added" : "enndeakin@gmail.com"
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-11-24T17:55:11Z",
      "what" : "attachments.isobsolete:8680012",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-11-24T17:55:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "felipc@gmail.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-27T15:26:38Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 45"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-27T15:26:38Z",
      "what" : "cf_last_resolved",
      "removed" : "2015-06-26 10:42:38",
      "added" : "2015-11-27 07:26:38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-11-27T15:26:38Z",
      "what" : "cf_status_firefox45",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-26T17:42:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-06-27T00:14:47Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-08-17T13:08:13Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-08-17T13:54:20Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(enndeakin@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "enndeakin@gmail.com",
      "date" : "2015-11-24T17:55:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8691463,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "felipc@gmail.com",
      "date" : "2015-11-24T18:57:06Z",
      "what" : "flagtypes.name",
      "removed" : "review?(felipc@gmail.com)",
      "added" : "",
      "attachmentId" : 8691463,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133569,
  "cclist" : [ "aleth@instantbird.org", "blassey.bugs@lassey.us", "enndeakin@gmail.com", "fb+mozdev@quantumedia.de", "felipc@gmail.com", "gw@gwright.org.uk", "josiah@programmer.net", "mconley@mozilla.com", "paul@mozilla.com", "smichaud@pobox.com", "spohl.mozilla.bugs@gmail.com", "timbugzilla@gmail.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "General",
  "summary" : "Ensure unsupported Silk configurations don't crash",
  "reporter" : "mchang@mozilla.com",
  "assigned" : "mchang@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86_64",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "+++ This bug was initially created as a clone of Bug #1128165 +++\n\nFrom https://bugzilla.mozilla.org/show_bug.cgi?id=1128165#c11\n\nEnsure that unsupported silk configurations such as the vsync compositor enabled but hardware-vsync disabled doesn't actually crash, but instead just disables silk.",
  "comments" : [ {
    "text" : "+++ This bug was initially created as a clone of Bug #1128165 +++\n\nFrom https://bugzilla.mozilla.org/show_bug.cgi?id=1128165#c11\n\nEnsure that unsupported silk configurations such as the vsync compositor enabled but hardware-vsync disabled doesn't actually crash, but instead just disables silk.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-16T16:18:21Z"
  }, {
    "text" : "Created attachment 8568040\nEnsure vsync compositor and refresh driver are only enabled if hardware vsync is enabled\n\nJust a small check that we really only enable the vsync compositor or refresh driver if both the pref and hardware vsync are enabled.",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-23T18:34:15Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/b2g-inbound/rev/e71a9188d24f",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-02-23T20:04:29Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e71a9188d24f",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-24T11:54:23Z"
  }, {
    "text" : "Comment on attachment 8568040\nEnsure vsync compositor and refresh driver are only enabled if hardware vsync is enabled\n\nApproval Request Comment\n[Feature/regressing bug #]: Project Silk, but 1071275\n[User impact if declined]: If a user enables silk on nightly, then goes back to the dev edition, they can get into an infinite crash loop if they use the same profile. The bug only occurs due to a user enabling a pref in nightly in about:config then going back to the dev edition with the same profile.\n[Describe test coverage new/current, TreeHerder]: Manual testing, only occurs due to this patch not being uplifted before turning on Silk.\n[Risks and why]: Low, just an extra check to make sure we don't enable silk unless hardware vsync is enabled.\n[String/UUID change made/needed]: None",
    "authour" : "mchang@mozilla.com",
    "created" : "2015-03-15T14:44:28Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/510796de70f7",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-16T20:52:26Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:54:23Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:54:23Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:54:23Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:54:23Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 03:54:23"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:54:23Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-03-15T14:42:07Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-16T20:52:26Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "mchang@mozilla.com",
      "date" : "2015-02-23T18:34:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568040,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bugmail@mozilla.staktrace.com",
      "date" : "2015-02-23T19:23:48Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugmail.mozilla@staktrace.com)",
      "added" : "",
      "attachmentId" : 8568040,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mchang@mozilla.com",
      "date" : "2015-03-15T14:44:28Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568040,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sledru@mozilla.com",
      "date" : "2015-03-16T07:48:35Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8568040,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133526,
  "cclist" : [ "andre.graziani@gmail.com", "arpad.borsos@googlemail.com", "ashley@scirra.com", "atilag@gmail.com", "avihpit@yahoo.com", "bas@basschouten.com", "boris.chiou@gmail.com", "bugmail@mozilla.staktrace.com", "chrislord.net@gmail.com", "cku@mozilla.com", "cmtalbert@gmail.com", "dietrich@mozilla.com", "dolske@mozilla.com", "dvander@alliedmods.net", "emanuel.hoogeveen@gmail.com", "fb+mozdev@quantumedia.de", "gal@uci.edu", "gandalf@aviary.pl", "gsvelto@mozilla.com", "harshid@gmail.com", "howareyou322@gmail.com", "hshih@mozilla.com", "itsay@mozilla.com", "jeremy.kim.leo@gmail.com", "jmathies@mozilla.com", "jmuizelaar@mozilla.com", "jsmith@mozilla.com", "kaichih.hu@gmail.com", "kairo@kairo.at", "kchang@mozilla.com", "kgilbert@mozilla.com", "luke@mozilla.com", "matt.woodrow@gmail.com", "mcastelluccio@mozilla.com", "mchang@mozilla.com", "milan@mozilla.com", "mstange@themasta.com", "m_kato@ga2.so-net.ne.jp", "nefzaoui@arabicmozilla.org", "nissan4321@gmail.com", "npark@mozilla.com", "rdandu@mozilla.com", "roc@ocallahan.org", "skamat@mozilla.com", "timbugzilla@gmail.com", "tlin@mozilla.com", "vlin@mozilla.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "Intermittent browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -",
  "reporter" : "cbook@mozilla.com",
  "assigned" : "sjakthol@outlook.com",
  "created" : null,
  "operatingSystem" : "Windows 8",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Windows 8 64-bit fx-team debug test mochitest-devtools-chrome-3\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=2003055&repo=fx-team\n\n03:19:07 INFO - 585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -",
  "comments" : [ {
    "text" : "Windows 8 64-bit fx-team debug test mochitest-devtools-chrome-3\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=2003055&repo=fx-team\n\n03:19:07 INFO - 585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T11:36:02Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2003055\nrepository: fx-team\nstart_time: 2015-02-16T03:01:01\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-164\nbuildname: Windows 8 64-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: 4d43899972e7\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T11:36:24Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1999481\nrepository: fx-team\nstart_time: 2015-02-13T22:08:09\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-108\nbuildname: Windows 8 64-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: 09a43afd57b2\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T11:36:43Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1998453\nrepository: fx-team\nstart_time: 2015-02-13T19:48:37\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-062\nbuildname: Windows 8 64-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: 22f0288cde34\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T11:37:07Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6654729\nrepository: mozilla-inbound\nstart_time: 2015-02-16T09:53:02\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-068\nbuildname: Windows 8 64-bit mozilla-inbound debug test mochitest-devtools-chrome-3\nrevision: 49426db6bbef\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T08:05:09Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2006789\nrepository: fx-team\nstart_time: 2015-02-16T12:13:48\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-077\nbuildname: Windows 8 64-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: 79fcb3f8f12e\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T08:22:53Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6712973\nrepository: mozilla-inbound\nstart_time: 2015-02-17T19:57:54\nwho: philringnalda[at]gmail[dot]com\nmachine: tst-linux64-spot-1198\nbuildname: Ubuntu ASAN VM 12.04 x64 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: 83725be2772e\n\n5750 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T05:44:30Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6715890\nrepository: mozilla-inbound\nstart_time: 2015-02-17T22:27:06\nwho: philringnalda[at]gmail[dot]com\nmachine: t-xp32-ix-054\nbuildname: Windows XP 32-bit mozilla-inbound debug test mochitest-devtools-chrome-3\nrevision: 946b11555d66\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T07:02:02Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6719493\nrepository: mozilla-inbound\nstart_time: 2015-02-18T02:35:56\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-079\nbuildname: Windows 8 64-bit mozilla-inbound pgo test mochitest-devtools-chrome\nrevision: 36a3cbc746f5\n\n5829 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T12:06:14Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=5015544\nrepository: try\nstart_time: 2015-02-18T04:15:13\nwho: jcoppeard[at]mozilla[dot]com\nmachine: t-xp32-ix-104\nbuildname: Windows XP 32-bit try debug test mochitest-devtools-chrome-3\nrevision: 6fae8f01b41b\n\n585 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T13:15:09Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1370771\nrepository: b2g-inbound\nstart_time: 2015-02-18T03:14:50\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w732-ix-025\nbuildname: Windows 7 32-bit b2g-inbound pgo test mochitest-devtools-chrome\nrevision: 944c1cc9e81a\n\n5850 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T14:07:23Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2018140\nrepository: fx-team\nstart_time: 2015-02-18T06:15:56\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-w864-ix-060\nbuildname: Windows 8 64-bit fx-team pgo test mochitest-devtools-chrome\nrevision: dbed1e3c1a1e\n\n5844 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T15:03:34Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2024141\nrepository: fx-team\nstart_time: 2015-02-18T10:32:14\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-xp32-ix-018\nbuildname: Windows XP 32-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: 2cf0e5bc1473\n\n575 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T19:11:29Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6729328\nrepository: mozilla-inbound\nstart_time: 2015-02-18T10:47:31\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-w732-ix-011\nbuildname: Windows 7 32-bit mozilla-inbound pgo test mochitest-devtools-chrome\nrevision: acf46fe8b054\n\n5844 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T19:57:43Z"
  }, {
    "text" : "Sami, is this possibly related to one of the other webconsole tests you fixed recently?",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-18T20:00:45Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2026319\nrepository: fx-team\nstart_time: 2015-02-18T13:10:00\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-xp32-ix-089\nbuildname: Windows XP 32-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: f8366cf7e7c8\n\n575 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-18T21:51:50Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2028536\nrepository: fx-team\nstart_time: 2015-02-18T15:09:40\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-xp32-ix-151\nbuildname: Windows XP 32-bit fx-team debug test mochitest-devtools-chrome-3\nrevision: c17419e63808\n\n575 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T00:14:27Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6747765\nrepository: mozilla-inbound\nstart_time: 2015-02-18T16:41:55\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-w864-ix-129\nbuildname: Windows 8 64-bit mozilla-inbound pgo test mochitest-devtools-chrome\nrevision: 34a8eb104adc\n\n5836 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T01:20:44Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1373568\nrepository: b2g-inbound\nstart_time: 2015-02-18T17:47:10\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-w864-ix-113\nbuildname: Windows 8 64-bit b2g-inbound pgo test mochitest-devtools-chrome\nrevision: 5a8b6218aedb\n\n5840 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T02:34:52Z"
  }, {
    "text" : "Created attachment 8566407\nwebconsole-failure.patch\n\nNot related but easy to fix anyways.\n\nThe test fails if a script error from browser code is delivered to the console service during the test. The logs for multiple above failures show that following error message is printed during the test:\n> Console message: [JavaScript Error: \"couldn't look up addon: fx-devtools\" {file: \"jar:file:///C:/slave/test/build/application/firefox/browser/omni.ja!/components/nsBrowserGlue.js\" line: 569}]\n\nThe message is from an addon performance monitoring code that detects devtools taking a lot of CPU time (or whatever it's measuring).\n\nThis patch makes the test to fail if the sourceFile of the error contains string \"webconsole\" as I think that was the original purpose of this test. This will match errors coming from browser/devtools/webconsole/*, toolkit/devtools/webconsole/* and toolkit/devtools/server/actors/webconsole.js but not any random error chrome code spews out while that test is running.\n\nTry run: https://treeherder.mozilla.org/#/jobs?repo=try&revision=79bf222dfafe",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-02-19T06:53:38Z"
  }, {
    "text" : "Comment on attachment 8566407\nwebconsole-failure.patch\n\nReview of attachment 8566407:\n-----------------------------------------------------------------\n\nSami, you rock!",
    "authour" : "past@mozilla.com",
    "created" : "2015-02-19T07:22:03Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1374572\nrepository: b2g-inbound\nstart_time: 2015-02-18T22:43:41\nwho: tomcat[at]mozilla[dot]com\nmachine: talos-linux32-ix-028\nbuildname: Ubuntu HW 12.04 b2g-inbound pgo talos dromaeojs\nrevision: df39e86f6f21\n\nPROCESS-CRASH | dromaeo_dom | application crashed [@ mozilla::image::ProgressTracker::FirstObserverIs(mozilla::image::IProgressObserver*)]\nTraceback (most recent call last):\nReturn code: 2\n# TBPL FAILURE #",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T12:47:35Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1374652\nrepository: b2g-inbound\nstart_time: 2015-02-19T00:22:34\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-102\nbuildname: Windows 8 64-bit b2g-inbound pgo test mochitest-devtools-chrome\nrevision: df39e86f6f21\n\n5837 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T12:47:39Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6773869\nrepository: mozilla-inbound\nstart_time: 2015-02-19T05:46:35\nwho: tomcat[at]mozilla[dot]com\nmachine: t-w864-ix-162\nbuildname: Windows 8 64-bit mozilla-inbound pgo test mochitest-devtools-chrome\nrevision: 011fa139e620\n\n5820 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T15:22:22Z"
  }, {
    "text" : "Ah yeah, that makes perfect sense. Bug 1071880 was backed out for now, but it's good that the test is already fixed for when it re-lands eventually.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-19T15:27:21Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/43b5364feb64",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-19T15:27:43Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6779475\nrepository: mozilla-inbound\nstart_time: 2015-02-19T08:11:55\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-w864-ix-033\nbuildname: Windows 8 64-bit mozilla-inbound pgo test mochitest-devtools-chrome\nrevision: 6885e993936a\n\n5832 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-19T16:50:21Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/43b5364feb64",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-20T00:02:35Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1379224\nrepository: b2g-inbound\nstart_time: 2015-02-19T20:13:31\nwho: philringnalda[at]gmail[dot]com\nmachine: t-w864-ix-137\nbuildname: Windows 8 64-bit b2g-inbound pgo test mochitest-devtools-chrome\nrevision: 63d65b4b783a\n\n5823 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_597136_network_requests_from_chrome.js | no exception was thrown when sending a network request from a chrome window -\nReturn code: 1",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-20T05:01:34Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-19T06:53:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T00:02:35Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T00:02:35Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T20:00:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ryanvm@gmail.com, sjakthol@outlook.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-19T06:53:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-19T06:53:38Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "sjakthol@outlook.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-19T09:10:08Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:21Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1071880"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:21Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:21Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:21Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:21Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:43Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:43Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T00:02:35Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T00:02:35Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T00:02:35Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-19 16:02:35"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-20T00:02:35Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T20:00:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-19T06:53:38Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(sjakthol@outlook.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-19T06:53:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8566407,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-02-19T07:22:03Z",
      "what" : "flagtypes.name",
      "removed" : "review?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8566407,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T15:27:43Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133481,
  "cclist" : [ "past@mozilla.com", "ryanvm@gmail.com", "sjakthol@outlook.com" ]
}, {
  "component" : "Untriaged",
  "summary" : "Failed tests in section W4 after enabling pointer events",
  "reporter" : "alessarik@gmail.com",
  "assigned" : "alessarik@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "User Agent: Mozilla/5.0 (Windows NT 6.2; WOW64; rv:33.0) Gecko/20100101 Firefox/33.0\nBuild ID: 20141105223254\n\nSteps to reproduce:\n\nTests on TRY servers. Section W 4\n\n\nActual results:\n\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_constructor.html | PointerEvent constructor - expected FAIL\nTEST-UNEXPECTED-OK | /pointerevents/pointerevent_constructor.html | expected TIMEOUT\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-illegal.html | 'pan-x none' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-illegal.html | 'pan-y none' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-illegal.html | 'auto none' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'auto' is set properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'pan-x' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'pan-y' is set properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'none' is set properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'manipulation' is set properly - expected FAIL\n\n\nExpected results:\n\nSection W4 should be green without issues.",
  "comments" : [ {
    "text" : "User Agent: Mozilla/5.0 (Windows NT 6.2; WOW64; rv:33.0) Gecko/20100101 Firefox/33.0\nBuild ID: 20141105223254\n\nSteps to reproduce:\n\nTests on TRY servers. Section W 4\n\n\nActual results:\n\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_constructor.html | PointerEvent constructor - expected FAIL\nTEST-UNEXPECTED-OK | /pointerevents/pointerevent_constructor.html | expected TIMEOUT\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-illegal.html | 'pan-x none' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-illegal.html | 'pan-y none' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-illegal.html | 'auto none' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'auto' is set properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'pan-x' is corrected properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'pan-y' is set properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'none' is set properly - expected FAIL\nTEST-UNEXPECTED-PASS | /pointerevents/pointerevent_touch-action-verification.html | 'manipulation' is set properly - expected FAIL\n\n\nExpected results:\n\nSection W4 should be green without issues.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-02-16T07:22:28Z"
  }, {
    "text" : "To resolve this issue we should change expectation of \"web-platform-test\" suite.\nThat expectations are situated in .\\testing\\web-platform\\meta\\pointerevents folder.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-04-02T15:14:22Z"
  }, {
    "text" : "Created attachment 8610518\nw4_section_tests_ver1.diff\n\n- Removed expected \"FAIL\" results.\n\nSuggestions and comments and objections are very welcome.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-26T11:31:19Z"
  }, {
    "text" : "Without patch: https://treeherder.mozilla.org/#/jobs?repo=try&revision=81769199ab34\nWith patch: https://treeherder.mozilla.org/#/jobs?repo=try&revision=5dc88249a78a",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-26T11:33:53Z"
  }, {
    "text" : "Comment on attachment 8610518\nw4_section_tests_ver1.diff\n\nr+ (looks like wpt are run only on desktop)",
    "authour" : "bugs@pettay.fi",
    "created" : "2015-05-26T14:34:55Z"
  }, {
    "text" : "If there are no objections, I will put checkin-needed flag...\n...at the same time as bug 1166347 will be checkined too.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-27T13:41:47Z"
  }, {
    "text" : "So why are these failing? The `prefs: [dom.w3c_pointer_events.enabled:true]` line should make sure that the default pref change shouldn't affect them. Should we add layout.css.touch_action.enabled there?",
    "authour" : "Ms2ger@gmail.com",
    "created" : "2015-05-28T15:35:18Z"
  }, {
    "text" : "(In reply to :Ms2ger from comment #6)\n> So why are these failing? The `prefs: [dom.w3c_pointer_events.enabled:true]`\n> line should make sure that the default pref change shouldn't affect them.\n> Should we add layout.css.touch_action.enabled there?\nI am not quite sure for that, but I can make some test for that.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-28T16:01:02Z"
  }, {
    "text" : "Created attachment 8612854\nw4_section_tests_ver2.diff\n\n+ Changed preference dependencies\n\nSuggestions and comments and objections are very welcome.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-29T13:54:24Z"
  }, {
    "text" : "Enabling PE: https://treeherder.mozilla.org/#/jobs?repo=try&revision=211ea2f613d7\nPATCH: https://treeherder.mozilla.org/#/jobs?repo=try&revision=8d93c75d2ca41\nEnabling PE + PATCH: https://treeherder.mozilla.org/#/jobs?repo=try&revision=14f32c25e9e5",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-29T13:57:41Z"
  }, {
    "text" : "...ups, incorrect link.\nPATCH: https://treeherder.mozilla.org/#/jobs?repo=try&revision=8d93c75d2ca4",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-05-29T14:38:06Z"
  }, {
    "text" : "Comment on attachment 8612854\nw4_section_tests_ver2.diff\n\nReview of attachment 8612854:\n-----------------------------------------------------------------\n\nlgtm",
    "authour" : "Ms2ger@gmail.com",
    "created" : "2015-05-30T09:44:03Z"
  }, {
    "text" : "If there are no objections, I put checkin-needed flag.",
    "authour" : "alessarik@gmail.com",
    "created" : "2015-06-01T10:59:40Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/e4e4fc58ded1",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-06-01T11:45:47Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e4e4fc58ded1",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-06-02T11:13:23Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-28T16:01:02Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-06-02T11:13:23Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-06-02T11:13:23Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alessarik@gmail.com",
      "date" : "2015-02-16T07:31:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "alessarik@gmail.com, bugmail.mozilla@staktrace.com, bugs@pettay.fi, mbrubeck@mozilla.com"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-02-16T07:31:13Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-02-16T07:31:13Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "960316"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-02-16T07:31:13Z",
      "what" : "op_sys",
      "removed" : "Windows 8",
      "added" : "All"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-26T09:23:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1166347"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-27T14:02:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "v-dmbark@microsoft.com"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-27T14:02:46Z",
      "what" : "summary",
      "removed" : "Failed tests in section W4",
      "added" : "Failed tests in section W4 after enabling pointer events"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-27T14:11:28Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "alessarik@gmail.com"
    }, {
      "name" : "Ms2ger@gmail.com",
      "date" : "2015-05-28T15:35:18Z",
      "what" : "cc",
      "removed" : "",
      "added" : "Ms2ger@gmail.com"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-28T16:01:02Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-29T13:54:24Z",
      "what" : "attachments.isobsolete:8610518",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-06-01T10:59:40Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-06-01T11:45:47Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-06-02T11:13:23Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 41"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-06-02T11:13:23Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-06-02 04:13:23"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-06-02T11:13:23Z",
      "what" : "cf_status_firefox41",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ktucker@qanalydocs.com",
      "date" : "2015-06-04T00:52:47Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1171022"
    }, {
      "name" : "Ms2ger@gmail.com",
      "date" : "2015-06-04T08:04:09Z",
      "what" : "depends_on",
      "removed" : "1171022",
      "added" : ""
    } ],
    "flagEvents" : [ {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-26T11:31:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8610518,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bugs@pettay.fi",
      "date" : "2015-05-26T14:34:55Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugs@pettay.fi)",
      "added" : "",
      "attachmentId" : 8610518,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "Ms2ger@gmail.com",
      "date" : "2015-05-28T15:35:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-29T13:54:24Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(alessarik@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "alessarik@gmail.com",
      "date" : "2015-05-29T13:54:24Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8612854,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "Ms2ger@gmail.com",
      "date" : "2015-05-30T09:44:03Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(Ms2ger@gmail.com)",
      "added" : "",
      "attachmentId" : 8612854,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bugs@pettay.fi",
      "date" : "2015-06-01T10:57:45Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugs@pettay.fi)",
      "added" : "",
      "attachmentId" : 8612854,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133417,
  "cclist" : [ "alessarik@gmail.com", "bugmail@mozilla.staktrace.com", "bugs@pettay.fi", "mbrubeck@mozilla.com", "Ms2ger@gmail.com", "v-dmbark@microsoft.com" ]
}, {
  "component" : "Tabbed Browser",
  "summary" : "browser_testOpenNewRemoteTabsFromNonRemoteBrowsers.js is going to permafail when Gecko 38 merges to Aurora",
  "reporter" : "ryanvm@gmail.com",
  "assigned" : "mconley@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "critical",
  "description" : "[Tracking Requested - why for this release]: Test permafail when Gecko 38 merges to Aurora.\n\nThe merge is just over a week away. This needs fixing ASAP.\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=4938317&repo=try\n\n20:18:30 INFO - 659 INFO Waiting for TabOpen\n20:18:30 INFO - 660 INFO Console message: [JavaScript Error: \"TypeError: document.getElementById(...) is null\" {file: \"chrome://browser/content/aboutSessionRestore.js\" line: 37}]\n20:18:30 INFO - 661 INFO Saw TabOpen\n20:18:30 INFO - 662 INFO Wait tab event: load\n20:18:30 INFO - 663 INFO Console message: [JavaScript Warning: \"ReferenceError: reference to undefined property params.charset\" {file: \"chrome://browser/content/tabbrowser.xml\" line: 1372}]\n20:18:30 INFO - 664 INFO Console message: [JavaScript Warning: \"Unknown property 'text-emphasis'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 781 column: 17 source: \" text-emphasis: none;\"}]\n20:18:30 INFO - 665 INFO Console message: [JavaScript Warning: \"Error in parsing value for 'unicode-bidi'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 795 column: 18 source: \" unicode-bidi: isolate;\"}]\n20:18:30 INFO - 666 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 667 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 668 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 669 INFO Console message: [JavaScript Error: \"TypeError: invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 670 INFO Console message: [JavaScript Warning: \"Unknown property 'text-emphasis'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 781 column: 17 source: \" text-emphasis: none;\"}]\n20:18:30 INFO - 671 INFO Console message: [JavaScript Warning: \"Error in parsing value for 'unicode-bidi'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 795 column: 18 source: \" unicode-bidi: isolate;\"}]\n20:18:30 INFO - 672 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 673 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 674 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 675 INFO Console message: [JavaScript Error: \"TypeError: invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 676 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_testOpenNewRemoteTabsFromNonRemoteBrowsers.js | Uncaught exception - at chrome://mochitests/content/browser/browser/base/content/test/general/head.js:583 - Error: Timed out while waiting for a 'load'' event\n20:18:30 INFO - Stack trace:\n20:18:30 INFO - promiseTabLoadEvent/timeout<@chrome://mochitests/content/browser/browser/base/content/test/general/head.js:583:21\n20:18:30 INFO - Tester_execTest@chrome://mochikit/content/browser-test.js:670:9\n20:18:30 INFO - Tester.prototype.nextTest</<@chrome://mochikit/content/browser-test.js:595:7\n20:18:30 INFO - SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:752:59\n20:18:30 INFO - Tester_execTest@chrome://mochikit/content/browser-test.js:670:9\n20:18:30 INFO - Tester.prototype.nextTest</<@chrome://mochikit/content/browser-test.js:595:7\n20:18:30 INFO - SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:752:59",
  "comments" : [ {
    "text" : "[Tracking Requested - why for this release]: Test permafail when Gecko 38 merges to Aurora.\n\nThe merge is just over a week away. This needs fixing ASAP.\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=4938317&repo=try\n\n20:18:30 INFO - 659 INFO Waiting for TabOpen\n20:18:30 INFO - 660 INFO Console message: [JavaScript Error: \"TypeError: document.getElementById(...) is null\" {file: \"chrome://browser/content/aboutSessionRestore.js\" line: 37}]\n20:18:30 INFO - 661 INFO Saw TabOpen\n20:18:30 INFO - 662 INFO Wait tab event: load\n20:18:30 INFO - 663 INFO Console message: [JavaScript Warning: \"ReferenceError: reference to undefined property params.charset\" {file: \"chrome://browser/content/tabbrowser.xml\" line: 1372}]\n20:18:30 INFO - 664 INFO Console message: [JavaScript Warning: \"Unknown property 'text-emphasis'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 781 column: 17 source: \" text-emphasis: none;\"}]\n20:18:30 INFO - 665 INFO Console message: [JavaScript Warning: \"Error in parsing value for 'unicode-bidi'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 795 column: 18 source: \" unicode-bidi: isolate;\"}]\n20:18:30 INFO - 666 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 667 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 668 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 669 INFO Console message: [JavaScript Error: \"TypeError: invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 670 INFO Console message: [JavaScript Warning: \"Unknown property 'text-emphasis'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 781 column: 17 source: \" text-emphasis: none;\"}]\n20:18:30 INFO - 671 INFO Console message: [JavaScript Warning: \"Error in parsing value for 'unicode-bidi'. Declaration dropped.\" {file: \"resource://gre-resources/html.css\" line: 795 column: 18 source: \" unicode-bidi: isolate;\"}]\n20:18:30 INFO - 672 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 673 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 674 INFO Console message: [JavaScript Error: \"invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 675 INFO Console message: [JavaScript Error: \"TypeError: invalid 'in' operand dict\" {file: \"resource://gre/modules/RemoteAddonsChild.jsm\" line: 27}]\n20:18:30 INFO - 676 INFO TEST-UNEXPECTED-FAIL | browser/base/content/test/general/browser_testOpenNewRemoteTabsFromNonRemoteBrowsers.js | Uncaught exception - at chrome://mochitests/content/browser/browser/base/content/test/general/head.js:583 - Error: Timed out while waiting for a 'load'' event\n20:18:30 INFO - Stack trace:\n20:18:30 INFO - promiseTabLoadEvent/timeout<@chrome://mochitests/content/browser/browser/base/content/test/general/head.js:583:21\n20:18:30 INFO - Tester_execTest@chrome://mochikit/content/browser-test.js:670:9\n20:18:30 INFO - Tester.prototype.nextTest</<@chrome://mochikit/content/browser-test.js:595:7\n20:18:30 INFO - SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:752:59\n20:18:30 INFO - Tester_execTest@chrome://mochikit/content/browser-test.js:670:9\n20:18:30 INFO - Tester.prototype.nextTest</<@chrome://mochikit/content/browser-test.js:595:7\n20:18:30 INFO - SimpleTest.waitForFocus/waitForFocusInner/focusedOrLoaded/<@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:752:59",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-14T23:36:41Z"
  }, {
    "text" : "Created attachment 8565685\nDisable browser_testOpenNewRemoteTabsFromNonRemoteBrowsers.js for non-e10s test runs. r=?\n\nI don't think this test adds much value when it runs in non-e10s mode.\nOn top of that, because it relies on browser load events going over the\nmultiprocess add-on shims, this test will permafail when it goes onto\na channel with the shims disabled (like Aurora at the time of this writing).\n\nSo I'm disabling it for non-e10s test runs.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-17T22:31:57Z"
  }, {
    "text" : "Thanks!\n\nremote:   https://hg.mozilla.org/integration/fx-team/rev/679ce5620669",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-18T20:07:08Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/679ce5620669",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-19T01:17:27Z"
  } ],
  "status" : "VERIFIED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T02:46:20Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "VERIFIED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-14T23:36:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T22:21:15Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1134008"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T22:32:47Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-18 17:17:27"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T02:46:20Z",
      "what" : "cf_status_firefox38",
      "removed" : "fixed",
      "added" : "verified"
    }, {
      "name" : "lhenry@mozilla.com",
      "date" : "2015-03-12T21:46:14Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "?",
      "added" : "---"
    } ],
    "flagEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-14T23:36:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T22:32:47Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T22:32:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565685,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-18T17:58:56Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8565685,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:17:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133260,
  "cclist" : [ "cmanchester@mozilla.com", "dtownsend@mozilla.com", "mconley@mozilla.com", "philringnalda@gmail.com", "ttaubert@mozilla.com" ]
}, {
  "component" : "Theme",
  "summary" : "Buttons aren't aligned properly with content on about pages using info-pages.css",
  "reporter" : "ntim.bugs@gmail.com",
  "assigned" : "tvaleev@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "The following code fixes the issue :\n\n.button-container > button:first-child {\n  -moz-margin-start: 0;\n}",
  "comments" : [ {
    "text" : "The following code fixes the issue :\n\n.button-container > button:first-child {\n  -moz-margin-start: 0;\n}",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-14T19:30:08Z"
  }, {
    "text" : "The code mentioned earlier needs to be added to toolkit/themes/shared/in-content/info-pages.inc.css",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-15T13:07:21Z"
  }, {
    "text" : "Hi,I'm new to open source and would like to work on it!How do I get started?\nThanks!",
    "authour" : "mas1ankit@gmail.com",
    "created" : "2015-02-15T14:08:29Z"
  }, {
    "text" : "(In reply to ANKIT JENA from comment #2)\n> Hi,I'm new to open source and would like to work on it!How do I get started?\n> Thanks!\n\nThanks for your interest !\n\nYou can get started by setting up your build environment, you can take a look at the documentation [0], or watch the video tutorials [1].\nOnce you've done so, generate a patch file that adds the code mentioned in comment #0 inside toolkit/themes/shared/in-content/info-pages.inc.css.\nIf you need help, you can join #introduction on IRC.\n\n[0] : https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/Build_Instructions\n[1] : http://codefirefox.com",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-15T15:01:53Z"
  }, {
    "text" : "Created attachment 8564914\nbuttons_aligned_v0.1.patch\n\nHi. I'm new in firefox development process. So I create the patch. Please check it.",
    "authour" : "tvaleev@gmail.com",
    "created" : "2015-02-16T09:06:59Z"
  }, {
    "text" : "Comment on attachment 8564914\nbuttons_aligned_v0.1.patch\n\nReview of attachment 8564914:\n-----------------------------------------------------------------\n\nThanks for the patch, looks good to me !\n\n::: toolkit/themes/shared/in-content/info-pages.inc.css\n@@ +85,5 @@\n>  tree {\n>    min-height: 12em;\n>    margin-top: 1.2em;\n>    width: 100%;\n> +}\n\nThis blank line change isn't needed. Please restore the new line here.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-16T09:23:32Z"
  }, {
    "text" : "Created attachment 8564936\nbuttons_aligned_v0.2.patch\n\nI created new patch that delete new line symbol in the end of css file. Is it right?",
    "authour" : "tvaleev@gmail.com",
    "created" : "2015-02-16T09:59:12Z"
  }, {
    "text" : "Comment on attachment 8564936\nbuttons_aligned_v0.2.patch\n\nReview of attachment 8564936:\n-----------------------------------------------------------------\n\nYes, thanks. Asking review from someone who has review powers.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-16T10:42:08Z"
  }, {
    "text" : "Your patch will be checked in, and once it lands on mozilla-central, it will appear on nightly the next day. :)",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-17T22:09:49Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/9e8cbc322957",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-18T03:02:59Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9e8cbc322957",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-19T01:18:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-16T09:24:05Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:20Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:20Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-14T22:26:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-15T13:06:43Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug][lang=css]"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-15T13:06:43Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "mas1ankit@gmail.com",
      "date" : "2015-02-15T14:08:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mas1ankit@gmail.com"
    }, {
      "name" : "tvaleev@gmail.com",
      "date" : "2015-02-16T09:07:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "tvaleev@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-16T09:24:05Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "tvaleev@gmail.com"
    }, {
      "name" : "tvaleev@gmail.com",
      "date" : "2015-02-16T09:59:12Z",
      "what" : "attachments.isobsolete:8564914",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-16T10:42:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T22:08:43Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T03:02:59Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T03:02:59Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=css]",
      "added" : "[good first bug][lang=css][fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:20Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:20Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=css][fixed-in-fx-team]",
      "added" : "[good first bug][lang=css]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:20Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-18 17:18:20"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:20Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-16T10:42:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564936,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-17T21:56:59Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564936,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133246,
  "cclist" : [ "jaws@mozilla.com", "mas1ankit@gmail.com", "tvaleev@gmail.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "CRASH: browser/devtools/performance/test/browser_perf-options-02.js | application crashed",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "https://treeherder.mozilla.org/logviewer.html#?job_id=42698&repo=gum\n\n4565 ERROR TEST-UNEXPECTED-TIMEOUT | browser/devtools/performance/test/browser_perf-options-02.js | application timed out after 330 seconds with no output on browser/devtools/performance/test\n4566 ERROR TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-options-02.js | application terminated with exit code 5\nPROCESS-CRASH | browser/devtools/performance/test/browser_perf-options-02.js | application crashed [@ 0x116aaf5f1]",
  "comments" : [ {
    "text" : "https://treeherder.mozilla.org/logviewer.html#?job_id=42698&repo=gum\n\n4565 ERROR TEST-UNEXPECTED-TIMEOUT | browser/devtools/performance/test/browser_perf-options-02.js | application timed out after 330 seconds with no output on browser/devtools/performance/test\n4566 ERROR TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-options-02.js | application terminated with exit code 5\nPROCESS-CRASH | browser/devtools/performance/test/browser_perf-options-02.js | application crashed [@ 0x116aaf5f1]",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-14T17:15:11Z"
  }, {
    "text" : "Being disabled in bug 1130204",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-14T18:51:57Z"
  }, {
    "text" : "Very likely fixed by bug 1137503",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:36:47Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:36:47Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:36:47Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-14T17:15:20Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815, 1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:38:55Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:43:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:43:52Z",
      "what" : "summary",
      "removed" : "CRASH: browser/devtools/performance/test/browser_perf-options-02.js",
      "added" : "CRASH: browser/devtools/performance/test/browser_perf-options-02.js | application crashed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:42Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : ""
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-19T14:41:32Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:36:47Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 12:36:47"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1133230,
  "cclist" : [ "ttromey@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Bookmarks & History",
  "summary" : "The drop marker appears below BMB_bookmarksShowAll, at the end of the menupopup",
  "reporter" : "mak77@bonardo.net",
  "assigned" : "chiragbhatia2006@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Looks like we forgot this attribute, that means it's possible to try to drag a bookmark below it (the drag indicator appears below it).\n\nThe scope of this bug is to add the attribute and check the drag indicator doesn't appear there anymore after having done that.",
  "comments" : [ {
    "text" : "Looks like we forgot this attribute, that means it's possible to try to drag a bookmark below it (the drag indicator appears below it).\n\nThe scope of this bug is to add the attribute and check the drag indicator doesn't appear there anymore after having done that.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-14T13:58:51Z"
  }, {
    "text" : "I can take this bug as my first if you could describe how to reproduce it and direct me where the code change is required.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-02-14T17:03:46Z"
  }, {
    "text" : "Could I be assigned to this issue?",
    "authour" : "wrahman0@gmail.com",
    "created" : "2015-02-14T20:41:25Z"
  }, {
    "text" : "Sorry, Chirag Bhatia posted first, so I'm going to assign this bug to him.\n\nTo reproduce the bug you can try to drag&drop a bookmark below the Show all bookmarks entry that is at the bottom of the bookmarks menu button (the dropdown at the right of the star in the navigation bar).\nIt will currently show a dropmarker there, while it shouldn't.\nThat element has id BMB_bookmarksShowAll, you can find it in browser.xul (you can search using http://mxr.mozilla.org/mozilla-central/ or https://dxr.mozilla.org/)\nThe element should grow a builder attribute with value \"end\". then the dropmarker should not appear anymore.\n\nwrahman0, if you have some experience with cpp, you could help me with bug 1067054, otherwise also bug 901952 is worth it.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-16T07:41:20Z"
  }, {
    "text" : "Created attachment 8565086\nscreenshot.jpg\n\nHi Marco, thanks for assigning it to me and helping me out with this.\n\nThat didn't seem to work.\n\nHere's what I tried:\nI edited this tag in browser.xul - https://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser.xul#944 so that the code finally looked like this:\n\n             <menuitem id=\"BMB_bookmarksShowAll\"\n                     class=\"subviewbutton panel-subview-footer\"\n                     label=\"&showAllBookmarks2.label;\"\n                     command=\"Browser:ShowAllBookmarks\"\n                     key=\"manBookmarkKb\"\n                     builder=\"end\"/>\n\nAfter compiling and running, I can still see the dropmarker (the little white arrow below the black cursor, as seen in the screenshot attached). Please let me know if I'm doing anything wrong or if I should be trying to solve this bug in another way.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-02-16T17:30:47Z"
  }, {
    "text" : "Created attachment 8565098\nscreenshotafter.jpg\n\nOk, I realized I was checking the wrong 'Show All Bookmarks' entry in the previous screenshot, so here's an updated one (this screenshot was also taken after the changes made in the above comment). Just to clarify, I think there are multiple dropmarkers, the mouse cursor changing with a white arrow below it and the subtle blue line that comes below the 'Show All Bookmarks' entry. Do we need to remove both of them or just one of them?",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-02-16T18:11:41Z"
  }, {
    "text" : "ugh, looks like the code changed with this changeset and I didn't recall: http://hg.mozilla.org/mozilla-central/diff/c175d9ca4939/browser/components/places/content/browserPlacesViews.js\n\n\nSo, builder=end doesn't seem to be useful in this case, cause the behavior is driven by the presence of \"panel-subview-footer\" class on the element.\n\nThe bug must be elsewhere, unfortunately it requires to be debugged yet (that is, I cannot give you line by line instructions until we figure out where the code fails). The code that hides the dropmarker should be this one\nhttp://mxr.mozilla.org/mozilla-central/source/browser/components/places/content/menu.xml#43\nYou can try to play with it and print out the values of the calculations done there in the browser console or in the shell using dump(). That could help us understand which of the values is returning something unexpected.\nI suspect there is something wrong with _endMarker...",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-18T13:34:16Z"
  }, {
    "text" : "Created attachment 8569953\nscreenshot3.jpg\n\nHi Marco,\n\nI tried playing around a bit with the browser.xul code and tried removing \"panel-subview-footer\" class and added the builder=end attribute to the element (as seen in code below), but it still didn't remove the dropmarker (as seen in screenshot).\n\n<menuitem id=\"BMB_bookmarksShowAll\"\n        class=\"subviewbutton\"\n        label=\"&showAllBookmarks2.label;\"\n        command=\"Browser:ShowAllBookmarks\"\n        key=\"manBookmarkKb\"\n        builder=\"end\"/>",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-02-26T16:50:17Z"
  }, {
    "text" : "yeah I think the bug (whatever it is) is in menu.xml detection, rather than in the definition of the element.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-26T17:00:46Z"
  }, {
    "text" : "Ok,\n\nI tried putting a few console.log() messages as well as dump() messages in this line http://mxr.mozilla.org/mozilla-central/source/browser/components/places/content/menu.xml#56 just before the return is called, but I'm unable to see any of my output either in the browser's JavaScript console or from the shell that I'm running (I'm running this on a Linux shell, if that matters).\n\nAm I doing something wrong, or is the code not getting called as I expect it to?",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-02-26T17:34:09Z"
  }, {
    "text" : "You might try Services.console.logStringMessage().\n\ndump should work and dump to the shell, remember you must add \\n into your messages or they could just disappear in the middle of other warnings.\nSomething like dump(\"\\nyour message\\n\\n\"); should be quite visible.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-27T14:37:56Z"
  }, {
    "text" : "Hi Marco,\n\nI tried using Services.console.logStringMessage() as well as dump() with newline characters, but I'm still unable to see any log msgs in the shell or the browser console. I guess the code within that function is not getting called. I'm guessing dragging a bookmark over the menu pop up (or items within it) triggers the function call. Or am I missing something here?",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-04T19:19:41Z"
  }, {
    "text" : "Are you in a debug build?\nI modified the method like this\n\n      <method name=\"_hideDropIndicator\">\n        <parameter name=\"aEvent\"/>\n        <body><![CDATA[\n          let target = aEvent.target;\n\n          // Don't draw the drop indicator outside of markers.\n          // The markers are hidden, since otherwise sometimes popups acquire\n          // scrollboxes on OS X, so we can't use them directly.\n          let firstChildTop = this._startMarker.nextSibling.boxObject.y;\n          let lastChildBottom = this._endMarker.previousSibling.boxObject.y +\n                                this._endMarker.previousSibling.boxObject.height;\n          let betweenMarkers = target.boxObject.y >= firstChildTop ||\n                               target.boxObject.y <= lastChildBottom;\ndump(`\\n${target} - ${betweenMarkers}\\n\\n`);\n          // Hide the dropmarker if current node is not a Places node.\n          return !(target && target._placesNode && betweenMarkers);\n        ]]></body>\n      </method>\n\nI recompiled browser (./mach build browser) and I can see the messages in my terminal when hovering (after ./mach run).\nLooks like you might have some issues with building, or you're not running what you are building...\n\nbetweenMarkers is true at the end of the menupopup, it should be false, so the calc is somehow broken. I didn't figure out where's the brokeness there, but I think we can simplify all that boxObject madness by using the DOM util Node.compareDocumentPosition()\nhttps://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\n\nThe other issue is that target is expected to always be a menuitem here, but at the very top and very bottom of the popup, due to recent styling changes, we are effectively dropping on the menupopup.\nThis could be easily fixed by adding at the beginning a:\n\n// Don't show a drop indicator when dragging over the popup.\nif (target.localName == \"menupopup\")\n  return true;\n\nBut looks like this is not needed if we properly fix betweenMarkers.\n\nSo in the end I modified the method like this:\n\n      <!-- Check if we should hide the drop indicator for the target -->\n      <method name=\"_hideDropIndicator\">\n        <parameter name=\"aEvent\"/>\n        <body><![CDATA[\n          let target = aEvent.target;\n          // Don't draw the drop indicator outside of markers or if current\n          // node is not a Places node.\n          let betweenMarkers = (this._startMarker.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_FOLLOWING) &&\n                               (this._endMarker.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_PRECEDING);\n          return !(target && target._placesNode && betweenMarkers);\n        ]]></body>\n      </method>\n\nAnd it seems to do the job. But I didn't test it very deeply, so it would be good if you could confirm the goodness of this solution and do some testing with it.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-05T09:52:11Z"
  }, {
    "text" : "Created attachment 8576133\nScreenshot.jpg\n\nHi Marco,\n\nI tried your code with the dump() method, but still couldn't get any dump msgs in my terminal.\n\nFor the record, I'm using Arch linux, bash terminal. I'm building using \"python2 ./mach build\" though I tried \"python2 ./mach build browser\" as well and it built much faster. Then I'm using \"python2 ./mach run -P\" to run the browser.\n\nI thought about what you said about me not running what I'm building, so I tried changing the \"Show All Bookmarks\" string at /browser/locales/en-US/chrome/browser/browser.dtd and that change did reflect after I rebuilt and ran it again.\n\nI then tried your 2nd code which should have solved the problem, but I still see the dropmarker.\n\nAny ideas?",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-11T18:26:09Z"
  }, {
    "text" : "there should be no need to explicitly invoke python. As well as you don't need -P (a new profile is generated automatically)\n\nI'm not sure why you cannot see the changes to menu.xml, maybe you are reusing a profile that has a xul cache, try passing -purgecaches\nCould you please attach your .mozconfig file? Just in case.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-12T08:00:40Z"
  }, {
    "text" : "I was explicitly invoking python because Arch Linux has python 3 as the default one, and mach requires python2. But I think mozconfig should have taken care of it I guess.\n\nI tried passing -purgecaches to ./mach run, but still no luck. Still seems like the code isn't being triggered.\n\nHere's the contents of my .mozconfig:\n\nmk_add_options PYTHON=/usr/bin/python2\nmk_add_options AUTOCONF=autoconf-2.13\nmk_add_options AUTOCLOBBER=1",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-12T18:13:03Z"
  }, {
    "text" : "Maybe try with a debug build\nac_add_options --disable-optimize\nac_add_options --enable-debug\n\nI'm finishing up the ideas...",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-13T16:21:44Z"
  }, {
    "text" : "Hi Marco,\n\nMy builds have been failing since yesterday after I did an \"hg pull -uv\". I even tried \"hg revert --all\", but still I keep getting this error:\n\n 0:10.64 /mnt/extgit/mozilla-central/obj-x86_64-unknown-linux-gnu/browser/components/build/tmp6Si0nj.list:\n 0:10.64     INPUT(\"nsModule.o\")\n 0:10.64     INPUT(\"../about/AboutRedirector.o\")\n 0:10.64     INPUT(\"../dirprovider/DirectoryProvider.o\")\n 0:10.64     INPUT(\"../feeds/nsFeedSniffer.o\")\n 0:10.64     INPUT(\"../shell/nsGNOMEShellService.o\")\n 0:10.64     INPUT(\"../../../memory/fallible/fallible.o\")\n 0:10.64 \n 0:10.64 ../../dist/include/js/HeapAPI.h:228: error: undefined reference to 'js::gc::AssertGCThingHasType(js::gc::Cell*, JSGCTraceKind)'\n 0:10.64 collect2: error: ld returned 1 exit status\n 0:10.65 /mnt/extgit/mozilla-central/config/rules.mk:812: recipe for target 'libbrowsercomps.so' failed\n 0:10.65 make[3]: *** [libbrowsercomps.so] Error 1\n 0:10.65 /mnt/extgit/mozilla-central/config/recurse.mk:128: recipe for target 'libs' failed\n 0:10.65 make[2]: *** [libs] Error 2\n 0:10.65 /mnt/extgit/mozilla-central/config/recurse.mk:128: recipe for target 'libs' failed\n 0:10.65 make[1]: *** [libs] Error 2\n 0:10.65 /mnt/extgit/mozilla-central/config/rules.mk:541: recipe for target 'default' failed\n 0:10.65 make: *** [default] Error 2\n\nIs this something specific to my system or are you getting this too? I searched for the error on Google but got no hits.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-17T15:42:04Z"
  }, {
    "text" : "nope, my builds are not failing for now, try to pull again and check with hg status that you don't have unexpected modifications (you can hg update -C to revert back to the current head). Did you see any merge errors?\nTry also a ./mach clobber before ./mach build\nAre you building off mozilla-central?\nYou might even ask build system maintainers in the #build channel.\nIn the worst case, you might have to clone again from scratch (use an hg bundle in such case, to do that faster).",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-17T15:54:14Z"
  }, {
    "text" : "Ok, I think ./mach clobber and another pull fixed the build for me.\n\nI tried adding the two lines that you mentioned above in my .mozconfig to make a debug build and then tried both the code variations above (the one which is supposed to show msgs in the terminal and one which is supposed to fix the dropmarker from showing up on the button), but both of them still didn't work.\n\nAny ideas?",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-17T16:54:59Z"
  }, {
    "text" : "I have no more ideas.\n\nI'd try at least to dump something from \n<handler event=\"dragover\"><![CDATA[\nat\nhttp://mxr.mozilla.org/mozilla-central/source/browser/components/places/content/menu.xml#379\n\nand see if at least this works, so we can figure if it's Linux not going through the expected path, or a real problem with the build. If you can see the dump, then you can add more dumps to figure why we don't enter the\n\nif (dropPoint.folderElt || this._hideDropIndicator(event)) {",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-18T11:33:26Z"
  }, {
    "text" : "Hi Marco,\n\nI deleted the entire local repository, and downloaded it again from mozilla central, rebuilt it and all changes started working :)\n\nI can see the dump messages and your change above in menu.xml in comment#12 made the drop marker disappear.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-23T16:01:42Z"
  }, {
    "text" : "good, looks like it was some fancy repository corruption in the end.\n\nyou can restart from comment 12, it should have most needed info to proceed.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-23T16:05:21Z"
  }, {
    "text" : "Created attachment 8581723\nbugfix.patch\n\nThe change you gave above Comment#12 worked fine on my system. The drop marker is no longer visible on the \"Show All Bookmarks\" entry.\n\nThis is the first time I'm creating a patch in mercurial, so let me know if there's anything wrong with it.",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-23T16:51:36Z"
  }, {
    "text" : "Comment on attachment 8581723\nbugfix.patch\n\nReview of attachment 8581723:\n-----------------------------------------------------------------\n\nSo, the first thing to fix, is that you must add a Commit message to the patch.\nUsually it's in the form: Bug 123456 - Description of the change. r=reviewer_nickname\n\nSo in this case could be\nBug 1133211 - The bookmarks menu dropmarker should not appear below the footer. r=mak\n\nWhen posting a patch review for review, please use the review? flag instead of the needinfo? flag.\n\n::: browser/components/places/content/menu.xml\n@@ +46,5 @@\n>            let target = aEvent.target;\n>  \n>            // Don't draw the drop indicator outside of markers.\n>            // The markers are hidden, since otherwise sometimes popups acquire\n>            // scrollboxes on OS X, so we can't use them directly.\n\nplease also update the comment, as indicated in comment 12\n\n@@ +48,5 @@\n>            // Don't draw the drop indicator outside of markers.\n>            // The markers are hidden, since otherwise sometimes popups acquire\n>            // scrollboxes on OS X, so we can't use them directly.\n> +          let betweenMarkers = (this._startMarker.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_FOLLOWING) &&\n> +                               (this._endMarker.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_PRECEDING);\n\nSince we try to keep code width as close to 80 chars as possible, you could indent this like\n\nlet betweenMarkers =\n  (this._start....) &&\n  (this._end...);",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-24T09:11:05Z"
  }, {
    "text" : "Created attachment 8583183\nbugfix2.patch\n\nHope I've done everything right this time, Marco.\n\nThanks a lot for your help and patience throughout this. Hope to work with you on another bug again some time :)",
    "authour" : "chiragbhatia2006@gmail.com",
    "created" : "2015-03-25T17:18:07Z"
  }, {
    "text" : "Comment on attachment 8583183\nbugfix2.patch\n\nReview of attachment 8583183:\n-----------------------------------------------------------------\n\nThank you, it looks good!",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-26T09:15:26Z"
  }, {
    "text" : "If you have some C knowledge, I'd appreciate help with bug 1067054. It's a little bit more complex than this, but not too hard if you know C.\nOr bug 901952 if you still look for some easy JS bug.",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-03-26T09:18:54Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/718d35643401",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-26T20:59:33Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/718d35643401",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-27T00:26:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-05T09:52:33Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T00:26:20Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T00:26:20Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-02-14T17:03:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "chiragbhatia2006@gmail.com, mak77@bonardo.net"
    }, {
      "name" : "wrahman0@gmail.com",
      "date" : "2015-02-14T20:41:25Z",
      "what" : "cc",
      "removed" : "",
      "added" : "wrahman0@gmail.com"
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-02-18T13:34:16Z",
      "what" : "summary",
      "removed" : "add builder=\"end\" attribute to BMB_bookmarksShowAll",
      "added" : "The drop marker appears below BMB_bookmarksShowAll, at the end of the menupopup"
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-05T09:52:11Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nobody@mozilla.org"
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-05T09:52:33Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "chiragbhatia2006@gmail.com"
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-26T09:13:22Z",
      "what" : "attachments.isobsolete:8581723",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-26T09:18:54Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-26T20:59:33Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-26T20:59:33Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=js]",
      "added" : "[good first bug][lang=js][fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T00:26:20Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T00:26:20Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=js][fixed-in-fx-team]",
      "added" : "[good first bug][lang=js]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T00:26:20Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-26 17:26:20"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-27T00:26:20Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-02-14T17:03:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-02-16T07:41:20Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-02-16T17:30:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-02-18T13:34:16Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-02-26T17:34:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-02-27T14:37:56Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-05T09:52:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-05T09:52:33Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(nobody@mozilla.org)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-11T18:26:09Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(chiragbhatia2006@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-12T08:00:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-12T18:13:03Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-13T16:21:44Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-17T15:42:04Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-17T15:54:14Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-17T16:54:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-18T11:33:26Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-23T16:01:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-23T16:05:21Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-23T16:51:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-24T09:11:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8581723,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-24T10:05:30Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "chiragbhatia2006@gmail.com",
      "date" : "2015-03-25T17:18:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8583183,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-03-26T09:15:26Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : 8583183,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133211,
  "cclist" : [ "chiragbhatia2006@gmail.com", "mak77@bonardo.net", "nobody@mozilla.org", "wrahman0@gmail.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "Editing SVG styles using rule view fails",
  "reporter" : "ntim.bugs@gmail.com",
  "assigned" : "ntim.bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-14T12:55:31Z"
  }, {
    "text" : "Created attachment 8566247\nPatch\n\nSimple but effective fix.\n\nPatrick, do we need tests for this ?",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-18T22:43:29Z"
  }, {
    "text" : "Comment on attachment 8566247\nPatch\n\nReview of attachment 8566247:\n-----------------------------------------------------------------\n\n::: toolkit/devtools/server/actors/styles.js\n@@ +1067,5 @@\n>  \n>        document = this.getDocument(parentStyleSheet);\n>      }\n>  \n> +    let tempElement = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"div\");\n\nPlease use the XHTML_NS const instead.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-23T08:47:27Z"
  }, {
    "text" : "Before R+'ing this, I'd like to know the steps the reproduce and what fails exactly.\nI've quickly tested a few things that seemed to work, so obviously, I'm not testing the right thing.\nAbout the test, I do think we need one :)\nBut let's see those STR first.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-23T08:48:43Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:patrick] from comment #3)\n> Before R+'ing this, I'd like to know the steps the reproduce and what fails\n> exactly.\n> I've quickly tested a few things that seemed to work, so obviously, I'm not\n> testing the right thing.\n> About the test, I do think we need one :)\n> But let's see those STR first.\n\nSTR :\n- open the inspector on an SVG document\n- inspect an element\n- try to create a style, or edit an inline style\n- non-inline styles may fail as well, but I haven't checked\n\nAR :\n- the style isn't updated (you can set the fill to red if you want an obvious indicator)\n- you get this error into the browser console : tempElement.style is undefined (or null, I don't remember)\n\nER :\n- the style should be updated",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-23T09:33:42Z"
  }, {
    "text" : "Ah thanks! I was testing on SVG elements inside an HTML document.\nI was able to reproduce the issue just now.\nSo, the patch looks fine, but I'd like a test added in /browser/devtools/styleinspector/test\nIt doesn't need to be complex, but it should at least:\n- open a SVG document\n- open the style-inspector\n- try to add an inline style in the 'element' rule\n- check that the style was applied correctly.\n\nTo check that a style change did work, you can do something like this:\n\nis((yield getComputedStyleProperty(selector, null, \"fill\")), \"red\", \"The fill was changed to red\");",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-23T10:08:03Z"
  }, {
    "text" : "Created attachment 8568025\nPatch v2\n\nNow includes a test (mainly copied from the browser_ruleview_add-property-*.js files). The test fully passes.\n\nPushed to try : https://treeherder.mozilla.org/#/jobs?repo=try&revision=23cdeb636635",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-23T18:10:16Z"
  }, {
    "text" : "Comment on attachment 8568025\nPatch v2\n\nReview of attachment 8568025:\n-----------------------------------------------------------------\n\nThat looks great. Could you just update that test comment?\nNo other remarks. Let's check this in as soon as try is green.\nThanks for fixing this!\n\n::: browser/devtools/styleinspector/test/browser_ruleview_add-property-svg.js\n@@ +5,5 @@\n> +\"use strict\";\n> +\n> +// Testing various inplace-editor behaviors in the rule-view\n> +// FIXME: To be split in several test files, and some of the inplace-editor\n> +// focus/blur/commit/revert stuff should be factored out in head.js\n\nCan you change this comment please? It needs to say what this test is about.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-23T20:13:05Z"
  }, {
    "text" : "Created attachment 8568115\nPatch v2.1\n\nThanks for the review ! Updated the comment.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-23T20:40:05Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/85f3561e6c82",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-24T23:43:55Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-18T22:19:52Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:43:55Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:43:55Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-02-17T01:01:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T09:49:42Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1133682"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-18T22:19:52Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-18T22:27:08Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1134412"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-18T22:43:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-23T18:10:16Z",
      "what" : "attachments.isobsolete:8566247",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-23T20:40:05Z",
      "what" : "attachments.isobsolete:8568025",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-24T09:42:19Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:43:55Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:43:55Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:43:55Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 15:43:55"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:43:55Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-18T22:43:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8566247,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-23T08:47:27Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8566247,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-23T18:10:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568025,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-23T20:13:05Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8568025,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-23T20:40:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568115,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133205,
  "cclist" : [ "jgriffiths@mozilla.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Tabbed Browser",
  "summary" : "stop sending referrer information when opening plain text links",
  "reporter" : "mp3geek@gmail.com",
  "assigned" : "nfroyd@mozilla.com",
  "created" : null,
  "operatingSystem" : "Windows 8.1",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "User Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\nBuild ID: 20150213193012\n\nSteps to reproduce:\n\nSince the landing of https://bugzilla.mozilla.org/show_bug.cgi?id=1118502 Plain text links are passing referrer information, and it doesn't need too. \n\n\nActual results:\n\nVisit http://www.whatismyreferer.com/\nRight click -> new tab on the whatismyreferer.com link.\nNow Right select the red text http://www.whatismyreferer.com/ into a new tab\nShows referrer information in new tab.\n\n\nExpected results:\n\nFor privacy reasons text links don't need refferer details, and shouldn't need to be passed.",
  "comments" : [ {
    "text" : "User Agent: Mozilla/5.0 (Windows NT 6.3; WOW64; rv:38.0) Gecko/20100101 Firefox/38.0\nBuild ID: 20150213193012\n\nSteps to reproduce:\n\nSince the landing of https://bugzilla.mozilla.org/show_bug.cgi?id=1118502 Plain text links are passing referrer information, and it doesn't need too. \n\n\nActual results:\n\nVisit http://www.whatismyreferer.com/\nRight click -> new tab on the whatismyreferer.com link.\nNow Right select the red text http://www.whatismyreferer.com/ into a new tab\nShows referrer information in new tab.\n\n\nExpected results:\n\nFor privacy reasons text links don't need refferer details, and shouldn't need to be passed.",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-14T12:27:35Z"
  }, {
    "text" : "Created attachment 8564520\nCurrently Firefox Nightly (pre-1118502)",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-14T12:29:32Z"
  }, {
    "text" : "Comment on attachment 8564520\nCurrently Firefox Nightly (pre-1118502)\n\nMy mistake. Wrong screenshot",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-14T12:30:41Z"
  }, {
    "text" : "Created attachment 8564523\nOld Firefox Nightly (Before 12 Feb)",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-14T12:32:20Z"
  }, {
    "text" : "Created attachment 8564524\nOld Firefox Nightly (After 12 Feb) (From Bug: 1118502)",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-14T12:33:28Z"
  }, {
    "text" : "Bug 1118502 landed on Aurora as well. mdew, can you confirm that the bug exists in Firefox Developer Edition?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-14T16:16:58Z"
  }, {
    "text" : "This is like the bug that will not die.\n\nIs this just an artifact of assuming that we have an <a> node here:\n\nhttps://hg.mozilla.org/mozilla-central/diff/430a23c74542/toolkit/modules/BrowserUtils.jsm#l1.29\n\nand we should be saying that all non-<a> nodes automatically get rel=\"noreferrer\"?  (If so, mconley++ for suggesting we split that out into its own function.)",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-14T17:19:02Z"
  }, {
    "text" : "Yes it now affects Firefox Developer Edition; Here is the bisect's\n\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/tinderbox-builds/mozilla-aurora-win32/\n/mozilla-aurora-win32/1423730449 (12-Feb-2015 13:04) GOOD\n/mozilla-aurora-win32/1423753645 (12-Feb-2015 22:32) BAD\n\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/tinderbox-builds/mozilla-central-win32/\n/mozilla-central-win32/1423753736 (12-Feb-2015 19:38) GOOD\n/mozilla-central-win32/1423781785 (13-Feb-2015 01:32) BAD",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-15T00:19:16Z"
  }, {
    "text" : "[Tracking Requested - why for this release]:\nThis is a privacy leak and a regression",
    "authour" : "bugzilla@mversen.de",
    "created" : "2015-02-15T10:43:30Z"
  }, {
    "text" : "Created attachment 8565508\ntreat null links in BrowserUtils.linkHasNoReferrer as specifying rel=\"noreferrer\"\n\nOK, so it looks like here:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/nsContextMenu.js#151\n\nwe can have a null |this.link|, while still having a non-null |this.linkURI|.\nAnd BrowserUtils.linkHasNoReferrer says that we should pass referrer\ninformation for null links:\n\nhttp://mxr.mozilla.org/mozilla-central/source/toolkit/modules/BrowserUtils.jsm#215\n\nSo this patch does the obvious thing, and just treats null links as implicitly\nspecifying rel=\"noreferrer\".\n\nBut here's the weird thing: testing this manually, I don't get referrer\ninformation passed when I do open in a new tab.  But I *do* get referrer\ninformation when I open in a new window, or even a new private window (!).\n(This is all in e10s mode, if that makes any difference.)  Do I need to be\nsending noReferrer here, too, when a |node| isn't present:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/content.js#674\n\n?",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-17T18:02:31Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #9)\n> But here's the weird thing: testing this manually, I don't get referrer\n> information passed when I do open in a new tab.  But I *do* get referrer\n> information when I open in a new window, or even a new private window (!).\n\nOK, so it looks like we need to pass information about noreferrer all the way through Services.ww.openWindow / nsWindowWatcher::OpenWindow...ugh.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-17T18:46:32Z"
  }, {
    "text" : "Ugh. Yep. The new window case. :(\n\nShould we just back out the original fix on 37 and fix this on 38?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-17T18:48:38Z"
  }, {
    "text" : "The original fix does address a regression--the window ordering thing, so unless we had a really good reason to keep the regression, I think we should just plow ahead.\n\nOn second thought, I don't think we have to fix nsWindowWatcher::OpenWindow; I think we just need to respect noreferrer here:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/utilityOverlay.js#268\n\nand here:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/utilityOverlay.js#330\n\nand possibly set noReferrer here:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/content.js#665\n\nin the null-|node| case.  (Not really sure about that last one...)\n\nFixing the above does seem to fix the new window case, and the tab case.  WDYT?",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-17T19:00:03Z"
  }, {
    "text" : "Tracking this privacy sensitive bug for 37+.",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-02-17T20:15:48Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #12)\n> The original fix does address a regression--the window ordering thing, so\n> unless we had a really good reason to keep the regression, I think we should\n> just plow ahead.\n> \n> On second thought, I don't think we have to fix nsWindowWatcher::OpenWindow;\n> I think we just need to respect noreferrer here:\n> \n> http://mxr.mozilla.org/mozilla-central/source/browser/base/content/\n> utilityOverlay.js#268\n> \n> and here:\n> \n> http://mxr.mozilla.org/mozilla-central/source/browser/base/content/\n> utilityOverlay.js#330\n> \n> and possibly set noReferrer here:\n> \n> http://mxr.mozilla.org/mozilla-central/source/browser/base/content/content.\n> js#665\n> \n> in the null-|node| case.  (Not really sure about that last one...)\n> \n\nI think erring on the side of not passing the referrer seems like a good policy.\n\n> Fixing the above does seem to fix the new window case, and the tab case. \n> WDYT?\n\nI think it sounds fine, but I think we should get another reviewer on this as well - despite my best efforts, too many defects seem to be slipping through my reviews!",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-17T20:27:02Z"
  }, {
    "text" : "Let's have Gijs also review this patch when it's ready.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-17T20:44:54Z"
  }, {
    "text" : "Comment on attachment 8565508\ntreat null links in BrowserUtils.linkHasNoReferrer as specifying rel=\"noreferrer\"\n\nI think this looks like the right idea to me.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-17T20:45:20Z"
  }, {
    "text" : "Created attachment 8565617\npart 1 - treat null links in BrowserUtils.linkHasNoReferrer as specifying rel=\"noreferrer\"\n\nIt turns out that treating null links as being OK for passing along\nreferrer information means that we now pass referrer information for\nplain text \"links\" that are opened via the context menu.  For referrer\ninformation, we should take a much more conservative approach, and\ndeclare that null links are always treated as if they had\nrel=\"noreferrer\".\n\n(I realize the above paragraph and the comment in the patch are slightly\nnon-sensical, but I think adding null checks at the callers will just\ncomplicate things too much...)",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-17T21:19:39Z"
  }, {
    "text" : "Created attachment 8565618\npart 2 - don't send referrer information when opening new windows via context menu\n\nPart 1 fixed sending referrer information when opening a plain text\n\"link\" in a new tab through the context menu.  This patch fixes the same\nproblem, but for the case of opening in a new window, since we take\nslightly different paths through |openLinkIn| for tabs vs. windows.\n\n(I'm not completely sure about the content.js change, but it seems reasonable,\ngiven the changes in part 1.)",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-17T21:20:21Z"
  }, {
    "text" : "Would this include users who right click on selected text and search on a website, the referrer wouldn't be passed here? (not sure how to test for this)",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-02-17T21:32:52Z"
  }, {
    "text" : "(In reply to mdew from comment #19)\n> Would this include users who right click on selected text and search on a\n> website, the referrer wouldn't be passed here? (not sure how to test for\n> this)\n\nThat's a good question!  I don't think these changes would affect that, but I don't know the code well enough to say for certain.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-17T22:05:56Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #20)\n> (In reply to mdew from comment #19)\n> > Would this include users who right click on selected text and search on a\n> > website, the referrer wouldn't be passed here? (not sure how to test for\n> > this)\n> \n> That's a good question!  I don't think these changes would affect that, but\n> I don't know the code well enough to say for certain.\n\nAssuming I understand things correctly, searching on selected text goes through this menu item:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser-context.inc#310\n\nwhich means that loadSearchFromContext gets invoked:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser.js#3539\n\nwhich then calls into _loadSearch:\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/browser.js#3489\n\nwhich calls openLinkIn\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/utilityOverlay.js#209\n\nbut since the openLinkIn call there doesn't provide referrerURI in its params argument, we don't pass a Referer header at all.  Before or after the changes in this bug.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-18T12:52:47Z"
  }, {
    "text" : "Are these ready for review, froydnj?",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-18T15:21:56Z"
  }, {
    "text" : "Comment on attachment 8565618\npart 2 - don't send referrer information when opening new windows via context menu\n\nYes, apparently I fail at setting review? flags.  I blame git-bz.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-18T18:35:47Z"
  }, {
    "text" : "Comment on attachment 8565617\npart 1 - treat null links in BrowserUtils.linkHasNoReferrer as specifying rel=\"noreferrer\"\n\nReview of attachment 8565617:\n-----------------------------------------------------------------\n\n::: toolkit/modules/BrowserUtils.jsm\n@@ +212,5 @@\n>     * @param linkNode The <a> element, or null.\n>     * @return a boolean indicating if linkNode has a rel=\"noreferrer\" attribute.\n>     */\n>    linkHasNoReferrer: function (linkNode) {\n> +    // A null linkNode typically means that we're checking a link that wasn't\n\nMy nitpickiness now wonders if this is \"just\" typically or really just always. AFAICT the caller in browser.js (seems to be the only one you didn't update in any way) is essentially guaranteed to have a link element. Maybe that code should assert that that's the case?",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-19T10:20:05Z"
  }, {
    "text" : "Comment on attachment 8565618\npart 2 - don't send referrer information when opening new windows via context menu\n\nReview of attachment 8565618:\n-----------------------------------------------------------------\n\nShouldn't we respect the indication of not wanting the referrer passed for \"save\" as well?\n\nI think it might be safer to, in the case of aNoReferrer, to null out aReferrerURI completely, so that we don't run into this again for other edgecases.",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-19T10:33:03Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #25)\n> Comment on attachment 8565618\n> part 2 - don't send referrer information when opening new windows via\n> context menu\n> \n> Review of attachment 8565618:\n> -----------------------------------------------------------------\n> \n> Shouldn't we respect the indication of not wanting the referrer passed for\n> \"save\" as well?\n> \n> I think it might be safer to, in the case of aNoReferrer, to null out\n> aReferrerURI completely, so that we don't run into this again for other\n> edgecases.\n\n(to be clear, this is in utilityOverlay.js)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-19T10:34:54Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #25)\n> Shouldn't we respect the indication of not wanting the referrer passed for\n> \"save\" as well?\n\nOoo, that's a good point.  I wonder why we care about the referrer getting passed for saving in the first place?\n\nLooks like we wind our way through to:\n\nhttp://mxr.mozilla.org/mozilla-central/source/embedding/components/webbrowserpersist/nsWebBrowserPersist.cpp#1255\n\nso nulling out the referrer in the save case should be safe.\n\n> I think it might be safer to, in the case of aNoReferrer, to null out\n> aReferrerURI completely, so that we don't run into this again for other\n> edgecases.\n\nHm.  Doing that got us into part of this mess; see bug 1118502.  gBrowser.loadOneTab depends on the referrer being passed to order tabs properly.  So we decided to propagate noreferrer-ness down to loadOneTab so it could still order things correctly, but suppress referrer information when necessary.  Does that change your opinion?",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-19T14:55:05Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #27)\n> (In reply to :Gijs Kruitbosch from comment #25)\n> > Shouldn't we respect the indication of not wanting the referrer passed for\n> > \"save\" as well?\n> \n> Ooo, that's a good point.  I wonder why we care about the referrer getting\n> passed for saving in the first place?\n> \n> Looks like we wind our way through to:\n> \n> http://mxr.mozilla.org/mozilla-central/source/embedding/components/\n> webbrowserpersist/nsWebBrowserPersist.cpp#1255\n> \n> so nulling out the referrer in the save case should be safe.\n\nGreat!\n\n> > I think it might be safer to, in the case of aNoReferrer, to null out\n> > aReferrerURI completely, so that we don't run into this again for other\n> > edgecases.\n> \n> Hm.  Doing that got us into part of this mess; see bug 1118502. \n> gBrowser.loadOneTab depends on the referrer being passed to order tabs\n> properly.  So we decided to propagate noreferrer-ness down to loadOneTab so\n> it could still order things correctly, but suppress referrer information\n> when necessary.  Does that change your opinion?\n\nYes! I missed that. I don't think I would have done much better than mconley here. :-\\",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-19T16:33:12Z"
  }, {
    "text" : "Comment on attachment 8565618\npart 2 - don't send referrer information when opening new windows via context menu\n\nReview of attachment 8565618:\n-----------------------------------------------------------------\n\nThis looks sane.\n\nI'm serious though - we really need tests for this stuff. There are some many variations on ways we can open and process links, it's kind of a rats nest.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-02-19T21:22:17Z"
  }, {
    "text" : "(In reply to Mike Conley (:mconley) - Needinfo me! from comment #29)\n> I'm serious though - we really need tests for this stuff. There are some\n> many variations on ways we can open and process links, it's kind of a rats\n> nest.\n\nSo I'm totally down with writing tests, if to make sure that we don't regress all this, after plumbing it all the way through everything.  But I do wonder how effective tests would have been at preventing this sequence of noreferrer bugs from happening in the first place.  Maybe the tab-ordering issue would have been caught, but I doubt most of the other things would have been.  I sure didn't realize how deep the rabbit hole went here...",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-20T01:56:12Z"
  }, {
    "text" : "Created attachment 8567165\npart 2 - don't send referrer information when opening new windows via context menu\n\nPart 1 fixed sending referrer information when opening a plain text\n\"link\" in a new tab through the context menu.  This patch fixes the same\nproblem, but for the case of opening in a new window, since we take\nslightly different paths through |openLinkIn| for tabs vs. windows.\n\nNow updated with not passing the referrer for saving links.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-20T17:22:02Z"
  }, {
    "text" : "Comment on attachment 8567165\npart 2 - don't send referrer information when opening new windows via context menu\n\nApparently git-bz really does not like it when I request review from Gijs.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-20T17:23:06Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #32)\n> Comment on attachment 8567165\n> part 2 - don't send referrer information when opening new windows via\n> context menu\n> \n> Apparently git-bz really does not like it when I request review from Gijs.\n\nI'm going to bet on the '+' in my bugmail address + URL escaping. Might be worth filing an issue with them?\n\n\n(not that I mind fewer reviews in my queue... just kidding! ;-) )\n</off-topic>",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-20T20:36:22Z"
  }, {
    "text" : "Comment on attachment 8567165\npart 2 - don't send referrer information when opening new windows via context menu\n\nReview of attachment 8567165:\n-----------------------------------------------------------------\n\n::: browser/base/content/utilityOverlay.js\n@@ +265,5 @@\n>  \n>      sa.AppendElement(wuri);\n>      sa.AppendElement(charset);\n> +    if (!aNoReferrer)\n> +      sa.AppendElement(aReferrerURI);\n\nI should have caught this in my first review, but reading http://hg.mozilla.org/mozilla-central/annotate/5f1009731a97/browser/base/content/browser.js#l1223 , it looks like we make assumptions about the order of things, so I *think* this should append null if aNoReferrer. Does that sound right?\n\nr+ with that fixed or with a justification why I'm wrong (it's happened before!)",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-20T20:40:58Z"
  }, {
    "text" : "(In reply to :Gijs Kruitbosch from comment #34)\n> ::: browser/base/content/utilityOverlay.js\n> @@ +265,5 @@\n> >  \n> >      sa.AppendElement(wuri);\n> >      sa.AppendElement(charset);\n> > +    if (!aNoReferrer)\n> > +      sa.AppendElement(aReferrerURI);\n> \n> I should have caught this in my first review, but reading\n> http://hg.mozilla.org/mozilla-central/annotate/5f1009731a97/browser/base/\n> content/browser.js#l1223 , it looks like we make assumptions about the order\n> of things, so I *think* this should append null if aNoReferrer. Does that\n> sound right?\n\nGood catch, that sounds plausible.  I am a little frightened that nothing complained:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=4dfe458ed3d4\n\nbut...",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-23T15:39:31Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #35)\n> I am a little frightened that nothing\n> complained:\n> \n> https://treeherder.mozilla.org/#/jobs?repo=try&revision=4dfe458ed3d4\n> \n> but...\n\nYeah, reasonsWeShouldReallyWriteTestsHere++...",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-02-23T15:44:39Z"
  }, {
    "text" : "(In reply to mdew from comment #0)\n> Visit http://www.whatismyreferer.com/\n> Right click -> new tab on the whatismyreferer.com link.\n> Now Right select the red text http://www.whatismyreferer.com/ into a new tab\n> Shows referrer information in new tab.\n\n> Expected results:\n> \n> For privacy reasons text links don't need refferer details, and shouldn't\n> need to be passed.\n\nI'm not really sure I understand why this is considered a bug. I don't have a particular objection to defaulting to not sending a referrer, but it's a change in behavior that's entirely unrelated to our rel=noreferrer support, right?",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-23T19:07:28Z"
  }, {
    "text" : "It's also, as far as I can tell, not actually a regression.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-23T19:07:49Z"
  }, {
    "text" : "(In reply to :Gavin Sharp [email: gavin@gavinsharp.com] from comment #38)\n> It's also, as far as I can tell, not actually a regression.\n\nIt is not a regression from release, but I believe it is a regression from 37...or possibly some versions of 38, I forget what the exact versions I tested were.",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-23T21:24:33Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/mozilla-inbound/rev/9f0a2ebf81a4\nremote:   https://hg.mozilla.org/integration/mozilla-inbound/rev/a2cf62a366f7",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-24T17:45:21Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9f0a2ebf81a4\nhttps://hg.mozilla.org/mozilla-central/rev/a2cf62a366f7",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-24T23:22:42Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #39)\n> It is not a regression from release, but I believe it is a regression from\n> 37...or possibly some versions of 38, I forget what the exact versions I\n> tested were.\n\nCan you explain why that is the case? When this feature was implemented it passed a referrer, as far as I can tell (https://hg.mozilla.org/mozilla-central/rev/921c0a30c2f3#l2.56). I don't see why that behavior would have changed until now.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-25T01:12:28Z"
  }, {
    "text" : "(In reply to :Gavin Sharp [email: gavin@gavinsharp.com] from comment #42)\n> (In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #39)\n> > It is not a regression from release, but I believe it is a regression from\n> > 37...or possibly some versions of 38, I forget what the exact versions I\n> > tested were.\n> \n> Can you explain why that is the case? When this feature was implemented it\n> passed a referrer, as far as I can tell\n> (https://hg.mozilla.org/mozilla-central/rev/921c0a30c2f3#l2.56). I don't see\n> why that behavior would have changed until now.\n\nMy money is on the behavior fixed by https://bugzilla.mozilla.org/attachment.cgi?id=8560608, since that fix ensured that we passed a content URI, rather than a chrome URI, as the referrer.  (We were accidentally passing a chrome URI as referrer thanks to bug 1031264.)  I think something must have been sanitizing the referrer by rejecting chrome URIs, which meant that plain text links were effectively being treated as rel=noreferrer.  Does that seem plausible?",
    "authour" : "nfroyd@mozilla.com",
    "created" : "2015-02-25T14:45:11Z"
  }, {
    "text" : "(In reply to Nathan Froyd [:froydnj] [:nfroyd] from comment #43)\n> My money is on the behavior fixed by\n> https://bugzilla.mozilla.org/attachment.cgi?id=8560608\n\nThat behavior was only present for approximately one cycle, while 37 was on trunk/aurora (introduced by bug 1031264, fixed by bug 1118502).\n\nIf I were to summarize what happened here, I would say:\n- the \"open plain text link\" feature has sent a referrer header since its introduction in Firefox 4 (bug 454518)\n- in the Firefox 37 cycle we temporarily introduced buggy behavior that caused it to not send a referrer (via bug 1031264)\n- we then fixed that buggy behavior in bug 1118502, causing us to send a referrer again\n- mdew noticed the fixing of the buggy behavior, and filed this bug suggesting that this reversion to the behavior we've had since Firefox 4 was itself a newly-introduced bug.\n\nIt's fine to suggest we should change whether we send the referrer for these links, but it's misleading to call it a regression fix rather than an intentional change in behavior.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-02-26T18:36:46Z"
  }, {
    "text" : "Firefox 37 is marked as affected but from comments 42-44 I'm unsure if that is correct. Does this fix need to be uplifted to 37?\n\nni Gavin as Nathan is away.",
    "authour" : "lmandel@mozilla.com",
    "created" : "2015-03-01T01:08:23Z"
  }, {
    "text" : "(In reply to :Gavin Sharp [email: gavin@gavinsharp.com] from comment #44)\n> - mdew noticed the fixing of the buggy behavior, and filed this bug\n> suggesting that this reversion to the behavior we've had since Firefox 4 was\n> itself a newly-introduced bug.\n> \n> It's fine to suggest we should change whether we send the referrer for these\n> links, but it's misleading to call it a regression fix rather than an\n> intentional change in behavior.\n\nSuggestion during the development of 1031264 https://bugzilla.mozilla.org/show_bug.cgi?id=1031264#c4 (when I first brought up the issue regarding referrer information being passed, and when 1031264 was committed the plan text referrer seemed to be fixed)\n\nSo its not a regression from a previous Firefox version, but a regression from another Firefox Bug (1118502).",
    "authour" : "mp3geek@gmail.com",
    "created" : "2015-03-01T01:22:06Z"
  }, {
    "text" : "It's not a \"regression\" at all, per comment 44.\n\nThis is an intentional behavior change that we are introducing in Firefox 39. We don't need to track it for earlier releases.",
    "authour" : "gavin.sharp@gmail.com",
    "created" : "2015-03-04T18:46:44Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:22:42Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:22:42Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mp3geek@gmail.com",
      "date" : "2015-02-14T12:30:41Z",
      "what" : "attachments.isobsolete:8564520",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-14T15:36:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1118502"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-14T16:08:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com, nfroyd@mozilla.com"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-14T16:16:58Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mp3geek@gmail.com"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugzilla@mversen.de"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "Tabbed Browser"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "bugzilla@mversen.de",
      "date" : "2015-02-15T10:43:30Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-17T20:15:48Z",
      "what" : "cf_status_firefox35",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-17T20:15:48Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-17T20:15:48Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "---",
      "added" : "+"
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-02-17T20:15:48Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T20:44:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-17T21:19:39Z",
      "what" : "attachments.isobsolete:8565508",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-20T17:22:02Z",
      "what" : "attachments.isobsolete:8565618",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-23T19:07:28Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gavin.sharp@gmail.com"
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-24T17:45:21Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "nfroyd@mozilla.com"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:22:42Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:22:42Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 15:22:42"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:22:42Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-26T18:36:46Z",
      "what" : "summary",
      "removed" : "Referrer Information is being passed in plain text links",
      "added" : "stop sending referrer information when opening plain text links"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_status_firefox35",
      "removed" : "unaffected",
      "added" : "---"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_status_firefox36",
      "removed" : "unaffected",
      "added" : "---"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_tracking_firefox37",
      "removed" : "+",
      "added" : "---"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "---"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_tracking_firefox38",
      "removed" : "+",
      "added" : "---"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "---"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "cf_status_firefox39",
      "removed" : "fixed",
      "added" : "---"
    } ],
    "flagEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-14T16:16:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mp3geek@gmail.com",
      "date" : "2015-02-15T00:19:16Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mp3geek@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-17T18:02:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565508,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T18:48:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-17T19:00:03Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(nfroyd@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T20:27:02Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-17T20:45:20Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8565508,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-18T15:21:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-18T18:35:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565617,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-18T18:35:47Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(nfroyd@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-18T18:35:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8565618,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-19T10:20:05Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8565617,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-19T10:33:03Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8565618,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-19T14:55:05Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-19T16:33:12Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-19T21:19:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8565617,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-19T21:22:17Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8565618,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-20T17:23:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8567165,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-20T20:40:58Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8567165,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-24T17:45:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "nfroyd@mozilla.com",
      "date" : "2015-02-25T14:45:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-26T18:36:46Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "lmandel@mozilla.com",
      "date" : "2015-03-01T01:08:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-03-04T18:46:44Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gavin.sharp@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133201,
  "cclist" : [ "bugzilla@mversen.de", "gavin.sharp@gmail.com", "gijskruitbosch+bugs@gmail.com", "mconley@mozilla.com", "mp3geek@gmail.com", "nfroyd@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "CRASH: browser/devtools/performance/test/browser_perf-overview-selection-03.js | application crashed",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "https://treeherder.mozilla.org/logviewer.html#?job_id=42266&repo=gum\n\n4805 ERROR TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-overview-selection-03.js | application terminated with exit code 11\nPROCESS-CRASH | browser/devtools/performance/test/browser_perf-overview-selection-03.js | application crashed [@ 0x35eacd87]\nTEST-UNEXPECTED-FAIL | leakcheck | default process: missing output line for total leaks!",
  "comments" : [ {
    "text" : "https://treeherder.mozilla.org/logviewer.html#?job_id=42266&repo=gum\n\n4805 ERROR TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-overview-selection-03.js | application terminated with exit code 11\nPROCESS-CRASH | browser/devtools/performance/test/browser_perf-overview-selection-03.js | application crashed [@ 0x35eacd87]\nTEST-UNEXPECTED-FAIL | leakcheck | default process: missing output line for total leaks!",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-14T00:06:19Z"
  }, {
    "text" : "Pinging Tom on this",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-14T00:06:40Z"
  }, {
    "text" : "I looked at the stack trace and then dug through bugzilla a bit.\nI think this is an instance of bug 858032 or one of the related bugs.\nNothing in the various stack traces seems specific to any of the devtools-related code.",
    "authour" : "ttromey@mozilla.com",
    "created" : "2015-02-17T16:21:51Z"
  }, {
    "text" : "Very likely fixed by bug 1137503",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T20:36:42Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:36:42Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:36:42Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-14T00:06:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-14T00:06:40Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815, 1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:38:55Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:38Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T20:36:42Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 12:36:42"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-14T00:06:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-02-17T16:21:51Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(ttromey@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133129,
  "cclist" : [ "ttromey@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Untriaged",
  "summary" : "Firefox service icon gets stuck in pressed state",
  "reporter" : "nick@getpocket.com",
  "assigned" : "mixedpuppy@gmail.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/600.3.18 (KHTML, like Gecko) Version/8.0.3 Safari/600.3.18\n\nSteps to reproduce:\n\n1. User clicks the Pocket FF social service toolbar button. So far so good, flips to the markedIcon state.\n2. Now, as the FF service popup is open, the user jumps to another tab.\n\n\n\n\nActual results:\n\nNow the toolbar icon switches to a â€œpressedâ€� state and gets stuck in the unmarkedIcon image. Jump between tags, navigate to new tabs, whatever, you are still in that unmarkedIcon image but in a pressed state.\n\nYou can â€œunstickâ€� the icon by clicking on the toolbar icon, allowing the FF social service popup to open and auto close; then youâ€™re back to the unmarkedImage as expected, but not in this strange pressed state.\n\n\nExpected results:\n\nJumping to a new tab doesn't \"freeze\" the FF service icon in this state; no matter what tab action I take, when the FF social service finishes up, the icon should return to its simple unmarked state.",
  "comments" : [ {
    "text" : "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_2) AppleWebKit/600.3.18 (KHTML, like Gecko) Version/8.0.3 Safari/600.3.18\n\nSteps to reproduce:\n\n1. User clicks the Pocket FF social service toolbar button. So far so good, flips to the markedIcon state.\n2. Now, as the FF service popup is open, the user jumps to another tab.\n\n\n\n\nActual results:\n\nNow the toolbar icon switches to a â€œpressedâ€� state and gets stuck in the unmarkedIcon image. Jump between tags, navigate to new tabs, whatever, you are still in that unmarkedIcon image but in a pressed state.\n\nYou can â€œunstickâ€� the icon by clicking on the toolbar icon, allowing the FF social service popup to open and auto close; then youâ€™re back to the unmarkedImage as expected, but not in this strange pressed state.\n\n\nExpected results:\n\nJumping to a new tab doesn't \"freeze\" the FF service icon in this state; no matter what tab action I take, when the FF social service finishes up, the icon should return to its simple unmarked state.",
    "authour" : "nick@getpocket.com",
    "created" : "2015-02-13T23:58:00Z"
  }, {
    "text" : "Created attachment 8574974\nfix button state on tab switch\n\nnote on STR...using keyboard to switch tabs did not reproduce the bug, only using mouse clicks to switch tabs did.\n\nApparently hiding the panel xul interferes with the button state or css somehow.  This isn't necessary, and is a holdover from pre-cui code.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=0b14869c129e",
    "authour" : "mixedpuppy@gmail.com",
    "created" : "2015-03-10T01:09:45Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/ecca2e99bac5",
    "authour" : "mixedpuppy@gmail.com",
    "created" : "2015-03-10T15:34:41Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/ecca2e99bac5",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-10T22:35:30Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:30Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:30Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "nick@getpocket.com",
      "date" : "2015-02-13T23:58:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mixedpuppy@gmail.com"
    }, {
      "name" : "mixedpuppy@gmail.com",
      "date" : "2015-03-10T01:09:45Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "mixedpuppy@gmail.com",
      "date" : "2015-03-10T01:09:45Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "mixedpuppy@gmail.com"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:30Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:30Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-10 15:35:30"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-10T22:35:30Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "mixedpuppy@gmail.com",
      "date" : "2015-03-10T01:09:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574974,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-10T11:07:20Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8574974,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133123,
  "cclist" : [ "gijskruitbosch+bugs@gmail.com", "mixedpuppy@gmail.com" ]
}, {
  "component" : "Theme",
  "summary" : "Clean up tabbrowser/crashed.svg",
  "reporter" : "ntim.bugs@gmail.com",
  "assigned" : "ntim.bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-13T21:06:22Z"
  }, {
    "text" : "Created attachment 8564354\nPatch",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-13T21:35:41Z"
  }, {
    "text" : "Comment on attachment 8564354\nPatch\n\n>+<svg xmlns=\"http://www.w3.org/2000/svg\"\n>+     xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n>+     x=\"0\" y=\"0\"\n\nx and y attributes do nothing on outer SVG elements, you'd be best omitting them altogether.\n\n>+     viewBox=\"22 22 16 16\"\n>+     enable-background=\"new 22 22 16 16\"\n\nYou don't need enable-background either (its obsolete in SVG and support was never implemented in gecko)\n\n>+     xml:space=\"preserve\">\n\nOr xml:space as there's no text in the file.\n\n>+  <linearGradient id=\"gradient\" gradientUnits=\"userSpaceOnUse\" x1=\"30\" y1=\"23\" x2=\"30\" y2=\"37\">\n>+    <stop offset=\"0\" style=\"stop-color: #e63b2e\"/>\n>+    <stop offset=\"1\" style=\"stop-color: #c33931\"/>\n>+  </linearGradient>\n>+  <circle fill=\"url(#gradient)\" cx=\"30\" cy=\"30\" r=\"7\"/>\n>+  <g>\n>+    <path fill=\"#fff\" d=\"M31.03,33.304c0,0.6-0.479,1.092-1.091,1.092c-0.6,0-1.079-0.492-1.079-1.092 c0-0.588,0.479-1.079,1.079-1.079C30.551,32.225,31.03,32.716,31.03,33.304z M29.171,31.133l-0.24-5.253h2.015l-0.24,5.253H29.171z\"/>\n>+  </g>\n> </svg>",
    "authour" : "longsonr@gmail.com",
    "created" : "2015-02-13T21:39:29Z"
  }, {
    "text" : "And the <g> round the path does nothing and so you could remove that too.",
    "authour" : "longsonr@gmail.com",
    "created" : "2015-02-13T21:40:31Z"
  }, {
    "text" : "Created attachment 8564526\nPatch v2\n\nThanks Robert ! Addressed your comments.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-14T12:53:16Z"
  }, {
    "text" : "Created attachment 8564590\nPatch v2.1\n\nChanged reviewer as :dao is away.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-14T20:11:55Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/93f2c43f45e0",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T09:48:11Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/93f2c43f45e0",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:54:20Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:20Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:20Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T21:35:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dao@mozilla.com"
    }, {
      "name" : "longsonr@gmail.com",
      "date" : "2015-02-13T21:39:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "longsonr@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T12:53:16Z",
      "what" : "attachments.isobsolete:8564354",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T20:11:55Z",
      "what" : "attachments.isobsolete:8564526",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T20:11:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-15T22:28:42Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:48:11Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:48:11Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:20Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:20Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:20Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:54:20"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:20Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T21:35:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564354,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T12:53:16Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564354,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T12:53:16Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564526,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T20:11:55Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dao@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564526,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T20:11:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-02-15T21:22:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8564590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133060,
  "cclist" : [ "dao+bmo@mozilla.com", "gijskruitbosch+bugs@gmail.com", "longsonr@gmail.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "Clicked OptionsView widgets should appear highlighted when open",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "In new performance tool, clicking the options widget should highlight the button (blue) when clicked/opened.\n\nEnhancement for OptionsView.",
  "comments" : [ {
    "text" : "In new performance tool, clicking the options widget should highlight the button (blue) when clicked/opened.\n\nEnhancement for OptionsView.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-13T20:58:52Z"
  }, {
    "text" : "Created attachment 8568035\n1133058-optionsview.patch\n\n https://treeherder.mozilla.org/#/jobs?repo=try&revision=448294200a39",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-23T18:31:31Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/804aa5ead070",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-24T11:12:38Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/804aa5ead070",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-24T23:44:09Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:59:43Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:09Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:09Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:59:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:59:43Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T21:01:20Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T18:31:31Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T23:59:14Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:12:38Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:12:38Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:09Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:09Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:09Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 15:44:09"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:09Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T18:31:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568035,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-23T19:42:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8568035,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133058,
  "cclist" : [ "ntim.bugs@gmail.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Console",
  "summary" : "Intermittent browser_webconsole_bug_632817.js | Test timed out",
  "reporter" : "ryanvm@gmail.com",
  "assigned" : "sjakthol@outlook.com",
  "created" : null,
  "operatingSystem" : "Linux",
  "hardware" : "x86_64",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "10:55:02 INFO - 5798 INFO TEST-START | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js\n10:55:47 INFO - Xlib: extension \"RANDR\" missing on display \":0\".\n10:55:49 INFO - TEST-INFO | screentopng: exit 0\n10:55:49 INFO - 5799 INFO checking window state\n10:55:49 INFO - 5800 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Page load was logged\n10:55:49 INFO - 5801 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Logged network entry is page load\n10:55:49 INFO - 5802 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Method is correct\n10:55:49 INFO - 5803 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Page load was logged again\n10:55:49 INFO - 5804 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | testXhrGet() was logged\n10:55:49 INFO - 5805 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Method is correct\n10:55:49 INFO - 5806 INFO Console message: [JavaScript Warning: \"Loading mixed (insecure) active content \"http://example.com/\" on a secure page\" {file: \"https://example.com/browser/browser/devtools/webconsole/test/test-network-request.html\" line: 9}]\n10:55:49 INFO - 5807 INFO Console message: [JavaScript Warning: \"Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://example.com/. (Reason: CORS header 'Access-Control-Allow-Origin' missing).\"]\n10:55:49 INFO - 5808 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS\n10:55:49 INFO - 5809 INFO MEMORY STAT vsize after test: 1147412480\n10:55:49 INFO - 5810 INFO MEMORY STAT residentFast after test: 239316992\n10:55:49 INFO - 5811 INFO MEMORY STAT heapAllocated after test: 89810016\n10:55:49 INFO - 5812 INFO TEST-OK | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | took 45295ms",
  "comments" : [ {
    "text" : "10:55:02 INFO - 5798 INFO TEST-START | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js\n10:55:47 INFO - Xlib: extension \"RANDR\" missing on display \":0\".\n10:55:49 INFO - TEST-INFO | screentopng: exit 0\n10:55:49 INFO - 5799 INFO checking window state\n10:55:49 INFO - 5800 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Page load was logged\n10:55:49 INFO - 5801 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Logged network entry is page load\n10:55:49 INFO - 5802 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Method is correct\n10:55:49 INFO - 5803 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Page load was logged again\n10:55:49 INFO - 5804 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | testXhrGet() was logged\n10:55:49 INFO - 5805 INFO TEST-PASS | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Method is correct\n10:55:49 INFO - 5806 INFO Console message: [JavaScript Warning: \"Loading mixed (insecure) active content \"http://example.com/\" on a secure page\" {file: \"https://example.com/browser/browser/devtools/webconsole/test/test-network-request.html\" line: 9}]\n10:55:49 INFO - 5807 INFO Console message: [JavaScript Warning: \"Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at http://example.com/. (Reason: CORS header 'Access-Control-Allow-Origin' missing).\"]\n10:55:49 INFO - 5808 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS\n10:55:49 INFO - 5809 INFO MEMORY STAT vsize after test: 1147412480\n10:55:49 INFO - 5810 INFO MEMORY STAT residentFast after test: 239316992\n10:55:49 INFO - 5811 INFO MEMORY STAT heapAllocated after test: 89810016\n10:55:49 INFO - 5812 INFO TEST-OK | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | took 45295ms",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-13T20:03:01Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1033229\nrepository: mozilla-central\nstart_time: 2015-02-13T10:10:41\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-961\nbuildname: Ubuntu VM 12.04 x64 mozilla-central opt test mochitest-devtools-chrome\nrevision: aa339e258ccd\n\n5808 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T20:03:10Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1996647\nrepository: fx-team\nstart_time: 2015-02-13T15:14:19\nwho: wkocher[at]mozilla[dot]com\nmachine: t-snow-r4-0016\nbuildname: Rev4 MacOSX Snow Leopard 10.6 fx-team opt test mochitest-devtools-chrome\nrevision: 2439c229cace\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-14T00:12:08Z"
  }, {
    "text" : "Created attachment 8564481\nwebconsole-bug-632817-timeout.patch\n\nHere's a patch that should fix this timeout. I faced a similar issue when working on bug 932179 in which the event timings were not always sent by the server if a cross-origin request was blocked (see bug 932179 comment 31).\n\nThe logs indicate that a request from https://example.com to http://example.com was blocked due to missing CORS headers. This test relies on lastFinishedRequest callback to wait for completion and as can be seen from [1] it's only called after timings have arrived.\n\nThis patch changes the cross-origin request URI to one that allows cross-origin requests with \"Access-Control-Allow-Origin: *\" header.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=377e035d3a0c\n\n[1] https://dxr.mozilla.org/mozilla-central/source/browser/devtools/webconsole/webconsole.js#1838-1842",
    "authour" : "sjakthol@outlook.com",
    "created" : "2015-02-14T06:56:03Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6630867\nrepository: mozilla-inbound\nstart_time: 2015-02-14T09:37:56\nwho: nigelbabu[at]gmail[dot]com\nmachine: t-snow-r4-0120\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: f1348faedf2f\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T06:09:31Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6619850\nrepository: mozilla-inbound\nstart_time: 2015-02-13T20:37:43\nwho: nigelbabu[at]gmail[dot]com\nmachine: t-snow-r4-0145\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: 4158bdaf7894\n\n5803 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T06:18:12Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=b2g-inbound&job_id=1356546\nrepository: b2g-inbound\nstart_time: 2015-02-15T22:22:52\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-447\nbuildname: Ubuntu VM 12.04 x64 b2g-inbound pgo test mochitest-devtools-chrome\nrevision: 011be070f5ed\n\n5803 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T08:35:17Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6645117\nrepository: mozilla-inbound\nstart_time: 2015-02-16T03:33:03\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-1103\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound pgo test mochitest-devtools-chrome\nrevision: 15dea2b0929b\n\n5807 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T12:48:16Z"
  }, {
    "text" : "Comment on attachment 8564481\nwebconsole-bug-632817-timeout.patch\n\nReview of attachment 8564481:\n-----------------------------------------------------------------\n\nLooks good.",
    "authour" : "past@mozilla.com",
    "created" : "2015-02-16T14:10:05Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6656805\nrepository: mozilla-inbound\nstart_time: 2015-02-16T13:33:53\nwho: nigelbabu[at]gmail[dot]com\nmachine: tst-linux64-spot-560\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: f57201a6482d\n\n5807 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T04:28:09Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6655981\nrepository: mozilla-inbound\nstart_time: 2015-02-16T11:40:56\nwho: nigelbabu[at]gmail[dot]com\nmachine: t-snow-r4-0101\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: 8ea3cf306727\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T04:38:29Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6670168\nrepository: mozilla-inbound\nstart_time: 2015-02-16T22:23:52\nwho: tomcat[at]mozilla[dot]com\nmachine: t-snow-r4-0071\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: a3d40211baa5\n\n5813 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T08:55:07Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6669513\nrepository: mozilla-inbound\nstart_time: 2015-02-16T21:55:56\nwho: tomcat[at]mozilla[dot]com\nmachine: t-snow-r4-0035\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: 3cac512f3ec5\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T08:55:32Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=try&job_id=4991724\nrepository: try\nstart_time: 2015-02-17T04:54:10\nwho: jcoppeard[at]mozilla[dot]com\nmachine: t-snow-r4-0047\nbuildname: Rev4 MacOSX Snow Leopard 10.6 try opt test mochitest-devtools-chrome\nrevision: 5a7dad975345\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T14:09:14Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6681216\nrepository: mozilla-inbound\nstart_time: 2015-02-17T07:30:58\nwho: philringnalda[at]gmail[dot]com\nmachine: t-snow-r4-0145\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: 934ed2f5f21f\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T16:20:36Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6689816\nrepository: mozilla-inbound\nstart_time: 2015-02-17T11:43:32\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: t-snow-r4-0127\nbuildname: Rev4 MacOSX Snow Leopard 10.6 mozilla-inbound opt test mochitest-devtools-chrome\nrevision: 5de196d11522\n\n5804 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T21:29:00Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/9d7cc5a9570f\n\n<3",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-17T21:34:43Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2011105\nrepository: fx-team\nstart_time: 2015-02-17T14:00:53\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-364\nbuildname: Ubuntu VM 12.04 fx-team pgo test mochitest-devtools-chrome\nrevision: b6c56fab513d\n\n5817 INFO TEST-UNEXPECTED-FAIL | browser/devtools/webconsole/test/browser_webconsole_bug_632817.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-17T22:52:54Z"
  }, {
    "text" : "(In reply to TBPL Robot from comment #17)\n\nWas from a push prior to comment 16.",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-17T22:53:18Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9d7cc5a9570f",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-18T02:25:16Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-14T06:56:03Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T02:25:16Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T02:25:16Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-14T06:56:03Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-14T06:56:03Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "sjakthol@outlook.com"
    }, {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-16T14:35:27Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T21:34:43Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T21:34:43Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T02:25:16Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T02:25:16Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T02:25:16Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-17 18:25:16"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T02:25:16Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:08:23Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "wontfix"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:08:23Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "affected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:08:23Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "wontfix"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:10:28Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1124246"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:10:28Z",
      "what" : "cf_status_firefox36",
      "removed" : "wontfix",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:10:28Z",
      "what" : "cf_status_firefox37",
      "removed" : "affected",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T14:10:28Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "wontfix",
      "added" : "unaffected"
    } ],
    "flagEvents" : [ {
      "name" : "sjakthol@outlook.com",
      "date" : "2015-02-14T06:56:03Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564481,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-02-16T14:10:05Z",
      "what" : "flagtypes.name",
      "removed" : "review?(past@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564481,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T21:34:43Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133030,
  "cclist" : [ "past@mozilla.com" ]
}, {
  "component" : "Theme",
  "summary" : "\"I'll be careful\" button shouldn't be centered in about:config",
  "reporter" : "ntim.bugs@gmail.com",
  "assigned" : "a.ahmed1026@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "",
  "comments" : [ {
    "text" : "",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-13T19:12:43Z"
  }, {
    "text" : "To fix this bug, you need to remove pack=\"center\" from [0], and add a button-container class to that hbox.\n\n[0] : https://dxr.mozilla.org/mozilla-central/source/toolkit/components/viewconfig/content/config.xul?from=config.xul&case=true#63",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-14T18:45:05Z"
  }, {
    "text" : "Created attachment 8564641\nrev 1 - align warning button to left",
    "authour" : "a.ahmed1026@gmail.com",
    "created" : "2015-02-15T02:34:52Z"
  }, {
    "text" : "Comment on attachment 8564641\nrev 1 - align warning button to left\n\nReview of attachment 8564641:\n-----------------------------------------------------------------\n\nThis looks close, but it would be nice if the left-side of the button lined with up the text above it. See http://screencast.com/t/yMmgfiorS for a screenshot from Windows 8.1.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-16T06:07:03Z"
  }, {
    "text" : "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #3)\n> Comment on attachment 8564641\n> rev 1 - align warning button to left\n> \n> Review of attachment 8564641:\n> -----------------------------------------------------------------\n> \n> This looks close, but it would be nice if the left-side of the button lined\n> with up the text above it. See http://screencast.com/t/yMmgfiorS for a\n> screenshot from Windows 8.1.\n\nThat's bug 1133246 which affects all pages using info-pages.css",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-16T08:19:34Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/371308353f46",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-18T03:03:04Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/371308353f46",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-19T01:18:24Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-15T02:34:52Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:24Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:24Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-14T13:55:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T18:45:05Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug][lang=xul]"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T18:45:05Z",
      "what" : "bug_mentor",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-15T02:34:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-15T02:34:52Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "a.ahmed1026@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-17T22:08:20Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T03:03:04Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-18T03:03:04Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=xul]",
      "added" : "[good first bug][lang=xul][fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:24Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:24Z",
      "what" : "whiteboard",
      "removed" : "[good first bug][lang=xul][fixed-in-fx-team]",
      "added" : "[good first bug][lang=xul]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:24Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-18 17:18:24"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-19T01:18:24Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-04-20T15:38:23Z",
      "what" : "cf_qa_whiteboard",
      "removed" : "",
      "added" : "[good first verify]"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-04-20T15:38:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    } ],
    "flagEvents" : [ {
      "name" : "a.ahmed1026@gmail.com",
      "date" : "2015-02-15T02:34:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564641,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-16T06:07:03Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564641,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-17T18:55:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564641,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-17T21:57:53Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564641,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133002,
  "cclist" : [ "florin.mezei@softvisioninc.eu", "jaws@mozilla.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "General",
  "summary" : "Expose the protected-mode toggle in the Firefox UI",
  "reporter" : "benjamin@smedbergs.us",
  "assigned" : "benjamin@smedbergs.us",
  "created" : null,
  "operatingSystem" : "Windows 7",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8564285\nFlash-protectedmode-UI.png\n\nCurrently we have a hook which disabled Flash protected mode, but no UI to expose this to users.\n\nSince turning protected mode off for all users may be a security risk we are unwilling to bear, we are considering offering users a way to opt into this option if/when they experience a Flash hang. It may also be a useful option for users with screen readers or other accessibility tools, since those often cause Flash issues.\n\nOnce we do that, we still want to have a UI-exposed way to reverse that decision. That is what this bug tracks.\n\nI am looking for a fast turnaround for this, since it may be something we will want to uplift into 37.",
  "comments" : [ {
    "text" : "Created attachment 8564285\nFlash-protectedmode-UI.png\n\nCurrently we have a hook which disabled Flash protected mode, but no UI to expose this to users.\n\nSince turning protected mode off for all users may be a security risk we are unwilling to bear, we are considering offering users a way to opt into this option if/when they experience a Flash hang. It may also be a useful option for users with screen readers or other accessibility tools, since those often cause Flash issues.\n\nOnce we do that, we still want to have a UI-exposed way to reverse that decision. That is what this bug tracks.\n\nI am looking for a fast turnaround for this, since it may be something we will want to uplift into 37.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-02-13T19:06:06Z"
  }, {
    "text" : "Created attachment 8564313\nbug1133000-flash-toggle.patch\n\nMatt, this is intended as a code review while UX review of the strings is still pending.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-02-13T19:56:48Z"
  }, {
    "text" : "Comment on attachment 8564313\nbug1133000-flash-toggle.patch\n\nReview of attachment 8564313:\n-----------------------------------------------------------------\n\nr=me but I'm not that familiar with this code so you may want Blair to also take a look.\n\n::: toolkit/mozapps/extensions/internal/PluginProvider.jsm\n@@ +89,5 @@\n> +        // Protected mode is win32-only, not win64\n> +        let showProtectedModePref = plugin.isFlashPlugin &&\n> +          Services.appinfo.XPCOMABI == \"x86-msvc\";\n> +        aSubject.getElementById(\"pluginDisableProtectedMode\")\n> +          .setAttribute(\"collapsed\", showProtectedModePref ? \"\" : \"true\");\n\nI initially wondered if this could cause unintentionally changing the pref while viewing a non-Flash plugin and having the pref flipped from other code. I thought that maybe we save the pref upon navigation but it seems like the pref changes live with the checkbox so this shouldn't be a problem.\n\nNit: I'm unsure if this is the preferred indentation style for the module as I don't see another line that had to do similar wrapping and I'm new to the code.\n\n@@ +494,5 @@\n>      }\n>      return permissions;\n>    });\n> +\n> +  this.isFlashPlugin = false;\n\nI'm fine with this custom property if Blair is.",
    "authour" : "MattN+bmo@mozilla.com",
    "created" : "2015-02-13T22:43:07Z"
  }, {
    "text" : "Comment on attachment 8564313\nbug1133000-flash-toggle.patch\n\nReview of attachment 8564313:\n-----------------------------------------------------------------\n\nSadly, I don't think we have a reliable way to test this.... normally we'd mock nsPluginHost to test PluginProvider, but we can't do that when we need a browser-chrome test. And normally for browser-chrome tests we use the test-plugin, which doesn't help here :\\\n\n::: toolkit/mozapps/extensions/content/pluginPrefs.xul\n@@ +13,5 @@\n>    <setting type=\"control\" title=\"&plugin.mimeTypes;\">\n>      <label class=\"text-list\" id=\"pluginMimeTypes\"/>\n>    </setting>\n> +  <setting type=\"bool\" pref=\"dom.ipc.plugins.flash.disable-protected-mode\"\n> +           title=\"&plugin.flashProtectedMode.label;\" id=\"pluginDisableProtectedMode\">\n\nAs a general rule, checking a checkbox to disable something confuses people. It's not how people expect checkboxes to work. So the label here should be \"Enable XYZ\". And adding inverted=\"true\" to the <setting> will invert how the pref is read/set.\n\n::: toolkit/mozapps/extensions/internal/PluginProvider.jsm\n@@ +494,5 @@\n>      }\n>      return permissions;\n>    });\n> +\n> +  this.isFlashPlugin = false;\n\nI'm not fine with a custom property :)\n\nCan use a closure for optionsType, and observe() is already iterating over pluginMimeTypes.\n\n@@ +496,5 @@\n>    });\n> +\n> +  this.isFlashPlugin = false;\n> +  for (let type of this.pluginMimeTypes) {\n> +    if (type.type == \"application/x-shockwave-flash\") {\n\nMake this a const at the top of the file? Makes it more obvious that we're special-casing Flash - going to be too easy to miss otherwise.",
    "authour" : "blair@theunfocused.net",
    "created" : "2015-02-14T02:41:24Z"
  }, {
    "text" : "Created attachment 8566692\nbug1133000-flash-toggle.patch\n\nBlair, I don't have final strings from UX, and so I haven't yet made the change about an inverted pref, but I believe this covers your other concerns. Please review the rest and I'll get final strings with UX tomorrow for landing.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-02-19T19:55:34Z"
  }, {
    "text" : "Comment on attachment 8566692\nbug1133000-flash-toggle.patch\n\nReview of attachment 8566692:\n-----------------------------------------------------------------\n\nr+ with pref inversion/strings proviso.",
    "authour" : "blair@theunfocused.net",
    "created" : "2015-02-20T06:35:00Z"
  }, {
    "text" : "re: the issue of this making a positive checkbox state represent a negative state (i.e. check to disable\" -- why don't we change the string to \"Enable Adobe Flash protected mode\" and make the corresponding inversion when we check the box.",
    "authour" : "madhava@mozilla.com",
    "created" : "2015-02-20T17:24:59Z"
  }, {
    "text" : "Also - can we strike the grey explanatory text and replace it with a \"Learn More\" link to the same content we use from the infobar? The trade-off needs more context in its explanation, and that's what we're providing on the Learn More page.",
    "authour" : "madhava@mozilla.com",
    "created" : "2015-02-20T17:28:26Z"
  }, {
    "text" : "(In reply to Madhava Enros [:madhava] from comment #6)\n> re: the issue of this making a positive checkbox state represent a negative\n> state (i.e. check to disable\" -- why don't we change the string to \"Enable\n> Adobe Flash protected mode\" and make the corresponding inversion when we\n> check the box.\n\nsorry - that's ambiguous -- we should just make the checkbox do the right thing, given the new string.",
    "authour" : "madhava@mozilla.com",
    "created" : "2015-02-20T17:29:02Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/886bc136c20b",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-21T22:05:35Z"
  }, {
    "text" : "Clicking 'Learn More' which is shown in 'Blue' as if its a link goes to Mozilla Page not Found error.\n\nIntended or ?",
    "authour" : "jmjeffery@embarqmail.com",
    "created" : "2015-02-22T01:09:46Z"
  }, {
    "text" : "(In reply to Jim Jeffery not reading bug-mail 1/2/11 from comment #10)\n> Clicking 'Learn More' which is shown in 'Blue' as if its a link goes to\n> Mozilla Page not Found error.\n> \n> Intended or ?\n\nforgot to include URL: https://support.mozilla.org/en-US/kb/flash-protected-mode-settings",
    "authour" : "jmjeffery@embarqmail.com",
    "created" : "2015-02-22T01:10:18Z"
  }, {
    "text" : "Yes, the page doesn't exist yet but it will.",
    "authour" : "benjamin@smedbergs.us",
    "created" : "2015-02-22T02:47:48Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:35Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:35Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T19:06:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "psackl@mozilla.com"
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T19:17:23Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1133003"
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T19:56:48Z",
      "what" : "cc",
      "removed" : "",
      "added" : "MattN+bmo@mozilla.com"
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T22:57:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bmcbride@mozilla.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-17T01:08:02Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gavin.sharp@gmail.com"
    }, {
      "name" : "blair@theunfocused.net",
      "date" : "2015-02-20T06:36:07Z",
      "what" : "attachments.isobsolete:8564313",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "madhava@mozilla.com",
      "date" : "2015-02-20T17:24:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "madhava@mozilla.com"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-20T19:22:23Z",
      "what" : "component",
      "removed" : "Plug-ins",
      "added" : "General"
    }, {
      "name" : "gavin.sharp@gmail.com",
      "date" : "2015-02-20T19:22:23Z",
      "what" : "product",
      "removed" : "Core",
      "added" : "Firefox"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:35Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:35Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-21 14:05:35"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-21T22:05:35Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "jmjeffery@embarqmail.com",
      "date" : "2015-02-22T01:09:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jmjeffery@embarqmail.com"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-22T11:01:54Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-03-26T14:01:51Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1147877"
    }, {
      "name" : "simon.lindholm10@gmail.com",
      "date" : "2015-07-08T12:07:44Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1181540"
    } ],
    "flagEvents" : [ {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T19:06:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564285,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T19:56:48Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564313,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "MattN+bmo@mozilla.com",
      "date" : "2015-02-13T22:43:07Z",
      "what" : "flagtypes.name",
      "removed" : "review?(MattN+bmo@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564313,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-13T22:57:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564313,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "blair@theunfocused.net",
      "date" : "2015-02-14T02:41:24Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(bmcbride@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564313,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-19T19:55:34Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8566692,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "blair@theunfocused.net",
      "date" : "2015-02-20T06:35:00Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bmcbride@mozilla.com)",
      "added" : "",
      "attachmentId" : 8566692,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "benjamin@smedbergs.us",
      "date" : "2015-02-20T20:06:38Z",
      "what" : "flagtypes.name",
      "removed" : "ui-review?(psackl@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564285,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1133000,
  "cclist" : [ "blair@theunfocused.net", "gavin.sharp@gmail.com", "jmjeffery@embarqmail.com", "madhava@mozilla.com", "MattN+bmo@mozilla.com", "psackl@mozilla.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "Tabbed Browser",
  "summary" : "[e10s] With about:blank set as the homepage starting Firefox doesn't make the first tab remote",
  "reporter" : "dtownsend@mozilla.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "We should be loading the first tab remote but aren't for some reason. This is breaking some of my SDK tests since they assume a child process is running after the browser starts.\n\nRegressed somewhere in here, bisecting now\n\nhttps://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=2cb22c058add&tochange=ee093ca70666",
  "comments" : [ {
    "text" : "We should be loading the first tab remote but aren't for some reason. This is breaking some of my SDK tests since they assume a child process is running after the browser starts.\n\nRegressed somewhere in here, bisecting now\n\nhttps://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=2cb22c058add&tochange=ee093ca70666",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-13T17:09:35Z"
  }, {
    "text" : "I have a workaround for my test now, turns out this was actually cause by bug 1047603. Not sure how important this is to fix in Firefox",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-02-13T20:30:47Z"
  }, {
    "text" : "Can we close this? It appears to be working as desired:\nName \tFirefox\nVersion \t46.0a2\nBuild ID \t20160205004003\nUser Agent \tMozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0",
    "authour" : "mfunches@softvision.com",
    "created" : "2016-02-05T22:31:04Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2016-02-11T18:28:37Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2016-02-11T18:28:37Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "mconley@mozilla.com",
      "date" : "2015-02-13T19:23:58Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mconley@mozilla.com"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-13T20:30:47Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1047603"
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-02-13T20:30:47Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "?"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:31:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:31:37Z",
      "what" : "cf_tracking_e10s",
      "removed" : "?",
      "added" : "+"
    }, {
      "name" : "mfunches@softvision.com",
      "date" : "2016-02-05T22:31:04Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mfunches@softvision.com"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2016-02-11T18:28:37Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-02-11 10:28:37"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1132964,
  "cclist" : [ "blassey.bugs@lassey.us", "mconley@mozilla.com", "mfunches@softvision.com" ]
}, {
  "component" : "General",
  "summary" : "Sorting direction markers are staying when another column is sorted",
  "reporter" : "alice0775@yahoo.co.jp",
  "assigned" : "ntim.bugs@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Steps To Reproduce:\n1. Open about:config\n2. Click \"Preference name\" tree header to change sort direction\n   --- Sorting direction marker appears on \"Preference name\" column as expected\n3. Click another tree header(e.g. \"Status\") to change sort direction\n   --- Sorting direction marker appears on \"Status\" column  as expected\n       However, Sorting direction marker is still shown on \"Preference name\" column\n\nActual Results:\nSorting direction markers are staying when another column is sorted\n\nExpected Results:\nSorting direction markers should only be shown on column header that sorted",
  "comments" : [ {
    "text" : "Steps To Reproduce:\n1. Open about:config\n2. Click \"Preference name\" tree header to change sort direction\n   --- Sorting direction marker appears on \"Preference name\" column as expected\n3. Click another tree header(e.g. \"Status\") to change sort direction\n   --- Sorting direction marker appears on \"Status\" column  as expected\n       However, Sorting direction marker is still shown on \"Preference name\" column\n\nActual Results:\nSorting direction markers are staying when another column is sorted\n\nExpected Results:\nSorting direction markers should only be shown on column header that sorted",
    "authour" : "alice0775@yahoo.co.jp",
    "created" : "2015-02-13T16:39:32Z"
  }, {
    "text" : "Created attachment 8564195\nscreenshot, comparison between Nightly38.0a1 and Aurora37.0a2",
    "authour" : "alice0775@yahoo.co.jp",
    "created" : "2015-02-13T16:43:44Z"
  }, {
    "text" : "It's not a bug directly introduced by bug 1125636.\n\nThe bug comes from https://dxr.mozilla.org/mozilla-central/source/toolkit/themes/shared/in-content/common.inc.css#686\n\nThere are two solutions:\n1. Change the CSS code to not show the arrow when the empty attribute \"sortDirection\" is set.\n2. Check where the \"sortDirection\" is set in JS and not removed when a other column is the active sort column.\n\nFor 1. I could fix this, but I think 2. would be cleaner but I'm not a JS specialist.",
    "authour" : "richard.marti@gmail.com",
    "created" : "2015-02-13T17:17:09Z"
  }, {
    "text" : "Created attachment 8564319\nPatch",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-13T20:02:26Z"
  }, {
    "text" : "Comment on attachment 8564319\nPatch\n\nReview of attachment 8564319:\n-----------------------------------------------------------------\n\nLooks like we could do with just the config.js changes. Any reason that we need to make the changes for common.inc.css? Presence of an attribute in XUL-land is pretty common to mean that it should be enabled.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-13T20:33:36Z"
  }, {
    "text" : "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #4)\n> Comment on attachment 8564319\n> Patch\n> \n> Review of attachment 8564319:\n> -----------------------------------------------------------------\n> \n> Looks like we could do with just the config.js changes. Any reason that we\n> need to make the changes for common.inc.css? Presence of an attribute in\n> XUL-land is pretty common to mean that it should be enabled.\n\nI guess so, I just want to prevent this in the future.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-13T20:58:29Z"
  }, {
    "text" : "Comment on attachment 8564319\nPatch\n\nReview of attachment 8564319:\n-----------------------------------------------------------------\n\nYeah, not necessary though. Let's keep this change small and only do the config.js change.\n\nAlso, we shouldn't use :-moz-any() as the right-most selector: https://developer.mozilla.org/en-US/docs/Web/CSS/:any#Issues_with_performance_and_specificity\n\nr=me for only the config.js changes.",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-02-13T22:21:22Z"
  }, {
    "text" : "Created attachment 8564582\nPatch v2 (r=jaws)\n\nRemoved the CSS changes.",
    "authour" : "ntim.bugs@gmail.com",
    "created" : "2015-02-14T18:41:39Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/2c5db2a83e34",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T09:48:15Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/2c5db2a83e34",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:54:23Z"
  }, {
    "text" : "Mistakenly filed against Firefox 38 and should be instead 38 Branch. Sorry for the spam. dkl",
    "authour" : "dkl@mozilla.com",
    "created" : "2015-04-13T22:48:40Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:08:41Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:23Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:23Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-13T16:58:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jwalker@mozilla.com, richard.marti@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:08:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:08:41Z",
      "what" : "platform",
      "removed" : "x86_64",
      "added" : "All"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:08:41Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ntim007@yahoo.it"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T19:08:41Z",
      "what" : "op_sys",
      "removed" : "Windows 7",
      "added" : "All"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T20:02:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jaws@mozilla.com"
    }, {
      "name" : "Virtual@MsgSafe.io",
      "date" : "2015-02-14T13:55:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "BernesB@gmail.com"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T18:41:39Z",
      "what" : "attachments.isobsolete:8564319",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T18:41:58Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:48:15Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T09:48:15Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:23Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:23Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:23Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:54:23"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:54:23Z",
      "what" : "cf_status_firefox38",
      "removed" : "affected",
      "added" : "fixed"
    }, {
      "name" : "dkl@mozilla.com",
      "date" : "2015-04-13T22:48:40Z",
      "what" : "version",
      "removed" : "Firefox 38",
      "added" : "38 Branch"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-04-15T13:22:49Z",
      "what" : "cf_qa_whiteboard",
      "removed" : "",
      "added" : "[good first verify]"
    }, {
      "name" : "florin.mezei@softvisioninc.eu",
      "date" : "2015-04-15T13:22:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florin.mezei@softvisioninc.eu"
    } ],
    "flagEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-13T16:58:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "richard.marti@gmail.com",
      "date" : "2015-02-13T17:17:09Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(richard.marti@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-13T20:02:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564319,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-02-13T22:21:22Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jaws@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564319,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ntim.bugs@gmail.com",
      "date" : "2015-02-14T18:41:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564582,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132950,
  "cclist" : [ "florin.mezei@softvisioninc.eu", "jaws@mozilla.com", "jwalker@mozilla.com", "ntim.bugs@gmail.com", "richard.marti@gmail.com", "Virtual@MsgSafe.io" ]
}, {
  "component" : "PDF Viewer",
  "summary" : "pdf.js: page numbering in PDF file is not correct",
  "reporter" : "liebundartig@freenet.de",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "x86",
  "priority" : "P3",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8564026\nev-quarterly-2014_Q3.pdf\n\nUser Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150125222326\n\nSteps to reproduce:\n\nOpen\nhttps://ev.kde.org/reports/ev-quarterly-2014_Q3.pdf\n(see attached file)\nwith internal PDF viewer of Firefox 35.0.1 (pdf.js) on Mac OS X 10.10 as well as Lubuntu 14.04\n\n\nActual results:\n\nThe page numbering (on page 2 of 9) starts with \"5\" instead of \"2\".\nThe page numbering goes on:\n6\n7\n8\n9\n;\n:\n\n\nExpected results:\n\nThe page numbering on page 2 of 9 should start with \"2\" and go on: 3,4,5,6,7,8\n\n\nEvince 3.10.3 on Lubuntu 14.04 and Preview on Mac OS X display it this way.\n\n\nAlbert Astals Cid (one of the creators of the PDF file) said the file was created using Scribus. His guess is that either the wrong font or the wrong font charmap is used in pdf.js.\n\nThe charmap seems to be a good start, if you compare the actual result and the ASCII table: http://www.asciitable.com/",
  "comments" : [ {
    "text" : "Created attachment 8564026\nev-quarterly-2014_Q3.pdf\n\nUser Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:35.0) Gecko/20100101 Firefox/35.0\nBuild ID: 20150125222326\n\nSteps to reproduce:\n\nOpen\nhttps://ev.kde.org/reports/ev-quarterly-2014_Q3.pdf\n(see attached file)\nwith internal PDF viewer of Firefox 35.0.1 (pdf.js) on Mac OS X 10.10 as well as Lubuntu 14.04\n\n\nActual results:\n\nThe page numbering (on page 2 of 9) starts with \"5\" instead of \"2\".\nThe page numbering goes on:\n6\n7\n8\n9\n;\n:\n\n\nExpected results:\n\nThe page numbering on page 2 of 9 should start with \"2\" and go on: 3,4,5,6,7,8\n\n\nEvince 3.10.3 on Lubuntu 14.04 and Preview on Mac OS X display it this way.\n\n\nAlbert Astals Cid (one of the creators of the PDF file) said the file was created using Scribus. His guess is that either the wrong font or the wrong font charmap is used in pdf.js.\n\nThe charmap seems to be a good start, if you compare the actual result and the ASCII table: http://www.asciitable.com/",
    "authour" : "liebundartig@freenet.de",
    "created" : "2015-02-13T09:55:36Z"
  }, {
    "text" : "I mixed up the end of the actual page numbering. It is \":\" followed by \";\"\n\nFurthermore, I installed the Development Version of pdf.js (PDF Viewer 1.0.1143) as suggested by\nhttps://github.com/mozilla/pdf.js/\nand restarted Firefox. The problem is present in this version as well.",
    "authour" : "liebundartig@freenet.de",
    "created" : "2015-02-13T10:14:10Z"
  }, {
    "text" : "Created attachment 8564602\nReduced test-case",
    "authour" : "jonas.jenwald@gmail.com",
    "created" : "2015-02-14T21:40:46Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-14T18:57:56Z",
      "what" : "status",
      "removed" : "UNCONFIRMED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "jonas.jenwald@gmail.com",
      "date" : "2016-03-20T11:25:43Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "jonas.jenwald@gmail.com",
      "date" : "2016-03-20T11:25:43Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-14T18:57:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "alice0775@yahoo.co.jp"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-14T18:57:56Z",
      "what" : "component",
      "removed" : "Untriaged",
      "added" : "PDF Viewer"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-14T18:57:56Z",
      "what" : "is_confirmed",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-02-14T18:57:56Z",
      "what" : "op_sys",
      "removed" : "Linux",
      "added" : "All"
    }, {
      "name" : "bdahl@mozilla.com",
      "date" : "2015-02-23T23:12:49Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P3"
    }, {
      "name" : "bdahl@mozilla.com",
      "date" : "2015-02-23T23:12:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bdahl@mozilla.com"
    }, {
      "name" : "bdahl@mozilla.com",
      "date" : "2015-02-23T23:12:49Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[pdfjs-c-rendering][pdfjs-d-font-conversion]"
    }, {
      "name" : "jonas.jenwald@gmail.com",
      "date" : "2016-03-10T20:20:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jonas.jenwald@gmail.com"
    }, {
      "name" : "jonas.jenwald@gmail.com",
      "date" : "2016-03-10T20:20:40Z",
      "what" : "whiteboard",
      "removed" : "[pdfjs-c-rendering][pdfjs-d-font-conversion]",
      "added" : "[pdfjs-c-rendering][pdfjs-d-font-conversion][pdfjs-f-fixed-upstream] https://github.com/mozilla/pdf.js/pull/7069"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-03-12T21:47:35Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1256037"
    }, {
      "name" : "jonas.jenwald@gmail.com",
      "date" : "2016-03-20T11:25:43Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 48"
    }, {
      "name" : "jonas.jenwald@gmail.com",
      "date" : "2016-03-20T11:25:43Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-03-20 04:25:43"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1132849,
  "cclist" : [ "alice0775@yahoo.co.jp", "bdahl@mozilla.com", "jonas.jenwald@gmail.com" ]
}, {
  "component" : "Developer Tools: Inspector",
  "summary" : "Intermittent browser_animation_play_pause_button.js,browser_animation_playerWidgets_disables_on_finished.js,browser_animation_toggle_button_resets_on_navigate.js | Test timed out",
  "reporter" : "ryanvm@gmail.com",
  "assigned" : "pbrosset@mozilla.com",
  "created" : null,
  "operatingSystem" : "Linux",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Calling this a regression from bug 1129454 given the timing.\n\n15:41:07 INFO - 20 INFO TEST-START | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js\n15:41:21 INFO - 1423784481117 Browser.Experiments.Experiments TRACE Experiments #0::enabled=true, true\n15:41:21 INFO - 1423784481124 Browser.Experiments.Experiments TRACE Experiments #0::Registering instance with Addon Manager.\n15:41:21 INFO - 1423784481125 Browser.Experiments.Experiments TRACE Experiments #0::Registering previous experiment add-on provider.\n15:41:21 INFO - 1423784481127 Browser.Experiments.Experiments TRACE PreviousExperimentProvider #0::startup()\n15:41:21 INFO - 1423784481129 Browser.Experiments.Experiments TRACE Experiments #0::_loadFromCache\n15:41:21 INFO - 1423784481149 Browser.Experiments.Experiments TRACE Experiments #0::_loadTask finished ok\n15:41:21 INFO - 1423784481150 Browser.Experiments.Experiments TRACE Experiments #0::_run\n15:41:21 INFO - 1423784481154 Browser.Experiments.Experiments TRACE Experiments #0::_main iteration\n15:41:21 INFO - 1423784481155 Browser.Experiments.Experiments TRACE Experiments #0::_evaluateExperiments\n15:41:21 INFO - 1423784481160 Browser.Experiments.Experiments TRACE Experiments #0::_main finished, scheduling next run\n15:42:37 INFO - Xlib: extension \"RANDR\" missing on display \":0\".\n15:42:39 INFO - TEST-INFO | screentopng: exit 0\n15:42:39 INFO - 21 INFO checking window state\n15:42:39 INFO - 22 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 23 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 24 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 25 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 26 INFO Entering test\n15:42:39 INFO - 27 INFO Adding a new tab with URL: 'http://example.com/browser/browser/devtools/animationinspector/test/doc_simple_animation.html'\n15:42:39 INFO - 28 INFO Loading the helper frame script chrome://mochitests/content/browser/browser/devtools/animationinspector/test/doc_frame_script.js\n15:42:39 INFO - 29 INFO Loading the helper frame script chrome://browser/content/devtools/frame-script-utils.js\n15:42:39 INFO - 30 INFO URL 'http://example.com/browser/browser/devtools/animationinspector/test/doc_simple_animation.html' loading complete\n15:42:39 INFO - 31 INFO Opening the toolbox with the inspector selected\n15:42:39 INFO - 32 INFO Making sure that the toolbox's frame is focused\n15:42:39 INFO - 33 INFO Switching to the animationinspector\n15:42:39 INFO - 34 INFO Waiting for the inspector and sidebar to be ready\n15:42:39 INFO - 35 INFO Console message: 1423784481117 Browser.Experiments.Experiments TRACE Experiments #0::enabled=true, true\n15:42:39 INFO - 36 INFO Console message: 1423784481124 Browser.Experiments.Experiments TRACE Experiments #0::Registering instance with Addon Manager.\n15:42:39 INFO - 37 INFO Console message: 1423784481125 Browser.Experiments.Experiments TRACE Experiments #0::Registering previous experiment add-on provider.\n15:42:39 INFO - 38 INFO Console message: 1423784481127 Browser.Experiments.Experiments TRACE PreviousExperimentProvider #0::startup()\n15:42:39 INFO - 39 INFO Console message: 1423784481129 Browser.Experiments.Experiments TRACE Experiments #0::_loadFromCache\n15:42:39 INFO - 40 INFO Console message: 1423784481149 Browser.Experiments.Experiments TRACE Experiments #0::_loadTask finished ok\n15:42:39 INFO - 41 INFO Console message: 1423784481150 Browser.Experiments.Experiments TRACE Experiments #0::_run\n15:42:39 INFO - 42 INFO Console message: 1423784481154 Browser.Experiments.Experiments TRACE Experiments #0::_main iteration\n15:42:39 INFO - 43 INFO Console message: 1423784481155 Browser.Experiments.Experiments TRACE Experiments #0::_evaluateExperiments\n15:42:39 INFO - 44 INFO Console message: 1423784481160 Browser.Experiments.Experiments TRACE Experiments #0::_main finished, scheduling next run\n15:42:39 INFO - 45 INFO Console message: 1423784512514 Services.HealthReport.HealthReporter WARN Saved state file does not exist.\n15:42:39 INFO - 46 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | Test timed out - expected PASS\n15:42:39 INFO - 47 INFO MEMORY STAT vsize after test: 599289856\n15:42:39 INFO - 48 INFO MEMORY STAT residentFast after test: 149651456\n15:42:39 INFO - 49 INFO MEMORY STAT heapAllocated after test: 52621532\n15:42:39 INFO - 50 INFO TEST-OK | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | took 91038ms",
  "comments" : [ {
    "text" : "Calling this a regression from bug 1129454 given the timing.\n\n15:41:07 INFO - 20 INFO TEST-START | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js\n15:41:21 INFO - 1423784481117 Browser.Experiments.Experiments TRACE Experiments #0::enabled=true, true\n15:41:21 INFO - 1423784481124 Browser.Experiments.Experiments TRACE Experiments #0::Registering instance with Addon Manager.\n15:41:21 INFO - 1423784481125 Browser.Experiments.Experiments TRACE Experiments #0::Registering previous experiment add-on provider.\n15:41:21 INFO - 1423784481127 Browser.Experiments.Experiments TRACE PreviousExperimentProvider #0::startup()\n15:41:21 INFO - 1423784481129 Browser.Experiments.Experiments TRACE Experiments #0::_loadFromCache\n15:41:21 INFO - 1423784481149 Browser.Experiments.Experiments TRACE Experiments #0::_loadTask finished ok\n15:41:21 INFO - 1423784481150 Browser.Experiments.Experiments TRACE Experiments #0::_run\n15:41:21 INFO - 1423784481154 Browser.Experiments.Experiments TRACE Experiments #0::_main iteration\n15:41:21 INFO - 1423784481155 Browser.Experiments.Experiments TRACE Experiments #0::_evaluateExperiments\n15:41:21 INFO - 1423784481160 Browser.Experiments.Experiments TRACE Experiments #0::_main finished, scheduling next run\n15:42:37 INFO - Xlib: extension \"RANDR\" missing on display \":0\".\n15:42:39 INFO - TEST-INFO | screentopng: exit 0\n15:42:39 INFO - 21 INFO checking window state\n15:42:39 INFO - 22 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 23 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 24 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 25 INFO Console message: [JavaScript Warning: \"unsafe CPOW usage\" {file: \"resource://app/modules/sessionstore/TabState.jsm\" line: 96}]\n15:42:39 INFO - 26 INFO Entering test\n15:42:39 INFO - 27 INFO Adding a new tab with URL: 'http://example.com/browser/browser/devtools/animationinspector/test/doc_simple_animation.html'\n15:42:39 INFO - 28 INFO Loading the helper frame script chrome://mochitests/content/browser/browser/devtools/animationinspector/test/doc_frame_script.js\n15:42:39 INFO - 29 INFO Loading the helper frame script chrome://browser/content/devtools/frame-script-utils.js\n15:42:39 INFO - 30 INFO URL 'http://example.com/browser/browser/devtools/animationinspector/test/doc_simple_animation.html' loading complete\n15:42:39 INFO - 31 INFO Opening the toolbox with the inspector selected\n15:42:39 INFO - 32 INFO Making sure that the toolbox's frame is focused\n15:42:39 INFO - 33 INFO Switching to the animationinspector\n15:42:39 INFO - 34 INFO Waiting for the inspector and sidebar to be ready\n15:42:39 INFO - 35 INFO Console message: 1423784481117 Browser.Experiments.Experiments TRACE Experiments #0::enabled=true, true\n15:42:39 INFO - 36 INFO Console message: 1423784481124 Browser.Experiments.Experiments TRACE Experiments #0::Registering instance with Addon Manager.\n15:42:39 INFO - 37 INFO Console message: 1423784481125 Browser.Experiments.Experiments TRACE Experiments #0::Registering previous experiment add-on provider.\n15:42:39 INFO - 38 INFO Console message: 1423784481127 Browser.Experiments.Experiments TRACE PreviousExperimentProvider #0::startup()\n15:42:39 INFO - 39 INFO Console message: 1423784481129 Browser.Experiments.Experiments TRACE Experiments #0::_loadFromCache\n15:42:39 INFO - 40 INFO Console message: 1423784481149 Browser.Experiments.Experiments TRACE Experiments #0::_loadTask finished ok\n15:42:39 INFO - 41 INFO Console message: 1423784481150 Browser.Experiments.Experiments TRACE Experiments #0::_run\n15:42:39 INFO - 42 INFO Console message: 1423784481154 Browser.Experiments.Experiments TRACE Experiments #0::_main iteration\n15:42:39 INFO - 43 INFO Console message: 1423784481155 Browser.Experiments.Experiments TRACE Experiments #0::_evaluateExperiments\n15:42:39 INFO - 44 INFO Console message: 1423784481160 Browser.Experiments.Experiments TRACE Experiments #0::_main finished, scheduling next run\n15:42:39 INFO - 45 INFO Console message: 1423784512514 Services.HealthReport.HealthReporter WARN Saved state file does not exist.\n15:42:39 INFO - 46 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | Test timed out - expected PASS\n15:42:39 INFO - 47 INFO MEMORY STAT vsize after test: 599289856\n15:42:39 INFO - 48 INFO MEMORY STAT residentFast after test: 149651456\n15:42:39 INFO - 49 INFO MEMORY STAT heapAllocated after test: 52621532\n15:42:39 INFO - 50 INFO TEST-OK | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | took 91038ms",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-13T03:28:17Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1986085\nrepository: fx-team\nstart_time: 2015-02-12T15:38:26\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-762\nbuildname: Ubuntu VM 12.04 fx-team opt test mochitest-e10s-devtools-chrome\nrevision: 2c97566c3cb7\n\n46 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T03:28:30Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1030817\nrepository: mozilla-central\nstart_time: 2015-02-12T18:01:04\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux32-spot-304\nbuildname: Ubuntu VM 12.04 mozilla-central pgo test mochitest-e10s-devtools-chrome\nrevision: 2f5c5ec1a24b\n\n52 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_playerWidgets_disables_on_finished.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T03:28:33Z"
  }, {
    "text" : "This is definitely a regression from bug 1129454 where I changed the way that tests wait for the animation panel to be initialized (function openAnimationInspector in browser/devtools/animationinspector/test/head.js).\nI'll take a look at this now.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-13T09:02:41Z"
  }, {
    "text" : "*** Bug 1132838 has been marked as a duplicate of this bug. ***",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-13T09:42:50Z"
  }, {
    "text" : "Since this is a bug with the init sequence of the animationinspector tests, any of the tests in the folder can basically intermittently fail now ...",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-13T09:44:05Z"
  }, {
    "text" : "Pushed a patch with a change to the test init sequence to try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=6fe9d330bf32",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-13T13:25:16Z"
  }, {
    "text" : "Created attachment 8564111\nbug1132783-intermittent-animation-tests.patch\n\nBrian, this change to head.js was made to avoid animation tests from failing intermittently with e10s.\nThe animation tab init sequence goes like this:\n- the sidebar panel is created (and the inner iframe is added and loaded)\n- the sidebar widget calls the global 'setPanel' function on the window object in the iframe, without waiting for it to end (it doesn't care about the return value being a promise)\n- that starts the AnimationsController init\n- and once done, the AnimationsPanel init is done too.\n\nThe function in head.js used to just wait for an event that is emitted at the end of the AnimationsPanel init function execution. But it turns out that, with e10s, the event has already been emitted by the time we listen to it in the test.\n\nSo the simple fix was: either use the 'AnimationsPanel.initialized' promise when it exists (meaning that the init has already started or even maybe finished) or subscribe to the event.\n\nThis should be enough to cover all cases, and the try push I linked to above seems to confirm this.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-13T13:41:27Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-central&job_id=1031833\nrepository: mozilla-central\nstart_time: 2015-02-13T05:03:02\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-379\nbuildname: Ubuntu VM 12.04 x64 mozilla-central pgo test mochitest-e10s-devtools-chrome\nrevision: 2f5c5ec1a24b\n\n60 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_toggle_button_resets_on_navigate.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T13:46:47Z"
  }, {
    "text" : "Comment on attachment 8564111\nbug1132783-intermittent-animation-tests.patch\n\nReview of attachment 8564111:\n-----------------------------------------------------------------\n\nSounds good",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-13T14:41:47Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1992438\nrepository: fx-team\nstart_time: 2015-02-13T08:08:17\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-256\nbuildname: Ubuntu VM 12.04 x64 fx-team opt test mochitest-e10s-devtools-chrome\nrevision: d0b991fa0471\n\n45 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_participate_in_inspector_update.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T17:20:46Z"
  }, {
    "text" : "Patrick, you're AFK on IRC, so I went ahead and landed this for you given the frequency and widespread nature of the failures. Hopefully you don't mind :)\nhttps://hg.mozilla.org/integration/fx-team/rev/248aac04b9d8",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-13T17:48:18Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=1992625\nrepository: fx-team\nstart_time: 2015-02-13T09:51:20\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-192\nbuildname: Ubuntu VM 12.04 x64 fx-team opt test mochitest-e10s-devtools-chrome\nrevision: b40d31806495\n\n52 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_playerWidgets_destroy.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T19:13:15Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6607784\nrepository: mozilla-inbound\nstart_time: 2015-02-13T13:37:17\nwho: wkocher[at]mozilla[dot]com\nmachine: tst-linux64-spot-295\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-devtools-chrome\nrevision: 6f06821072ef\n\nTraceback (most recent call last):\n45 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-13T22:41:48Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6610135\nrepository: mozilla-inbound\nstart_time: 2015-02-13T15:46:39\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-949\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-devtools-chrome\nrevision: 16df4e462d80\n\n67 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_toolbar_exists.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-14T00:51:43Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6610316\nrepository: mozilla-inbound\nstart_time: 2015-02-13T15:57:41\nwho: rvandermeulen[at]mozilla[dot]com\nmachine: tst-linux64-spot-282\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-devtools-chrome\nrevision: 16df4e462d80\n\n43 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_participate_in_inspector_update.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-14T00:51:44Z"
  }, {
    "text" : "(In reply to Ryan VanderMeulen [:RyanVM UTC-5] from comment #11)\n> Patrick, you're AFK on IRC, so I went ahead and landed this for you given\n> the frequency and widespread nature of the failures. Hopefully you don't\n> mind :)\n> https://hg.mozilla.org/integration/fx-team/rev/248aac04b9d8\nThanks!",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-14T00:57:34Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6622918\nrepository: mozilla-inbound\nstart_time: 2015-02-14T00:32:49\nwho: nigelbabu[at]gmail[dot]com\nmachine: tst-linux32-spot-430\nbuildname: Ubuntu VM 12.04 mozilla-inbound pgo test mochitest-e10s-devtools-chrome\nrevision: 9507662057de\n\n52 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_playerWidgets_disables_on_finished.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T06:15:53Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6617531\nrepository: mozilla-inbound\nstart_time: 2015-02-13T19:03:22\nwho: nigelbabu[at]gmail[dot]com\nmachine: tst-linux64-spot-276\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-devtools-chrome\nrevision: 332dbc5e0d1a\n\n52 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_playerWidgets_disables_on_finished.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T06:19:02Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6611158\nrepository: mozilla-inbound\nstart_time: 2015-02-13T16:58:41\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-729\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-devtools-chrome\nrevision: 95f5dfa2292e\n\n45 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_play_pause_button.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T08:24:32Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=6610770\nrepository: mozilla-inbound\nstart_time: 2015-02-13T16:48:23\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-725\nbuildname: Ubuntu VM 12.04 x64 mozilla-inbound opt test mochitest-e10s-devtools-chrome\nrevision: 1dd9353d0e97\n\n52 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_playerWidgets_disables_on_finished.js | Test timed out - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-02-16T08:24:50Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/248aac04b9d8",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:55:44Z"
  }, {
    "text" : "log: https://treeherder.mozilla.org/logviewer.html#?repo=fx-team&job_id=2171218\nrepository: fx-team\nstart_time: 2015-03-05T21:40:11\nwho: tomcat[at]mozilla[dot]com\nmachine: tst-linux64-spot-825\nbuildname: Ubuntu VM 12.04 x64 fx-team pgo test mochitest-e10s-devtools-chrome\nrevision: 5fcb418e9aa9\n\n44 INFO TEST-UNEXPECTED-FAIL | browser/devtools/animationinspector/test/browser_animation_playerWidgets_disables_on_finished.js | Uncaught exception - expected PASS",
    "authour" : "tbplbot@gmail.com",
    "created" : "2015-03-06T12:50:13Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:44Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:44Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T03:28:17Z",
      "what" : "cc",
      "removed" : "",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T09:02:41Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "pbrosset@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T09:42:50Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cbook@mozilla.com"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T09:43:25Z",
      "what" : "summary",
      "removed" : "Intermittent browser_animation_play_pause_button.js,browser_animation_playerWidgets_disables_on_finished.js | Test timed out",
      "added" : "Intermittent browser_animation_play_pause_button.js,browser_animation_playerWidgets_disables_on_finished.js,browser_animation_toggle_button_resets_on_navigate.js | Test timed out"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T13:41:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:48:18Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:44Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:44Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:44Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:55:44"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:44Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T14:14:52Z",
      "what" : "cf_status_firefox36",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T14:14:52Z",
      "what" : "cf_status_firefox37",
      "removed" : "---",
      "added" : "unaffected"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-17T14:14:52Z",
      "what" : "cf_status_firefox_esr31",
      "removed" : "---",
      "added" : "unaffected"
    } ],
    "flagEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T03:28:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T09:02:41Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-13T13:41:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564111,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-13T14:41:47Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564111,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:48:18Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132783,
  "cclist" : [ "bgrinstead@mozilla.com", "cbook@mozilla.com", "pbrosset@mozilla.com" ]
}, {
  "component" : "Search",
  "summary" : "afterCache and afterCommit should return Promise",
  "reporter" : "hikezoe@mozilla.com",
  "assigned" : "hikezoe@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8563839\nwait_for_afterCache.patch\n\ntest_nocache.js can be failed because the test does not wait for afterCache() on search.init().\n\nThe failure can be easily reproduced with removing \"firefox-appdir = browser\" from toolkit/components/search/tests/xpcshell/xpcshell.ini.\n\nThe result:\n\n./mach xpcshell-test toolkit/components/search/tests/xpcshell/test_nocache.js\n\n<snip>\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) NOTIFY: Engine: \"Test search engine\"; Verb: \"engine-loaded\"\"\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) nsSearchService::observe: Done installation of Test search engine.\"\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) _addEngineToStore: Adding engine: \"Test search engine\"\"\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) NOTIFY: Engine: \"Test search engine\"; Verb: \"engine-added\"\"\n 0:01.14 LOG: Thread-1 INFO \"afterCache: write-cache-to-disk-complete\"\n 0:01.14 LOG: Thread-1 INFO \"afterCache: write-cache-to-disk-complete\"\n 0:01.14 TEST_STATUS: Thread-1 test_nocache PASS [test_nocache : 31] true == true\n 0:01.14 LOG: Thread-1 INFO \"Searching test engine in cache\"\n 0:01.14 TEST_STATUS: Thread-1 test_nocache FAIL [test_nocache : 62] false == true\n    /home/ikezoe/mozilla-central/obj-firefox/_tests/xpcshell/toolkit/components/search/tests/xpcshell/test_nocache.js:test_nocache:62\n    self-hosted:next:610\n    _run_next_test@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:1375:9\n    do_execute_soon/<.run@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:644:9\n    _do_main@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:207:5\n    _execute_test@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:504:5\n    @-e:1:1\n 0:01.14 LOG: Thread-1 INFO exiting test\n 0:01.14 LOG: Thread-1 ERROR Unexpected exception 2147500036",
  "comments" : [ {
    "text" : "Created attachment 8563839\nwait_for_afterCache.patch\n\ntest_nocache.js can be failed because the test does not wait for afterCache() on search.init().\n\nThe failure can be easily reproduced with removing \"firefox-appdir = browser\" from toolkit/components/search/tests/xpcshell/xpcshell.ini.\n\nThe result:\n\n./mach xpcshell-test toolkit/components/search/tests/xpcshell/test_nocache.js\n\n<snip>\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) NOTIFY: Engine: \"Test search engine\"; Verb: \"engine-loaded\"\"\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) nsSearchService::observe: Done installation of Test search engine.\"\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) _addEngineToStore: Adding engine: \"Test search engine\"\"\n 0:01.11 LOG: Thread-1 INFO \"CONSOLE_MESSAGE: (info) NOTIFY: Engine: \"Test search engine\"; Verb: \"engine-added\"\"\n 0:01.14 LOG: Thread-1 INFO \"afterCache: write-cache-to-disk-complete\"\n 0:01.14 LOG: Thread-1 INFO \"afterCache: write-cache-to-disk-complete\"\n 0:01.14 TEST_STATUS: Thread-1 test_nocache PASS [test_nocache : 31] true == true\n 0:01.14 LOG: Thread-1 INFO \"Searching test engine in cache\"\n 0:01.14 TEST_STATUS: Thread-1 test_nocache FAIL [test_nocache : 62] false == true\n    /home/ikezoe/mozilla-central/obj-firefox/_tests/xpcshell/toolkit/components/search/tests/xpcshell/test_nocache.js:test_nocache:62\n    self-hosted:next:610\n    _run_next_test@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:1375:9\n    do_execute_soon/<.run@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:644:9\n    _do_main@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:207:5\n    _execute_test@/home/ikezoe/mozilla-central/testing/xpcshell/head.js:504:5\n    @-e:1:1\n 0:01.14 LOG: Thread-1 INFO exiting test\n 0:01.14 LOG: Thread-1 ERROR Unexpected exception 2147500036",
    "authour" : "hikezoe@mozilla.com",
    "created" : "2015-02-13T02:23:14Z"
  }, {
    "text" : "Pushed a try now.\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a4a04691d886",
    "authour" : "hikezoe@mozilla.com",
    "created" : "2015-02-13T02:23:58Z"
  }, {
    "text" : "Comment on attachment 8563839\nwait_for_afterCache.patch\n\nReview of attachment 8563839:\n-----------------------------------------------------------------\n\n::: toolkit/components/search/tests/xpcshell/test_nocache.js\n@@ +21,5 @@\n>  \n>  add_task(function* test_nocache() {\n>    let search = Services.search;\n>  \n> +  let cachePromise = new Promise(resolve => afterCache(resolve));\n\nlet's rather make afterCache return a Promise, and the call points using the callback can use .then()",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-13T13:41:35Z"
  }, {
    "text" : "Created attachment 8564933\nreturn_Promise.patch\n\nChanged bug title.\n\nafterCommit() is also changed to return a Promise.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=f7984f66dde3",
    "authour" : "hikezoe@mozilla.com",
    "created" : "2015-02-16T09:47:22Z"
  }, {
    "text" : "Comment on attachment 8564933\nreturn_Promise.patch\n\nReview of attachment 8564933:\n-----------------------------------------------------------------\n\n::: toolkit/components/search/tests/xpcshell/head_search.js\n@@ +142,5 @@\n>    return UTCOffset >= 150 && UTCOffset <= 600;\n>  }\n>  \n>  /**\n> + * Waits for being metadata committed.\n\ns/being metadata/metadata being/\n\n@@ +150,1 @@\n>  {\n\nwhile here please move brace in line with the function definition, per coding style\n\n@@ +152,4 @@\n>  }\n>  \n>  /**\n> + * Waits for saving cache file.\n\nWaits for the cache file to be saved.\n\n::: toolkit/components/search/tests/xpcshell/test_nocache.js\n@@ +34,1 @@\n>      // Check that search.json has been created.\n\nI'd prefer a more readable:\n\nyield afterCachePromise;\n\n// Check that search.json has...\n...\n\n@@ +43,5 @@\n>      { name: \"Test search engine\", xmlFileName: \"engine.xml\" },\n>    ]);\n>  \n>    do_print(\"Engine has been added, let's wait for the cache to be built\");\n> +  yield afterCachePromise;\n\nDo we really need to store the promise in a temp var in this case?\n\nThe notification we wait for is notified on a promise resolution, so basically it should run one tick after us... If that would not be true, the previous code would have failed already.\nI think this will just do:\n\nyield promiseAfterCache();",
    "authour" : "mak77@bonardo.net",
    "created" : "2015-02-25T16:54:13Z"
  }, {
    "text" : "(In reply to Marco Bonardo [::mak] -- currently sick :( (delayed answers) from comment #4)\n\n> @@ +43,5 @@\n> >      { name: \"Test search engine\", xmlFileName: \"engine.xml\" },\n> >    ]);\n> >  \n> >    do_print(\"Engine has been added, let's wait for the cache to be built\");\n> > +  yield afterCachePromise;\n> \n> Do we really need to store the promise in a temp var in this case?\n> \n> The notification we wait for is notified on a promise resolution, so\n> basically it should run one tick after us... If that would not be true, the\n> previous code would have failed already.\n\nAh, right.\nMy intention was to avoid waiting for wrong notification as the previous code did. Actually the notification received after addTestEngines() in the previous code came from search.init(). But unfortunately the temp var does not avoid the notification mismatch at all!. The mismatch can be fixed by the yield after search.init() as attachment 8564933 does, not the temp var!\n\nI will attach a revised patch.\n\nThanks Marco! Take care!",
    "authour" : "hikezoe@mozilla.com",
    "created" : "2015-02-26T02:33:12Z"
  }, {
    "text" : "Created attachment 8570267\nreturn Promise v2\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=4940a4a12f8a\nThere are a few build bustages unrelated this patch.",
    "authour" : "hikezoe@mozilla.com",
    "created" : "2015-02-27T02:13:14Z"
  }, {
    "text" : "Comment on attachment 8570267\nreturn Promise v2\n\nReview of attachment 8570267:\n-----------------------------------------------------------------\n\nTaking over for Marco. LGTM with the one comment corrected. Thanks!\n\n::: toolkit/components/search/tests/xpcshell/test_nocache.js\n@@ +28,5 @@\n>    yield new Promise((resolve, reject) => search.init(rv => {\n>      Components.isSuccessCode(rv) ? resolve() : reject();\n>    }));\n>  \n> +  // Check that cache is created at startup\n\nNit: // Check that the cache is created at startup.",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-11T14:21:07Z"
  }, {
    "text" : "Created attachment 8577796\nreturn Promise v3\n\nThanks Tim!\nCarrying over review+.",
    "authour" : "hikezoe@mozilla.com",
    "created" : "2015-03-15T23:06:15Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/97f74a12b427",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-16T14:05:33Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/97f74a12b427",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-17T10:35:44Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:44Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:44Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-13T02:23:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mak77@bonardo.net"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-13T02:23:58Z",
      "what" : "cc",
      "removed" : "",
      "added" : "hiikezoe@mozilla-japan.org"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-16T09:43:54Z",
      "what" : "summary",
      "removed" : "Should wait afterCache in test_nocache.js",
      "added" : "afterCache and afterCommit should return Promise"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-16T09:47:22Z",
      "what" : "attachments.isobsolete:8563839",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-16T09:47:22Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "hiikezoe@mozilla-japan.org"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-27T02:13:14Z",
      "what" : "attachments.isobsolete:8564933",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-11T14:07:56Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttaubert@mozilla.com"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-03-15T23:06:15Z",
      "what" : "attachments.isobsolete:8570267",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-03-15T23:06:45Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-16T14:05:33Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-16T14:05:33Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:44Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:44Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:44Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-17 03:35:44"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:44Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-13T02:23:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563839,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-02-13T13:41:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : 8563839,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-16T09:47:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564933,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mak77@bonardo.net",
      "date" : "2015-02-25T16:54:13Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : 8564933,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-02-27T02:13:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8570267,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-11T14:21:07Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mak77@bonardo.net)",
      "added" : "",
      "attachmentId" : 8570267,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "hikezoe@mozilla.com",
      "date" : "2015-03-15T23:06:15Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8577796,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-16T14:05:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132772,
  "cclist" : [ "hikezoe@mozilla.com", "mak77@bonardo.net", "ttaubert@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "New performance tool should use MemoryActor's startRecordingAllocations' options",
  "reporter" : "nfitzgerald@mozilla.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Need to set a sampling probability for dat speed and make the log big so we don't lose data.",
  "comments" : [ {
    "text" : "Need to set a sampling probability for dat speed and make the log big so we don't lose data.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T01:16:21Z"
  }, {
    "text" : "Actually, I don't understand this whole mocked front stuff and can't figure out how to pass the options object to MemoryFront.startRecordingAllocations.\n\nWe should pass an object like:\n\n{\n  // Should default to like 1/20 or something. Play with it and find a nice default...\n  probability: someProbabilityPref,\n\n  // Biggest integer that fits in a signed 32 bit int. Keep all the data!\n  maxLogLength: Math.pow(2, 31)\n}",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T01:27:10Z"
  }, {
    "text" : "woops",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-24T21:16:40Z"
  }, {
    "text" : "Created attachment 8574957\n1132765-allocations-options.patch\n\nTwo new prefs for these options. Modified ViewHelper's Prefs to handle floats. Added new method to memory actor just for fetching config for tests.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-10T00:20:51Z"
  }, {
    "text" : "Comment on attachment 8574957\n1132765-allocations-options.patch\n\nReview of attachment 8574957:\n-----------------------------------------------------------------\n\n::: browser/app/profile/firefox.js\n@@ +1455,5 @@\n>  pref(\"devtools.profiler.ui.show-platform-data\", false);\n>  pref(\"devtools.profiler.ui.show-idle-blocks\", true);\n>  \n>  // The default Performance UI settings\n> +pref(\"devtools.performance.memory.sample-probability\", \"0.05\");\n\nWhy is this a string and not a number?\n\n@@ +1456,5 @@\n>  pref(\"devtools.profiler.ui.show-idle-blocks\", true);\n>  \n>  // The default Performance UI settings\n> +pref(\"devtools.performance.memory.sample-probability\", \"0.05\");\n> +pref(\"devtools.performance.memory.max-log-length\", 2147483648);\n\nWhy not just do `Math.pow(2, 31)` so that we don't have a magic number here? Or at least document what this magical number is...",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-03-10T01:48:42Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] from comment #4)\n> Comment on attachment 8574957\n> 1132765-allocations-options.patch\n> \n> Review of attachment 8574957:\n> -----------------------------------------------------------------\n> \n> ::: browser/app/profile/firefox.js\n> @@ +1455,5 @@\n> >  pref(\"devtools.profiler.ui.show-platform-data\", false);\n> >  pref(\"devtools.profiler.ui.show-idle-blocks\", true);\n> >  \n> >  // The default Performance UI settings\n> > +pref(\"devtools.performance.memory.sample-probability\", \"0.05\");\n> \n> Why is this a string and not a number?\n> \n\nWe don't have Float prefs afaik, and complex values would be overkill for this.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-10T14:14:03Z"
  }, {
    "text" : "Comment on attachment 8574957\n1132765-allocations-options.patch\n\nReview of attachment 8574957:\n-----------------------------------------------------------------\n\nr- just because of firefox.js butchering. See comments below.\n\n::: browser/app/profile/firefox.js\n@@ -199,5 @@\n>  // Show the Update Checking/Ready UI when the user was idle for x seconds\n>  pref(\"app.update.idletime\", 60);\n>  \n>  // Whether or not we show a dialog box informing the user that the update was\n> -// successfully applied. This is off in Firefox by default since we show a \n\nYou probably don't want to modify this file to this extend. There's a lot of whitespace removed, which will confuse people trying to blame this file later.\n\n::: browser/devtools/performance/test/browser_perf-options-allocations.js\n@@ +10,5 @@\n> +  let { EVENTS, PerformanceController, $, gFront } = panel.panelWin;\n> +  Services.prefs.setBoolPref(MEMORY_PREF, true);\n> +\n> +  let originalProbability = Services.prefs.getCharPref(\"devtools.performance.memory.sample-probability\");\n> +  let originalLogLength = Services.prefs.getIntPref(\"devtools.performance.memory.max-log-length\");\n\nShould maybe make these consts in head.js?\n\n::: browser/devtools/shared/test/browser_prefs.js\n@@ -1,1 @@\n> -/* Any copyright is dedicated to the Public Domain.\n\nJordan, hg move is your friend.\n\nOr, here's the trick I use: rename a file normally, then immediately qref. After that, I can continue editing stuff normally and hg won't consider the file moved, but renamed.\n\n::: toolkit/devtools/server/actors/memory.js\n@@ +232,5 @@\n> +  },\n> +  `getting allocations settings`), {\n> +    request: {},\n> +    response: {\n> +      options: RetVal(0, \"nullable:json\")\n\nWhy is this nullable?",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-10T14:18:46Z"
  }, {
    "text" : "Comment on attachment 8574957\n1132765-allocations-options.patch\n\nReview of attachment 8574957:\n-----------------------------------------------------------------\n\n::: browser/app/profile/firefox.js\n@@ -199,5 @@\n>  // Show the Update Checking/Ready UI when the user was idle for x seconds\n>  pref(\"app.update.idletime\", 60);\n>  \n>  // Whether or not we show a dialog box informing the user that the update was\n> -// successfully applied. This is off in Firefox by default since we show a \n\n+1\n\n@@ +1455,5 @@\n>  pref(\"devtools.profiler.ui.show-platform-data\", false);\n>  pref(\"devtools.profiler.ui.show-idle-blocks\", true);\n>  \n>  // The default Performance UI settings\n> +pref(\"devtools.performance.memory.sample-probability\", \"0.05\");\n\nVictor mentioned below, we don't have a Float type\n\n@@ +1456,5 @@\n>  pref(\"devtools.profiler.ui.show-idle-blocks\", true);\n>  \n>  // The default Performance UI settings\n> +pref(\"devtools.performance.memory.sample-probability\", \"0.05\");\n> +pref(\"devtools.performance.memory.max-log-length\", 2147483648);\n\nDidn't even know you could do REAL JS here, and top of the header says no computed values anyway, so a comment is a good idea\n\n::: browser/devtools/performance/test/browser_perf-options-allocations.js\n@@ +10,5 @@\n> +  let { EVENTS, PerformanceController, $, gFront } = panel.panelWin;\n> +  Services.prefs.setBoolPref(MEMORY_PREF, true);\n> +\n> +  let originalProbability = Services.prefs.getCharPref(\"devtools.performance.memory.sample-probability\");\n> +  let originalLogLength = Services.prefs.getIntPref(\"devtools.performance.memory.max-log-length\");\n\nThought about that, but figured these won't be used elsewhere, realistically, but can go either way\n\n::: browser/devtools/shared/test/browser_prefs.js\n@@ -1,1 @@\n> -/* Any copyright is dedicated to the Public Domain.\n\nI think I just got git format-patch working with renamed files, so wooo, no hg!\n\n::: toolkit/devtools/server/actors/memory.js\n@@ +232,5 @@\n> +  },\n> +  `getting allocations settings`), {\n> +    request: {},\n> +    response: {\n> +      options: RetVal(0, \"nullable:json\")\n\nnuking",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-10T17:23:28Z"
  }, {
    "text" : "Created attachment 8575408\n1132765-allocations-options.patch\n\nRound 2, now with renames",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-10T17:39:30Z"
  }, {
    "text" : "Only running on gum for now",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-10T18:30:24Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/e8f897f0af1b",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-10T22:47:05Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e8f897f0af1b",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-11T12:01:54Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:27:23Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-24T20:53:35Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-24T21:16:40Z",
      "what" : "status",
      "removed" : "RESOLVED",
      "added" : "",
      "type" : "REOPENED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-11T12:01:54Z",
      "what" : "status",
      "removed" : "REOPENED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-24T20:53:35Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-24T21:16:40Z",
      "what" : "resolution",
      "removed" : "FIXED",
      "added" : "",
      "type" : "UNKNOWN"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-11T12:01:54Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:16:50Z",
      "what" : "depends_on",
      "removed" : "1132764",
      "added" : ""
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:16:59Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1132764"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:27:23Z",
      "what" : "assigned_to",
      "removed" : "nfitzgerald@mozilla.com",
      "added" : "nobody@mozilla.org"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-24T20:53:35Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-24T20:53:35Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 12:53:35"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T17:39:30Z",
      "what" : "attachments.isobsolete:8574957",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T18:30:24Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T22:47:05Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T22:47:13Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-11T12:01:54Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-11T12:01:54Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-11T12:01:54Z",
      "what" : "cf_last_resolved",
      "removed" : "2015-02-24 12:53:35",
      "added" : "2015-03-11 05:01:54"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-11T12:01:54Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T00:20:51Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8574957,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T14:18:46Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8574957,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-10T17:39:30Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8575408,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T18:00:29Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8575408,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132765,
  "cclist" : [ "jordan@jsantell.com", "nfitzgerald@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Memory",
  "summary" : "Memory actor should be able to set allocations log length",
  "reporter" : "nfitzgerald@mozilla.com",
  "assigned" : "nfitzgerald@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Need RDP access to Debugger.Memory.prototype.maxAllocationsLogLength",
  "comments" : [ {
    "text" : "Need RDP access to Debugger.Memory.prototype.maxAllocationsLogLength",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T01:05:55Z"
  }, {
    "text" : "Created attachment 8563805\nPart 0: Warn when allocations log overflows.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T01:13:17Z"
  }, {
    "text" : "Created attachment 8563806\nPart 1: MemoryActor.prototype.startRecordingAllocations should be able to control the allocations log length",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T01:13:28Z"
  }, {
    "text" : "Created attachment 8563807\nPart 2: TODO FITZGEN test allocations log length over RDP",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T01:13:37Z"
  }, {
    "text" : "Comment on attachment 8563806\nPart 1: MemoryActor.prototype.startRecordingAllocations should be able to control the allocations log length\n\nReview of attachment 8563806:\n-----------------------------------------------------------------\n\n::: toolkit/devtools/server/actors/memory.js\n@@ +169,5 @@\n>      this.dbg.memory.allocationSamplingProbability = options.probability != null\n>        ? options.probability\n>        : 1.0;\n> +    if (options.maxLogLength) {\n> +      this.dbg.memory.maxAllocationsLogLength = options.maxLogLength;\n\nShould maybe check for null here as well?",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-13T15:22:11Z"
  }, {
    "text" : "Created attachment 8568676\nPart 0: Warn when allocations log overflows.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-24T19:00:25Z"
  }, {
    "text" : "Created attachment 8568677\nPart 1: MemoryActor.prototype.startRecordingAllocations should be able to control the allocations log length",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-24T19:00:35Z"
  }, {
    "text" : "Created attachment 8568678\nPart 2: Test allocations log length over RDP",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-24T19:00:45Z"
  }, {
    "text" : "remote:   https://hg.mozilla.org/integration/fx-team/rev/c4aa054be094\nremote:   https://hg.mozilla.org/integration/fx-team/rev/60c5ee1edc40\nremote:   https://hg.mozilla.org/integration/fx-team/rev/edd8435444ec",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-25T19:14:17Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/c4aa054be094\nhttps://hg.mozilla.org/mozilla-central/rev/60c5ee1edc40\nhttps://hg.mozilla.org/mozilla-central/rev/edd8435444ec",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-26T01:43:11Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:16:50Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-26T01:43:11Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-26T01:43:11Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:16:21Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1132765"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:16:50Z",
      "what" : "blocks",
      "removed" : "1132765",
      "added" : ""
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:16:59Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1132765"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-24T19:00:25Z",
      "what" : "attachments.isobsolete:8563805",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-24T19:00:35Z",
      "what" : "attachments.isobsolete:8563806",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-24T19:00:45Z",
      "what" : "attachments.isobsolete:8563807",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-26T01:43:11Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-26T01:43:11Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-25 17:43:11"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-26T01:43:11Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:14:17Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563805,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T01:14:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563806,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-13T15:21:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563805,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-13T15:22:11Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563806,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-24T19:01:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568678,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-24T19:01:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568676,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-24T19:01:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568677,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-25T19:07:47Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8568678,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132764,
  "cclist" : [ "jordan@jsantell.com", "nfitzgerald@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Toggling \"record memory\" hides memory data I've already recorded",
  "reporter" : "nfitzgerald@mozilla.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "STR:\n\n* enable memory recording\n\n* make a recording\n\n* view the recording\n\n* disable memory recording\n\nER:\n\nI can still see the memory data I already recorded in this recording but new ones won't have it.\n\nAR:\n\nThe memory data I've already recorded goes away.",
  "comments" : [ {
    "text" : "STR:\n\n* enable memory recording\n\n* make a recording\n\n* view the recording\n\n* disable memory recording\n\nER:\n\nI can still see the memory data I already recorded in this recording but new ones won't have it.\n\nAR:\n\nThe memory data I've already recorded goes away.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T00:53:50Z"
  }, {
    "text" : "We already associate whether a recording had memory enabled or not. This would also flip on/off the memory details view options as well. Possible downside is, you don't see the \"additional features\" when enabling memory on a recording without memory to know what you're missing out on, unless re-recording, if that makes sense",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-13T01:00:09Z"
  }, {
    "text" : "Not specifically blocking v2.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-20T17:31:28Z"
  }, {
    "text" : "Created attachment 8598284\n1132758-feature-based-views.patch\n\nThis one got away from me a bit.\n\nDisplaying the allocations details view suffers the same fate as the graphs, all based on the current status of a pref, and what we ultimately want is whether or not the current recording supports certain features. So now the overview graphs and details views are based on the configuration of a recording. Many tests were changed in this case, to not set the view before any recordings exist, because that doesn't really make sense if the views are based on recording configuration.\n\nRecording configurations are now also saved on the profile. Useful to in the future display what the allocation precision and profiler frequency are as well.\n\nThe handling of overview graph rendering/graph-y stuff was consolidated into performance-graphs, so that overview view just handles the orchestration of the view.\n\nAll this makes future feature detection, and things like disabling components for Fx40, way easier.\n\nWelcome back, Victor. 55 files changed, 895 insertions(+), 571 deletions(-)\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=01fd8bd09e04",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-27T22:04:29Z"
  }, {
    "text" : "ffu",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-04-28T18:07:46Z"
  }, {
    "text" : "Comment on attachment 8598284\n1132758-feature-based-views.patch\n\nReview of attachment 8598284:\n-----------------------------------------------------------------\n\nT_T\n\nBut this was surprisingly easy to parse even though it was huge. A pattern I'm happy to find in all of your patches, Jordan :)\n\nI'd like to see more file splitting and the comments/nits below addressed. Feel free to pick and choose, and ask for another r? if you feel it's necessary.\n\n::: browser/devtools/performance/modules/graphs.js\n@@ +111,5 @@\n> +    this.dataDuration = duration;\n> +    return this.setDataFromTimestamps(ticks, resolution);\n> +  }\n> +});\n> +exports.FramerateGraph = FramerateGraph;\n\nNit: easier to understand this file if all exports were moved to the bottom.\n\n@@ +144,5 @@\n> +  setPerformanceData: MarkersOverview.prototype.setData\n> +});\n> +exports.TimelineGraph = TimelineGraph;\n> +\n> +const GRAPH_DEFINITIONS = {\n\nNit: document this.\n\n@@ +170,5 @@\n> + * @param {DOMElement} root\n> + * @param {function} getBlueprint\n> + * @param {function} getTheme\n> + */\n> +function GraphsController ({ definition, root, getBlueprint, getTheme }) {\n\nI feel like this should live in it's own file.\n\n@@ +201,5 @@\n> +   * some graphs.\n> +   * Saves rendering progress as a promise to be consumed by `destroy`,\n> +   * to wait for cleaning up rendering during destruction.\n> +   */\n> +  render: function (recordingData, resolution) {\n\nNit: Make this entire function a Task.async, instead of returning a new task, since that does it for you automatically and is prettier.\n\nrender: Task.async(function*(recordingData, resolution) {\n  ...\n\n  yield this._rendering.promise;\n\n  this._rendering = promise.defer();\n  for (...) {}\n  this._rendering.resolve();\n}),\n\n@@ +210,5 @@\n> +    // especially when a recording is finished, and triggers a\n> +    // fresh rendering at a higher rate\n> +    let lastRender = this._rendering;\n> +\n> +    // TODO can this be done faster? parallel? Use less abstractions?\n\nNot sure if parallel drawing gives us any pref benefits. Not even sure if it's possible (although each graph does live in it's own iframe). In any case, drawing sequentially is usually a better idea since it gives the impression of snappier UIs.\n\n@@ +273,5 @@\n> +    yield graph.ready();\n> +    return graph;\n> +  }),\n> +\n> +  enable: function (graphName, isEnabled) {\n\nNit: doc.\n\n::: browser/devtools/performance/modules/io.js\n@@ +151,5 @@\n> +    profile: profilerData.profile,\n> +    // Fake a configuration object here if there's tick data,\n> +    // so that it can be rendered\n> +    configuration: {\n> +      withTicks: !!ticksData.length\n\nNit: for posterity, how about also adding the other flags as well?\n\n::: browser/devtools/performance/modules/recording-model.js\n@@ +271,5 @@\n>      switch (eventName) {\n>        // Accumulate timeline markers into an array. Furthermore, the timestamps\n>        // do not have a zero epoch, so offset all of them by the start time.\n>        case \"markers\": {\n> +        if (!config.withMarkers) { return; }\n\nNit: not really a huge difference for now, but all of those returns should be breaks instead.\n\n::: browser/devtools/performance/performance-controller.js\n@@ +486,5 @@\n> +  isFeatureSupported: function ({ features, actors, isRecording: shouldBeRecording }, recording) {\n> +    recording = recording || this.getCurrentRecording();\n> +    let recordingConfig = recording ? recording.getConfiguration() : {};\n> +    let currentRecordingState = recording ? recording.isRecording() : void 0;\n> +    let actorsSupported = gFront.getActorSupport(); \n\nNit: whitespace.\n\n::: browser/devtools/performance/test/browser_perf-details-03.js\n@@ +8,5 @@\n>   */\n>  function spawnTest () {\n>    let { panel } = yield initPerformance(SIMPLE_URL);\n>    let { EVENTS, PerformanceController, OverviewView, DetailsView } = panel.panelWin;\n> +  let { $, WaterfallView, MemoryCallTreeView, RecordingsView, MemoryFlameGraphView } = panel.panelWin;\n\nUber Nit: order those variables a bit to follow the UI structure:\n\nlet { $, RecordingsView, WaterfallView, MemoryCallTreeView, MemoryFlameGraphView } = panel.panelWin;\n\n::: browser/devtools/performance/test/browser_perf-details-04.js\n@@ +6,5 @@\n>   * doesn't exist or is in progress.\n>   */\n>  function spawnTest () {\n>    let { panel } = yield initPerformance(SIMPLE_URL);\n> +  let { EVENTS, $, $$, WaterfallView, PerformanceController, RecordingsView, DetailsView } = panel.panelWin;\n\nUber nit: ditto:\n\nlet { EVENTS, $, $$, PerformanceController, RecordingsView, WaterfallView, DetailsView } = panel.panelWin;\n\n::: browser/devtools/performance/views/details.js\n@@ +113,5 @@\n> +    //\n> +    // 2. If we have a finished recording and no panel was selected yet,\n> +    // use a default now that we have the recording configurations\n> +    if ((invalidCurrentView && this._initialized && !isRecording) ||\n> +        (recording && !isRecording && !this._initialized)) {\n\nNit: order these the same way:\n\n(invalidCurrentView && this._initialized && !isRecording) ||\n(recording && !this._initialized && !isRecording)) {\n\n@@ +171,3 @@\n>        return this.selectView(\"waterfall\");\n> +    } else {\n> +      return this.selectView(\"js-calltree\");\n\nNit: make a not here that the js call tree should always be supported since the profiler actor is as old as the world.\n\n::: browser/devtools/performance/views/overview.js\n@@ +294,5 @@\n>    _checkSelection: Task.async(function* (recording) {\n> +    let isEnabled = recording ? !recording.isRecording() : false;\n> +    yield this.graphs.selectionEnabled(isEnabled);\n> +  }),\n> +  \n\nNit: whitespace.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-04-28T18:44:08Z"
  }, {
    "text" : "Created attachment 8599026\n1132758-feature-based-views.patch\n\nAdopted all nits, except only added a few options to an imported legacy profiler data (like withMemory, etc was fine, but not sampleFrequency, as that doesn't really make sense to make up).",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-29T01:45:36Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/fba992940a64",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-04-30T00:25:24Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/fba992940a64",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-04-30T17:49:01Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-27T22:04:29Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T00:54:08Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com, nfitzgerald@mozilla.com, vporof@mozilla.com"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T00:54:08Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-20T17:31:28Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-13T21:58:18Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1145697"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-27T22:04:29Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-29T01:46:19Z",
      "what" : "attachments.ispatch:8598284",
      "removed" : "1",
      "added" : "0"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-29T01:46:19Z",
      "what" : "attachments.isobsolete:8598284",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-29T01:46:34Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-30T00:25:24Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-30T00:25:24Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 40"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-04-30 10:49:01"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "cf_status_firefox40",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-27T22:04:29Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8598284,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-04-28T18:44:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8598284,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-04-29T01:45:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8599026,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-04-30T17:49:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "TEST_SUITE",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132758,
  "cclist" : [ "jordan@jsantell.com", "nfitzgerald@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Allocations tree has a bunch of columns that don't make sense",
  "reporter" : "nfitzgerald@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "\"total time\" ?? This is allocations, not CPU profiling, what is being timed?\n\n\"total cost\" not even sure what this is -- time percentage?\n\nSame goes for self time and self cost.\n\n\"samples\" this is clearly different from count, but I wouldn't expect it to be\n\nI think we should only have:\n\n* Self allocation \"count\" and percentage\n\n* Total allocation \"count\" and percentage\n\nBut \"count\" is misleading because it is only the times we sampled an allocation, not the actual number of times an allocation happened. Total allocations ~= sampled allocations x (1 / sample rate), but I'm not sure we want to display that to the user. Perhaps just percentages, and relabeling \"counts\" as \"sampled allocations\".",
  "comments" : [ {
    "text" : "\"total time\" ?? This is allocations, not CPU profiling, what is being timed?\n\n\"total cost\" not even sure what this is -- time percentage?\n\nSame goes for self time and self cost.\n\n\"samples\" this is clearly different from count, but I wouldn't expect it to be\n\nI think we should only have:\n\n* Self allocation \"count\" and percentage\n\n* Total allocation \"count\" and percentage\n\nBut \"count\" is misleading because it is only the times we sampled an allocation, not the actual number of times an allocation happened. Total allocations ~= sampled allocations x (1 / sample rate), but I'm not sure we want to display that to the user. Perhaps just percentages, and relabeling \"counts\" as \"sampled allocations\".",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-02-13T00:44:09Z"
  }, {
    "text" : "Created attachment 8575631\nv1\n\nShelving.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-10T22:49:11Z"
  }, {
    "text" : "Created attachment 8576744\nv2",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-12T16:54:06Z"
  }, {
    "text" : "Comment on attachment 8576744\nv2\n\nReview of attachment 8576744:\n-----------------------------------------------------------------\n\nJust looked at performance.xul -- LGTM",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-03-12T17:03:42Z"
  }, {
    "text" : "Comment on attachment 8576744\nv2\n\nReview of attachment 8576744:\n-----------------------------------------------------------------\n\nrock",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-12T17:04:41Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/c2e4e7c38905",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-12T19:07:14Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/c2e4e7c38905",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-13T12:04:45Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T22:49:11Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:45Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:45Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-02-13T00:44:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com, nfitzgerald@mozilla.com, vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-13T18:50:37Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:28Z",
      "what" : "blocks",
      "removed" : "1075567",
      "added" : ""
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-10T22:49:11Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T16:54:06Z",
      "what" : "attachments.isobsolete:8575631",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T19:07:14Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:45Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:45Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:45Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-13 05:04:45"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-13T12:04:45Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-12T16:54:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8576744,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-03-12T17:03:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8576744,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-12T17:04:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8576744,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132755,
  "cclist" : [ "jordan@jsantell.com", "nfitzgerald@mozilla.com", "vporof@mozilla.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Addon Debugger failures from new performance tool",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Whole bunch of 'em on gum, related to lacking an actorID.\n\n 252 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-console.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1005274 Intermittent browser_dbg_addon-console.js | Test timed out followed by 30+ more failures\n\n312 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules-unpacked.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1128315 Intermittent browser_dbg_addon-modules-unpacked.js | application crashed [@ nsPurpleBuffer::Block::VisitEntries<RemoveSkippableVisitor>(nsPurpleBuffer&, RemoveSkippableVisitor&)]\n\n379 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n414 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-panels.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n450 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-sources.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID. \n 252 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-console.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1005274 Intermittent browser_dbg_addon-console.js | Test timed out followed by 30+ more failures\n\n312 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules-unpacked.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1128315 Intermittent browser_dbg_addon-modules-unpacked.js | application crashed [@ nsPurpleBuffer::Block::VisitEntries<RemoveSkippableVisitor>(nsPurpleBuffer&, RemoveSkippableVisitor&)]\n\n379 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n414 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-panels.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n450 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-sources.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.",
  "comments" : [ {
    "text" : "Whole bunch of 'em on gum, related to lacking an actorID.\n\n 252 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-console.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1005274 Intermittent browser_dbg_addon-console.js | Test timed out followed by 30+ more failures\n\n312 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules-unpacked.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1128315 Intermittent browser_dbg_addon-modules-unpacked.js | application crashed [@ nsPurpleBuffer::Block::VisitEntries<RemoveSkippableVisitor>(nsPurpleBuffer&, RemoveSkippableVisitor&)]\n\n379 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n414 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-panels.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n450 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-sources.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID. \n 252 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-console.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1005274 Intermittent browser_dbg_addon-console.js | Test timed out followed by 30+ more failures\n\n312 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules-unpacked.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n\n    1128315 Intermittent browser_dbg_addon-modules-unpacked.js | application crashed [@ nsPurpleBuffer::Block::VisitEntries<RemoveSkippableVisitor>(nsPurpleBuffer&, RemoveSkippableVisitor&)]\n\n379 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-modules.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n414 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-panels.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.\n450 INFO TEST-UNEXPECTED-FAIL | browser/devtools/debugger/test/browser_dbg_addon-sources.js | A promise chain failed to handle a rejection: - at resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1123 - Error: Can't manage front without an actor ID.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T22:49:49Z"
  }, {
    "text" : "Gonna depend this on bug 1130202.\n\nWe need to disable profiler for addons here -- the global profiler is kicking in, running the SharedPerformanceFront, attempting to connect to memory actor which does not exist in this target, but the faulty compatibility test is passing? Either way, looking at this more after bug 1130202 lands.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-13T00:47:37Z"
  }, {
    "text" : "Also only fails if we run the browser_dbg_aaa_leak_test before any of the addon tests.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-13T00:48:18Z"
  }, {
    "text" : "Created attachment 8564321\n1132713-addon-debugger-fix.patch\n\nThis was due to the global profiler kicking in on the addon debugger context, where no profiler/timeline/memory actors exist. While the performance tool does not show for the addon debugger (because profiler actor does not exist), we still attempted to connect to the timeline/memory actors from the global profiler (in gDevTools). The changes in compatibility now works, as we test for both Gecko 38+ features, AND the memory actor existing.\n\n https://treeherder.mozilla.org/#/jobs?repo=try&revision=bfadeb605a78",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-13T20:03:38Z"
  }, {
    "text" : "FYI tests were failing locally on my gum-ified branch, and now are passing with this patch, so should fix all those debugger issues on gum",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-13T20:07:16Z"
  }, {
    "text" : "Comment on attachment 8564321\n1132713-addon-debugger-fix.patch\n\nReview of attachment 8564321:\n-----------------------------------------------------------------\n\nYay less oranges",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-13T20:14:02Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/82abcbb019d7\n\nMerged into gum: https://hg.mozilla.org/projects/gum/rev/82abcbb019d7",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-13T20:17:12Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/82abcbb019d7",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-16T14:55:38Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:03:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:38Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:38Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T22:50:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815, 1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T00:47:37Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1130202"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:03:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:03:38Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-13T20:17:12Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:38Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:38Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:38Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-16 06:55:38"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-16T14:55:38Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T20:03:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564321,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-13T20:14:02Z",
      "what" : "flagtypes.name",
      "removed" : "review?(vporof@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564321,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132713,
  "cclist" : [ "vporof@mozilla.com" ]
}, {
  "component" : "General",
  "summary" : "Reader mode toolbar button is slow to appear",
  "reporter" : "margaret.leibovic@gmail.com",
  "assigned" : "margaret.leibovic@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P2",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This is an issue madhava complained about, but I didn't see a bug go by yet.\n\nRight now we wait until pageshow to start parsing the content:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/content.js#509\n\nWe could probably try doing this on DOMContentLoaded instead.\n\nThis is an interesting issue because the UX is different than Android, where the reader mode icon replaces the stop button. On Android, if we know about the reader-mode-ability of a page before it's done loading, we still wouldn't show something to the user. But on desktop, we should try to make that reader mode button appear ASAP.",
  "comments" : [ {
    "text" : "This is an issue madhava complained about, but I didn't see a bug go by yet.\n\nRight now we wait until pageshow to start parsing the content:\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/content.js#509\n\nWe could probably try doing this on DOMContentLoaded instead.\n\nThis is an interesting issue because the UX is different than Android, where the reader mode icon replaces the stop button. On Android, if we know about the reader-mode-ability of a page before it's done loading, we still wouldn't show something to the user. But on desktop, we should try to make that reader mode button appear ASAP.",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-02-12T21:57:43Z"
  }, {
    "text" : "*** Bug 1131464 has been marked as a duplicate of this bug. ***",
    "authour" : "dolske@mozilla.com",
    "created" : "2015-03-10T22:32:49Z"
  }, {
    "text" : "With the change to avoid parse-on-load (bug 1139678), we could definitely show the button earlier. With my patch in bug 1139678, I'm only using the URL to decide whether or not to show the button, so we could even show it on location change, not pageshow.",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-17T17:26:15Z"
  }, {
    "text" : "Created attachment 8579460\nMozReview Request: bz://1132674/margaret\n\n/r/5637 - Bug 1132674 - Show reader toolbar button on DOMContentLoaded instead of pageshow. r=Gijs\n\nPull down this commit:\n\nhg pull review -r da77ba76b2e0284da630bb1dfec51b24ab9b8e68",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-18T17:36:49Z"
  }, {
    "text" : "Comment on attachment 8579460\nMozReview Request: bz://1132674/margaret\n\nhttps://reviewboard.mozilla.org/r/5635/#review4617\n\nShip It!",
    "authour" : "gijskruitbosch+bugs@gmail.com",
    "created" : "2015-03-18T17:57:37Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/5bdecf0d7d63",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-03-19T17:18:05Z"
  }, {
    "text" : "Is the DOMContentLoaded event fired when a page is reloaded from the bfcache?",
    "authour" : "florian@queze.net",
    "created" : "2015-03-19T18:04:29Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/5bdecf0d7d63",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-20T02:12:02Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/2b44abf2f570",
    "authour" : "jaws@mozilla.com",
    "created" : "2015-03-27T00:36:10Z"
  }, {
    "text" : "Comment on attachment 8579460\nMozReview Request: bz://1132674/margaret",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-06-10T15:35:07Z"
  }, {
    "text" : "Created attachment 8619468\nMozReview Request: Bug 1132674 - Show reader toolbar button on DOMContentLoaded instead of pageshow. r=Gijs",
    "authour" : "margaret.leibovic@gmail.com",
    "created" : "2015-06-10T15:35:07Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-20T02:12:02Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-20T02:12:02Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "dolske@mozilla.com",
      "date" : "2015-03-05T00:23:27Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P2"
    }, {
      "name" : "dolske@mozilla.com",
      "date" : "2015-03-10T22:32:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "kbrosnan@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-17T04:45:02Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-17T17:26:15Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "margaret.leibovic@gmail.com"
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-18T17:36:49Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gijskruitbosch+bugs@gmail.com"
    }, {
      "name" : "florian@queze.net",
      "date" : "2015-03-19T18:04:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "florian@queze.net"
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-19T18:17:10Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1145259"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-20T02:12:02Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-20T02:12:02Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-19 19:12:02"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-20T02:12:02Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-20T02:56:41Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "39.2 - 23 Mar"
    }, {
      "name" : "jaws@mozilla.com",
      "date" : "2015-03-27T00:36:10Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-06-10T15:35:07Z",
      "what" : "attachments.isobsolete:8579460",
      "removed" : "0",
      "added" : "1"
    } ],
    "flagEvents" : [ {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-02-20T19:48:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-17T17:50:04Z",
      "what" : "flagtypes.name",
      "removed" : "firefox-backlog?",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-03-18T17:36:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8579460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-03-18T17:57:37Z",
      "what" : "flagtypes.name",
      "removed" : "review?(gijskruitbosch+bugs@gmail.com)",
      "added" : "",
      "attachmentId" : 8579460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-20T02:56:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "margaret.leibovic@gmail.com",
      "date" : "2015-06-10T15:35:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619468,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132674,
  "cclist" : [ "florian@queze.net", "gijskruitbosch+bugs@gmail.com", "kbrosnan@mozilla.com", "madhava@mozilla.com", "mmaslaney@mozilla.com", "mmucci@mozilla.com" ]
}, {
  "component" : "Developer Tools: WebIDE",
  "summary" : "Warn when connecting to a server newer than client",
  "reporter" : "jryans@gmail.com",
  "assigned" : "poirot.alex@gmail.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "So far, DevTools does not attempt forwards compatibility at all, as in:\n\nClient 37 -> Server 38\n\nMany times, it can work out okay, but we make no attempt to design things this way.\n\nWith the new popularity of Dev Edition, some users on Dev Edition try to use this use FxOS devices on master / m-c, which creates this situation.\n\nIn recent months, there have been several breakages of this type when changes landed, such as bug 1127238 and bug 905700.\n\nWe should warn the user when connecting to such as server that this is experimental and not expected to work at all.",
  "comments" : [ {
    "text" : "So far, DevTools does not attempt forwards compatibility at all, as in:\n\nClient 37 -> Server 38\n\nMany times, it can work out okay, but we make no attempt to design things this way.\n\nWith the new popularity of Dev Edition, some users on Dev Edition try to use this use FxOS devices on master / m-c, which creates this situation.\n\nIn recent months, there have been several breakages of this type when changes landed, such as bug 1127238 and bug 905700.\n\nWe should warn the user when connecting to such as server that this is experimental and not expected to work at all.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-12T21:50:17Z"
  }, {
    "text" : "Alex, could you look into adding this?  Or Jan if you are busy?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-18T03:22:26Z"
  }, {
    "text" : "Bug 925649 is related: fail if server is <26.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-18T17:32:19Z"
  }, {
    "text" : "Created attachment 8586727\npatch v1\n\nThis approach sounds very simple but wouldn't allow identifying for sure devices < 26.\nI would imagine we get errors way before reaching this code?",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-04-01T12:49:07Z"
  }, {
    "text" : "Created attachment 8591631\npatch v2\n\nRebased.\nThe check is quite dumb. May be we should only check for build id having at least one day difference?\nBecause while using it locally it often warns me even if the build are just from the same revision but build one after another.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-04-13T12:44:06Z"
  }, {
    "text" : "Comment on attachment 8591631\npatch v2\n\nReview of attachment 8591631:\n-----------------------------------------------------------------\n\nSeems good overall, thanks!\n\n(In reply to Alexandre Poirot [:ochameau] from comment #4)\n> The check is quite dumb. May be we should only check for build id having at\n> least one day difference?\n> Because while using it locally it often warns me even if the build are just\n> from the same revision but build one after another.\n\nRight, I can see how that would get annoying when you've just built each side.  Since we're just checking timestamps for now, I think a one day buffer seems reasonable.\n\nThe main case I want to protect against is Dev Ed. Firefox -> Nightly device, so we'll still warn in those cases with a one day buffer.\n\n::: browser/locales/en-US/chrome/browser/devtools/webide.properties\n@@ +43,5 @@\n>  error_cantFetchAddonsJSON=Can't fetch the add-on list: %S\n>  \n>  error_appProjectsLoadFailed=Unable to load project list. This can occur if you've used this profile with a newer version of Firefox.\n>  \n> +# Variable: runtime app build ID (looks like this %Y%M%D{numeric id} format) and firefox build ID (same format)\n\nNit: the remaining numbers are just the hour, minute, and second of the build time, I believe.\n\n@@ +44,5 @@\n>  \n>  error_appProjectsLoadFailed=Unable to load project list. This can occur if you've used this profile with a newer version of Firefox.\n>  \n> +# Variable: runtime app build ID (looks like this %Y%M%D{numeric id} format) and firefox build ID (same format)\n> +error_runtimeVersionTooRecent=The connected runtime has a more recent build (%1$S) than your Firefox (%2$S). It may results in random breakages. Please update your Firefox.\n\nSlightly edited version:\n\n\"The connected runtime has a more recent build date (%1$S) than your desktop Firefox (%2$S) does.  This is an unsupported setup and may cause DevTools to fail.  Please update Firefox.\"",
    "authour" : "jryans@gmail.com",
    "created" : "2015-04-20T20:49:57Z"
  }, {
    "text" : "Alex, someone else stumbled into this issue today.  Is this ready to land?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-05-28T01:02:59Z"
  }, {
    "text" : "I guess there are a few nits to fix...  Anyway, it would be good to get this in!",
    "authour" : "jryans@gmail.com",
    "created" : "2015-05-28T01:03:46Z"
  }, {
    "text" : "Created attachment 8614676\npatch v3",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-06-03T14:15:46Z"
  }, {
    "text" : "Changed to only compare and display build date (i.e. ignore the hour/minutes).\nNeed to test it now, and requires some builds...",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-06-03T14:25:35Z"
  }, {
    "text" : "Comment on attachment 8614676\npatch v3\n\nWorks fine, let's see on try:\n  https://treeherder.mozilla.org/#/jobs?repo=try&revision=da0fdde4cdb8",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-06-04T13:51:33Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/9b3205f611cf",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-06-08T16:30:17Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9b3205f611cf",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-06-11T01:18:03Z"
  }, {
    "text" : "Should Firefox be hard-coded in this string, or should we use a proper branding variable?",
    "authour" : "francesco.lodolo@gmail.com",
    "created" : "2015-06-11T05:50:41Z"
  }, {
    "text" : "Is this supposed to /warn/ or to /fail/?  I think it warns, but it's extremely off-putting for local *browser* developers: almost by definition, my local (custom) Fennec build is newer than my Desktop nightly.  Can we turn this off when connecting to custom builds?",
    "authour" : "nalexander@mozilla.com",
    "created" : "2015-06-16T00:06:14Z"
  }, {
    "text" : "(In reply to Nick Alexander :nalexander from comment #14)\n> Is this supposed to /warn/ or to /fail/?  I think it warns, but it's\n> extremely off-putting for local *browser* developers: almost by definition,\n> my local (custom) Fennec build is newer than my Desktop nightly.  Can we\n> turn this off when connecting to custom builds?\n\nIt's meant to be a warning.  Let's discuss refining this in a separate bug, I filed bug 1174956.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-06-16T00:21:55Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-06-11T01:18:03Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-06-11T01:18:03Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-18T03:22:26Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com, poirot.alex@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-18T17:32:19Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=925649"
    }, {
      "name" : "chrislord.net@gmail.com",
      "date" : "2015-03-03T11:23:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "chrislord.net@gmail.com"
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-04-01T11:28:24Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "poirot.alex@gmail.com"
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-04-13T12:44:06Z",
      "what" : "attachments.isobsolete:8586727",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-05-28T01:02:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "seth@mozilla.com"
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-06-03T14:15:46Z",
      "what" : "attachments.isobsolete:8591631",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-06-08T15:16:36Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-06-08T16:30:17Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-06-11T01:18:03Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 41"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-06-11T01:18:03Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-06-10 18:18:03"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-06-11T01:18:03Z",
      "what" : "cf_status_firefox41",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "francesco.lodolo@gmail.com",
      "date" : "2015-06-11T05:50:41Z",
      "what" : "cc",
      "removed" : "",
      "added" : "francesco.lodolo@gmail.com"
    }, {
      "name" : "nalexander@mozilla.com",
      "date" : "2015-06-16T00:06:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nalexander@mozilla.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-06-16T00:21:12Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1174956"
    } ],
    "flagEvents" : [ {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-18T03:22:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-04-01T11:28:24Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-04-13T12:45:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8591631,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-04-20T20:49:57Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8591631,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-05-28T01:02:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-06-03T14:25:35Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-06-04T13:51:33Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8614676,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132670,
  "cclist" : [ "chrislord.net@gmail.com", "francesco.lodolo@gmail.com", "jryans@gmail.com", "nalexander@mozilla.com", "poirot.alex@gmail.com", "seth.bugzilla@blackhail.net" ]
}, {
  "component" : "Developer Tools: WebIDE",
  "summary" : "NS_ERROR_FILE_UNRECOGNIZED_PATH when installing/loading simulators",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "nobody@mozilla.org",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "I just built FF, so had to reinstall some simulators. After installing both 2.0 and 2.2 simultaneously, I went to run 2.0. And got the following error (in the yellow popup):\n\n\"Operation failed: Connecting to Firefox OS 2.0: [Exception... \"Component returned failure code: 0x80520001 (NS_ERROR_FILE_UNRECOGNIZED_PATH) [nsIFile.append]\"  nsresult: \"0x80520001 (NS_ERROR_FILE_UNRECOGNIZED_PATH)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/webide/simulator-process.js :: .get :: line 191\"  data: no]\" webide.js:324:4\nUI.reportError() webide.js:324\nUI.busyUntil/<() webide.js:305\nHandler.prototype.process() Promise-backend.js:870\nthis.PromiseWalker.walkerLoop() Promise-backend.js:746\nthis.PromiseWalker.scheduleWalkerLoop/<() Promise-backend.js:688\n\nI tried to switch to 2.2, and back to 2.0 but they all gave me the same error, and did not load the simulator, even after closing/reopening WebIDE, same with restarting Firefox and attempting to reinstall has the same result",
  "comments" : [ {
    "text" : "I just built FF, so had to reinstall some simulators. After installing both 2.0 and 2.2 simultaneously, I went to run 2.0. And got the following error (in the yellow popup):\n\n\"Operation failed: Connecting to Firefox OS 2.0: [Exception... \"Component returned failure code: 0x80520001 (NS_ERROR_FILE_UNRECOGNIZED_PATH) [nsIFile.append]\"  nsresult: \"0x80520001 (NS_ERROR_FILE_UNRECOGNIZED_PATH)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource:///modules/devtools/webide/simulator-process.js :: .get :: line 191\"  data: no]\" webide.js:324:4\nUI.reportError() webide.js:324\nUI.busyUntil/<() webide.js:305\nHandler.prototype.process() Promise-backend.js:870\nthis.PromiseWalker.walkerLoop() Promise-backend.js:746\nthis.PromiseWalker.scheduleWalkerLoop/<() Promise-backend.js:688\n\nI tried to switch to 2.2, and back to 2.0 but they all gave me the same error, and did not load the simulator, even after closing/reopening WebIDE, same with restarting Firefox and attempting to reinstall has the same result",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T21:49:59Z"
  }, {
    "text" : "Thanks a lot for catching that so quickly! I broke simulators > 1.3 on Mac OS[1], so I requested a back out.\n\nThe tests that would have guarded against that are almost working on Alex's computer, looking forward to that :)\n\n[1] https://bugzilla.mozilla.org/show_bug.cgi?id=1090949#c85",
    "authour" : "janx@linux.com",
    "created" : "2015-02-12T22:50:57Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T22:50:57Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T22:50:57Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T22:39:09Z",
      "what" : "cc",
      "removed" : "",
      "added" : "janx@linux.com"
    }, {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T22:39:09Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1090949"
    }, {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T22:50:57Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-12 14:50:57"
    } ],
    "flagEvents" : [ ]
  },
  "resolution" : "FIXED",
  "id" : 1132669,
  "cclist" : [ "janx@linux.com" ]
}, {
  "component" : "Private Browsing",
  "summary" : "Make privatebrowsing tests run in e10s",
  "reporter" : "smacleod@mozilla.com",
  "assigned" : "smacleod@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "All tests under browser/components/privatebrowsing/test/browser/ are currently disabled in e10s. We need to fix them up to work in e10s so that privatebrowsing has coverage again.",
  "comments" : [ {
    "text" : "All tests under browser/components/privatebrowsing/test/browser/ are currently disabled in e10s. We need to fix them up to work in e10s so that privatebrowsing has coverage again.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-12T19:36:58Z"
  }, {
    "text" : "Hi Steven, can you provide a point value.",
    "authour" : "mmucci@mozilla.com",
    "created" : "2015-02-13T00:14:57Z"
  }, {
    "text" : "Created attachment 8573590\nMozReview Request: bz://1132566/smacleod\n\n/r/4815 - Bug 1132566 - Stop defaulting to skip privatebrowsing mochitest-browser tests.\n/r/4817 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_aboutHomeButtonAfterWindowClose.js\n/r/4819 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_aboutSessionRestore.js\n/r/4821 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_DownloadLastDirWithCPS.js\n/r/4823 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_cache.js\n/r/4825 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_certexceptionsui.js\n/r/4827 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_concurrent.js\n/r/4829 - Bug 1132566 - Cleanup browser_privatebrowsing_concurrent.js\n/r/4831 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_cookieacceptdialog.js\n/r/4833 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_crh.js\n/r/4835 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir.js\n/r/4837 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir_c.js\n/r/4839 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir_toggle.js\n/r/4841 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_geoprompt.js\n/r/4843 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_lastpbcontextexited.js\n/r/4845 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_localStorage.js\n/r/4847 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_localStorage_before_after.js\n/r/4849 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_noSessionRestoreMenuOption.js\n/r/4851 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_nonbrowser.js\n/r/4853 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_opendir.js\n/r/4855 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_placesTitleNoUpdate.js\n/r/4857 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_placestitle.js\n/r/4859 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_popupblocker.js\n/r/4861 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_protocolhandler.js\n/r/4863 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_sidebar.js\n/r/4865 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_theming.js\n/r/4867 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_ui.js\n/r/4869 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_urlbarfocus.js\n\nPull down these commits:\n\nhg pull review -r 771533ad1ec60ec869def99206a65a56559d812c",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-05T23:35:22Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4813/#review3911\n\nThere are a lot of commits here so I tried to split up the reviewing load a bit between the four of you. Bill, I've given you all the commits which just enable a test that wasn't failing for me, as well as a few actual fixes (which is why you have the most commits to review).\n\nFeel free to tell me to reassign commits etc if you think there is someone better.\n\nTry push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=68e20223a540",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-05T23:38:37Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4855/#review3927\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placesTitleNoUpdate.js\n(Diff revision 1)\n> -function test() {\n> +add_task(function test() {\n\nNit: add_task(function* test() {\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placesTitleNoUpdate.js\n(Diff revision 1)\n> -  let windowsToClose = [];\n> +  deferredAfterUpdateVisit.promise = new Promise((resolve, reject) => {\n\nShould probably use PromiseUtils.defer().\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placesTitleNoUpdate.js\n(Diff revision 1)\n> -      aWin.gBrowser.selectedBrowser.removeEventListener(\"load\", onLoad, true);\n> +  BrowserTestUtils.closeWindow(privateWin);\n\nI can't find where BrowserTestUtils.closeWindow() is defined but that should probably return a Promise, just like promiseWindowClosed(). It needs to call win.close() and wait for the domwindowclosed notification - like we do in the sessionstore test suite.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placesTitleNoUpdate.js\n(Diff revision 1)\n> +          deferredAfterUpdateVisit.resolve();\n\nCould we move the whole historyObserver code to a separate function maybe? That just uses the |new Promise(...)| API and returns a Promise?",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-06T10:19:39Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4857/#review3925\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placestitle.js\n(Diff revision 1)\n> -function test() {\n> +add_task(function test() {\n\nNit: add_task(function* test() {\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placestitle.js\n(Diff revision 1)\n> +  let PromiseUtils = Cu.import(\"resource://gre/modules/PromiseUtils.jsm\", {}).PromiseUtils;\n\nNit: let {PromiseUtils} = Cu.import(\"resource://gre/modules/PromiseUtils.jsm\", {});\n\nOTOH, maybe just put that into head.js?\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placestitle.js\n(Diff revision 1)\n>    let cm = Cc[\"@mozilla.org/cookiemanager;1\"].getService(Ci.nsICookieManager);\n\nUse Services.cookies?\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placestitle.js\n(Diff revision 1)\n> -          is(aPageTitle, \"No Cookie\",\n> +          deferredFirst.resolve(aPageTitle);\n\nIt seems like this whole test can be simplified if we would move the historyObserver code to a separate function instead of reusing the same observer for multiple steps.\n\nWe could just do something, yield waitForPageTitleChanged(), check that everything worked and then do the next step, yield again, etc.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placestitle.js\n(Diff revision 1)\n> +  BrowserTestUtils.closeWindow(win2);\n\nSame remark that this should be async.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placestitle.js\n(Diff revision 1)\n> -  let selectedWin = null;\n> +  function waitForCleanup() {\n\nThe name here is a little misleading, we're not really just waiting for the cleanup to happen. We're kicking it off.",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-06T10:25:10Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4855/#review3937\n\n> I can't find where BrowserTestUtils.closeWindow() is defined but that should probably return a Promise, just like promiseWindowClosed(). It needs to call win.close() and wait for the domwindowclosed notification - like we do in the sessionstore test suite.\n\nAh yes I probably should have split `BrowserTestUtils.closeWindow()` out into its own commit to make that more obvious. Currently it is part of the first commit to use it, https://reviewboard.mozilla.org/r/4831/\n\nIt does return a promise, waiting for domwindowclosed.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-06T15:10:37Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4857/#review3939\n\n> It seems like this whole test can be simplified if we would move the historyObserver code to a separate function instead of reusing the same observer for multiple steps.\n> \n> We could just do something, yield waitForPageTitleChanged(), check that everything worked and then do the next step, yield again, etc.\n\nHow do you suggest dealing with the `default` case that makes sure it doesn't fire for the private window? I'd rather avoid having two listeners, same with timeouts.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-06T15:47:18Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #7)\n> How do you suggest dealing with the `default` case that makes sure it\n> doesn't fire for the private window? I'd rather avoid having two listeners,\n> same with timeouts.\n\nHmm :/ Overlooked to case where we check that it doesn't fire. Seems fine to keep it as is then I guess. Didn't see those as r+ requirements, was thinking out loud so please do what you think is reasonable :)",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-06T15:51:48Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4817/#review3941\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_aboutHomeButtonAfterWindowClose.js\n(Diff revision 1)\n> +add_task(function test_no_sessionrestore_button() {\n\nfunction*\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_aboutHomeButtonAfterWindowClose.js\n(Diff revision 1)\n>  // This test checks that the Session Restore about:home button\n>  // is disabled in private mode\n\nTook me a minute or two to figure out what the \"Session Restore about:home\" button was. Maybe let's update this comment to refer to the \"Restore Previous Session\" button.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_aboutHomeButtonAfterWindowClose.js\n(Diff revision 1)\n> +  (yield BrowserTestUtils.openNewBrowserWindow({private: true})).close();\n\nCan you quickly explain why we're opening and closing this first window? (I assume it's to theoretically create a session?)",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-06T16:53:11Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4819/#review3943\n\nThis is so much more readable. This is the best.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_aboutSessionRestore.js\n(Diff revision 1)\n> +add_task(function testNoSessionRestoreButton() {\n\nfunction*\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_aboutSessionRestore.js\n(Diff revision 1)\n> +  (yield BrowserTestUtils.openNewBrowserWindow({private: true})).close();\n\nQuickly mention why we're opening and closing this window - much like the last test, I imagine.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-06T16:56:54Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4841/#review3947\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_geoprompt.js\n(Diff revision 1)\n> -        function runTest() {\n> +      // Wait until the notification is available.\n> +      while (!notification){\n> +        yield new Promise(resolve => { executeSoon(resolve); });\n> -          let notification = aWindow.PopupNotifications.getNotification(\"geolocation\");\n> +        let notification = aWindow.PopupNotifications.getNotification(\"geolocation\");\n> -          if (!notification) {\n> -            // Wait until the notification is available\n> -            executeSoon(runTest);\n> -            return;\n> -          }\n> +      }\n\nThis sort of thing - waiting for an eventual popup - is something I see often, and can/should probably be put into BrowserTestUtils.\n\nI normally see it solved with something like \"waitForCondition\", and it polls via setInterval for a set number of times before timing out.\n\nI suggest writing something like that for BrowserTestUtils that we can use like this:\n\n```\nyield BrowserTestUtils.waitForCondition(() => {\n  let notification = aWindow.PopupNotifications.getNotification(\"geolocation\");\n  return !!notification;\n});\n```\n\nAnd have it have some default timeout of like... 5 seconds or something. Maybe that could be overridable with an optional arg to waitForCondition.\n\nI'm not saying you have to do that here and now, but maybe let's get a bug on file to get it added to BrowserTestUtils?\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_geoprompt.js\n(Diff revision 1)\n> -  testOnWindow({private: false}, function(win) {\n> +\n\nNit - remove extra newline.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-06T17:46:16Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4841/#review3951\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_geoprompt.js\n(Diff revision 1)\n> -function test() {\n> +add_task(function test() {\n\nfunction*",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-06T17:47:00Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4859/#review3955\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_popupblocker.js\n(Diff revision 1)\n> -function test() {\n> +add_task(function test() {\n\nfunction*\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_popupblocker.js\n(Diff revision 1)\n> -          testOnWindow({}, function(win) {\n> +  gPrefService.setBoolPref(\"dom.disable_open_during_load\", oldPopupPolicy);\n\nMaybe move this into a registerCleanupFunction so that we don't contaminate other tests if we throw or something before we get here.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-06T17:49:49Z"
  }, {
    "text" : "Comment on attachment 8573590\nMozReview Request: bz://1132566/smacleod\n\nr=me for the commits I reviewed with my nits fixed.",
    "authour" : "mconley@mozilla.com",
    "created" : "2015-03-06T17:50:55Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4827/#review4001\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_concurrent.js\n(Diff revision 1)\n> +  });\n\nYou should be able to use private_tab.contentTitle here and thoughout the rest of the test.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-06T23:33:41Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4829/#review4003\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_concurrent.js\n(Diff revision 1)\n> -  });\n> +    });\n\nAgain I'd expect browser.contentTitle to work here.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-06T23:37:55Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4829/#review4005",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-06T23:38:42Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4833/#review4007\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_crh.js\n(Diff revision 1)\n> +  let testURI = \"http://mochi.test:8888/\";\n\nDoesn't seem like these needed to move. Would keep the blame cleaner.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-07T00:07:07Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4833/#review4009\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_crh.js\n(Diff revision 1)\n> -  waitForExplicitFinish();\n> +  let windowsToClose = [];\n\nThis variable is never used now.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-07T00:08:18Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4861/#review4011\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_protocolhandler.js\n(Diff revision 1)\n>    function doTest(aIsPrivateMode, aWindow, aCallback) {\n\nUse Task.async here and you can get rid of the callback and generally make this saner.",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-07T00:11:17Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4847/#review4061\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_localStorage_before_after.js\n(Diff revision 1)\n> -    testURI = prefix + 'browser_privatebrowsing_localStorage_before_after_page.html';\n> -    doTest(true, aWin, function() {\n> -      // then test when not on private mode\n> +  privateBrowser.loadURI(\n> +    prefix + 'browser_privatebrowsing_localStorage_before_after_page.html');\n> +  yield BrowserTestUtils.browserLoaded(privateBrowser);\n\nThere's a subtle problem here that we have with all our e10s tests: loadURI is sent to the child immediately and the page may already have loaded by the time you call browserLoader. That can't happen in non-e10s.\n\nAs long as you're changing these tests, it would be nice to fix this. Also be aware that you can't just switch the order of loadURI and browserLoaded since then browserLoaded might just fire for an about:blank load.\n\nMaybe we could have a function that loads a URI and waits for it to finish loading? That would be nice.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-09T22:22:06Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4845/#review4057\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_localStorage.js\n(Diff revision 1)\n> -  requestLongerTimeout(2);\n\nWhy take this line out? I suspect we need it.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_localStorage.js\n(Diff revision 1)\n> -  testOnWindow({private: true}, function(win) {\n> +  let tab2 = win.gBrowser.selectedTab = win.gBrowser.addTab();\n\nThis test doesn't make a lot of sense to me. Why does it open tab2 and never use it? It might be a good idea to ask Ehsan about this.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-09T22:22:38Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4831/#review4055\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_cookieacceptdialog.js\n(Diff revision 1)\n> +        Services.ww.unregisterNotification(observer);\n\nI don't think you want this. It will unregister the observer twice.\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_cookieacceptdialog.js\n(Diff revision 1)\n> -  function checkRememberOption(expectedDisabled, aWindow, callback) {\n> +  function domWindowOpened() {\n\nCould this go in BrowserTestUtils as well?",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-09T22:23:08Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4831/#review4063\n\nShip It!",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-09T22:23:17Z"
  }, {
    "text" : "Comment on attachment 8573590\nMozReview Request: bz://1132566/smacleod\n\nhttps://reviewboard.mozilla.org/r/4813/#review4065\n\nShip It!",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-09T22:24:15Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4845/#review4155\n\n> This test doesn't make a lot of sense to me. Why does it open tab2 and never use it? It might be a good idea to ask Ehsan about this.\n\nTalked to jdm about this, he suspected it could have just been copied from another test. I'll nuke it.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-11T16:02:43Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4847/#review4167\n\n> There's a subtle problem here that we have with all our e10s tests: loadURI is sent to the child immediately and the page may already have loaded by the time you call browserLoader. That can't happen in non-e10s.\n> \n> As long as you're changing these tests, it would be nice to fix this. Also be aware that you can't just switch the order of loadURI and browserLoaded since then browserLoaded might just fire for an about:blank load.\n> \n> Maybe we could have a function that loads a URI and waits for it to finish loading? That would be nice.\n\nI've switched this test to add new tabs with the pages loaded there, which I think should avoid the problem of the initial page loading blank.\n\nSince browserLoaded waits for a message coming from the child process (which listens to the load in the frame script and then sends an async message) I don't see how the load could possibly beat my call to browserLoaded - the test js should be synchronous until it adds its message listener. Am I missing something?",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-11T16:30:06Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #27)\n> the\n> test js should be synchronous until it adds its message listener.\n\nThis is the part that's incorrect. loadURI immediately sends a message to the child process asking it to do a load. The child process runs independently of the parent, so it can finish the load and send the message manager message before the parent has a chance to do addMessageListener.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-11T16:35:28Z"
  }, {
    "text" : "(In reply to Bill McCloskey (:billm) from comment #28)\n> (In reply to Steven MacLeod [:smacleod] from comment #27)\n> > the\n> > test js should be synchronous until it adds its message listener.\n> \n> This is the part that's incorrect. loadURI immediately sends a message to\n> the child process asking it to do a load. The child process runs\n> independently of the parent, so it can finish the load and send the message\n> manager message before the parent has a chance to do addMessageListener.\n\nIt can send the message, but surely it can't arrive until JS drops back to the event loop, or are IPC messages processed and delivered in a different thread?",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-11T16:36:53Z"
  }, {
    "text" : "(In reply to Dave Townsend [:mossop] from comment #29)\n> It can send the message, but surely it can't arrive until JS drops back to\n> the event loop, or are IPC messages processed and delivered in a different\n> thread?\n\nWell, the message arrives in the child, which probably isn't running any JS at all at this time. The test is running in the parent.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-11T16:43:11Z"
  }, {
    "text" : "(In reply to Bill McCloskey (:billm) from comment #30)\n> (In reply to Dave Townsend [:mossop] from comment #29)\n> > It can send the message, but surely it can't arrive until JS drops back to\n> > the event loop, or are IPC messages processed and delivered in a different\n> > thread?\n> \n> Well, the message arrives in the child, which probably isn't running any JS\n> at all at this time. The test is running in the parent.\n\nI'm talking about the message from the child to the parent to tell it the load has completed, the one dispatched here: http://mxr.mozilla.org/mozilla-central/source/testing/mochitest/BrowserTestUtils/content/content-utils.js#13",
    "authour" : "dtownsend@mozilla.com",
    "created" : "2015-03-11T16:48:09Z"
  }, {
    "text" : "Oh, I see what you mean. I guess that's true. Never mind.",
    "authour" : "wmccloskey@mozilla.com",
    "created" : "2015-03-11T16:53:43Z"
  }, {
    "text" : "Comment on attachment 8573590\nMozReview Request: bz://1132566/smacleod\n\n/r/4815 - Bug 1132566 - Stop defaulting to skip privatebrowsing mochitest-browser tests; r=billm\n/r/4817 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_aboutHomeButtonAfterWindowClose.js; r=mconley\n/r/4819 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_aboutSessionRestore.js; r=mconley\n/r/4821 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_DownloadLastDirWithCPS.js; r=billm\n/r/4823 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_cache.js; r=billm\n/r/4825 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_certexceptionsui.js; r=billm\n/r/4827 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_concurrent.js; r=mossop\n/r/4829 - Bug 1132566 - Cleanup browser_privatebrowsing_concurrent.js; r=mossop\n/r/4831 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_cookieacceptdialog.js; r=billm\n/r/4833 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_crh.js; r=mossop\n/r/4835 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir.js; r=billm\n/r/4837 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir_c.js; r=billm\n/r/4839 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir_toggle.js; r=billm\n/r/4841 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_geoprompt.js; r=mconley\n/r/4843 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_lastpbcontextexited.js; r=billm\n/r/4845 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_localStorage.js; r=billm\n/r/4847 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_localStorage_before_after.js; r=billm\n/r/4849 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_noSessionRestoreMenuOption.js; r=billm\n/r/4851 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_nonbrowser.js; r=billm\n/r/4853 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_opendir.js; r=billm\n/r/4855 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_placesTitleNoUpdate.js; r=ttaubert\n/r/4857 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_placestitle.js; r=ttaubert\n/r/4859 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_popupblocker.js; r=mconley\n/r/4861 - Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_protocolhandler.js; r=mossop\n/r/4863 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_sidebar.js; r=billm\n/r/4865 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_theming.js; r=billm\n/r/4867 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_ui.js; r=billm\n/r/4869 - Bug 1132566 - Enable test in e10s: browser_privatebrowsing_urlbarfocus.js; r=billm\n\nPull down these commits:\n\nhg pull review -r 7441009605d99b05dd701c01066c84c68b5f4cf2",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-11T19:00:09Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4857/#review4207\n\nShip It!",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-11T19:05:55Z"
  }, {
    "text" : "https://reviewboard.mozilla.org/r/4855/#review4209\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placesTitleNoUpdate.js\n(Diff revision 2)\n>  // Test to make sure that the visited page titles do not get updated inside the\n\nNit: \"use strict\"; please\n\n::: browser/components/privatebrowsing/test/browser/browser_privatebrowsing_placesTitleNoUpdate.js\n(Diff revision 2)\n> -      handleError: function () do_throw(\"Unexpected error in adding visit.\"),\n> +    handleError: function () do_throw(\"Unexpected error in adding visit.\"),\n\nThat do_throw() looks copied from an xpcshell test. Maybe ok(false, x)?",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-11T19:14:09Z"
  }, {
    "text" : "Comment on attachment 8573590\nMozReview Request: bz://1132566/smacleod\n\nhttps://reviewboard.mozilla.org/r/4813/#review4211\n\nShip It!",
    "authour" : "ttaubert@mozilla.com",
    "created" : "2015-03-11T19:14:30Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/pushloghtml?changeset=02ea96f256cf\n\nhttps://hg.mozilla.org/integration/fx-team/rev/bb14b5ecea67\nhttps://hg.mozilla.org/integration/fx-team/rev/8c349714246d\nhttps://hg.mozilla.org/integration/fx-team/rev/b6d448535004\nhttps://hg.mozilla.org/integration/fx-team/rev/f92f9ce02337\nhttps://hg.mozilla.org/integration/fx-team/rev/6f72ff7afafa\nhttps://hg.mozilla.org/integration/fx-team/rev/1a47b7ee9377\nhttps://hg.mozilla.org/integration/fx-team/rev/c84bc3a8edf0\nhttps://hg.mozilla.org/integration/fx-team/rev/034add5853cd\nhttps://hg.mozilla.org/integration/fx-team/rev/3dfae5c35fab\nhttps://hg.mozilla.org/integration/fx-team/rev/7713401cf0c4\nhttps://hg.mozilla.org/integration/fx-team/rev/7a8c47a8aae6\nhttps://hg.mozilla.org/integration/fx-team/rev/9b5ad01e8eef\nhttps://hg.mozilla.org/integration/fx-team/rev/6e8d12dd69f2\nhttps://hg.mozilla.org/integration/fx-team/rev/bc7ca394c5cf\nhttps://hg.mozilla.org/integration/fx-team/rev/bd4ad6d4d52a\nhttps://hg.mozilla.org/integration/fx-team/rev/36478f270e88\nhttps://hg.mozilla.org/integration/fx-team/rev/f20eb0510848\nhttps://hg.mozilla.org/integration/fx-team/rev/c55d5c59edb2\nhttps://hg.mozilla.org/integration/fx-team/rev/24e396499557\nhttps://hg.mozilla.org/integration/fx-team/rev/64e1b463e5b2\nhttps://hg.mozilla.org/integration/fx-team/rev/85840d8c3242\nhttps://hg.mozilla.org/integration/fx-team/rev/9b7f81054f06\nhttps://hg.mozilla.org/integration/fx-team/rev/dd371585e028\nhttps://hg.mozilla.org/integration/fx-team/rev/9da87b37243e\nhttps://hg.mozilla.org/integration/fx-team/rev/64b04ba6e424\nhttps://hg.mozilla.org/integration/fx-team/rev/7326f9105f4b\nhttps://hg.mozilla.org/integration/fx-team/rev/f31357fcb5e9\nhttps://hg.mozilla.org/integration/fx-team/rev/02ea96f256cf",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-16T15:58:08Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/bb14b5ecea67\nhttps://hg.mozilla.org/mozilla-central/rev/8c349714246d\nhttps://hg.mozilla.org/mozilla-central/rev/b6d448535004\nhttps://hg.mozilla.org/mozilla-central/rev/f92f9ce02337\nhttps://hg.mozilla.org/mozilla-central/rev/6f72ff7afafa\nhttps://hg.mozilla.org/mozilla-central/rev/1a47b7ee9377\nhttps://hg.mozilla.org/mozilla-central/rev/c84bc3a8edf0\nhttps://hg.mozilla.org/mozilla-central/rev/034add5853cd\nhttps://hg.mozilla.org/mozilla-central/rev/3dfae5c35fab\nhttps://hg.mozilla.org/mozilla-central/rev/7713401cf0c4\nhttps://hg.mozilla.org/mozilla-central/rev/7a8c47a8aae6\nhttps://hg.mozilla.org/mozilla-central/rev/9b5ad01e8eef\nhttps://hg.mozilla.org/mozilla-central/rev/6e8d12dd69f2\nhttps://hg.mozilla.org/mozilla-central/rev/bc7ca394c5cf\nhttps://hg.mozilla.org/mozilla-central/rev/bd4ad6d4d52a\nhttps://hg.mozilla.org/mozilla-central/rev/36478f270e88\nhttps://hg.mozilla.org/mozilla-central/rev/f20eb0510848\nhttps://hg.mozilla.org/mozilla-central/rev/c55d5c59edb2\nhttps://hg.mozilla.org/mozilla-central/rev/24e396499557\nhttps://hg.mozilla.org/mozilla-central/rev/64e1b463e5b2\nhttps://hg.mozilla.org/mozilla-central/rev/85840d8c3242\nhttps://hg.mozilla.org/mozilla-central/rev/9b7f81054f06\nhttps://hg.mozilla.org/mozilla-central/rev/dd371585e028\nhttps://hg.mozilla.org/mozilla-central/rev/9da87b37243e\nhttps://hg.mozilla.org/mozilla-central/rev/64b04ba6e424\nhttps://hg.mozilla.org/mozilla-central/rev/7326f9105f4b\nhttps://hg.mozilla.org/mozilla-central/rev/f31357fcb5e9\nhttps://hg.mozilla.org/mozilla-central/rev/02ea96f256cf",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-03-17T10:35:37Z"
  }, {
    "text" : "Comment on attachment 8573590\nMozReview Request: bz://1132566/smacleod",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619437\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_theming.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619438\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_ui.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619439\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_urlbarfocus.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619440\nMozReview Request: Bug 1132566 - Stop defaulting to skip privatebrowsing mochitest-browser tests; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619441\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_aboutHomeButtonAfterWindowClose.js; r=mconley",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619442\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_aboutSessionRestore.js; r=mconley",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619443\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_DownloadLastDirWithCPS.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619444\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_cache.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619445\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_certexceptionsui.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619446\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_concurrent.js; r=mossop",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619447\nMozReview Request: Bug 1132566 - Cleanup browser_privatebrowsing_concurrent.js; r=mossop",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619448\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_cookieacceptdialog.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619449\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_crh.js; r=mossop",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619450\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619451\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir_c.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619452\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_downloadLastDir_toggle.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619453\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_geoprompt.js; r=mconley",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619454\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_lastpbcontextexited.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619455\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_localStorage.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619456\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_localStorage_before_after.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619457\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_noSessionRestoreMenuOption.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619458\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_nonbrowser.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619459\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_opendir.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619460\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_placesTitleNoUpdate.js; r=ttaubert",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619461\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_placestitle.js; r=ttaubert",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619462\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_popupblocker.js; r=mconley",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619463\nMozReview Request: Bug 1132566 - Make test e10s compatible: browser_privatebrowsing_protocolhandler.js; r=mossop",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  }, {
    "text" : "Created attachment 8619464\nMozReview Request: Bug 1132566 - Enable test in e10s: browser_privatebrowsing_sidebar.js; r=billm",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-06-10T15:34:58Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:37Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:37Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "josh@joshmatthews.net",
      "date" : "2015-02-12T20:33:21Z",
      "what" : "cc",
      "removed" : "",
      "added" : "josh@joshmatthews.net"
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-02-12T21:34:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttaubert@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-13T00:14:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com, smacleod@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-13T00:14:57Z",
      "what" : "cf_fx_iteration",
      "removed" : "---",
      "added" : "38.3 - 23 Feb"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-17T18:29:12Z",
      "what" : "cf_fx_points",
      "removed" : "---",
      "added" : "13"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:30:29Z",
      "what" : "cc",
      "removed" : "",
      "added" : "blassey.bugs@lassey.us"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:30:29Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "984139"
    }, {
      "name" : "blassey.bugs@lassey.us",
      "date" : "2015-02-17T21:30:29Z",
      "what" : "cf_tracking_e10s",
      "removed" : "---",
      "added" : "+"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-24T16:47:23Z",
      "what" : "cf_fx_iteration",
      "removed" : "38.3 - 23 Feb",
      "added" : "39.1 - 9 Mar"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-05T23:35:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "dtownsend@mozilla.com, mconley@mozilla.com, wmccloskey@mozilla.com"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-03-10T15:50:52Z",
      "what" : "cf_fx_iteration",
      "removed" : "39.1 - 9 Mar",
      "added" : "39.2 - 23 Mar"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-11T20:47:45Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1142240"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-12T19:54:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1142678"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:37Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:37Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-17 03:35:37"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-03-17T10:35:37Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "attachments.isobsolete:8573590",
      "removed" : "0",
      "added" : "1"
    } ],
    "flagEvents" : [ {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-12T19:36:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      }, {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-13T00:14:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-17T18:29:12Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-05T23:35:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-06T10:25:48Z",
      "what" : "flagtypes.name",
      "removed" : "review?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-06T15:47:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-06T15:51:48Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "mconley@mozilla.com",
      "date" : "2015-03-06T17:50:55Z",
      "what" : "flagtypes.name",
      "removed" : "review?(mconley@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "dtownsend@mozilla.com",
      "date" : "2015-03-07T00:11:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wmccloskey@mozilla.com",
      "date" : "2015-03-09T22:24:14Z",
      "what" : "flagtypes.name",
      "removed" : "review?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-11T19:00:08Z",
      "what" : "flagtypes.name",
      "removed" : "review+, review+, review+, feedback+",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-11T19:01:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(dtownsend@mozilla.com), review?(mconley@mozilla.com), review?(wmccloskey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "ttaubert@mozilla.com",
      "date" : "2015-03-11T19:14:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(ttaubert@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573590,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619437,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619438,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619439,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619440,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619441,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619442,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619443,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619444,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619445,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619446,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619447,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619448,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619449,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619450,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619451,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619452,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619453,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619454,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619455,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619456,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619457,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619458,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619459,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619460,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619461,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619462,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619463,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-06-10T15:34:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8619464,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132566,
  "cclist" : [ "blassey.bugs@lassey.us", "dtownsend@mozilla.com", "josh@joshmatthews.net", "mconley@mozilla.com", "mmucci@mozilla.com", "smacleod@mozilla.com", "ttaubert@mozilla.com", "wmccloskey@mozilla.com" ]
}, {
  "component" : "Developer Tools: Source Editor",
  "summary" : "Upgrade to CodeMirror 5.7.0",
  "reporter" : "moz-ian@perix.co.uk",
  "assigned" : "gl@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "P1",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8563535\nrough python upgrade script\n\nSo once CodeMirror 4.13 is out it'd be nice to upgrade to it since I've added support for CSS variables (which currently break parsing slightly), and fixed @supports and @-moz-document blocks so they highlight properly (bug 977665)\n\nI have a rough python script I'm attaching that handles most of the legwork for me (actually the first time I've written any python, so I apologise in advance.  I think adding error handling to try and make using it friendlier made the code rather less friendly).  I figure it might be nice to have on record/possibly reuseable in future.\n\nCurrently the main issue is changes introduced in 4.7 break a number of tests\nTEST-UNEXPECTED-FAIL | Tern is (currently) defined on the window\nhttps://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/test/browser_editor_autocomplete_basic.js#31\n#36, #51\nhttps://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/test/browser_editor_autocomplete_js.js#26\n\nTEST-UNEXPECTED-FAIL | (gutters|folderGutters) is correct\nhttps://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/test/browser_editor_prefs.js#63\n#81, #92\n\nI think there are also some failures of the CodeMirrors tests that I can/have fixed by updating imports, but I can worry about that more once these main issues are fixed.",
  "comments" : [ {
    "text" : "Created attachment 8563535\nrough python upgrade script\n\nSo once CodeMirror 4.13 is out it'd be nice to upgrade to it since I've added support for CSS variables (which currently break parsing slightly), and fixed @supports and @-moz-document blocks so they highlight properly (bug 977665)\n\nI have a rough python script I'm attaching that handles most of the legwork for me (actually the first time I've written any python, so I apologise in advance.  I think adding error handling to try and make using it friendlier made the code rather less friendly).  I figure it might be nice to have on record/possibly reuseable in future.\n\nCurrently the main issue is changes introduced in 4.7 break a number of tests\nTEST-UNEXPECTED-FAIL | Tern is (currently) defined on the window\nhttps://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/test/browser_editor_autocomplete_basic.js#31\n#36, #51\nhttps://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/test/browser_editor_autocomplete_js.js#26\n\nTEST-UNEXPECTED-FAIL | (gutters|folderGutters) is correct\nhttps://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/test/browser_editor_prefs.js#63\n#81, #92\n\nI think there are also some failures of the CodeMirrors tests that I can/have fixed by updating imports, but I can worry about that more once these main issues are fixed.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-12T19:00:57Z"
  }, {
    "text" : "> Currently the main issue is changes introduced in 4.7 break a number of tests\n> TEST-UNEXPECTED-FAIL | Tern is (currently) defined on the window\n> https://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/\n> test/browser_editor_autocomplete_basic.js#31\n> #36, #51\n> https://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/\n> test/browser_editor_autocomplete_js.js#26\n>\n> TEST-UNEXPECTED-FAIL | (gutters|folderGutters) is correct\n> https://dxr.mozilla.org/mozilla-central/source/browser/devtools/sourceeditor/\n> test/browser_editor_prefs.js#63\n> #81, #92\n> \n\nJust to narrow down the issue to see if it is test-only or if functionality is broken after the upgrade:\n1) Does autocompletion work for JS (in scratchpad) with the new version applied?  The easiest way to check is to press ctrl+space and see if you see a listing show up of normal window variables.\n2) Do you see gutters for code folding in the style editor?\n\nIf either of these aren't working, are you seeing any errors in the browser console when the editor opens up?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-13T14:48:20Z"
  }, {
    "text" : "Created attachment 8564380\nworkingOk.png\n\n(In reply to Brian Grinstead [:bgrins] from comment #1)\n> Just to narrow down the issue to see if it is test-only or if functionality\n> is broken after the upgrade:\n> 1) Does autocompletion work for JS (in scratchpad) with the new version\n> applied?  The easiest way to check is to press ctrl+space and see if you see\n> a listing show up of normal window variables.\n> 2) Do you see gutters for code folding in the style editor?\n> \n> If either of these aren't working, are you seeing any errors in the browser\n> console when the editor opens up?\nWell what do you know, both of those are working fine.  And not an error in the console in sight.  That was with 4.7, since that's the upgrade that was at the top of my patch queue, but I'll double check master works okay as well...  yep, exactly the same results.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-13T22:18:01Z"
  }, {
    "text" : "(In reply to Ian Moody [:Kwan] from comment #2)\n> Created attachment 8564380\n> workingOk.png\n> \n> (In reply to Brian Grinstead [:bgrins] from comment #1)\n> > Just to narrow down the issue to see if it is test-only or if functionality\n> > is broken after the upgrade:\n> > 1) Does autocompletion work for JS (in scratchpad) with the new version\n> > applied?  The easiest way to check is to press ctrl+space and see if you see\n> > a listing show up of normal window variables.\n> > 2) Do you see gutters for code folding in the style editor?\n> > \n> > If either of these aren't working, are you seeing any errors in the browser\n> > console when the editor opens up?\n> Well what do you know, both of those are working fine.  And not an error in\n> the console in sight.  That was with 4.7, since that's the upgrade that was\n> at the top of my patch queue, but I'll double check master works okay as\n> well...  yep, exactly the same results.\n\nSo the functionality is working but the tests aren't?  Or are the tests also working now with the latest patch?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-14T17:18:34Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #3)\n> So the functionality is working but the tests aren't?\nCorrect.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-14T18:21:49Z"
  }, {
    "text" : "I assume we'll want to update to 5.0 rather than 4.13, since 5 seems to have the changes you want for bug 1088804.\n\nI cannot for the life of me figure out why browser_editor_autocomplete_js.js is failing.  Though I have noted that even hopping into the test editor window and manually hitting ctrl+space does nothing, whereas it does in Scratchpad, so maybe the test editor just isn't being setup properly?\n\nAnd what should be done about the win.tern tests?  Just toggling them to !win.tern is obviously enough to get them to pass, but then they seem a bit pointless.\n\nManually checked still working: \nScratchpad autocompletion using ctrl+space\nStyle Editor autocompletion with auto-popup + enter\n\nNote to self: vim tests needs Pos = CodeMirror.Pos setting, and probably import adjustments, to pass.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-22T12:22:38Z"
  }, {
    "text" : "I've also tested cold folding in both the Style Editor and Scratchpad, and it works in both places.\n\nThings of note:\n\nPre-upgrade:\nThe in-tree codemirror/README claims that \"In cm_comment_test.js [...] fallbackToBlock and fallbackToLine tests\" must be commented out.  This is not currently the case.  Why don't they fail then?  Because this line\nhttps://hg.mozilla.org/mozilla-central/file/0cefb584fd1a/browser/devtools/sourceeditor/test/codemirror.html#l65\nmeans they never run, nor do any of the other tests before the 2nd driver.js import. Removing that import, they now do run, and need to be commented out.\nIn addition, running all tests by removing the 2nd driver import reveals that doc_docKeepsMode also currently fails (since it relies on the markdown mode existing) and must be commented out.\ncm_mode_javascript_test.js never runs because it isn't in test/browser.ini\nCSS and XML modes tests are currently in the \"editor doesn't use these modes\" list, even though it does.\n\nPost-upgrade:\ncore_collapsedRangeCoordsChar, core_wrappingAndResizing, core_moveVstuck all fail, I don't know why, and need to be commented out.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-22T21:26:02Z"
  }, {
    "text" : "(In reply to Ian Moody [:Kwan] from comment #5)\n> I assume we'll want to update to 5.0 rather than 4.13, since 5 seems to have\n> the changes you want for bug 1088804.\n\nI wouldn't want to do the work to upgrade to 4.13 if we are going to very quickly switch to 5, so let's check about the relative stability of 5.0.  Marijn, how do you feel about Dev Tools upgrading to the mobile edition, in terms of stability and partformance?  I notice it's listed at 'experimental' in the release notes.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-24T23:32:31Z"
  }, {
    "text" : "\n> I cannot for the life of me figure out why browser_editor_autocomplete_js.js\n> is failing.  Though I have noted that even hopping into the test editor\n> window and manually hitting ctrl+space does nothing, whereas it does in\n> Scratchpad, so maybe the test editor just isn't being setup properly?\n> \n> And what should be done about the win.tern tests?  Just toggling them to\n> !win.tern is obviously enough to get them to pass, but then they seem a bit\n> pointless.\n\nCan you attach a patch with your current work?  I will see if there is anything sticking out.  Feel free to re-enable any tests that you mention in Comment 6, but please don't comment out any failing ones yet.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-24T23:33:38Z"
  }, {
    "text" : "Created attachment 8568894\nPart 1 - Upgrade CodeMirror files to 5.0\n\ncopies the new files over",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-25T01:13:05Z"
  }, {
    "text" : "Created attachment 8568896\nPart 2 - Apply Mozilla customisations\n\nPerform the Mozilla-specific patching, as mentioned in the README.  Includes the previous missing disabling of the fallback tests, and disabling the docKeepsMode test.",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-25T01:16:33Z"
  }, {
    "text" : "Created attachment 8568898\nPart 3 - update the test support-files so that the mode tests run",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2015-02-25T01:17:32Z"
  }, {
    "text" : "> Marijn, how do you feel about Dev Tools upgrading to the mobile edition, in terms of stability and partformance?  I notice it's listed at 'experimental' in the release notes.\n\nThe old textarea-based input implementation should be stable, so as long as you are on a desktop browser and don't explicitly enable the contenteditable-based one, you are unlikely to run into any problems.\n\nHowever, since I get the impression screen reader support is important for Mozilla, you might want to consider turning on the contenteditable implementation, to test it and help me get it to a point where we can consider it stable. That's a call you have to make.",
    "authour" : "marijnh@gmail.com",
    "created" : "2015-02-25T10:38:01Z"
  }, {
    "text" : "Alright, let's proceed by upgrading to 5.0 without turning on contentEditable in this bug, and then do further testing to decide whether we should enable that in Bug 1088804",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-25T16:04:34Z"
  }, {
    "text" : "Comment on attachment 8568896\nPart 2 - Apply Mozilla customisations\n\nReview of attachment 8568896:\n-----------------------------------------------------------------\n\n> Perform the Mozilla-specific patching, as mentioned in the README.  Includes the previous missing disabling of the fallback tests, and disabling the docKeepsMode test.\n\nCan you please update the README with any relevant info?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-20T17:16:37Z"
  }, {
    "text" : "Try push with the patch queue: https://treeherder.mozilla.org/#/jobs?repo=try&revision=87f3d993d310",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-04-20T18:33:41Z"
  }, {
    "text" : "Please, mark this bug as blocking for bug 1176964",
    "authour" : "arni2033@yandex.ru",
    "created" : "2015-07-02T18:35:59Z"
  }, {
    "text" : "*** Bug 1200984 has been marked as a duplicate of this bug. ***",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-02T20:21:24Z"
  }, {
    "text" : "Created attachment 8656283\nPart 1: Upgrade existing addons to CodeMirror 5.6.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-02T22:52:34Z"
  }, {
    "text" : "Created attachment 8656730\nPart 2: Upgrade existing CodeMirror keymap to 5.6.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-03T18:50:25Z"
  }, {
    "text" : "Created attachment 8656731\nPart 3: Update CodeMirror License [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-03T18:51:38Z"
  }, {
    "text" : "Created attachment 8656735\nPart 4: Upgrade existing CodeMirror mode to 5.6.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-03T18:56:01Z"
  }, {
    "text" : "Created attachment 8656736\nPart 5: Upgrade to CodeMirror 5.6.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-03T18:59:10Z"
  }, {
    "text" : "Created attachment 8661369\nPart 1: Update CodeMirror License",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T18:15:52Z"
  }, {
    "text" : "Created attachment 8661373\nPart 2: Upgrade existing addons to CodeMirror 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T18:21:12Z"
  }, {
    "text" : "Created attachment 8661384\nPart 3: Apply CodeMirror customization for search.js",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T18:34:59Z"
  }, {
    "text" : "Created attachment 8661387\nPart 4: Upgrade existing CodeMirror keymap to 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T18:43:50Z"
  }, {
    "text" : "Created attachment 8661420\nPart 5: Upgrade existing CodeMirror mode to 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T19:59:37Z"
  }, {
    "text" : "Created attachment 8661422\nPart 6: Upgrade to CodeMirror 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T20:08:10Z"
  }, {
    "text" : "Created attachment 8661424\nPart 7: Upgrade existing CodeMirror tests to 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T20:12:36Z"
  }, {
    "text" : "Created attachment 8661519\nPart 7: Upgrade existing CodeMirror tests to 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T23:47:26Z"
  }, {
    "text" : "Created attachment 8661521\nPart 8: Editor config option should be updated",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T23:48:03Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=533a94de2660",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-15T23:52:34Z"
  }, {
    "text" : "Created attachment 8662089\nPart 9: Editor should emit a cursorActivity on setCursor",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-16T22:42:51Z"
  }, {
    "text" : "Created attachment 8662528\nPart 10: Make Debugger breadrumbs keyboard access test by refocusing the stack frame",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-17T18:36:09Z"
  }, {
    "text" : "Created attachment 8662612\nPart 11: Scratchpad should use capture on the paste event",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-17T20:39:14Z"
  }, {
    "text" : "Created attachment 8662676\nPart 12: Stylesheet Editor should always batch up updates",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-17T23:22:02Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=3c7bcf3159bf",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-17T23:23:14Z"
  }, {
    "text" : "Created attachment 8662695\nPart 13: Enable CodeMirror test for javascript modes\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=2a7c9e69efbe",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-18T00:10:14Z"
  }, {
    "text" : "Created attachment 8663332\nPart 14: Update CodeMirror README for version 5.6.0",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-19T20:06:06Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=b5b697206a16",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-20T06:03:29Z"
  }, {
    "text" : "Gabriel, all of these patches are going to need to be rebased on top of Bug 912121 (assuming that sticks on fx-team), sorry :(.  I can still do the reviews in the meantime.   I think you could find/replace on the patch files to do something like:\n\nbrowser/devtools/ -> devtools/client/\ntoolkit/devtools/server -> devtools/server\ntoolkit/devtools -> devtools/shared\nbrowser/themes/shared/devtools -> devtools/client/themes\n\nAnd that should get you most of the way.  Also see https://github.com/jryans/devtools-migrate#updating-your-patches",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-21T18:22:01Z"
  }, {
    "text" : "I made a simple script that can migrate the file paths on a patch file: https://gist.github.com/bgrins/8be6ad65a2fd41602f18",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-21T18:52:10Z"
  }, {
    "text" : "From what I understand we are going to land 1206425 before this.  Is that right Gabriel?  I'm going to clear reviews for now since these need rebasing anyway, and the patches will change quite a bit after the reorg.  We may also want to bump to 5.7 (up to you if you want to do that now or in another bug)",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-23T21:26:45Z"
  }, {
    "text" : "Created attachment 8665664\nPart 1: Update CodeMirror License [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-24T22:27:07Z"
  }, {
    "text" : "Created attachment 8665683\nPart 2: Upgrade existing addons to CodeMirror 5.7.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-24T22:58:46Z"
  }, {
    "text" : "Created attachment 8665698\nPart 3: Apply CodeMirror customization for search.js [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-24T23:25:43Z"
  }, {
    "text" : "Created attachment 8665706\nPart 4: Upgrade existing CodeMirror keymap to 5.7.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-24T23:37:05Z"
  }, {
    "text" : "Created attachment 8665848\nPart 5: Upgrade existing CodeMirror mode to 5.7.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T08:48:14Z"
  }, {
    "text" : "Created attachment 8665854\nPart 6: Upgrade to CodeMirror 5.7.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T09:12:53Z"
  }, {
    "text" : "Created attachment 8665875\nPart 7: Upgrade existing CodeMirror tests to 5.7.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T09:41:00Z"
  }, {
    "text" : "Created attachment 8665878\nPart 8: Editor config option should be updated [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T09:45:46Z"
  }, {
    "text" : "Created attachment 8665879\nPart 9: Editor should emit a cursorActivity on setCursor [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T09:51:37Z"
  }, {
    "text" : "Created attachment 8665882\nPart 10: Make Debugger breadrumbs keyboard access test by refocusing the stack frame [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:02:31Z"
  }, {
    "text" : "Created attachment 8665884\nPart 11: Scratchpad should use capture on the paste event [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:07:11Z"
  }, {
    "text" : "Created attachment 8665887\nPart 12: Stylesheet Editor should always batch up updates [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:12:05Z"
  }, {
    "text" : "Created attachment 8665890\nPart 7: Upgrade existing CodeMirror tests to 5.7.0 [2.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:20:20Z"
  }, {
    "text" : "Created attachment 8665897\nPart 13: Update CodeMirror README for version 5.7.0 [1.0]",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:38:49Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=1c6a4ddd7189",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:39:23Z"
  }, {
    "text" : "https://hg.mozilla.org/try/pushloghtml?changeset=94106a77787a",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T10:40:58Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=94106a77787a",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-25T18:29:09Z"
  }, {
    "text" : "Comment on attachment 8665887\nPart 12: Stylesheet Editor should always batch up updates [1.0]\n\nReview of attachment 8665887:\n-----------------------------------------------------------------\n\nTom, just a heads up that we are planning to remove the 'immediate' functionality inside updateStyleSheet on the frontend.  We couldn't find anywhere this was intentionally being called, and the event object was being passed in as the first parameter so the truthy check on line 482 was incorrectly being hit.  Seem alright with you?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-28T15:50:27Z"
  }, {
    "text" : "Gabe, a note about landing this: let's fold all the upgrade stuff into one patch.  Believe that's Parts 1, 2, 4, 5, 6, 7, and 13.  Then the various fixes needed for the upgrade could fold into a second patch - 3, 8, 9, 10, 11, and 12.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-28T15:55:56Z"
  }, {
    "text" : "Comment on attachment 8665878\nPart 8: Editor config option should be updated [1.0]\n\nReview of attachment 8665878:\n-----------------------------------------------------------------\n\n::: devtools/client/sourceeditor/editor.js\n@@ +1023,5 @@\n>        this.config.autocomplete = v;\n>        this.setupAutoCompletion();\n>      } else {\n>        cm.setOption(o, v);\n> +      this.config[o] = v;\n\nI can't remember why we needed to do this.  Do you?  It does make sense that we'd keep the config state up to date though (as we do with config.autocomplete above)",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-28T16:00:43Z"
  }, {
    "text" : "ni? for Comment 63",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-28T16:01:14Z"
  }, {
    "text" : "Comment on attachment 8665887\nPart 12: Stylesheet Editor should always batch up updates [1.0]\n\nReview of attachment 8665887:\n-----------------------------------------------------------------\n\nLooks good; and fwiw won't cause any problems with the authored series.",
    "authour" : "ttromey@mozilla.com",
    "created" : "2015-09-28T16:08:43Z"
  }, {
    "text" : "Comment on attachment 8665879\nPart 9: Editor should emit a cursorActivity on setCursor [1.0]\n\nReview of attachment 8665879:\n-----------------------------------------------------------------\n\nShip it!",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-28T16:17:56Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #63)\n> Comment on attachment 8665878\n> Part 8: Editor config option should be updated [1.0]\n> \n> Review of attachment 8665878:\n> -----------------------------------------------------------------\n> \n> ::: devtools/client/sourceeditor/editor.js\n> @@ +1023,5 @@\n> >        this.config.autocomplete = v;\n> >        this.setupAutoCompletion();\n> >      } else {\n> >        cm.setOption(o, v);\n> > +      this.config[o] = v;\n> \n> I can't remember why we needed to do this.  Do you?  It does make sense that\n> we'd keep the config state up to date though (as we do with\n> config.autocomplete above)\n\nI believe this was because the autocomplete test was failing since the config is not actually saved.",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-28T21:42:51Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/0390e740bfc55c2e99cfed3654c1f888e5da95e0\nBug 1132557 - Part 1: Upgrade to CodeMirror 5.7.0 r=bgrins\n\nhttps://hg.mozilla.org/integration/fx-team/rev/2bfe5435c1d1e2784af3b225d629a210023daecd\nBug 1132557 - Part 2: Apply fixes for CodeMirror 5.7.0 upgrade r=bgrins",
    "authour" : "gl@mozilla.com",
    "created" : "2015-09-28T21:51:55Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0390e740bfc5\nhttps://hg.mozilla.org/mozilla-central/rev/2bfe5435c1d1",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-09-29T10:30:05Z"
  }, {
    "text" : "*** Bug 977665 has been marked as a duplicate of this bug. ***",
    "authour" : "moz-ian@perix.co.uk",
    "created" : "2016-05-30T09:46:14Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-22T12:22:38Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-09-29T10:30:05Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2015-09-29T10:30:05Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-22T12:22:38Z",
      "what" : "summary",
      "removed" : "Upgrade CodeMirror to 4.13 (once it's out)",
      "added" : "Upgrade to CodeMirror 5.0"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-23T16:40:17Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1088804"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-24T23:32:31Z",
      "what" : "cc",
      "removed" : "",
      "added" : "marijnh@gmail.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-24T23:33:38Z",
      "what" : "cc",
      "removed" : "",
      "added" : "moz-ian@perix.co.uk"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-20T17:15:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "999299"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-21T15:12:06Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1156804"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-21T15:17:00Z",
      "what" : "blocks",
      "removed" : "999299",
      "added" : ""
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-04-21T15:17:00Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=999299"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-04-22T05:05:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jgriffiths@mozilla.com"
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2015-07-02T18:35:59Z",
      "what" : "cc",
      "removed" : "",
      "added" : "arni2033@yandex.ru"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-07-06T14:20:19Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-07-06T14:20:19Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1176964"
    }, {
      "name" : "felash@gmail.com",
      "date" : "2015-07-06T15:30:51Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1180253"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-07-14T17:42:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "zer0@mozilla.com"
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2015-08-12T00:38:28Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1140460"
    }, {
      "name" : "yfdyh000@gmail.com",
      "date" : "2015-08-16T19:39:02Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1164111"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-02T20:21:13Z",
      "what" : "cc",
      "removed" : "",
      "added" : "gabriel.luong@gmail.com"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-02T20:21:13Z",
      "what" : "summary",
      "removed" : "Upgrade to CodeMirror 5.0",
      "added" : "Upgrade to CodeMirror 5.6.0"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-02T20:21:39Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[polish-backlog]"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-02T21:59:52Z",
      "what" : "assigned_to",
      "removed" : "moz-ian@perix.co.uk",
      "added" : "gabriel.luong@gmail.com"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-12T03:58:29Z",
      "what" : "attachments.isobsolete:8656283",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-12T03:58:43Z",
      "what" : "attachments.isobsolete:8656730",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-12T03:58:53Z",
      "what" : "attachments.isobsolete:8656731",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-12T03:58:59Z",
      "what" : "attachments.isobsolete:8656735",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-12T03:59:04Z",
      "what" : "attachments.isobsolete:8656736",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-15T18:55:23Z",
      "what" : "attachments.description:8661387",
      "removed" : "1132557-4.patch",
      "added" : "Part 4: Upgrade existing CodeMirror mode to 5.6.0"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-15T20:00:16Z",
      "what" : "attachments.description:8661387",
      "removed" : "Part 4: Upgrade existing CodeMirror mode to 5.6.0",
      "added" : "Part 4: Upgrade existing CodeMirror keymap to 5.6.0"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-15T23:47:26Z",
      "what" : "attachments.isobsolete:8661424",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-15T23:47:43Z",
      "what" : "attachments.description:8661519",
      "removed" : "Bug 1132557 - Part 7: Upgrade existing CodeMirror tests to 5.6.0",
      "added" : "Part 7: Upgrade existing CodeMirror tests to 5.6.0"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-16T22:43:46Z",
      "what" : "attachments.isobsolete:8568898",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-16T22:43:56Z",
      "what" : "attachments.isobsolete:8568896",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-16T22:44:07Z",
      "what" : "attachments.isobsolete:8568894",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-19T19:30:16Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1206425"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-21T21:03:21Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1205604"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:26:45Z",
      "what" : "blocks",
      "removed" : "1206425",
      "added" : ""
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:26:45Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1206425"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T21:56:15Z",
      "what" : "summary",
      "removed" : "Upgrade to CodeMirror 5.6.0",
      "added" : "Upgrade to CodeMirror 5.7.0"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T22:27:07Z",
      "what" : "attachments.isobsolete:8661369",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T22:58:46Z",
      "what" : "attachments.isobsolete:8661373",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T22:59:11Z",
      "what" : "attachments.description:8665664",
      "removed" : "1132557-1.patch [1.0]",
      "added" : "Part 1: Update CodeMirror License [1.0]"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T23:25:43Z",
      "what" : "attachments.isobsolete:8661384",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T23:37:05Z",
      "what" : "attachments.isobsolete:8661387",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jgriffiths@mozilla.com",
      "date" : "2015-09-24T23:46:06Z",
      "what" : "priority",
      "removed" : "--",
      "added" : "P1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T08:48:14Z",
      "what" : "attachments.isobsolete:8661420",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T09:12:53Z",
      "what" : "attachments.isobsolete:8661422",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "marijnh@gmail.com",
      "date" : "2015-09-25T09:15:50Z",
      "what" : "cc",
      "removed" : "marijnh@gmail.com",
      "added" : ""
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T09:41:00Z",
      "what" : "attachments.isobsolete:8661519",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T09:45:46Z",
      "what" : "attachments.isobsolete:8661521",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T09:51:37Z",
      "what" : "attachments.isobsolete:8662089",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:02:31Z",
      "what" : "attachments.isobsolete:8662528",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:07:11Z",
      "what" : "attachments.isobsolete:8662612",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:12:05Z",
      "what" : "attachments.isobsolete:8662676",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:20:20Z",
      "what" : "attachments.isobsolete:8665875",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:22:55Z",
      "what" : "attachments.isobsolete:8663332",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:23:11Z",
      "what" : "attachments.isobsolete:8662695",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:50:27Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ttromey@mozilla.com"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-09-29T10:30:05Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 44"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-09-29T10:30:05Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-09-29 03:30:05"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-09-29T10:30:05Z",
      "what" : "cf_status_firefox44",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2015-10-07T04:59:17Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1211038"
    }, {
      "name" : "gijskruitbosch+bugs@gmail.com",
      "date" : "2015-10-14T13:56:30Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1214663"
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2016-02-29T19:07:33Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1252182"
    }, {
      "name" : "alice0775@yahoo.co.jp",
      "date" : "2016-04-03T03:02:54Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1261655"
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2016-05-30T09:46:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jason.barnabe@gmail.com"
    } ],
    "flagEvents" : [ {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-22T12:22:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-24T23:32:31Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-24T23:33:38Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "moz-ian@perix.co.uk",
      "date" : "2015-02-25T01:17:32Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(moz-ian@perix.co.uk)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "marijnh@gmail.com",
      "date" : "2015-02-25T10:38:01Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(marijnh@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "arni2033@yandex.ru",
      "date" : "2015-07-02T18:35:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-07-06T14:20:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(moz-ian@perix.co.uk)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:24:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661369,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:25:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661373,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:25:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661384,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:25:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661387,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:26:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661420,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:26:27Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661422,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:26:42Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661519,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:26:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661521,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:27:12Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8662089,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:27:45Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8662528,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:27:59Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8662612,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:29:22Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8662676,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-18T06:29:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8662695,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-19T20:06:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8663332,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-22T20:40:13Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661369,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:26:59Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661373,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:27:12Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661384,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:28:21Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661387,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:28:32Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661420,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:28:45Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661422,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:29:00Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661519,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:29:13Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8661521,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:29:59Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8662089,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:30:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8662528,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:30:55Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8662612,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:31:09Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8662676,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:31:32Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8662695,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-23T21:31:46Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8663332,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-24T22:27:07Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665664,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:38:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665897,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:39:10Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665683,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:39:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665698,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:39:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665706,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:01Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665848,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665854,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665878,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:20Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665879,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:26Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665882,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665884,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:37Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665887,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-25T10:40:43Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8665890,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:41:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665683,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:44:09Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665706,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:44:35Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665848,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:45:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665854,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:47:14Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665882,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:48:16Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665884,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:50:27Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665887,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:51:04Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665890,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:51:39Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665897,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T15:56:15Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665698,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T16:00:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665878,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T16:01:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "ttromey@mozilla.com",
      "date" : "2015-09-28T16:08:43Z",
      "what" : "flagtypes.name",
      "removed" : "review?(ttromey@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665887,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-09-28T16:17:56Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8665879,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "gl@mozilla.com",
      "date" : "2015-09-28T21:42:51Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(gabriel.luong@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132557,
  "cclist" : [ "arni2033@yandex.ru", "bgrinstead@mozilla.com", "gl@mozilla.com", "jason.barnabe@gmail.com", "jgriffiths@mozilla.com", "moz-ian@perix.co.uk", "past@mozilla.com", "ttromey@mozilla.com", "zer0@mozilla.com" ]
}, {
  "component" : "Session Restore",
  "summary" : "Replace runInContent() with ContentTask.spawn()",
  "reporter" : "smacleod@mozilla.com",
  "assigned" : "aj@speckledmonkey.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Now that Bug 1107609 has landed we should replace runInContent() uses with ContentTask.spawn() and then remove it from head.js",
  "comments" : [ {
    "text" : "Now that Bug 1107609 has landed we should replace runInContent() uses with ContentTask.spawn() and then remove it from head.js",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-12T18:59:46Z"
  }, {
    "text" : "Nice.",
    "authour" : "mhoye@mozilla.com",
    "created" : "2015-02-12T19:39:29Z"
  }, {
    "text" : "I have my environment set up and I am working on this bug. Is that alright?",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-13T22:27:30Z"
  }, {
    "text" : "(In reply to cbazoian12 from comment #2)\n> I have my environment set up and I am working on this bug. Is that alright?\n\nYes, that's great! I've assigned the bug to you.\n\nPlease let me know when you have any questions or would like help.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-13T23:01:30Z"
  }, {
    "text" : "Awesome. Thank you",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-16T21:37:52Z"
  }, {
    "text" : "Hey cbazoian12,\n\nI wanted to check in and see how you're progressing with this bug? Is there anything I can do to help you moving forward?",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-23T04:05:53Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #5)\n> Hey cbazoian12,\n> \n> I wanted to check in and see how you're progressing with this bug? Is there\n> anything I can do to help you moving forward?\n\nJust to make sure since I've never submitted a patch before, do I submit the diff file as the patch? And once I have the diff file, how do you want me to submit it?",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-23T18:48:50Z"
  }, {
    "text" : "(In reply to cbazoian12 from comment #6)\n> Just to make sure since I've never submitted a patch before, do I submit the\n> diff file as the patch? And once I have the diff file, how do you want me to\n> submit it?\n\nYes you'll submit the diff file as the patch. You submit it by uploading it to this bug. For more specifics about how to do this we have some great documentation[1]. Let me know if you have any more questions!\n\n[1] https://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/How_to_Submit_a_Patch",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-24T23:03:23Z"
  }, {
    "text" : "Perfect. Thank you.",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-25T21:06:34Z"
  }, {
    "text" : "Created attachment 8569437\nPatch for bug 1132556\n\nI am hoping I did this right. I attached the patch with the diff file in it.",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-25T21:28:52Z"
  }, {
    "text" : "The patch that was attached doesn't appear to be your changes, it looks like a diff introducing a bunch of the files that already exist in the repository. (In the future you'll also want to mark review?smacleod@mozilla.com rather than needinfo?smacleod@mozilla.com).\n\nWhat command are you using to generate this patch for upload?",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-25T21:33:43Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #10)\n> The patch that was attached doesn't appear to be your changes, it looks like\n> a diff introducing a bunch of the files that already exist in the\n> repository. (In the future you'll also want to mark\n> review?smacleod@mozilla.com rather than needinfo?smacleod@mozilla.com).\n> \n> What command are you using to generate this patch for upload?\n\nI was using the link http://jungels.net/articles/diff-patch-ten-minutes.html. But I believe I followed the instructions wrong. I'll go back and try again.",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-25T23:10:13Z"
  }, {
    "text" : "(In reply to cbazoian12 from comment #11)\n> I was using the link\n> http://jungels.net/articles/diff-patch-ten-minutes.html. But I believe I\n> followed the instructions wrong. I'll go back and try again.\n\nSince firefox development uses mercurial, you'll want to generate your patches using mercurial itself (rather than using the diff and patch commands). This can be done using the \"hg export\" command.\n\nIn order to ensure mercurial is configured properly though you'll want to first run \"./mach mercurial-setup\" inside the repository clone.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-02-25T23:18:05Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #12)\n> (In reply to cbazoian12 from comment #11)\n> > I was using the link\n> > http://jungels.net/articles/diff-patch-ten-minutes.html. But I believe I\n> > followed the instructions wrong. I'll go back and try again.\n> \n> Since firefox development uses mercurial, you'll want to generate your\n> patches using mercurial itself (rather than using the diff and patch\n> commands). This can be done using the \"hg export\" command.\n> \n> In order to ensure mercurial is configured properly though you'll want to\n> first run \"./mach mercurial-setup\" inside the repository clone.\n\nSo the problem I ran into is that I already made the changes to the files before starting the process of making a diff file. How do I roll back those changes so that I can make a diff file?",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-02-27T21:24:47Z"
  }, {
    "text" : "(In reply to cbazoian12 from comment #13)\n> So the problem I ran into is that I already made the changes to the files\n> before starting the process of making a diff file. How do I roll back those\n> changes so that I can make a diff file?\n\nYou actually won't need to rollback your changes in order to create the diff file. Assuming you've made your changes inside of your clone of the repository, you should be able to run \"hg diff\" to show you what has changed.\n\nYou can then use \"hg commit\" to save this changes as a commit, and then export the whole commit to a patch file using \"hg export\", or upload it to bugzilla using bzexport (which should have been installed by ./mach mercurial-steup).\n\nIt is probably worth familiarizing yourself with mercurial. The mercurial project's website[1] is a great resource for learning the basics.\n\n[1] http://mercurial.selenic.com/guide",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-03T17:43:21Z"
  }, {
    "text" : "This is my first time making a diff file. I have pulled changes since I made my own changes to the code. When I run the \"hg diff\" command, the terminal spits out a bunch of code I don't recognize. As I understand, I am supposed to just see the changes I made. Is that because I pulled changes since I made my own changes?",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-03-06T21:26:02Z"
  }, {
    "text" : "(In reply to cbazoian12 from comment #15)\n> This is my first time making a diff file. I have pulled changes since I made\n> my own changes to the code. When I run the \"hg diff\" command, the terminal\n> spits out a bunch of code I don't recognize. As I understand, I am supposed\n> to just see the changes I made. Is that because I pulled changes since I\n> made my own changes?\n\nhg diff should only be displaying the changes to your working directory and wouldn't include changes that have been pulled from the server (they will be present in commits)\n\nFor example, you were based on commit 'A' from the server\n> ... <- A <- Your work\n\nAfter pulling the result would be\n> ... <- A <- Your work\n>         \\\n>          \\- Commits pulled <- New default head from server\n\nIf you run 'hg diff' without arguments and you are seeing the changes from the commits that came from the server something strange has happened.\n\nSo a few questions for you:\n - How exactly did you pull the new changes?\n - Has your work been committed or is it still just part of the working directory?\n\nIn the case where you pull to get new changes and things work as expected, you'd then want to \"rebase\" your work onto the new changes. This is done with the rebase extension[1]\n\nIt would be really helpful if we could chat synchronously so I can help you through these mercurial issues more quickly. When you have some time could you join the mozilla irc server[2] and message me (I'm smacleod on irc)?\n\n[1] http://mercurial.selenic.com/wiki/RebaseExtension\n[2] https://wiki.mozilla.org/IRC",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-09T14:53:42Z"
  }, {
    "text" : "Thank you. I am working on the patch.",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-03-13T20:20:39Z"
  }, {
    "text" : "Created attachment 8577444\nbug1132556.diff\n\nI hope this patch turned out right this time.",
    "authour" : "cbazoian12@wou.edu",
    "created" : "2015-03-13T20:51:19Z"
  }, {
    "text" : "(In reply to cbazoian12 from comment #18)\n> Created attachment 8577444\n> bug1132556.diff\n> \n> I hope this patch turned out right this time.\nHey sorry for the delay in the response, I had written a reply but I guess I didn't submit it.\n\nUnfortunately it looks like you have many modifications to unrelated files included in the patch. Something you can do before submitting is to open up the diff file in a text editor and check that it contains what you expect.\n\nI'm unsure how exactly the unrelated changes were included into your working directory and then committed. We'll need to create a new commit though which doesn't include the unrelated changes.\n\nIt would be really helpful if you could contact me on irc and we could work through this together synchronously.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-03-17T14:30:43Z"
  }, {
    "text" : "Has this bug been fixed ?",
    "authour" : "faris18omar@gmail.com",
    "created" : "2015-12-10T16:41:16Z"
  }, {
    "text" : "(In reply to faris18omar from comment #20)\n> Has this bug been fixed ?\n\nIt has not.",
    "authour" : "smacleod@mozilla.com",
    "created" : "2015-12-15T17:34:49Z"
  }, {
    "text" : "Steven, since this bug appears to be unclaimed would you mind assigning it to me? I took a look to check it out and believe I have the necessary changes made. Don't want to submit a patch out of turn though!",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-07T08:32:36Z"
  }, {
    "text" : "AJ: Go for it.",
    "authour" : "mhoye@mozilla.com",
    "created" : "2016-01-07T15:17:03Z"
  }, {
    "text" : "(In reply to AJ Kerrigan from comment #22)\n> Steven, since this bug appears to be unclaimed would you mind assigning it\n> to me? I took a look to check it out and believe I have the necessary\n> changes made. Don't want to submit a patch out of turn though!\n\nAs :mhoye indicated, please submit your patch, it would be most welcome :)",
    "authour" : "smacleod@mozilla.com",
    "created" : "2016-01-07T15:37:51Z"
  }, {
    "text" : "Created attachment 8705277\nReplace runInContent() with ContentTask.spawn()",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-07T19:25:30Z"
  }, {
    "text" : "This is my first attempt at submitting a patch, so please don't be shy if I'm doing something messed up :). As supporting documentation, here is the before/after mochitest output for the sessionrestore component.\n\nBefore:\n\nBrowser Chrome Test Summary\n        Passed: 1029\n        Failed: 0\n        Todo: 0\n*** End BrowserChrome Test Results ***\nSUITE-END | took 207s\n\nAfter:\n\nBrowser Chrome Test Summary\n        Passed: 1029\n        Failed: 0\n        Todo: 0\n*** End BrowserChrome Test Results ***\nSUITE-END | took 205s",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-07T19:27:55Z"
  }, {
    "text" : "Comment on attachment 8705277\nReplace runInContent() with ContentTask.spawn()\n\nIn the future when posting patches you'll want to set a review? flag on who you would like to review the patch. When attempting to do that their is a suggested reviewers feature in bugzilla that can provide options for you if you don't know who should review the patch (if it picks the wrong person they'll be able to help decide on someone better).\n\nI'm going to set the flag on myself and I should have a review for you sometime soon. Thanks for the patch! :)",
    "authour" : "smacleod@mozilla.com",
    "created" : "2016-01-07T19:49:50Z"
  }, {
    "text" : "Created attachment 8705288\nReplace runInContent() with ContentTask.spawn()\n\nApologies for the double-patch. I initially missed that the \"ss-test:run\"\nmessage was only coming from the now-removed runInContent(). To remove\nrunInContent() more cleanly, I've taken out the \"ss-test:run\" listener.\nTest results are unchanged.",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-07T19:51:32Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #27)\n> Comment on attachment 8705277\n> Replace runInContent() with ContentTask.spawn()\n> \n> In the future when posting patches you'll want to set a review? flag on who\n> you would like to review the patch. When attempting to do that their is a\n> suggested reviewers feature in bugzilla that can provide options for you if\n> you don't know who should review the patch (if it picks the wrong person\n> they'll be able to help decide on someone better).\n> \n> I'm going to set the flag on myself and I should have a review for you\n> sometime soon. Thanks for the patch! :)\n\nOh thanks for the advice! I'll keep that in mind going forward.",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-07T19:53:21Z"
  }, {
    "text" : "Comment on attachment 8705288\nReplace runInContent() with ContentTask.spawn()\n\nReview of attachment 8705288:\n-----------------------------------------------------------------\n\nThis looks great, nice first patch :D\n\nI've pushed this to try, which will run the tests and show the results here: https://treeherder.mozilla.org/#/jobs?repo=try&revision=4c5b469bdd43\n\nIf all looks good we should be able to land this. You can read about the try server if you'd like: https://wiki.mozilla.org/ReleaseEngineering/TryServer",
    "authour" : "smacleod@mozilla.com",
    "created" : "2016-01-08T00:28:48Z"
  }, {
    "text" : "(In reply to Steven MacLeod [:smacleod] from comment #30)\n> Comment on attachment 8705288\n> Replace runInContent() with ContentTask.spawn()\n> \n> Review of attachment 8705288:\n> -----------------------------------------------------------------\n> \n> This looks great, nice first patch :D\n> \n> I've pushed this to try, which will run the tests and show the results here:\n> https://treeherder.mozilla.org/#/jobs?repo=try&revision=4c5b469bdd43\n> \n> If all looks good we should be able to land this. You can read about the try\n> server if you'd like: https://wiki.mozilla.org/ReleaseEngineering/TryServer\n\nNice! Thanks for the review, guidance and links.",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-08T01:11:18Z"
  }, {
    "text" : "The try run looks good, marking checkin-needed so someone will land this. Thanks!",
    "authour" : "smacleod@mozilla.com",
    "created" : "2016-01-08T03:45:43Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/b75960b9d195",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-01-09T22:27:48Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/b75960b9d195",
    "authour" : "philringnalda@gmail.com",
    "created" : "2016-01-10T23:44:12Z"
  }, {
    "text" : "Wow, that was fast. \n\nAJ, we don't see a lot of easy slam dunks like this from new contributors, and it's a joy to watch this bug happen. Do you have something you'd like to work on next? We have a few of this grade that could use your attention, but we'd be pretty happy to work with you on something a few rungs further up the challenge ladder if you're so inclined.",
    "authour" : "mhoye@mozilla.com",
    "created" : "2016-01-11T16:39:29Z"
  }, {
    "text" : "(In reply to Mike Hoye [:mhoye] from comment #35)\n> Wow, that was fast. \n> \n> AJ, we don't see a lot of easy slam dunks like this from new contributors,\n> and it's a joy to watch this bug happen. Do you have something you'd like to\n> work on next? We have a few of this grade that could use your attention, but\n> we'd be pretty happy to work with you on something a few rungs further up\n> the challenge ladder if you're so inclined.\n\nThanks Mike, very kind of you to say and I'd love to work with one of you. I'm happy to try something a bit more challenging, though I don't want to overreach and end up wasting people's time either. Would it be useful to chat a bit either via email or IRC (ajkerrigan)?",
    "authour" : "aj@speckledmonkey.com",
    "created" : "2016-01-11T16:53:29Z"
  }, {
    "text" : "I'll email you directly!",
    "authour" : "mhoye@mozilla.com",
    "created" : "2016-01-12T21:42:33Z"
  }, {
    "text" : "[bugday-20160323]\n\nStatus: RESOLVED,FIXED -> VERIFIED\n\nComments:\nSTR: Developer specific testing.\n\nComponent: \nName \t\t\tFirefox\nVersion \t\t46.0b4\nBuild ID \t\t20160322075646\nUpdate Channel \t        beta\nUser Agent \t\tMozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0\nOS                      Windows 7 SP1 x86_64",
    "authour" : "ram.nath241089@gmail.com",
    "created" : "2016-04-04T02:27:37Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-13T23:01:30Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-12-15T17:34:49Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "NEW"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2016-01-10T23:44:12Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "philringnalda@gmail.com",
      "date" : "2016-01-10T23:44:12Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-12T18:59:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mhoye@mozilla.com"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-12T19:01:46Z",
      "what" : "cf_user_story",
      "removed" : "",
      "added" : "@@ -1 +1 @@\n-Session Restore tests have a helper function runInContent()[1] which is used to execute functions in the Content Process (There is documentation on MDN which is helpful for developing multi-process firefox[2]).\r\n+Session Restore tests have a helper function runInContent()[1] which is used to execute functions in the Content Process (There is documentation on MDN which is helpful for developing multi-process firefox[2][3]).\r\n@@ -3 +3 @@\n-Recently Bug 1107609 added a more general ContentTask.spawn()[3] method for executing functions in the content process. We should replace all of the uses of runInContent()[4] with the new method, and then remove the implementation of runInContent()[1] so that no new tests use it.\r\n+Recently Bug 1107609 added a more general ContentTask.spawn()[4] method for executing functions in the content process. We should replace all of the uses of runInContent()[5] with the new method, and then remove the implementation of runInContent()[1] so that no new tests use it.\r\n@@ -20 +20,2 @@\n-[2] https://developer.mozilla.org/en-US/Add-ons/Working_with_multiprocess_Firefox\r\n+[2] https://developer.mozilla.org/en-US/Firefox/Multiprocess_Firefox\r\n+[3] https://developer.mozilla.org/en-US/Add-ons/Working_with_multiprocess_Firefox\r\n@@ -22,2 +23,2 @@\n-[3] https://hg.mozilla.org/integration/fx-team/file/2483a2d08384/testing/mochitest/BrowserTestUtils/ContentTask.jsm#l52\r\n+[4] https://hg.mozilla.org/integration/fx-team/file/2483a2d08384/testing/mochitest/BrowserTestUtils/ContentTask.jsm#l52\r\n-[4] https://dxr.mozilla.org/mozilla-central/search?q=%22runInContent%22&redirect=true+[5] https://dxr.mozilla.org/mozilla-central/search?q=%22runInContent%22&redirect=true"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-02-12T19:10:00Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mmucci@mozilla.com"
    }, {
      "name" : "mhoye@mozilla.com",
      "date" : "2015-02-12T19:39:29Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[good first bug]"
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-02-13T22:27:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "cbazoian12@wou.edu"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-13T23:01:30Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "cbazoian12@wou.edu"
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-02-25T21:28:52Z",
      "what" : "cc",
      "removed" : "",
      "added" : "smacleod@mozilla.com"
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-03-13T20:51:19Z",
      "what" : "attachments.isobsolete:8569437",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "mmucci@mozilla.com",
      "date" : "2015-11-03T14:08:49Z",
      "what" : "cc",
      "removed" : "mmucci@mozilla.com",
      "added" : ""
    }, {
      "name" : "tonydelun@gmail.com",
      "date" : "2015-11-05T04:55:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "tonydelun@gmail.com"
    }, {
      "name" : "faris18omar@gmail.com",
      "date" : "2015-12-10T16:41:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "faris18omar@gmail.com"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-12-15T17:34:49Z",
      "what" : "assigned_to",
      "removed" : "cbazoian12@wou.edu",
      "added" : "nobody@mozilla.org"
    }, {
      "name" : "aj@speckledmonkey.com",
      "date" : "2016-01-07T08:32:36Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ajkerrigan@computer.org"
    }, {
      "name" : "mhoye@mozilla.com",
      "date" : "2016-01-07T15:17:03Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "ajkerrigan@computer.org"
    }, {
      "name" : "aj@speckledmonkey.com",
      "date" : "2016-01-07T19:51:36Z",
      "what" : "attachments.isobsolete:8705277",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2016-01-08T03:45:43Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2016-01-08T03:46:24Z",
      "what" : "attachments.isobsolete:8577444",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2016-01-09T22:27:48Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2016-01-10T23:44:12Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 46"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2016-01-10T23:44:12Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-01-10 15:44:12"
    }, {
      "name" : "philringnalda@gmail.com",
      "date" : "2016-01-10T23:44:12Z",
      "what" : "cf_status_firefox46",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "ram.nath241089@gmail.com",
      "date" : "2016-04-04T02:27:37Z",
      "what" : "cc",
      "removed" : "",
      "added" : "ram.nath241089@gmail.com"
    }, {
      "name" : "ram.nath241089@gmail.com",
      "date" : "2016-04-04T02:27:53Z",
      "what" : "cc",
      "removed" : "ram.nath241089@gmail.com",
      "added" : ""
    } ],
    "flagEvents" : [ {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-12T18:59:46Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "BACKLOG",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-12T19:11:09Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "QE_VERIFY",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "mhoye@mozilla.com",
      "date" : "2015-02-12T19:39:29Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mhoye@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-23T04:05:53Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-02-23T18:48:50Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cbazoian12@wou.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-02-25T21:28:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-25T21:33:43Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-02-25T23:10:13Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cbazoian12@wou.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-02-27T21:33:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-03T17:43:21Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-03-06T21:26:39Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-09T14:53:42Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-03-13T20:20:39Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(cbazoian12@wou.edu)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "cbazoian12@wou.edu",
      "date" : "2015-03-13T20:51:19Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2015-03-17T14:30:43Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2016-01-07T19:49:50Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8705277,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "aj@speckledmonkey.com",
      "date" : "2016-01-07T19:51:36Z",
      "what" : "flagtypes.name",
      "removed" : "review?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : 8705277,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "aj@speckledmonkey.com",
      "date" : "2016-01-07T19:55:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8705288,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "smacleod@mozilla.com",
      "date" : "2016-01-08T00:28:48Z",
      "what" : "flagtypes.name",
      "removed" : "review?(smacleod@mozilla.com)",
      "added" : "",
      "attachmentId" : 8705288,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "aj@speckledmonkey.com",
      "date" : "2016-01-12T02:03:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "mhoye@mozilla.com",
      "date" : "2016-01-12T21:42:33Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(mhoye@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132556,
  "cclist" : [ "aj@speckledmonkey.com", "cbazoian12@wou.edu", "faris18omar@gmail.com", "mhoye@mozilla.com", "smacleod@mozilla.com", "tonydelun@gmail.com", "ttaubert@mozilla.com" ]
}, {
  "component" : "Developer Tools: Debugger",
  "summary" : "Turn on the debugger whenever the devtools are opened",
  "reporter" : "jlong@mozilla.com",
  "assigned" : "jlong@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "This is in prep for bug 670002. Let's go ahead and turn on the debugger if it's not already started when you are in the console. Note that this will be most of the time people open devtools since it's the first tool open.\n\nshu has done amazing work to make sure that it doesn't slow down the page a ton (everything can still go through Ion). We can make it even better over time.\n\nMy argument is this: if turning it on really is that bad, we need to fix that instead of avoiding it here. I would guess that the majority of users use our debugger a lot, so we should accept this instead of trying to optimize for the other case.\n\nIt also allows us to pause on `debugger` statements finally instead of just ignoring them if you haven't clicked the debugger stop, which is *super* weird.\n\nI'm going to do some research to see what the perf hit is, but in my early experiments it's been fine so far.",
  "comments" : [ {
    "text" : "This is in prep for bug 670002. Let's go ahead and turn on the debugger if it's not already started when you are in the console. Note that this will be most of the time people open devtools since it's the first tool open.\n\nshu has done amazing work to make sure that it doesn't slow down the page a ton (everything can still go through Ion). We can make it even better over time.\n\nMy argument is this: if turning it on really is that bad, we need to fix that instead of avoiding it here. I would guess that the majority of users use our debugger a lot, so we should accept this instead of trying to optimize for the other case.\n\nIt also allows us to pause on `debugger` statements finally instead of just ignoring them if you haven't clicked the debugger stop, which is *super* weird.\n\nI'm going to do some research to see what the perf hit is, but in my early experiments it's been fine so far.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-12T16:34:52Z"
  }, {
    "text" : "Marking as blocking 956087, since this is specific to the console but would provide the groundwork for potentially enabling the debugger statement across the toolbox.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-02-12T16:48:01Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #1)\n> Marking as blocking 956087, since this is specific to the console but would\n> provide the groundwork for potentially enabling the debugger statement\n> across the toolbox.\n\nIt definitely would. I think we should go through a release just enabling it on the toolbox to make sure there aren't complaints about the console making the page slower. I also need to look at the other tools because many of them (profiler, etc) have to enable debug mode as well, and if that's the case it really shouldn't be a problem making it toolbox-wide.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-12T16:59:55Z"
  }, {
    "text" : "Interesting graph from canuckistani: http://devtools-dash.paas.canuckistani.ca/tools-relative.html",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-12T19:27:21Z"
  }, {
    "text" : "I just tested the performance impact. I found this demo: https://github.com/turbulenz/gargantia_editor. It uses the 3d Turbulenz engine, which is pretty large and complex, and runs a somewhat complex 3d flight game on it.\n\nI added code in one of the entities that averages out the amount of time between updates for that specific entity. This roughly measures the time between frames. The pseudo-code would be:\n\n      if(numSamples < 200) {\n        var now = Date.now();\n        avg = ((avg * numSamples) + (now - lastRunTime)) / (numSamples + 1);\n        numSamples++;\n        lastRunTime = Date.now();\n      }\n      else {\n        console.log('avg:', avg);\n      }\n\n\nI don't even do any console logs, because I don't care how about the performance of the console. All I care about is if enabling the debugger incurs a significant perf hit. Results:\n\nwith devtools closed: 16.53\nwith devtools open, but debugger not initialized: 16.76\nwith devtools open and debugger initialized: 16.54\n\nThe game is obviously running within it's 60 FPS budget, and requestAnimationFrame is limiting the frames to run 16.6ms apart (= 60 FPS). The may be a performance hit (which we don't see because of rAF throttling) but the important part is that it seems to be negligible. The game can still run smoothly, and this is a lot of code.\n\nI can find more test cases.\n\nIt definitely affects startup time, but that because the debugger is fully initialized and is fleshing out the whole UI with all the sources even though I'm not looking at it. I think that startup time is solvable; all we need is the Debugger object from it.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-12T22:38:29Z"
  }, {
    "text" : "jryans said he has a b2g app he'd be willing to fire up on a real b2g phone, and to see if there's an obvious performance degradation when enabling the debugger. Try interacting with the game and the console first before clicking the debugger tab, then click the debugger tab and see if it's noticeably slower. Thanks!",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-02-24T22:12:06Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #5)\n> jryans said he has a b2g app he'd be willing to fire up on a real b2g phone,\n> and to see if there's an obvious performance degradation when enabling the\n> debugger. Try interacting with the game and the console first before\n> clicking the debugger tab, then click the debugger tab and see if it's\n> noticeably slower. Thanks!\n\nI did not notice a notable slow down with the debugger tab opened.  It seemed to run at the same speed as before.\n\nThe game does use asm.js.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-25T00:11:07Z"
  }, {
    "text" : "Created attachment 8667064\n1132501.patch\n\nThis is just a prototype. I'm waiting on a clobber build to finish to even test it, but I'm turning in for the night and wanted to post this. Think of it as pseudo-code.\n\nAs I dug into it more, it seems like if we are going to do this that it makes sense to do it on the `TabTarget`. It's unclear to me exactly the difference of `TabTarget` and `TabClient` though. Looking at `makeRemote` in `TabTarget`, though, it does basic bootstrapping of what a connected tab needs. If we are going to always be attaching the thread, we should just do it here in the tab, and the tab always has a `tab.threadClient` available.\n\nOr is there a better place for this? I think we should do this \"right\", and it seems like we could potentially clean up some of this other code (it assigns a `threadActor` variable in `makeRemote`, not sure why).",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-29T01:47:58Z"
  }, {
    "text" : "Created attachment 8667066\n1132501.patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-29T01:49:41Z"
  }, {
    "text" : "Created attachment 8667069\n1132501.patch\n\nHad to fix the reference to `Prefs`. Just tested, and this actually seems to work!\n\nNow I just need to change the debugger so the the tab shows that it's paused if it hasn't been initialized yet.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-29T02:11:52Z"
  }, {
    "text" : "Created attachment 8667343\n1132501.patch\n\nThis is working really well. This patch makes the target save the paused packet so that the debugger frontend can get it when it's initializing, and set the UI to the paused state if it should be (highlighting the line that paused, etc).\n\nThis also changes the debugger behavior to automatically switch to the debugger if a breakpoint or debugger statement is it. I've always wanted it to do that, and I think most people would expect that.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-29T15:54:06Z"
  }, {
    "text" : "One thing I don't understand is what the `WindowTarget` class is for in target.js. It won't have a threadClient, but now it sort of needs one. The protocol is for targets to always have one now.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-29T15:56:48Z"
  }, {
    "text" : "Comment on attachment 8667343\n1132501.patch\n\nReview of attachment 8667343:\n-----------------------------------------------------------------\n\nMy recommendation is we should still use a workflow like the inspector, as in the toolbox should cause these additional requests when it starts.\n\nAdding additional startup tasks to target or DebuggerClient is less good, because WebIDE creates many of these things for tab tracking, etc. and won't necessarily open a toolbox with them.\n\nSince we want this special behavior for the toolbox, it should be the toolbox that triggers the requests that make it happen.\n\nNow, the toolbox is a complicated module, so let's break it out if you want.  Simple modules are certainly nicer. :)",
    "authour" : "jryans@gmail.com",
    "created" : "2015-09-29T16:16:49Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #11)\n> One thing I don't understand is what the `WindowTarget` class is for in\n> target.js. It won't have a threadClient, but now it sort of needs one. The\n> protocol is for targets to always have one now.\n\nWindowTargets were **meant** to be used when making a target for an entire chrome window[1] (so that would suggest Browser Toolbox).\n\nHowever, I think it's really an outdated, pre-RDP API.  The only uses I see end up in dead code.  I filed bug 1209634 to remove WindowTargets.\n\n[1]: https://dxr.mozilla.org/mozilla-central/source/devtools/client/framework/gDevTools.jsm#555",
    "authour" : "jryans@gmail.com",
    "created" : "2015-09-29T17:54:09Z"
  }, {
    "text" : "Created attachment 8667475\n1132501.patch\n\nI like how this is turning out. Basically I rip the thread state stuff out of the target, and the toolbox automatically attaches/detaches the thread. The toolbox still manually fires paused/resumed events on the target because it seems like listening to those events on the target is used a lot in other code.\n\nThe toolbox handles highlighting and selecting the debugger when paused/resumed. And if you want to check the state of the thread, you can just use the threadClient instance.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-29T19:29:52Z"
  }, {
    "text" : "Comment on attachment 8667475\n1132501.patch\n\nReview of attachment 8667475:\n-----------------------------------------------------------------\n\nETOOMANYNITS\n\nOverall, I think it's looking, but it would be good to clean up the thread-* event listeners from target, instead of emitting the event back there.\n\n::: devtools/client/debugger/debugger-controller.js\n@@ +216,5 @@\n> +    DebuggerView.Toolbar.toggleResumeButtonState(\n> +      this.activeThread.state,\n> +      !!pausedPacket\n> +    );\n> +    if(pausedPacket) {\n\nNit: if (\n\n(Try ESLint!)\n\n::: devtools/client/framework/attach-thread.js\n@@ +2,5 @@\n> +const Services = Cu.import(\"resource://gre/modules/Services.jsm\", {}).Services;\n> +const promise = require(\"promise\");\n> +\n> +function handleThreadState(toolbox, event, packet) {\n> +  toolbox.target.emit(\"thread-\" + event);\n\nWould it make more sense for the other consumers who listen for this on `target` to instead get the `threadClient` from the toolbox?\n\nIt seems surprising to me to emit this on the target, now that there is nothing else about thread state in the target.\n\n@@ +4,5 @@\n> +\n> +function handleThreadState(toolbox, event, packet) {\n> +  toolbox.target.emit(\"thread-\" + event);\n> +\n> +  if(event === \"paused\") {\n\nNit: if (\n\n@@ +7,5 @@\n> +\n> +  if(event === \"paused\") {\n> +    toolbox.highlightTool(\"jsdebugger\");\n> +\n> +    if(packet.why.type === 'debuggerStatement' ||\n\nNit: if (, use \" not '\n\n@@ +13,5 @@\n> +       packet.why.type === 'exception') {\n> +      toolbox.raise();\n> +      toolbox.selectTool(\"jsdebugger\");\n> +    }\n> +  }\n\nNit: } else {\n\n@@ +37,5 @@\n> +    }\n> +    threadClient.addListener(\"paused\", handleThreadState.bind(null, toolbox));\n> +    threadClient.addListener(\"resumed\", handleThreadState.bind(null, toolbox));\n> +\n> +    if (!threadClient.paused) {\n\nWhy are we always paused?  It seems like we did not assume that before.\n\n@@ +62,5 @@\n> +\n> +  return deferred.promise;\n> +}\n> +\n> +function detachThread(threadClient) {\n\nAdd a comment that we'll send a `detach` request when the target detaches from the entire DebuggerClient.\n\n::: devtools/client/framework/toolbox.js\n@@ +253,5 @@\n>    get target() {\n>      return this._target;\n>    },\n>  \n> +  get threadClient() {\n\nAdd a comment about why this is at the toolbox level.\n\n::: devtools/shared/client/main.js\n@@ +84,5 @@\n>      if (!this._listeners || !this._listeners[aName]) {\n>        return;\n>      }\n> +\n> +    if(!aListener) {\n\nNit: if (\n\n@@ +86,5 @@\n>      }\n> +\n> +    if(!aListener) {\n> +      this._listeners[aName] = [];\n> +    }\n\nNit: } else {",
    "authour" : "jryans@gmail.com",
    "created" : "2015-09-29T20:51:10Z"
  }, {
    "text" : "Pushed to try with DAMP enabled.  Will do some retriggers once it finishes to see if we can detect any regressions\n\nremote: Follow the progress of your build on Treeherder:\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=769bce3ee777\nremote: \nremote: It looks like this try push has talos jobs. Compare performance against a baseline revision:\nremote:   https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=769bce3ee777",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-29T20:56:40Z"
  }, {
    "text" : "I fixed a few of the tests so this should look better. Still probably some related failures though.\n\nremote: Follow the progress of your build on Treeherder:\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=bd420cc0170c\nremote:\nremote: It looks like this try push has talos jobs. Compare performance against a baseline revision:\nremote:   https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=bd420cc0170c",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-30T14:36:03Z"
  }, {
    "text" : "So it looks like there's definitely a perf regression associated with this change (scroll down to 'damp opt'): https://treeherder.mozilla.org/perf.html#/compare?originalProject=fx-team&originalRevision=288d12e9236b&newProject=try&newRevision=769bce3ee777\n\nI've retriggered the ones that don't have many runs, but linux64 and windowsxp are both showing ~8% regressions.\n\nHaving a bit of trouble parsing the subtest view but here it is: https://treeherder.mozilla.org/perf.html#/comparesubtest?originalProject=fx-team&originalRevision=288d12e9236b&newProject=try&newRevision=769bce3ee777&originalSignature=25169736932930bc20f0437757e9399dadf68976&newSignature=25169736932930bc20f0437757e9399dadf68976",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-30T15:39:26Z"
  }, {
    "text" : "OK an update about the subtest view on perfherder - I've asked on IRC and the :wlach has confirmed that there's a frontend bug in the perfherder UI that's causing some data to not show up in that page, and that there should be a fix deployed soon for that.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-30T15:52:47Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #19)\n> OK an update about the subtest view on perfherder - I've asked on IRC and\n> the :wlach has confirmed that there's a frontend bug in the perfherder UI\n> that's causing some data to not show up in that page, and that there should\n> be a fix deployed soon for that.\n\nSee Bug 1210009 for that work",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-30T16:06:22Z"
  }, {
    "text" : "Here's a push that doesn't block on attaching a thread. Code looks like this:\n\n      attachThread(this).then(thread => {\n        this._threadClient = thread;\n      });\n\n\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=43aeb71f4a88\nremote:\nremote: It looks like this try push has talos jobs. Compare performance against a baseline revision:\nremote:   https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=43aeb71f4a88",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-30T17:33:29Z"
  }, {
    "text" : "Just for kicks, here is a push with the attach/detach commented out. There should be no difference. Any of the jsdebugger runs will fail though.\n\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=7ab59f681438\nremote:\nremote: It looks like this try push has talos jobs. Compare performance against a baseline revision:\nremote:   https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=7ab59f681438",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-30T17:36:01Z"
  }, {
    "text" : "I *think* these are the correct comparison pages:\n\nComment 21: https://treeherder.mozilla.org/perf.html#/compare?originalProject=fx-team&originalRevision=55d38169a4ee&newProject=try&newRevision=43aeb71f4a88\nComment 22: https://treeherder.mozilla.org/perf.html#/compare?originalProject=fx-team&originalRevision=55d38169a4ee&newProject=try&newRevision=7ab59f681438",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-30T18:56:58Z"
  }, {
    "text" : "Created attachment 8668042\n1132501.patch\n\nHere's my latest patch. This still blocks opening on attaching the thread, but most of the tests should be fixed. I'm not sure about this though:\n\n 851 INFO TEST-UNEXPECTED-FAIL | devtools/client/webconsole/test/browser_webconsole_split_persist.js | leaked until shutdown [nsGlobalWindow #2774 outer about:blank] - expected PASS\n\n    1133487 Intermittent browser_webconsole_split_persist.js | uncaught exception - TypeError: self._init is not a function at chrome://global/content/bindings/toolbar.xml:144\n\nTEST-UNEXPECTED-FAIL | devtools/client/webconsole/test/browser_webconsole_view_source.js | application terminated with exit code 1\n\n1148225 Intermittent browser_webconsole_view_source.js | application terminated with exit code -11\n1145481 Intermittent browser_webconsole_view_source.js | application crashed [@ nsStandardURL::~nsStandardURL()] \n\nI don't really know even how to debug the crash. And that leak happened in an opt build, which is weird so I'm not sure how to debug that either if it's not the typical debug leak (I can't repro either locally).\n\nAny help with this would be great. And with reading DAMP and making decisions on what we should do.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-30T19:14:22Z"
  }, {
    "text" : "Are you able to reproduce locally? If so, make a debug build and add `--debugger gdb` to the end of the mach command. Then go from there.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-09-30T19:26:09Z"
  }, {
    "text" : "@fitzgen sort of, for me it just hangs (note that it's the very last test, and individually the test runs fine, so there's something else going on). Thanks, I'll see what I can do.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-09-30T19:34:29Z"
  }, {
    "text" : "I'd say first step is try with a debug build.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-09-30T19:43:28Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #22)\n> Just for kicks, here is a push with the attach/detach commented out. There\n> should be no difference. Any of the jsdebugger runs will fail though.\n> \n> remote:  \n> https://treeherder.mozilla.org/#/jobs?repo=try&revision=7ab59f681438\n> remote:\n> remote: It looks like this try push has talos jobs. Compare performance\n> against a baseline revision:\n> remote:  \n> https://treeherder.mozilla.org/perf.html#/\n> comparechooser?newProject=try&newRevision=7ab59f681438\n\nAh, looks like DAMP is failing with that patch applied:\n\n2015-09-30 13:08:46,714 DEBUG : BROWSER_OUTPUT: Full message: TypeError: this._toolbox.threadClient is undefined\n2015-09-30 13:08:46,730 DEBUG : BROWSER_OUTPUT: Message: TypeError: this._toolbox.threadClient is undefined\n2015-09-30 13:08:46,809 DEBUG : BROWSER_OUTPUT: Full message: TypeError: panel is undefined",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-09-30T21:48:30Z"
  }, {
    "text" : "@bgrins yeah, that must be my other changes that assume it's there (thought that code wouldn't be hit). if we think this case is really important I can get it working, but seems like comparing it to a normal rev is the same thing.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-01T03:59:39Z"
  }, {
    "text" : "FWIW, to make sure there is no impact (even small), I just ran the Octane benchmarks with and without the Debugger attached and there's literally zero difference. I looked at the actual Octane scores and the total time spent from our performance tool. I don't think there's even a small impact. This has always been the theory (JS executes normally now under a debugger), but it's nice to see it play out that way.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-01T21:05:13Z"
  }, {
    "text" : "Created attachment 8668688\n1132501.patch\n\nrebased latest patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-01T22:06:51Z"
  }, {
    "text" : "Try and perfherder push with the latest patch (which is taking into account a surprising 65% improvement across the board to DAMP over the last few days: https://groups.google.com/forum/#!searchin/mozilla.dev.tree-alerts/devtools$20at$20maximum$20performance|sort:date).\n\nLet's see how this turns up.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=f0e588d2f258\n\nhttps://treeherder.mozilla.org/perf.html#/compare?originalProject=mozilla-central&originalRevision=096c0f407f8b&newProject=try&newRevision=f0e588d2f258",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-10-01T22:24:13Z"
  }, {
    "text" : "*** Bug 956087 has been marked as a duplicate of this bug. ***",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-02T15:54:23Z"
  }, {
    "text" : "One of the last failing tests is failing because of this specific line: https://github.com/mozilla/gecko-dev/blob/master/devtools/client/webconsole/test/browser_webconsole_bug_595350_multiple_windows_and_tabs.js#L63\n\nI guess we never opened multiple toolboxes at the same time with the debugger enabled. I looked at the protocol log and for some reason *all* toolboxes end up targeting the *same* thread, so somehow when we are connecting we're using something like `activeTab` and because everything opens up at once it ends up being the last opened tab. I'm not exactly sure if that's what happening, but it sure seems like it. I can't find any code where this obviously happens.\n\nIf I wait 1 second between opening tabs, the test passes. This is what I changed the code to;\n\n    setTimeout(() => {\n      openConsole(tab).then(function(index, hud) {\n        ok(hud, \"HUD is open for tab \" + index);\n        let window = hud.target.tab.linkedBrowser.contentWindow;\n        window.console.log(\"message for tab \" + index);\n        consolesOpen++;\n        if (consolesOpen == 4) {\n          // Use executeSoon() to allow the promise to resolve.\n          executeSoon(closeConsoles);\n        }\n      }.bind(null, i));\n    }, i * 1000);",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-03T03:34:25Z"
  }, {
    "text" : "Actually I was wrong, they are different threads. I didn't realize the different `conn#`.\n\nJWL added threadClient server1.conn0.context26\nJWL added threadClient server1.conn1.context26\nJWL added threadClient server1.conn2.context26\nJWL added threadClient server1.conn3.context26\n\nStill though, opening the consoles after 1s each time fixed it so not sure what's going on.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-03T04:07:39Z"
  }, {
    "text" : "I figured it out (not really working on this today but still posting my results from yesterday). Threads are paused when they are initially attached, and the client sends a subsequent resume request. We force resuming the event loops to happen in a LIFO order: the last one to pause needs to be the next one that resumes. I'm assuming that 2 tabs are opening toolboxes, attaching, but resuming in a different order that they attached. The code to enforce this is here: https://github.com/mozilla/gecko-dev/blob/master/devtools/server/actors/script.js#L989-L991\n\nIf there are multiple event loops in a ThreadActor, does that mean that there's only one ThreadActor for the content process and thus *all* pages, even across tabs and windows? I actually forgot it worked that way. I need to look at this patch and see if I'm doing things correctly. I don't know how sending multiple `attach` requests works; it appears that multiple ThreadActors are created but somehow the event loops are communicating to each other (to know which order they are resumed).",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-03T19:35:07Z"
  }, {
    "text" : "I fixed that test failure. Let's see what else shows up: https://treeherder.mozilla.org/#/jobs?repo=try&revision=0732ca504bb4",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-05T18:28:26Z"
  }, {
    "text" : "Created attachment 8673824\n1132501.patch\n\nrebased",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-14T18:38:14Z"
  }, {
    "text" : "Created attachment 8674297\n1132501.patch\n\nPrevious patch was rebased wrongly, here's one where all console tests pass locally.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-15T15:49:19Z"
  }, {
    "text" : "New try push: https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=58a051dd4bcb",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-15T18:03:16Z"
  }, {
    "text" : "Oops, pasted the wrong link. https://treeherder.mozilla.org/#/jobs?repo=try&revision=58a051dd4bcb\n\nLooks like those errors magically went away! Getting close.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-15T22:10:42Z"
  }, {
    "text" : "Previous try is borked. New one: https://treeherder.mozilla.org/#/jobs?repo=try&revision=cde5165ef84e",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-21T18:06:20Z"
  }, {
    "text" : "Oops, previous comment was not meant for this bug.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-10-21T18:07:00Z"
  }, {
    "text" : "Picking this up again. Rebased: https://treeherder.mozilla.org/#/jobs?repo=try&revision=d71ef1c637ff",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-12T16:10:42Z"
  }, {
    "text" : "(In reply to J. Ryan Stinnett [:jryans] (use ni?) from comment #15)\n> \n> ::: devtools/client/framework/attach-thread.js\n> @@ +2,5 @@\n> > +const Services = Cu.import(\"resource://gre/modules/Services.jsm\", {}).Services;\n> > +const promise = require(\"promise\");\n> > +\n> > +function handleThreadState(toolbox, event, packet) {\n> > +  toolbox.target.emit(\"thread-\" + event);\n> \n> Would it make more sense for the other consumers who listen for this on\n> `target` to instead get the `threadClient` from the toolbox?\n> \n> It seems surprising to me to emit this on the target, now that there is\n> nothing else about thread state in the target.\n> \n\nI know it's been a while, but I realized I never actually responded to this. I agree, but can I do that as a follow-up? This already feels a bit tricky to me so I'd like to go head and land it, and then it shouldn't be hard to update listeners of those events.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-12T16:17:43Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #45)\n> (In reply to J. Ryan Stinnett [:jryans] (use ni?) from comment #15)\n> > \n> > ::: devtools/client/framework/attach-thread.js\n> > @@ +2,5 @@\n> > > +const Services = Cu.import(\"resource://gre/modules/Services.jsm\", {}).Services;\n> > > +const promise = require(\"promise\");\n> > > +\n> > > +function handleThreadState(toolbox, event, packet) {\n> > > +  toolbox.target.emit(\"thread-\" + event);\n> > \n> > Would it make more sense for the other consumers who listen for this on\n> > `target` to instead get the `threadClient` from the toolbox?\n> > \n> > It seems surprising to me to emit this on the target, now that there is\n> > nothing else about thread state in the target.\n> > \n> \n> I know it's been a while, but I realized I never actually responded to this.\n> I agree, but can I do that as a follow-up? This already feels a bit tricky\n> to me so I'd like to go head and land it, and then it shouldn't be hard to\n> update listeners of those events.\n\nI can live with that assuming you file the follow up and add comments with the bug number where the emitting and listening happens.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-11-12T16:35:03Z"
  }, {
    "text" : "Created attachment 8686703\n1132501-asmjs.patch\n\nThis is a small patch on top of the last one. It keeps asm.js enabled until the debugger is actually used, which is very important if we're going to attach the thread eagerly.\n\nr? fitzgen because this actually change the default of all Debugger instances to *not* disable asm.js, and only the debugger disables it when it's opened. Might affect other tools that use Debugger instances.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-12T18:08:52Z"
  }, {
    "text" : "Created attachment 8686704\n1132501-asmjs.patch\n\nForgot a few cleanups",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-12T18:11:08Z"
  }, {
    "text" : "I am going to write a few tests before landing this, but I want to see if anything is already breaking: https://treeherder.mozilla.org/#/jobs?repo=try&revision=58984cb0c26c",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-12T18:13:09Z"
  }, {
    "text" : "Comment on attachment 8686704\n1132501-asmjs.patch\n\nReview of attachment 8686704:\n-----------------------------------------------------------------\n\nLGTM, just a couple comments below.\n\n::: devtools/client/debugger/debugger-controller.js\n@@ +226,5 @@\n>      }\n>  \n> +    // Disable asm.js so that we can set breakpoints and other things\n> +    // on asm.js scripts\n> +    this.reconfigureThread({ disableAsmJS: true });\n\nI think we should name this \"observeAsmJS\" or \"observeAndDisableAsmJS\" because \"disableAsmJS\" doesn't explain at all *why* you might want to do that.\n\n@@ +320,5 @@\n> +      aResponse => {\n> +        if (aResponse.error) {\n> +          let msg = \"Couldn't reconfigure thread: \" + aResponse.message;\n> +          Cu.reportError(msg);\n> +          dumpn(msg);\n\nWhile you're here, would you mind removing Cu.reportError and dumpn and using DTU.reportException in their place? Thanks!\n\n::: devtools/server/actors/script.js\n@@ +686,5 @@\n> +    if ('disableAsmJS' in options) {\n> +      this.dbg.allowUnobservedAsmJS = !options.disableAsmJS;\n> +    }\n> +\n> +    update(this._options, options || {});\n\nApparently options can be null/undefined and we handle that with this line, but the \"in\" operator above will throw before we get here. Make a default for options, or guard all this stuff on it or something.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-11-12T18:19:34Z"
  }, {
    "text" : "Created attachment 8687454\np.patch\n\nupdate w/fitzgen's comments (now calling the flag observeAsmJS).\n\nAlso fixed a major problem with regards to the initial pausing & resuming. The engine is initially paused, so we have to send a resume. I'm doing that in `attachThread` and blocking on it, so tools don't need to wait for a resume anymore. Needed to clean up a few places to make tests running again. Will post a try run soon.\n\nWe probably should talk more if we should block on that initial resume or not. I think it's fine to block",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-13T23:56:26Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=aee11a2d1305",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-13T23:58:25Z"
  }, {
    "text" : "I think I've addressed all the above failures. optimistic that this'll work: https://treeherder.mozilla.org/#/jobs?repo=try&revision=5e3f1a581756",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-16T03:45:20Z"
  }, {
    "text" : "Argh. Lost almost a whole day to this one. Sending the \"observeAsmJS\" flag in the \"reconfigure\" message when the debugger starts up was clearing out the sources, which made for some weird side effects (like multiple newSource notifications for an HTML file instead of just one, which triggered multiple `fetchEventListeners` requests...). Long story short, I definitely found the problem for this one. Let's see if there's anything else.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=5dff80766c55",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-16T22:48:01Z"
  }, {
    "text" : "Created attachment 8688132\n1132501.patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-16T22:48:18Z"
  }, {
    "text" : "I think this patch is ready to do. Unfortunately, we seem to have several intermittent tests that make it hard to decide if it's my fault or not. But looking through all those failures, I don't think any of them are mine.\n\nThe red dt2 failures, for instance, were blobuploader failures. All of the tests passed, but for some reason the machines had trouble uploaded stuff afterwards.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-17T17:26:18Z"
  }, {
    "text" : "Oops, meant to post this: https://treeherder.mozilla.org/#/jobs?repo=try&revision=8d204ea38d3d. I'm going to use checkin-needed to get the sheriff's opinion if I can push this or not.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-17T17:41:03Z"
  }, {
    "text" : "Created attachment 8688539\n1132501.patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-17T18:10:47Z"
  }, {
    "text" : "sheriffs: there are failures in the above try but they seem like known intermittents and I can't imagine they are related. I don't know why they failed more than once or twice though.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-17T18:11:34Z"
  }, {
    "text" : "I went ahead and pushed this myself because I'm very eager to see if this is going to stick. I want this to land before thanksgiving next week.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-18T21:26:38Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/e8c43ec095e3",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-11-18T21:26:49Z"
  }, {
    "text" : "All of the Gaia unit tests started failing with https://treeherder.mozilla.org/logviewer.html#?job_id=5800458&repo=fx-team when this landed. Backing you out to see if that's just a coincidence:\n\nhttps://hg.mozilla.org/integration/fx-team/rev/8e22c8aac023",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-11-18T22:34:55Z"
  }, {
    "text" : "I'm at an absolute loss as to why this is making the mulet builds fail for gaia. I was able to reproduce it locally by building a mulet build and running gaia locally. This file opens up the devtools: https://github.com/mozilla/gecko-dev/blob/master/b2g/chrome/content/desktop.js\n\nLine 187 is where it opens them. If I delay opening them by a second or two, everything works fine. There is an error in the console that acts is if these two files are loaded in the wrong order: https://github.com/mozilla-b2g/gaia/blob/master/apps/ftu/index.html#L49-L50. I have *no* idea why attaching the thread would make them load in the wrong order.\n\nThis is so out of my comfort zone I'm worried about landing this before Thanksgiving, which is a real bummer :( Any insight would be appreciated...",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-20T19:51:43Z"
  }, {
    "text" : "Alex you've worked with this stuff, and maybe can give me some clues. How does the mulet tests get notified that the devtools is finished loading? The devtools is going to load a little slower now, which is the only reason I can think of why it might be affecting things.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-20T19:52:55Z"
  }, {
    "text" : "I found it! \n\nWell, I found the crash. I finally figured out how to run the gaia unit tests locally under a real mulet build & config (this isn't actually documented anywhere, it's a combination of multiple setups), and sure enough, Firefox crashes and burns hard right before the test starts.\n\nThis is clearly a deeper issue within SpiderMonkey, where hooking a Debugger up freaks something out. Now I just need to dig around for the crash log which doesn't seem to be anywhere. Once I find more information about the crash I can file a new bug and it's not my problem anymore!",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-20T22:32:19Z"
  }, {
    "text" : "I give up for now. I made a video, see end of my comment. I'm definitely going to need somebody else's help who is more familiar with how Gaia runs unit tests. It appears that Firefox isn't actually crashing; for some insane reason the test agent connection just randomly disconnects right before the tests start running. I have *zero* idea why this is connected to my patch.\n\nTo sum up: this patch connects a Debugger to the page whenever the toolbox opens, instead of waiting for the debugger to be used. The broke the gaia unit test runner under mulet, as seen here on try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=464bbc35cd63. Mulet runs gaia within Firefox with responsive mode turned on and the devtools automatically opened (so there is a connection to my patch but this shouldn't really affect it). The tests just stops early with the message \"Build shut down unexpectedly\" with my patch. I was able to reproduce this locally after setting up a mulet build and running gaia unit tests.\n\nSomehow, connecting a debugger to the window under mulet makes it freak out. But Firefox is *not* crashing. I paused the python test runner and Firefox actually ran the tests fine and continued running; it's just the connection between the test client & server that closes for some reason.\n\nWatch this for a thorough walkthrough and to watch it happen: http://jlongster.com/s/failing-gaia.mp4",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-22T03:20:05Z"
  }, {
    "text" : "STR:\n\n1. apply this patch on fx-team or master\n2. Build it with `ac_add_options --enable-application=b2g/dev`\n2. Set $FIREFOX to your build: `export FIREFOX=/Users/james/projects/mozilla/gecko-dev-quickfix/obj-x86_64-apple-darwin15.0.0/dist/NightlyDebug.app/Contents/MacOS/firefox`\n3. checkout gaia and `cd` into it\n4. Run `NO_LOCK_SCREEN=1 DEBUG=1 DESKTOP=0 make`\n5. Run `python tests/python/gaia-unit-tests/gaia_unit_test/main.py --binary $FIREFOX --profile ~/projects/mozilla/gaia/profile-debug system/test/unit/hierarchy_manager_test.js`\n\nThe last command runs a unit test in the mulet build with our patch. You'll see the \"build shutdown unexpectedly\" message.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-23T16:03:26Z"
  }, {
    "text" : "Hum, this isn't really optimal to run tests with devtools displayed to start with.\nBut your patch shouldn't also break anything...\nI'll take a look, but I can't promise the outcome, as you already chased this quite well!",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-11-23T16:43:19Z"
  }, {
    "text" : "If you look at every failure on try push, you can see that it is always the same stdout.\nWe see a stacktrace from devtools toolbox opening, due to a dbg_assert call.\nThen various stuff related to gaia test harness and b2g initialization.\nAnd it always fails like this:\n15:55:14     INFO -  XXX FIXME : Dispatch a mozChromeEvent: apps-update-check\n15:55:15     INFO -  JavaScript error: jar:file:///home/worker/build/application/firefox/omni.ja!/components/BrowserElementParent.js, line 1176: NS_ERROR_NOT_IMPLEMENTED: SetNFCFocus for in-process mode is not yet supported\n15:55:17     INFO -  Build shut down unexpectedly\n\nI'm wondering if that's just a race in the test harness itself.\nLike, attaching debuggers slow down the startup of everything (gecko, gaia and the test harness) and the test misbehaves and kill itself because of a nasty race?",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-11-23T16:52:40Z"
  }, {
    "text" : "Not really a race, but yes, the debugger is messing up with javasript behavior.\nIf you comment this line, tests work:\n  http://mxr.mozilla.org/mozilla-central/source/devtools/server/actors/script.js#1935\n  1935     this.unsafeSynchronize(this.sources.createSourceActors(aSource));\n\nI have to idea why we use unsafeSynchronize in so many places, but may be we really shouldn't ?!?\n\nI tried hard to figure out what exactly go wrong on test-agent side,\nbut haven't been able to figure out anything more than you. The Websocket shuts down on the python/server side and then the python automatically kills firefox.\nIf unsafeSynchronize breaks WebSocket API itself and make it close unexpectedly, it is going hard to find any additional clue.\n\nNote that unsafeSynchronize is being called when onNewScript fires for app://test-agent.gaiamobile.org/common/test/agent.js.",
    "authour" : "poirot.alex@gmail.com",
    "created" : "2015-11-23T20:24:46Z"
  }, {
    "text" : "That's too bad. I'm actually not sure about that call to it, though there's a comment that tries to explain it. I know we need the 2nd call to it further down because we need to fetch and parse sourcemaps, but block on it because we may need to set breakpoints on the script.\n\nI think we can eventually get rid of that first call to it. But not before this patch lands...\n\nThanks for figuring out that line specifically. I don't know why it would mess up websockets; we've never had any reports of the debugger having problem with websockets.\n\nI see two potential fixes:\n\n1. Delay opening the devtools for a second or two (after the test files load). Presumably that should fix the issue; no onNewScript events will fire.\n\n2. Add an option to `openToolbox` to not automatically attach the thread. We can remove this later once we get a proper fix in.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-23T21:06:12Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #71)\n> I see two potential fixes:\n> \n> 1. Delay opening the devtools for a second or two (after the test files\n> load). Presumably that should fix the issue; no onNewScript events will fire.\n> \n> 2. Add an option to `openToolbox` to not automatically attach the thread. We\n> can remove this later once we get a proper fix in.\n\nA time-based delay sounds like a recipe for more intermittents, so I'd suggest going with #2.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-11-23T21:25:05Z"
  }, {
    "text" : "Yeah, that's probably best for now. I'm *very* curious why it breaks things, but the synchronize is a hack and I'm pretty sure we can the one that seems to break this so I guess we'll just plan for that in the future.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-23T21:32:27Z"
  }, {
    "text" : "Created attachment 8691051\n1132501.patch\n\nAlright, this patch adds an option to `showToolbox` to not attach the thread. I don't know if you all want to look at it or not.\n\nNow I think there are still some other test failures...",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-23T22:37:36Z"
  }, {
    "text" : "I also filed bug 1227317 to get rid of that nasty `unsafeSynchronize`.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-23T22:38:00Z"
  }, {
    "text" : "This is now blocked on bug 1113930, because it made a previous intermittent crash basically perma-fail. On linux debug it consistently fails with the crash linked to that bug. Luckily, somebody is working on it.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-24T04:09:30Z"
  }, {
    "text" : "Oops, wrong bug: bug 1224822",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-24T04:11:16Z"
  }, {
    "text" : "Latest try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=80c448ed0dbf",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-24T04:11:40Z"
  }, {
    "text" : "I applied the patch from bug 1224822 to confirm that it will actually fix it: https://treeherder.mozilla.org/#/jobs?repo=try&revision=f298456fde7e\n\nIf that works, I think this patch will be ready to land once the other one does.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-24T15:42:42Z"
  }, {
    "text" : "The patch that I applied was faulty, I got a new one from BenWa. Let's see if it fixes it... https://treeherder.mozilla.org/#/jobs?repo=try&revision=2598191dad78",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-11-24T16:50:25Z"
  }, {
    "text" : "Let's get this baby landed https://treeherder.mozilla.org/#/jobs?repo=try&revision=11e586548eea",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-17T02:59:09Z"
  }, {
    "text" : "Created attachment 8699554\n1132501.patch\n\nrebased & slightly updated patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-17T19:12:01Z"
  }, {
    "text" : "Getting very, very close. Fixed several nasty failures, I think there is one last test to fix that is leaking a window. https://treeherder.mozilla.org/#/jobs?repo=try&revision=e22dfda61b1c",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-21T20:15:08Z"
  }, {
    "text" : "Latest try with the patch from bug 1113930. There are still some obscure failures:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=0986c2e5bdbe",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-22T17:05:00Z"
  }, {
    "text" : "*** Bug 1234756 has been marked as a duplicate of this bug. ***",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-23T19:38:16Z"
  }, {
    "text" : "I found a fix for bug 1234756. Here's the latest try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=63eb6db15805\n\nAlso running talos for this one: https://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=63eb6db15805\n\nSide note: we *really* need to clean up `_addSource` in the debugger server (that's where I had to fix the aforementioned bug)",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-23T19:41:47Z"
  }, {
    "text" : "\\o/ -o/ \\o- I think the try gods finally looked on my favorably! This patch actually works finally!!\n\nThe above run had the patch from bug 1113930 applied. Along the way I discovered the tweaking something within the debugger server made things a lot more calm, so I'm curious if I don't need that fix anymore. Here's a run without it: https://treeherder.mozilla.org/#/jobs?repo=try&revision=4dcace340f02\n\nIt's not a big deal if that's the only bug blocking this. Looks like they are close to a solution.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-24T02:04:47Z"
  }, {
    "text" : "Created attachment 8701662\n1132501.patch\n\nThis patch has changed quite a bit, so time for a new review. I don't expect it to be done over Christmas, of course.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-24T02:06:06Z"
  }, {
    "text" : "Comment on attachment 8701662\n1132501.patch\n\nNick, it would be good if you checked out the debugger server changes. I discovered that we were calling `unsafeSynchronize` even if we don't have any breakpoints to set, which is pretty bad. Before we were strict on that, but we've introduced a second call to it which happens all the time.\n\nThat means we're calling `unsafeSynchronize` and spinning up an event loop for every newSource notification. Now that we attach the thread by default, that is happening for *every* devtools test, which seems to freak out a lot of stuff. Just look at the try run a few comments up. Various obscure weird C++ crashes happened, but removing the `unsafeSynchronize` call by default fixed all of that.\n\nThat probably means there are real bugs with it, but not calling it when we have no breakpoints is a good fix. It should also make startup faster.\n\nWe really should clean up `_addSource`, it's very ugly and confusing now.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-24T02:10:35Z"
  }, {
    "text" : "A note for my future self: I just realized that by avoiding the `unsafeSynchronize` call I just fixed that weird mulet test runner problem, described in comment 70. It was the source of all of that, so now I should be able to revert special-casing that test runner.",
    "authour" : "jlong@mozilla.com",
    "created" : "2015-12-24T02:20:40Z"
  }, {
    "text" : "Comment on attachment 8701662\n1132501.patch\n\nReview of attachment 8701662:\n-----------------------------------------------------------------\n\n::: devtools/server/actors/script.js\n@@ +689,2 @@\n>      // Update the global source store\n> +    this.sources.reconfigure(options);\n\nWhy doesn't this pass `this._options` anymore? The idea is that each reconfigure request needn't send the whole new option state, just the changed attributes. Thus, `options` here is only the changed attributes, not the whole state, which is what `this._options` is.",
    "authour" : "nfitzgerald@mozilla.com",
    "created" : "2015-12-28T17:38:01Z"
  }, {
    "text" : "(In reply to Nick Fitzgerald [:fitzgen] [â�°PST; UTC-8] from comment #91)\n> Comment on attachment 8701662\n> 1132501.patch\n> \n> Review of attachment 8701662:\n> -----------------------------------------------------------------\n> \n> ::: devtools/server/actors/script.js\n> @@ +689,2 @@\n> >      // Update the global source store\n> > +    this.sources.reconfigure(options);\n> \n> Why doesn't this pass `this._options` anymore? The idea is that each\n> reconfigure request needn't send the whole new option state, just the\n> changed attributes. Thus, `options` here is only the changed attributes, not\n> the whole state, which is what `this._options` is.\n\nIf you look at the `reconfigure` method `TabSources.js`, I also changed that to accept a partial configuration object. It will only change options that exist in the object, instead of applying the entire object (assuming values are false by default).\n\nI may look into this again and see if there's a cleaner way to do it.",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-04T22:59:14Z"
  }, {
    "text" : "Created attachment 8703856\n1132501.patch\n\nRebased patch",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-04T22:59:47Z"
  }, {
    "text" : "Comment on attachment 8703856\n1132501.patch\n\nReview of attachment 8703856:\n-----------------------------------------------------------------\n\nFYI I've started reviewing this and will continue tomorrow\n\n::: devtools/client/framework/gDevTools.jsm\n@@ -381,5 @@\n>     * @param {Toolbox.HostType} hostType\n>     *        The type of host (bottom, window, side)\n>     * @param {object} hostOptions\n>     *        Options for host specifically\n> -   *\n\nLooks like an unintentional whitespace-only change\n\n::: devtools/client/framework/target.js\n@@ +526,5 @@\n>      }\n>    },\n>  \n> +  getPausedDetails: function() {\n> +    return this._pausedPacket;\n\nI don't think this function is ever called or this._pausedPacket is ever set\n\n::: devtools/client/webconsole/test/browser_webconsole_bug_1050691_click_function_to_source.js\n@@ -13,5 @@\n>  add_task(function*() {\n>    yield loadTab(TEST_URI);\n>    let hud = yield openConsole();\n>  \n> -  yield testWithoutDebuggerOpen(hud);\n\nThis removal appears to be removing actual code coverage (i.e. does clicking on a variable before the debugger has been opened work?).  Does this code have to be removed for the test to pass?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-01-05T01:24:43Z"
  }, {
    "text" : "You are right on the first two comments (that functionality was moved to devtools/shared/client/main.js). Good catch.\n\nFor the test, yes it has to be removed. The problem before is that we didn't have the debugger backend available to get an object actor to pass to the debugger. Therefore if the debugger hadn't been initialized yet, it would open the variables side panel in the console. If it had been, it will go to the function in the source.\n\nNow the debugger is *always* initialized, so we can always go to the function in the source when clicking on it in the console. We'll never show it in a variables view. Whether or not we want to change that is a different issue, but now there is no concept of \"debugger not open\".",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-05T01:40:24Z"
  }, {
    "text" : "Another try run just in cast the review is mostly formatting; wanted a fresh run done by the end of today.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=447ef726c875\nhttps://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=447ef726c875",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-05T14:49:16Z"
  }, {
    "text" : "Oops... made a stupid mistake in that last run.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=aff1b87ac583\nhttps://treeherder.mozilla.org/perf.html#/comparechooser?newProject=try&newRevision=aff1b87ac583",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-05T17:06:51Z"
  }, {
    "text" : "Comment on attachment 8703856\n1132501.patch\n\nReview of attachment 8703856:\n-----------------------------------------------------------------\n\nMostly just some questions and small comments.  Please respond to the questions before landing, but r=me.\n\nI noticed a visual glitch when triggering a debugger statement while the inspector is opened.  The message with \"Debugger is paused.  Some features like mouse selection will not work.\" slides down for a second then back up.  It's a visual polish item, but can you file a follow up to fix that?\n\n::: devtools/client/debugger/content/reducers/sources.js\n@@ +19,5 @@\n>    case constants.ADD_SOURCE:\n>      emitChange('source', action.source);\n>      return mergeIn(state, ['sources', action.source.actor], action.source);\n>  \n> +  case constants.LOAD_SOURCES:\n\nWhy is this needed?\n\n::: devtools/client/debugger/debugger-controller.js\n@@ +304,5 @@\n>      // emit individual `newSource` notifications, which trigger\n>      // separate actions, so this won't do anything other than force\n>      // the server to traverse sources.\n> +    this.dispatch(actions.loadSources()).then(() => {\n> +      // If the engine is already paused, update the UI to represent the\n\nHow is the pause state UI related to loading sources?  Could this code happen on it's own outside of the promise resolution?\n\n@@ -401,5 @@\n> -      this.connectThread();\n> -\n> -      if (aThreadClient.paused) {\n> -        aThreadClient.resume(res => {\n> -          this._ensureResumptionOrder(res)\n\nThere are two places that got removed where _ensureResumptionOrder was called - are they not needed anymore?  It also used to guard resuming on `if (aThreadClient.paused)` but in attach-thread.js it resumes unconditionally.  Is this OK?\n\n::: devtools/client/debugger/test/mochitest/browser_dbg_break-unselected.js\n@@ +1,5 @@\n> +/* Any copyright is dedicated to the Public Domain.\n> +   http://creativecommons.org/publicdomain/zero/1.0/ */\n> +\n> +/**\n> + * Test setting breakpoints on an eval script\n\nThis comment needs to be updated to match what the tests is doing\n\n@@ +24,5 @@\n> +      // Wait until it's actually fully loaded\n> +      yield toolbox.loadTool(\"jsdebugger\");\n> +\n> +      const panel = toolbox.getCurrentPanel();\n> +      const actions = bindActionCreators(panel);\n\nNit: `actions` and `constants` are unused\n\n::: devtools/client/debugger/test/mochitest/browser_dbg_bug-896139.js\n@@ +21,5 @@\n> +\n> +    let Sources = win.DebuggerView.Sources;\n> +    yield waitForDebuggerEvents(panel, win.EVENTS.SOURCE_SHOWN);\n> +    if (Sources.selectedItem.attachment.source.url.indexOf(SCRIPT_URL) === -1) {\n> +      Sources.selectedValue = getSourceActor(win.DebuggerView.Sources, EXAMPLE_URL + SCRIPT_URL)\n\nI don't understand this - why is the selectedValue not set correctly already / why can't we still use waitForSourceShown?\n\n::: devtools/client/framework/attach-thread.js\n@@ +21,5 @@\n> +      toolbox.raise();\n> +      toolbox.selectTool(\"jsdebugger\");\n> +    }\n> +  }\n> +  else if (event === \"resumed\") {\n\nNit: please move the else up onto the same line as brace\n\n::: devtools/client/framework/toolbox.js\n@@ +1963,5 @@\n>      // Destroy the profiler connection\n>      outstanding.push(this.destroyPerformance());\n>  \n> +    // Detach the thread\n> +    detachThread(this._threadClient);\n\nThere is a potential race here if destroy is called before the thread is finished being attached.  This isn't something we handle very well generally in the toolbox now, but I have a feeling we should yield on opening before starting a destroy.  This could be done in a follow up since it might end up being a fair amount of work\n\n::: devtools/client/webide/test/test_runtime.html\n@@ +17,5 @@\n>      <script type=\"application/javascript;version=1.8\">\n>        window.onload = function() {\n>          SimpleTest.waitForExplicitFinish();\n>  \n> +        const { DebuggerServer } = require(\"devtools/server/main\");\n\nIs this change intentional?\n\n::: devtools/server/actors/script.js\n@@ +677,5 @@\n>    onReconfigure: function (aRequest) {\n>      if (this.state == \"exited\") {\n>        return { error: \"wrongState\" };\n>      }\n> +    const options = aRequest.options || {};\n\nI'm not sure about this file - Nick has reviewed it, right?",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-01-05T21:37:25Z"
  }, {
    "text" : "Thanks for the review!\n\n(In reply to Brian Grinstead [:bgrins] from comment #98)\n> Comment on attachment 8703856\n> 1132501.patch\n> \n> Review of attachment 8703856:\n> -----------------------------------------------------------------\n> \n> Mostly just some questions and small comments.  Please respond to the\n> questions before landing, but r=me.\n> \n> I noticed a visual glitch when triggering a debugger statement while the\n> inspector is opened.  The message with \"Debugger is paused.  Some features\n> like mouse selection will not work.\" slides down for a second then back up. \n> It's a visual polish item, but can you file a follow up to fix that?\n\nOh, interesting. I will file a follow up and look at that very soon. It looks like the inspector shows that message when it's highlighted and the debugger is paused? So the expected behavior is that the message stays up?\n\n> \n> ::: devtools/client/debugger/content/reducers/sources.js\n> @@ +19,5 @@\n> >    case constants.ADD_SOURCE:\n> >      emitChange('source', action.source);\n> >      return mergeIn(state, ['sources', action.source.actor], action.source);\n> >  \n> > +  case constants.LOAD_SOURCES:\n> \n> Why is this needed?\n\nThe source loading behavior before was a little weird: when you attach the debugger, you get `newSource` notifications for all future sources that come into existence. So when you reload the page, you'll get a dump of `newSource` notifications, which triggers the `ADD_SOURCE` action and adds a single source.\n\nBut what about the initial list of sources when the tools open? Previously, we would call the `sources` RDP command which gets the current list of sources. This forces all the sources to *be* created, and the server actually sends us a bunch of individual `newSource` packets. So even though we got a big list of sources from the `sources` RDP request, we already received all of them as individual `newSource` notifications. We just ignored the result of the `LOAD_SOURCES` action for optimization.\n \nYeah. Super non-intuitive.\n\nNow, the `sources` RDP request will most likely *not* trigger a flood of `newSource` notifications because the backend has probably already created them (because it was attached earlier, and something else could have requested specific sources to sourcemap or something). So we need to actually use the result of the `LOAD_SOURCES` action and \"merge in\" all of the source into our sources state.\n\nThat makes a lot more sense code-wise, anyway. We still might duplicate work (we had already added the source to our state because we also got a `newSource` notification), but all of this only happens when the toolbox initially loads, so the duplicate work isn't a huge deal.\n\nThis code will be a good bit cleaner when we use React to render the sources, because I can forego all the `emitChange` calls which is most of the code.\n\n> \n> ::: devtools/client/debugger/debugger-controller.js\n> @@ +304,5 @@\n> >      // emit individual `newSource` notifications, which trigger\n> >      // separate actions, so this won't do anything other than force\n> >      // the server to traverse sources.\n> > +    this.dispatch(actions.loadSources()).then(() => {\n> > +      // If the engine is already paused, update the UI to represent the\n> \n> How is the pause state UI related to loading sources?  Could this code\n> happen on it's own outside of the promise resolution?\n\nThe engine might pause before the debugger UI is even created. We need to see if that's the case, and put the UI in the position of \"paused at this location\".\n\nWe need to wait until the sources are loaded because the `this.StackFrames._onPaused(\"paused\", pausedPacket);` call manually triggers a UI update to select the right source. We can't select a source until it's loaded into the UI.\n\nWhen we switch out sources with a React component we probably don't need to put this much code here, and could declaratively select a source before it even exists in the UI. Hm, we might be able to do that now actually. I'd rather clean this code up after landing it, if that's ok.\n\n> @@ -401,5 @@\n> > -      this.connectThread();\n> > -\n> > -      if (aThreadClient.paused) {\n> > -        aThreadClient.resume(res => {\n> > -          this._ensureResumptionOrder(res)\n> \n> There are two places that got removed where _ensureResumptionOrder was\n> called - are they not needed anymore?  It also used to guard resuming on `if\n> (aThreadClient.paused)` but in attach-thread.js it resumes unconditionally. \n> Is this OK?\n\nGood questions. For the latter, I think it's ok to unconditionally resume. The problem before (maybe?) was that the user could somehow request a resume before everything was done loading. Now, we block the entire toolbox opening on the resume, so it should be deterministic. I haven't noticed any test failures regarding this, and I like keeping this straight-forward unless there's a good reason.\n\nAbout `_ensureResumptionOrder`, the only checks I removed were the once for initially attaching the thread. Seems like we should also check that when resuming in other places in the debugger... But I think you're right. I should check for the `wrongOrder` return value in attach-thread.js and display a warning if we hit that.\n\n> \n> ::: devtools/client/debugger/test/mochitest/browser_dbg_break-unselected.js\n> @@ +1,5 @@\n> > +/* Any copyright is dedicated to the Public Domain.\n> > +   http://creativecommons.org/publicdomain/zero/1.0/ */\n> > +\n> > +/**\n> > + * Test setting breakpoints on an eval script\n> \n> This comment needs to be updated to match what the tests is doing\n> \n> @@ +24,5 @@\n> > +      // Wait until it's actually fully loaded\n> > +      yield toolbox.loadTool(\"jsdebugger\");\n> > +\n> > +      const panel = toolbox.getCurrentPanel();\n> > +      const actions = bindActionCreators(panel);\n> \n> Nit: `actions` and `constants` are unused\n> \n> ::: devtools/client/debugger/test/mochitest/browser_dbg_bug-896139.js\n> @@ +21,5 @@\n> > +\n> > +    let Sources = win.DebuggerView.Sources;\n> > +    yield waitForDebuggerEvents(panel, win.EVENTS.SOURCE_SHOWN);\n> > +    if (Sources.selectedItem.attachment.source.url.indexOf(SCRIPT_URL) === -1) {\n> > +      Sources.selectedValue = getSourceActor(win.DebuggerView.Sources, EXAMPLE_URL + SCRIPT_URL)\n> \n> I don't understand this - why is the selectedValue not set correctly already\n> / why can't we still use waitForSourceShown?\n\nIt's not a very well-written test. Basically, there are 2 sources, the HTML and the single JS source. It's not deterministic which one gets selected. Honestly, I can't remember exactly why, because it always *should* load it in the same order, and it should choose the first one in the list, but something was happening. It was probably related to GC issues, like the HTML source was GCed too quickly so it didn't even show up.\n\nWe wait for a source to be displayed, and if it's not the right one, we just make sure to select the one we want.\n\nIn most tests, we use `debugger` to actually break in the script that we want shown, and then we can just wait for that specific source to be shown.\n\nI'd rather not get bogged down in cleaning up too many tests... But I agree we should make this test better at some point.\n\n> \n> ::: devtools/client/framework/attach-thread.js\n> @@ +21,5 @@\n> > +      toolbox.raise();\n> > +      toolbox.selectTool(\"jsdebugger\");\n> > +    }\n> > +  }\n> > +  else if (event === \"resumed\") {\n> \n> Nit: please move the else up onto the same line as brace\n> \n> ::: devtools/client/framework/toolbox.js\n> @@ +1963,5 @@\n> >      // Destroy the profiler connection\n> >      outstanding.push(this.destroyPerformance());\n> >  \n> > +    // Detach the thread\n> > +    detachThread(this._threadClient);\n> \n> There is a potential race here if destroy is called before the thread is\n> finished being attached.  This isn't something we handle very well generally\n> in the toolbox now, but I have a feeling we should yield on opening before\n> starting a destroy.  This could be done in a follow up since it might end up\n> being a fair amount of work\n\nAgreed, seems like it could be destroyed before the `open` promise finishes. I can file follow-up to make sure it gets looked into.\n\n> \n> ::: devtools/client/webide/test/test_runtime.html\n> @@ +17,5 @@\n> >      <script type=\"application/javascript;version=1.8\">\n> >        window.onload = function() {\n> >          SimpleTest.waitForExplicitFinish();\n> >  \n> > +        const { DebuggerServer } = require(\"devtools/server/main\");\n> \n> Is this change intentional?\n\nYep, I ended up not needing to change that test but it was erroring before because it was referencing `DebuggerServer` in the cleanup code but it was importing it below it.\n\n> \n> ::: devtools/server/actors/script.js\n> @@ +677,5 @@\n> >    onReconfigure: function (aRequest) {\n> >      if (this.state == \"exited\") {\n> >        return { error: \"wrongState\" };\n> >      }\n> > +    const options = aRequest.options || {};\n> \n> I'm not sure about this file - Nick has reviewed it, right?\n\nYes, I think it's OK the way it is. I renamed the `TabSources` method to make it clear that it's not a full `reconfigure`.",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-05T23:43:39Z"
  }, {
    "text" : "See bug 1132501 for visual glitch\n\nSee bug 1237110 for `destroy` waiting until the toolbox is fully opened",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-05T23:49:20Z"
  }, {
    "text" : "(In reply to James Long (:jlongster) from comment #99)\n> Thanks for the review!\n> \n> (In reply to Brian Grinstead [:bgrins] from comment #98)\n> > Comment on attachment 8703856\n> > 1132501.patch\n> > \n> > Review of attachment 8703856:\n> > -----------------------------------------------------------------\n> > \n> > Mostly just some questions and small comments.  Please respond to the\n> > questions before landing, but r=me.\n> > \n> > I noticed a visual glitch when triggering a debugger statement while the\n> > inspector is opened.  The message with \"Debugger is paused.  Some features\n> > like mouse selection will not work.\" slides down for a second then back up. \n> > It's a visual polish item, but can you file a follow up to fix that?\n> \n> Oh, interesting. I will file a follow up and look at that very soon. It\n> looks like the inspector shows that message when it's highlighted and the\n> debugger is paused? So the expected behavior is that the message stays up?\n\nI think the expected behavior is that the message goes away, but not in such a slow way.  The message is expected to be visible only when the inspector is opened but since we switch to debugger panel it should go away.  Maybe even just preventing the slide animation when it closes, or in the situation where it hasn't finished opening before it goes away.  We may end up revisiting this UI altogether with a sort of overlay over the page when paused.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-01-05T23:55:57Z"
  }, {
    "text" : "(In reply to Brian Grinstead [:bgrins] from comment #101)\n> \n> I think the expected behavior is that the message goes away, but not in such\n> a slow way.  The message is expected to be visible only when the inspector\n> is opened but since we switch to debugger panel it should go away.  Maybe\n> even just preventing the slide animation when it closes, or in the situation\n> where it hasn't finished opening before it goes away.  We may end up\n> revisiting this UI altogether with a sort of overlay over the page when\n> paused.\n\nYeah! I've talked to Helen about that. I think that would be cool, and we could even have some interactions on the page and description about why it's paused.\n\nAlso about the resumption order, I definitely need to implement it in this patch. It looks the debugger handles it right now, and I should probably just make `attach-thread.js` own that functionality (always checking the return value of the resume request). Although the debugger shows a debugger-specific overlay, so I need to think about this.",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-06T00:06:29Z"
  }, {
    "text" : "Created attachment 8704775\n1132501.patch\n\nTweak patched based on review. Not many changes, and try run looks good.",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-06T19:47:10Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/256e3e81fed7",
    "authour" : "pulsebot@bots.tld",
    "created" : "2016-01-06T19:51:18Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/256e3e81fed7",
    "authour" : "cbook@mozilla.com",
    "created" : "2016-01-07T11:08:42Z"
  }, {
    "text" : "*** Bug 1231258 has been marked as a duplicate of this bug. ***",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-01-07T23:33:33Z"
  }, {
    "text" : "*** Bug 1237636 has been marked as a duplicate of this bug. ***",
    "authour" : "epinal99-bugzilla2@yahoo.fr",
    "created" : "2016-01-11T18:10:40Z"
  }, {
    "text" : "In the dupe bug 1237636, a user gave a testcase to verify it's fixed.\nSTR:\n1) Load http://theapsgroup.github.io/firefox-43-endless-parsing/index.html\n2) Open dev tools (F12)\n3) Select the Debugger tab\n4) Press F5 to refresh\n5) After the browser tab finished to spin, click on the Console tab.\nResult:\n\"script tag\" \n\"empty.js\"\n\"end of body\"\n6) Repeat steps 3 to 5\n\nWhen the bug appears, the browser tab never stops spinning and \"end of body\" is not displayed.",
    "authour" : "epinal99-bugzilla2@yahoo.fr",
    "created" : "2016-01-11T18:15:33Z"
  }, {
    "text" : "Is this really x86 Mac OS X only? It seems it caused bug 1258154 at least on Windows 64 bit.",
    "authour" : "oriol-bugzilla@hotmail.com",
    "created" : "2016-03-20T01:07:43Z"
  }, {
    "text" : "(In reply to Oriol from comment #109)\n> Is this really x86 Mac OS X only? It seems it caused bug 1258154 at least on\n> Windows 64 bit.\n\nNo, the platform fields are often out of date since it defaults to the platform the user who filed the bug",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2016-03-20T01:39:40Z"
  }, {
    "text" : "It looks like the commits in this bug caused a regression, see bug 1259831.",
    "authour" : "jujjyl@gmail.com",
    "created" : "2016-03-25T21:01:30Z"
  }, {
    "text" : "Let's discuss on the other bug.",
    "authour" : "jlong@mozilla.com",
    "created" : "2016-03-25T21:08:23Z"
  }, {
    "text" : "[bugday-20160323]\n\nStatus: RESOLVED,FIXED -> VERIFIED\n\nComments:\nSuccessful.\n\nComponent: \nName \t\t\tFirefox\nVersion \t\t46.0b4\nBuild ID \t\t20160322075646\nUpdate Channel \t        beta\nUser Agent \t\tMozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0\nOS                      Windows 7 SP1 x86_64\n\nActual Results: \nAs expected\n\nExpected Results: \nDebugger has started as soon as console opens.",
    "authour" : "ram.nath241089@gmail.com",
    "created" : "2016-04-03T20:24:52Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2016-01-07T11:08:42Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "cbook@mozilla.com",
      "date" : "2016-01-07T11:08:42Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-12T16:35:01Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1130214"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-12T16:48:01Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-12T16:48:01Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "956087"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-24T22:12:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-26T19:41:45Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1137384"
    }, {
      "name" : "fayolle-florent@orange.fr",
      "date" : "2015-05-15T18:10:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "fayolle-florent@orange.fr"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-28T21:47:24Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1147988, 1177279"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T01:48:22Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T01:48:33Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jlong@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T01:49:41Z",
      "what" : "attachments.isobsolete:8667064",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T02:11:52Z",
      "what" : "attachments.isobsolete:8667066",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T15:54:06Z",
      "what" : "attachments.isobsolete:8667069",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T19:29:52Z",
      "what" : "attachments.isobsolete:8667343",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "esigra@gmail.com",
      "date" : "2015-09-29T21:05:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "esigra@gmail.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-30T19:14:44Z",
      "what" : "attachments.isobsolete:8667475",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-09-30T19:25:10Z",
      "what" : "cc",
      "removed" : "",
      "added" : "nfitzgerald@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-10-01T22:06:51Z",
      "what" : "attachments.isobsolete:8668042",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-10-02T15:55:12Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[polish-backlog][difficulty=hard] "
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-10-14T18:38:14Z",
      "what" : "attachments.isobsolete:8668688",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-10-15T15:49:19Z",
      "what" : "attachments.isobsolete:8673824",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "bruant.d@gmail.com",
      "date" : "2015-10-25T11:04:57Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bruant.d@gmail.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-12T18:06:15Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1224280"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-12T18:11:08Z",
      "what" : "attachments.isobsolete:8686703",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-12T20:55:11Z",
      "what" : "depends_on",
      "removed" : "1224280",
      "added" : ""
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-13T23:56:26Z",
      "what" : "attachments.isobsolete:8674297",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-13T23:56:26Z",
      "what" : "attachments.isobsolete:8686704",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-16T22:48:18Z",
      "what" : "attachments.isobsolete:8687454",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-17T15:26:35Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1225492"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-17T18:10:47Z",
      "what" : "attachments.isobsolete:8688132",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-17T18:11:34Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-11-18T21:08:36Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1207868"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-18T21:26:38Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-11-18T22:34:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jlong@mozilla.com, wkocher@mozilla.com"
    }, {
      "name" : "past@mozilla.com",
      "date" : "2015-11-20T15:49:46Z",
      "what" : "cc",
      "removed" : "",
      "added" : "past@mozilla.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-20T19:52:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "poirot.alex@gmail.com"
    }, {
      "name" : "mjzffr@gmail.com",
      "date" : "2015-11-23T16:36:06Z",
      "what" : "cc",
      "removed" : "",
      "added" : "mjzffr@gmail.com"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-23T22:37:36Z",
      "what" : "attachments.isobsolete:8688539",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-23T22:38:20Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1227317"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-24T04:09:30Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1113930"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-24T04:11:16Z",
      "what" : "depends_on",
      "removed" : "1113930",
      "added" : "1224822"
    }, {
      "name" : "yfdyh000@gmail.com",
      "date" : "2015-12-12T02:19:25Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1231258"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-12-14T04:47:36Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1163991"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-17T19:12:01Z",
      "what" : "attachments.isobsolete:8691051",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-22T04:25:37Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1113930"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-22T19:32:55Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1232709"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-23T04:41:30Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1234756"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-24T18:36:42Z",
      "what" : "attachments.isobsolete:8699554",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-28T17:57:17Z",
      "what" : "depends_on",
      "removed" : "1232709",
      "added" : ""
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2016-01-04T15:40:44Z",
      "what" : "summary",
      "removed" : "Turn on the debugger whenever the console is opened",
      "added" : "Turn on the debugger whenever the devtools are opened"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2016-01-04T22:59:47Z",
      "what" : "attachments.isobsolete:8701662",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2016-01-06T19:47:10Z",
      "what" : "attachments.isobsolete:8703856",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-01-07T11:08:42Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 46"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-01-07T11:08:42Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2016-01-07 03:08:42"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2016-01-07T11:08:42Z",
      "what" : "cf_status_firefox46",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2016-01-07T23:33:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "sime.vidas@gmail.com"
    }, {
      "name" : "epinal99-bugzilla2@yahoo.fr",
      "date" : "2016-01-11T18:10:40Z",
      "what" : "cc",
      "removed" : "",
      "added" : "editedredx@gmail.com"
    }, {
      "name" : "epinal99-bugzilla2@yahoo.fr",
      "date" : "2016-01-11T18:15:33Z",
      "what" : "cc",
      "removed" : "",
      "added" : "epinal99-bugzilla2@yahoo.fr"
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2016-01-11T21:32:05Z",
      "what" : "see_also",
      "removed" : "",
      "added" : "https://bugzilla.mozilla.org/show_bug.cgi?id=1236316"
    }, {
      "name" : "oriol-bugzilla@hotmail.com",
      "date" : "2016-03-20T00:59:07Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1258154"
    }, {
      "name" : "oriol-bugzilla@hotmail.com",
      "date" : "2016-03-20T01:07:43Z",
      "what" : "cc",
      "removed" : "",
      "added" : "oriol-bugzilla@hotmail.com"
    }, {
      "name" : "oriol-bugzilla@hotmail.com",
      "date" : "2016-03-20T01:48:21Z",
      "what" : "depends_on",
      "removed" : "1258154",
      "added" : ""
    }, {
      "name" : "jujjyl@gmail.com",
      "date" : "2016-03-25T21:01:30Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jujjyl@gmail.com"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2016-07-07T16:04:50Z",
      "what" : "depends_on",
      "removed" : "",
      "added" : "1237795"
    } ],
    "flagEvents" : [ {
      "name" : "jlong@mozilla.com",
      "date" : "2015-02-24T22:12:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-25T00:11:07Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T01:47:58Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8667064,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T01:49:41Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8667064,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T01:49:41Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8667066,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T02:11:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8667066,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T02:11:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8667069,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T15:54:06Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8667069,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T15:54:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8667343,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-09-29T16:16:49Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8667343,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "DENIED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T19:29:52Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8667343,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-09-29T19:29:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8667475,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-09-29T20:51:10Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8667475,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-12T18:08:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8686703,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-12T18:11:08Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8686703,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-12T18:11:08Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8686704,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-11-12T18:19:34Z",
      "what" : "flagtypes.name",
      "removed" : "review?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8686704,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-11-18T22:34:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-20T19:51:43Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jlong@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-11-20T19:52:55Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-11-23T16:52:40Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-24T02:06:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8701662,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2015-12-24T02:10:35Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8701662,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "nfitzgerald@mozilla.com",
      "date" : "2015-12-28T17:38:01Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(nfitzgerald@mozilla.com)",
      "added" : "",
      "attachmentId" : 8701662,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2016-01-04T22:59:47Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8701662,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jlong@mozilla.com",
      "date" : "2016-01-04T22:59:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8703856,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2016-01-05T21:37:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bgrinstead@mozilla.com)",
      "added" : "",
      "attachmentId" : 8703856,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132501,
  "cclist" : [ "bgrinstead@mozilla.com", "bruant.d@gmail.com", "editedredx@gmail.com", "epinal99-bugzilla2@yahoo.fr", "esigra@gmail.com", "fayolle-florent@orange.fr", "jlong@mozilla.com", "jordan@jsantell.com", "jryans@gmail.com", "jujjyl@gmail.com", "mjzffr@gmail.com", "nfitzgerald@mozilla.com", "oriol-bugzilla@hotmail.com", "past@mozilla.com", "poirot.alex@gmail.com", "sime.vidas@gmail.com", "wkocher@mozilla.com" ]
}, {
  "component" : "Developer Tools: Framework",
  "summary" : "Refactor LayoutHelpers.jsm to avoid dependencies",
  "reporter" : "zer0@mozilla.com",
  "assigned" : "zer0@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Most of the LayoutHelpers' methods doesn't actually need a new instance of `LayoutHelpers` object, neither the dependencies from the `window` given to the constructor.\nIt would be better modifying the jsm to be a commonJS module that exports single utility functions, without dependencies, that can be used directly.\n\nThat would help also to have more cleaner highlighters, split across files.",
  "comments" : [ {
    "text" : "Most of the LayoutHelpers' methods doesn't actually need a new instance of `LayoutHelpers` object, neither the dependencies from the `window` given to the constructor.\nIt would be better modifying the jsm to be a commonJS module that exports single utility functions, without dependencies, that can be used directly.\n\nThat would help also to have more cleaner highlighters, split across files.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-02-12T15:58:34Z"
  }, {
    "text" : "Created attachment 8564393\nlayout.patch\n\nFollowing Patrick suggestion, I'm assigning this review to you Paul, 'cause it seems you wrote the original helper. There is also a new method on docshell, and that's why I also added Olli as reviewer.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-02-13T22:43:23Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=231c44d7845e",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-02-13T22:43:36Z"
  }, {
    "text" : "Comment on attachment 8564393\nlayout.patch\n\nPlease use 2 spaces for indentation in docshell (I think the patch which made docshell to use more normal coding style landed yesterday).\n\nYou need to update the uuid of nsIDocShell interface.\n\nThe random white space changes aren't probably needed anymore.\n\n\n>+NS_IMETHODIMP\n>+nsDocShell::GetSameTypeRootTreeItemIgnoreBrowserAndAppBoundaries(nsIDocShell ** aRootTreeItem)\nextra space before **\n\n>+{\n>+    NS_ENSURE_ARG_POINTER(aRootTreeItem);\n>+    *aRootTreeItem = static_cast<nsIDocShell *>(this);\nDo you really need the static_cast? (and even if you do, drop the space between nsIDocShell and *)\nbut, perhaps initialize to null and then...\n\n>+\n>+    nsCOMPtr<nsIDocShell> parent;\n>+    NS_ENSURE_SUCCESS(GetSameTypeParentIgnoreBrowserAndAppBoundaries(getter_AddRefs(parent)),\n>+                      NS_ERROR_FAILURE);\n>+    while (parent) {\n>+        *aRootTreeItem = parent;\n>+        NS_ENSURE_SUCCESS((*aRootTreeItem)->\n>+                          GetSameTypeParentIgnoreBrowserAndAppBoundaries(getter_AddRefs(parent)),\n>+                          NS_ERROR_FAILURE);\n>+    }\nWhy not \n\n  nsCOMPtr<nsIDocShell> possibleRoot = this;\n  nsCOMPtr<nsIDocShell> root;\n  do {\n    root.swap(possibleRoot);\n    nsresult rv =\n      root->GetSameTypeParentIgnoreBrowserAndAppBoundaries(getter_AddRefs(possibleRoot));\n    NS_ENSURE_SUCCESS(rv, rv);\n  } while(possibleRoot);\n\n  root.swap(*aRootItem);\n  return NS_OK",
    "authour" : "bugs@pettay.fi",
    "created" : "2015-02-13T23:29:24Z"
  }, {
    "text" : "Does this work well on non E10S versions of Firefox and on Firefox OS? A good test is to check if, in the browser toolbox, we still get the messages from a content iframe in a tab with Firefox Desktop non-E10S. Also make sure console.log works from an iframe in a Firefox OS app.\n\nThe logic changes a bit here if I'm not mistaken. A top level window is not anymore a arbitrary window, but the top level window of the same type. I'm not 100% this is what we want.\n\nCan you do a more complete try run?",
    "authour" : "paul@mozilla.com",
    "created" : "2015-02-16T09:39:53Z"
  }, {
    "text" : "Comment on attachment 8564393\nlayout.patch\n\nReview of attachment 8564393:\n-----------------------------------------------------------------\n\nDrive-by review.\nThose changes look good to me. That simplifies a lot of code! Cool!\nBut as Paul said, we'll need to make sure this works well on b2g or with e10s.\nAt this stage, running the tests on try (with e10s: mochitest-e10s-devtools-chrome) and testing the code by building on a b2g device will tell us more about this patch than by us looking at the code changes I guess.\nIf all tests still pass, I don't see a problem with landing this.\n\n::: toolkit/devtools/layout/utils.js\n@@ +12,5 @@\n> + *\n> + * @param {DOMWindow} win\n> + * @returns {DOMWindowUtils}\n> + */\n> +const utilsFor = memoize(\n\nWhy not call it domUtilsFor instead?\n\n@@ +592,5 @@\n> + *\n> + * @param {DOMNode} The node for which the zoom factor should be calculated\n> + * @return {Number}\n> + */\n> +\n\nnit: empty line between jsdoc and function.\n\n::: toolkit/devtools/server/actors/highlighter.js\n@@ +13,5 @@\n>  const {CssLogic} = require(\"devtools/styleinspector/css-logic\");\n>  const EventEmitter = require(\"devtools/toolkit/event-emitter\");\n>  const {setIgnoreLayoutChanges} = require(\"devtools/server/actors/layout\");\n> +const {getCurrentZoom, getAdjustedQuads, getNodeBounds,\n> +        getRootBindingParent} = require(\"devtools/toolkit/layout/utils\");\n\nnit: please align getRootBindingParent with getCurrentZoom above.\n\n@@ +585,5 @@\n>  \n>      this.setAttributeForElement(id, \"style\", value);\n>    }\n>  };\n> +exports.CanvasFrameAnonymousContentHelper = CanvasFrameAnonymousContentHelper;\n\nWhy did you export this function in this patch? I understand that we may need it in the future, but this change doesn't really belong to this bug.\n\n::: toolkit/devtools/server/actors/inspector.js\n@@ +70,5 @@\n>  const {getLayoutChangesObserver, releaseLayoutChangesObserver} =\n>    require(\"devtools/server/actors/layout\");\n>  \n> +const {isAnonymous, isNativeAnonymous, isXBLAnonymous, isShadowAnonymous,\n> +  getFrameElement} = require(\"devtools/toolkit/layout/utils\");\n\nnit: align getFrameElement to isAnonymous above.\n\n::: toolkit/devtools/webconsole/utils.js\n@@ +1256,5 @@\n>            !this.isCategoryAllowed(aMessage.category)) {\n>          return;\n>        }\n>  \n> +      let errorWindow = Services.wm.getOuterWindowWithId(aMessage .outerWindowID);\n\nLooks like the change on this line was unintentional.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-02-16T13:50:13Z"
  }, {
    "text" : "(In reply to Olli Pettay [:smaug] from comment #3)\n\nThanks for the review, Olli. I was finally able to make it working again, and I'll submit a new patch, but in reply to your comments below:\n\n> >+NS_IMETHODIMP\n> >+nsDocShell::GetSameTypeRootTreeItemIgnoreBrowserAndAppBoundaries(nsIDocShell ** aRootTreeItem)\n> extra space before **\n> \n> >+{\n> >+    NS_ENSURE_ARG_POINTER(aRootTreeItem);\n> >+    *aRootTreeItem = static_cast<nsIDocShell *>(this);\n> Do you really need the static_cast? (and even if you do, drop the space\n> between nsIDocShell and *)\n> but, perhaps initialize to null and then...\n> \n> >+\n> >+    nsCOMPtr<nsIDocShell> parent;\n> >+    NS_ENSURE_SUCCESS(GetSameTypeParentIgnoreBrowserAndAppBoundaries(getter_AddRefs(parent)),\n> >+                      NS_ERROR_FAILURE);\n> >+    while (parent) {\n> >+        *aRootTreeItem = parent;\n> >+        NS_ENSURE_SUCCESS((*aRootTreeItem)->\n> >+                          GetSameTypeParentIgnoreBrowserAndAppBoundaries(getter_AddRefs(parent)),\n> >+                          NS_ERROR_FAILURE);\n> >+    }\n> Why not \n> \n>   nsCOMPtr<nsIDocShell> possibleRoot = this;\n>   nsCOMPtr<nsIDocShell> root;\n>   do {\n>     root.swap(possibleRoot);\n>     nsresult rv =\n>      \n> root-\n> >GetSameTypeParentIgnoreBrowserAndAppBoundaries(getter_AddRefs(possibleRoot))\n> ;\n>     NS_ENSURE_SUCCESS(rv, rv);\n>   } while(possibleRoot);\n> \n>   root.swap(*aRootItem);\n>   return NS_OK\n\nI just reuse the same code was here: https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsDocShell.cpp?from=nsdocshell.cpp#3578-3595 following the example was mode for those: https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsDocShell.cpp?from=nsdocshell.cpp#3521-3560 in order to be consistent. I'd like the consistency between those group of methods, but if you think I should change the code anyway, I will, I don't have strong feeling about it and I'm not an expert C developer.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-13T09:46:21Z"
  }, {
    "text" : "ok, fine if you're just reusing the same old style. It is a bit, well, old, and it shows, but all the can be fixed in a different bug.",
    "authour" : "bugs@pettay.fi",
    "created" : "2015-07-13T10:12:59Z"
  }, {
    "text" : "https://treeherder.mozilla.org/#/jobs?repo=try&revision=f94b182fea35\n\nThere are failures about \"browser/devtools/netmonitor/test/browser_net_autoscroll.js\" but I don't think they're related â€“ I was able to reproduce them in local master repo without this patch.\nI found some bug about that exception, but they seems resolved as fixed.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-13T13:04:48Z"
  }, {
    "text" : "Created attachment 8632764\nRefactor LayoutHelpers.jsm to avoid dependencies",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-13T13:27:42Z"
  }, {
    "text" : "Comment on attachment 8632764\nRefactor LayoutHelpers.jsm to avoid dependencies\n\nThe try push is referring to this latest patch.\n\nThe only thing I didn't change was the name about `utilsFor` in `domUtilsFor`, 'cause I always feel awkward about naming acronym, that should be uppercase, in lowercase â€“ and putting `DOMUtilsFor` seems more a constructor. Because it's just a local utility function, I don't think it's a big issue (also, having `window` as argument I think it's quite easy to understand); but if you have strong feeling about it I'll change the name.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-13T13:53:11Z"
  }, {
    "text" : "Comment on attachment 8632764\nRefactor LayoutHelpers.jsm to avoid dependencies\n\nReview of attachment 8632764:\n-----------------------------------------------------------------\n\nBeautiful!\nIf try is happy, then I am too.\nOne thing though. I'd like the people working on the project to put all of the devtools codebase under just one directory (bug 912121) to give their opinions on the new /toolkit/layout/ directory you created.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-07-17T12:37:28Z"
  }, {
    "text" : "Comment on attachment 8632764\nRefactor LayoutHelpers.jsm to avoid dependencies\n\nReview of attachment 8632764:\n-----------------------------------------------------------------\n\nLooks good to me from a file location / loader perspective.  No added loader paths, and the require path matches path on disk (as well as it can today, at least).\n\nHave you tested this on B2G like comment 4 and comment 5 have requested?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-07-17T22:41:30Z"
  }, {
    "text" : "So, I tested on e10s, as the comments said, and I tried to test on B2G too; however it seems to me that I have to make a build on a phone and flash it, otherwise it won't have the code we expect to have. I don't have previous experience about that, and then before to proceed I checked the expected result without the layout patch: it seems that `LayoutHelpers` on B2G is already broken â€“ at least, in 2.5.0.0-prerelease:\n\n12:02:06.483 TypeError: win is null\nStack trace:\nLayoutHelpers.prototype.isTopLevelWindow@resource://gre/modules/devtools/LayoutHelpers.jsm:294:9\nLayoutHelpers.prototype.getFrameOffsets@resource://gre/modules/devtools/LayoutHelpers.jsm:379:11\nLayoutHelpers.prototype.getAdjustedQuads@resource://gre/modules/devtools/LayoutHelpers.jsm:51:30\nAutoRefreshHighlighter.prototype._updateAdjustedQuads@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/highlighter.js:951:1\nAutoRefreshHighlighter.prototype.show@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/highlighter.js:895:5\nexports.HighlighterActor<.showBoxModel<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/actors/highlighter.js:227:7\nactorProto/</handler@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/protocol.js:1013:19\nDSC_onPacket@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/server/main.js:1598:15\nDebuggerTransport.prototype._onJSONObjectReady/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/transport/transport.js:479:9\nmakeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/DevToolsUtils.js:83:14\nmakeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/DevToolsUtils.js:83:14\n1 protocol.js:907\n\nSo, I'm not sure how to proceed. Should we land this patch and then fix the issue? Or viceversa? How we usually deal with B2G issues like that?",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-22T10:20:52Z"
  }, {
    "text" : "(In reply to Matteo Ferretti [:matteo] [:zer0] from comment #13)\n> So, I tested on e10s, as the comments said, and I tried to test on B2G too;\n> however it seems to me that I have to make a build on a phone and flash it,\n> otherwise it won't have the code we expect to have.\n\nIf you add a \"b2g desktop\" platform to your try run, it will build a simulator with your work inside, which is probably the easiest path.  See TryChooser for the right syntax.\n\nTo get the build:\n\n1. Click on the \"B\" next to \"B2G Desktop OS X opt\" (or the platform you picked)\n2. In the bottom-left panel, click the link next to \"Build:\" to go to the build directory\n3. Install the .xpi file, such as \"fxos-simulator-2.5-mac64.xpi\"\n4. Use WebIDE to run this simulator and debug\n\n> I don't have previous\n> experience about that, and then before to proceed I checked the expected\n> result without the layout patch: it seems that `LayoutHelpers` on B2G is\n> already broken â€“ at least, in 2.5.0.0-prerelease:\n> \n> 12:02:06.483 TypeError: win is null\n> Stack trace:\n> LayoutHelpers.prototype.isTopLevelWindow@resource://gre/modules/devtools/\n> LayoutHelpers.jsm:294:9\n> LayoutHelpers.prototype.getFrameOffsets@resource://gre/modules/devtools/\n> LayoutHelpers.jsm:379:11\n> LayoutHelpers.prototype.getAdjustedQuads@resource://gre/modules/devtools/\n> LayoutHelpers.jsm:51:30\n> AutoRefreshHighlighter.prototype._updateAdjustedQuads@resource://gre/modules/\n> commonjs/toolkit/loader.js ->\n> resource://gre/modules/devtools/server/actors/highlighter.js:951:1\n> AutoRefreshHighlighter.prototype.show@resource://gre/modules/commonjs/\n> toolkit/loader.js ->\n> resource://gre/modules/devtools/server/actors/highlighter.js:895:5\n> exports.HighlighterActor<.showBoxModel<@resource://gre/modules/commonjs/\n> toolkit/loader.js ->\n> resource://gre/modules/devtools/server/actors/highlighter.js:227:7\n> actorProto/</handler@resource://gre/modules/commonjs/toolkit/loader.js ->\n> resource://gre/modules/devtools/server/protocol.js:1013:19\n> DSC_onPacket@resource://gre/modules/commonjs/toolkit/loader.js ->\n> resource://gre/modules/devtools/server/main.js:1598:15\n> DebuggerTransport.prototype._onJSONObjectReady/<@resource://gre/modules/\n> commonjs/toolkit/loader.js ->\n> resource://gre/modules/devtools/transport/transport.js:479:9\n> makeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js ->\n> resource://gre/modules/devtools/DevToolsUtils.js:83:14\n> makeInfallible/<@resource://gre/modules/commonjs/toolkit/loader.js ->\n> resource://gre/modules/devtools/DevToolsUtils.js:83:14\n> 1 protocol.js:907\n> \n> So, I'm not sure how to proceed. Should we land this patch and then fix the\n> issue? Or viceversa? How we usually deal with B2G issues like that?\n\nWhat steps did you perform to get this stack?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-07-22T21:00:28Z"
  }, {
    "text" : "> If you add a \"b2g desktop\" platform to your try run, it will build a simulator with your work inside, which is probably the easiest path.  See TryChooser for the right syntax.\n\nThanks, I'll check! Still, I'm not sure if it's worthy doing such test if it's not working on Nightly.\n\n> What steps did you perform to get this stack?\n\nFirst of all, I tried to perform the manual test Paul suggested: so, a content page, with an iframe, that inside calls a `console.log`. On e10s, everything works as expected. On Firefox OS, doesn't. Specifically, I tried to load the page in the browser, and using WebIDE checking the console: nothing is logged. I tried to call `console.log` simply from the main window, and nothing. I tried also, instead of loading in the browser, to install as app. Same result. Notice that I have the phone in Developer Mode, with the console logging enabled â€“ I also tried to use a different level, like `console.error`.\n\nIn the meantime, when I was doing such test, I tried to inspect the content page, and then is when I got such stack: with the firefox os' browser loaded a page, and via WebIDE trying to inspect that page.\n\nI used latest Firefox Nightly, and on Firefox OS the version I mentioned before, 2.5.0.0-prerelease.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-23T11:01:22Z"
  }, {
    "text" : "Can you post the test page you used somewhere so I can check it?  I made a few test attempts, but did not see any errors, so it could be related to exact page you are using.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-07-23T15:18:31Z"
  }, {
    "text" : "We sorted it out over Vidyo.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-07-23T16:34:19Z"
  }, {
    "text" : "Okay so, first of all the good news:\n\n1. The test proposed in comment 4 works also in Firefox OS.\n2. The bug we got currently in Nightly â€“ the exception mentioned in comment 13 â€“ inspecting a page from the main process is fixed: with this patch is possible using the main process to highlight also stuff in content page; something that as said is currently broken.\n\nUnfortunately, there is a bad news too: if instead of the main process, we use the tab one to inspect the content, the highlighters are misplaced. That's because the change of logic made, that does not affect Firefox Desktop, but it's affecting Firefox OS.\n\nIn short, we fixed the main process, we broken the inspection of the content.\n\nSo far I considered the following options:\n  1. Passing a `window` as optional argument for those functions that needs to be limited to an arbitrary window, and fall back to the top level one if none is given.\n  2. Insert always the anonymous content on the top level window\n  3. Translating and resizing the anonymous content based on the top level window offset\n  4. Revert the changes\n  5. Find another way to get the inspected window\n  6. Leave as is, hey, we fixed the main process!\n\nMy random thoughts:\nThe number 3 seems a bit hacky to me, but I just put that to be fair. The number 1 will make the methods a little more verbose, and is basically a functions based version of the current approach. The version 2, is working, but on Firefox OS the guideline of the highlighters will appears over the location bar even if you're inspecting only the content; plus for highlighter like the Rulers one it would be probably broken. The 5 it could be too magical, even if we will figure out how to do that.\nFor the 6, I'm just kidding. :)",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-07-25T08:07:06Z"
  }, {
    "text" : "Sorry for the slow reply, I was on PTO for a few days.\n\n(In reply to Matteo Ferretti [:matteo] [:zer0] from comment #18)\n> Okay so, first of all the good news:\n> \n> 1. The test proposed in comment 4 works also in Firefox OS.\n> 2. The bug we got currently in Nightly â€“ the exception mentioned in comment\n> 13 â€“ inspecting a page from the main process is fixed: with this patch is\n> possible using the main process to highlight also stuff in content page;\n> something that as said is currently broken.\n\nDoes this bug also change desktop Firefox so that content elements can be inspected from the Browser Toolbox?  This is not possible today and should be similar to inspecting FxOS main process, since the Browser Toolbox connects to Firefox desktop's parent process (so the inspector's root frame is in a separate process from the content).\n\n> Unfortunately, there is a bad news too: if instead of the main process, we\n> use the tab one to inspect the content, the highlighters are misplaced.\n> That's because the change of logic made, that does not affect Firefox\n> Desktop, but it's affecting Firefox OS.\n\nWhat is the logic change that causes the issue?  It was a bit hard to follow since the patch also renames files.  Is it related to changes in `getTopWindow` using `getSameTypeRootTreeItemIgnoreBrowserAndAppBoundaries`?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-07-31T06:31:05Z"
  }, {
    "text" : "(In reply to J. Ryan Stinnett [:jryans] (use ni?) from comment #19)\n\n> Does this bug also change desktop Firefox so that content elements can be\n> inspected from the Browser Toolbox?\n\nNo, it doesn't. My educated guess is 'cause in Desktop there is the XUL that behave like a barrier between the HTML, where if Firefox OS everything is the same type of content (HTML). I can look into that, but I would say that is out of the scope of this bug.\n\n> > Unfortunately, there is a bad news too: if instead of the main process, we\n> > use the tab one to inspect the content, the highlighters are misplaced.\n> > That's because the change of logic made, that does not affect Firefox\n> > Desktop, but it's affecting Firefox OS.\n> \n> What is the logic change that causes the issue?  It was a bit hard to follow\n> since the patch also renames files.  Is it related to changes in\n> `getTopWindow` using `getSameTypeRootTreeItemIgnoreBrowserAndAppBoundaries`?\n\nBefore `LayoutHelpers` was a constructor that took a `window` as argument, and returns an instance of several methods. Now the `layout/utils` is a module that exports single functions without the needed to create an instance. That was made 'cause most of the time we need one or two of the methods of `LayoutHelpers`, it was also more in line with the CommonJS approach, and *apparently* we didn't need the window to pass to the constructor because we pass the node, and we could get the top level of such node.\nUnfortunately, we don't want always the top level window: at least, on Firefox OS, we need to stop to an \"arbitrary window\" that has the role of the \"top\" one.\n\nSo, before we explicitly pass a `window`, and the code looks like:\n\n  Cu.import(\"resource://gre/modules/devtools/LayoutHelpers.jsm\");\n\n  function RectHighlighter(highlighterEnv) {\n    this.win = highlighterEnv.window;\n    this.layoutHelpers = new LayoutHelpers(this.win);\n    // ... other stuff\n  }\n\n  RectHighlighter.prototype = {\n\n    destroy: function() {\n      this.win = null;\n      this.layoutHelpers = null;\n      // ... other stuff\n    },\n\n    show: function(node, options) {\n      // Caculate the absolute rect based on the context node's adjusted quads.\n      let quads = this.layoutHelpers.getAdjustedQuads(contextNode);\n      if (!quads.length) {\n        this.hide();\n        return;\n      }\n    }\n\nWhere the refactoring was aiming to have:\n\nconst { getAdjustedQuads } = require(\"devtools/toolkit/layout/utils\");\n\n  function RectHighlighter(highlighterEnv) {\n    this.win = highlighterEnv.window;\n    // ... other stuff\n  }\n\n  RectHighlighter.prototype = {\n\n    destroy: function() {\n      this.win = null;\n      // ... other stuff\n    },\n\n    show: function(node, options) {\n      // Caculate the absolute rect based on the context node's adjusted quads.\n      let quads = getAdjustedQuads(contextNode);\n      if (!quads.length) {\n        this.hide();\n        return;\n      }\n    }\n\nWhere you explicitly declare what you're going to use in the `require` for such highlighter â€“ note that each highlighter will be in a separate file, so the require on top of it will declare the functions needed only for that precise highlighter.\n\nUnfortunately, as said above, it seems that for Firefox OS we need to give an arbitrary window to keep the current behavior, or at least find a way to stop the iteration to the window is inspected by WebIDE.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-08-03T07:43:37Z"
  }, {
    "text" : "(In reply to Matteo Ferretti [:matteo] [:zer0] from comment #18)\n> In short, we fixed the main process, we broken the inspection of the content.\n> \n> So far I considered the following options:\n>   1. Passing a `window` as optional argument for those functions that needs\n> to be limited to an arbitrary window, and fall back to the top level one if\n> none is given.\n>   2. Insert always the anonymous content on the top level window\n>   3. Translating and resizing the anonymous content based on the top level\n> window offset\n>   4. Revert the changes\n>   5. Find another way to get the inspected window\n>   6. Leave as is, hey, we fixed the main process!\n\nI like option 1.  Even though it's just a function based version of the current approach, it at least will maintain the exact behavior we have for now.  So unless if you are able to find a way to automatically stop the iteration on the correct window in Firefox OS, that'd be my preference.",
    "authour" : "bgrinstead@mozilla.com",
    "created" : "2015-08-03T15:22:46Z"
  }, {
    "text" : "Yes, I agree with Brian, option 1 sounds good.  Since these are meant as reusable layout utilities, it's better for them to passed the info they need in the new functional style rather than trying to detect it automatically.  That way, the caller is more in control of how the utilities operate.\n\nMaybe we want to require the argument for functions that use it though, to make sure we are getting the results we want?  Especially for something that seems to only differ on FxOS, it would be sad if new usages skip the additional arg since they don't realize it's needed on FxOS.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-08-03T22:18:11Z"
  }, {
    "text" : "If we want to enforce the `window` to those functions, then maybe it would be a good option pass it as first argument. In that case is not only mandatory, but it would be possible having partial application using `bind` (or `partial` from `sdk/lang/functional`). We could fall back to the regular top level window if `null` was given â€“ so, it's explicit.\n\nI would like to avoid call this argument `topWindow`, 'cause in my opinion is creating confusion. Maybe something like `boundaryWindow` or similar?",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-08-03T23:12:00Z"
  }, {
    "text" : "(In reply to Matteo Ferretti [:matteo] [:zer0] from comment #23)\n> If we want to enforce the `window` to those functions, then maybe it would\n> be a good option pass it as first argument. In that case is not only\n> mandatory, but it would be possible having partial application using `bind`\n> (or `partial` from `sdk/lang/functional`). We could fall back to the regular\n> top level window if `null` was given â€“ so, it's explicit.\n\nSounds good.\n\n> I would like to avoid call this argument `topWindow`, 'cause in my opinion\n> is creating confusion. Maybe something like `boundaryWindow` or similar?\n\nThat name sounds okay to me.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-08-03T23:15:06Z"
  }, {
    "text" : "Clearing the NI? flag since the necessary discussion already took place with Brian and Ryan.\nI agree with what has been said fwiw.",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-08-11T10:14:49Z"
  }, {
    "text" : "Created attachment 8660582\nRefactor LayoutHelpers.jsm to avoid dependencies",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-14T08:06:41Z"
  }, {
    "text" : "Comment on attachment 8660582\nRefactor LayoutHelpers.jsm to avoid dependencies\n\nI made the changes we discussed, plus aligned with the new code base. There is still an issue with B2G â€“ that I'm going to discuss in a separate comment due an attachment.\n\nHere the try result:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a4157eccbafa\n\nI believed the exception are not directly related to this patch.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-14T08:10:12Z"
  }, {
    "text" : "Created attachment 8660589\ninspector-b2g-screenshot.png\n\nSo, here the issue on B2G.\nAs said in comment 18, currently â€“ without this patch â€“ the main process cannot be use to inspect elements, 'cause `LayoutHelpers` raises exceptions.\n\nThis patch, fixes the issue. So the main process can be used to inspect any element present on B2G. The first two images of the attachment shows how it works, the highlighters is properly drawn over the UI.\n\nIn addition, with the `boundaryWindow` added, now when we inspect the tab the highlighter is properly positioned, as the 3rd image shows: the highlighter, also, is not drawn over the browser's UI as when we inspect it via the main process.\n\nHowever, the 4th image shows the problem: if we got over the browser's UI, even if we're inspecting the tab, the highlighter \"believe\" it has to drawn something there.\n\nI think this probably was happening before as well, but 'cause the exception raised, the main process never played a part when the tab was inspected.\n\nI'm investigating how to prevent this behavior, but any hint would be appreciated. This patch is blocking the patch on bug 1187831, that I would love to land before many changes would be added to the code base again.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-14T08:29:36Z"
  }, {
    "text" : "OK, I think I may have found a workaround for that; at least on B2G, and preliminary tests on Desktop seems confirm that is working there too.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-14T10:48:03Z"
  }, {
    "text" : "Created attachment 8660956\nRefactor LayoutHelpers.jsm to avoid dependencies",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-14T22:14:21Z"
  }, {
    "text" : "Comment on attachment 8660956\nRefactor LayoutHelpers.jsm to avoid dependencies\n\nThe try server is taking ages today to process the build; but I think we can safely assume now that the patch is OK:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=518ea14c0a90\n\nHere is the commit related to the fix for the B2G's bug mentioned in comment 28:\n\nhttps://hg.mozilla.org/try/rev/e0fde11615e5\n\nThe patch attached contains both the fix and the previous code.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-14T22:17:54Z"
  }, {
    "text" : "Comment on attachment 8660956\nRefactor LayoutHelpers.jsm to avoid dependencies\n\nReview of attachment 8660956:\n-----------------------------------------------------------------\n\nLove it!\n\n::: docshell/base/nsDocShell.cpp\n@@ +3365,5 @@\n>    NS_ADDREF(*aRootTreeItem);\n>    return NS_OK;\n>  }\n>  \n> +NS_IMETHODIMP\n\nPlease ask a docshell peer to review the changes in this file:\nhttps://wiki.mozilla.org/Modules/All#docshell\n\n::: docshell/base/nsIDocShell.idl\n@@ +42,5 @@\n>  interface nsIPrivacyTransitionObserver;\n>  interface nsIReflowObserver;\n>  interface nsIScrollObserver;\n>  interface nsITabParent;\n> +\n\nPlease ask a docshell peer to review the changes in this file:\nhttps://wiki.mozilla.org/Modules/All#docshell\n\n::: toolkit/devtools/layout/utils.js\n@@ +14,5 @@\n> + * @returns {DOMWindowUtils}\n> + */\n> +const utilsFor = memoize(\n> +  (win) => win.QueryInterface(Ci.nsIInterfaceRequestor)\n> +               .getInterface(Ci.nsIDOMWindowUtils)\n\nnit: please vertically align '.QueryInterface' and '.getInterface'\n\n::: toolkit/devtools/server/actors/highlighter.js\n@@ +261,5 @@\n> +   * the current highlighter environment; or if the highlighter environment has\n> +   * chrome privileges\n> +   *\n> +   * The method is specifically useful on B2G, where we do not want that events\n> +   * from app or main process are processed if we're inspecting the content.\n\nsome rephrasing needed: \"... where we do not want the events from the app or the main process to be processed when we're inspecting the content\"",
    "authour" : "pbrosset@mozilla.com",
    "created" : "2015-09-15T06:37:50Z"
  }, {
    "text" : "(In reply to Patrick Brosset [:pbrosset] [:pbro] from comment #32)\n\n> Love it!\n\nThanks for the review!\n \n> ::: docshell/base/nsDocShell.cpp\n> @@ +3365,5 @@\n> >    NS_ADDREF(*aRootTreeItem);\n> >    return NS_OK;\n> >  }\n> >  \n> > +NS_IMETHODIMP\n> \n> Please ask a docshell peer to review the changes in this file:\n> https://wiki.mozilla.org/Modules/All#docshell\n\nThis was already r+ from Olli - see the previous comments.\nI didn't change anything different there, and the code is still consistent with the rest of the file â€“Â I mean, neither the docshell is changed in the meantime in a way that require another review, both for the code style or code itself.",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-15T07:21:22Z"
  }, {
    "text" : "Created attachment 8661108\nRefactor LayoutHelpers.jsm to avoid dependencies",
    "authour" : "zer0@mozilla.com",
    "created" : "2015-09-15T07:32:24Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/e8029818643a",
    "authour" : "pulsebot@bots.tld",
    "created" : "2015-09-15T21:26:55Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/e8029818643a",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-09-16T17:16:14Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-09-16T17:16:14Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-09-16T17:16:14Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "bgrinstead@mozilla.com",
      "date" : "2015-02-12T16:10:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bgrinstead@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-12T16:57:46Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "zer0@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-13T22:43:23Z",
      "what" : "cc",
      "removed" : "",
      "added" : "bugs@pettay.fi, paul@mozilla.com, pbrosset@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-13T13:42:20Z",
      "what" : "attachments.isobsolete:8564393",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-07-17T12:37:28Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-07-23T15:18:31Z",
      "what" : "cc",
      "removed" : "",
      "added" : "zer0@mozilla.com"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-27T10:05:29Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1187831"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-27T16:04:43Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1187970"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T08:18:40Z",
      "what" : "attachments.isobsolete:8632764",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T22:14:48Z",
      "what" : "attachments.isobsolete:8660582",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-15T07:33:06Z",
      "what" : "attachments.isobsolete:8660956",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-15T07:33:19Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "pulsebot@bots.tld",
      "date" : "2015-09-15T21:26:55Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-09-16T17:16:14Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 43"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-09-16T17:16:14Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-09-16 10:16:14"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-09-16T17:16:14Z",
      "what" : "cf_status_firefox43",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "zer0@mozilla.com",
      "date" : "2015-02-13T22:43:23Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8564393,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bugs@pettay.fi",
      "date" : "2015-02-13T23:29:24Z",
      "what" : "flagtypes.name",
      "removed" : "review?(bugs@pettay.fi)",
      "added" : "",
      "attachmentId" : 8564393,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-02-16T13:50:13Z",
      "what" : "flagtypes.name",
      "removed" : "feedback?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564393,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "paul@mozilla.com",
      "date" : "2015-05-29T07:50:14Z",
      "what" : "flagtypes.name",
      "removed" : "review?(paul@mozilla.com)",
      "added" : "",
      "attachmentId" : 8564393,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-13T09:46:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "bugs@pettay.fi",
      "date" : "2015-07-13T10:12:59Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(bugs@pettay.fi)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-13T13:53:11Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8632764,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-07-17T12:37:28Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8632764,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      }, {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-07-17T22:41:30Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8632764,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-22T10:20:52Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-07-22T21:00:28Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-07-23T15:18:31Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-07-23T16:34:19Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(zer0@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-07-25T08:07:06Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-07-31T06:31:05Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-08-11T10:14:49Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T08:10:12Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8660582,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T08:29:36Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      }, {
        "status" : "NEEDINFO",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T10:48:03Z",
      "what" : "flagtypes.name",
      "removed" : "needinfo?(pbrosset@mozilla.com), needinfo?(bgrinstead@mozilla.com), needinfo?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : -1,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T22:14:48Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8660582,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-14T22:17:54Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8660956,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "pbrosset@mozilla.com",
      "date" : "2015-09-15T06:37:50Z",
      "what" : "flagtypes.name",
      "removed" : "review?(pbrosset@mozilla.com)",
      "added" : "",
      "attachmentId" : 8660956,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "zer0@mozilla.com",
      "date" : "2015-09-15T07:32:47Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8661108,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132475,
  "cclist" : [ "bgrinstead@mozilla.com", "bugs@pettay.fi", "jryans@gmail.com", "paul@mozilla.com", "pbrosset@mozilla.com", "zer0@mozilla.com" ]
}, {
  "component" : "Developer Tools: Framework",
  "summary" : "TabTarget#getActorDescription should explain in more detail its restrictions",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "jordan@jsantell.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Currently, `actorHasMethod` calls getActorDescription, which is only available after the actor registers itself. If the actor exists (available sync via client properties), we should poll until we find an actor description for the actor.\n\nRan into this using FxOS 2.2 (Gecko 37) where memory actor exists, but at time of performance tools opening, the actor description is not yet registered.",
  "comments" : [ {
    "text" : "Currently, `actorHasMethod` calls getActorDescription, which is only available after the actor registers itself. If the actor exists (available sync via client properties), we should poll until we find an actor description for the actor.\n\nRan into this using FxOS 2.2 (Gecko 37) where memory actor exists, but at time of performance tools opening, the actor description is not yet registered.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T15:57:52Z"
  }, {
    "text" : "(In reply to Jordan Santell [:jsantell] [@jsantell] from comment #0)\n> Currently, `actorHasMethod` calls getActorDescription, which is only\n> available after the actor registers itself. If the actor exists (available\n> sync via client properties), we should poll until we find an actor\n> description for the actor.\n\nI am a bit wary of polling in a loop (if that's what you mean)...\n\nI hope we can devise a way to wait until the actor is known to exist and then call these methods as needed.",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-12T16:28:51Z"
  }, {
    "text" : "I've never ran into this before, as the description existed after the Front was loaded, but running into a different scenario on Fx2.2, and there is no event or any mechanism to say that the actor was loaded, AFAIK :[",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T16:51:37Z"
  }, {
    "text" : "(In reply to Jordan Santell [:jsantell] [@jsantell] from comment #2)\n> I've never ran into this before, as the description existed after the Front\n> was loaded, but running into a different scenario on Fx2.2, and there is no\n> event or any mechanism to say that the actor was loaded, AFAIK :[\n\nIs it possible to wait until you have the front in hand before calling |actorHasMethod|, or is it required to call this before that?",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-12T16:54:22Z"
  }, {
    "text" : "We had some lazy loaders in this case, so seeing if changing those/moving around will fix it :D",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T16:55:03Z"
  }, {
    "text" : "Possibly due to bug 988237, which lazily loads actors until first invocation. Only seen on B2G AFAICT. This doesn't solve the perf++ use case, but can still be used where one would use the actor anyway (rather than mock the entire front, which is unique to perf++).\n\nWill investigate some more, but will not do polling.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T20:17:59Z"
  }, {
    "text" : "Created attachment 8568049\n1132474-tabtarget-descriptions.patch\n\nRather than changing the tab target methods, I further elaborated on their restrictions so others don't run into the same issues I did!",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-23T18:46:57Z"
  }, {
    "text" : "Comment on attachment 8568049\n1132474-tabtarget-descriptions.patch\n\nReview of attachment 8568049:\n-----------------------------------------------------------------\n\nLooks good, thanks!",
    "authour" : "jryans@gmail.com",
    "created" : "2015-02-23T19:17:25Z"
  }, {
    "text" : "comments only patch",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-23T19:18:56Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/0d39893538fc",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-24T11:12:41Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/0d39893538fc",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-02-24T23:44:12Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T15:58:15Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:12Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:12Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T15:58:15Z",
      "what" : "component",
      "removed" : "Developer Tools",
      "added" : "Developer Tools: Framework"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T15:58:36Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1130202"
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-12T16:26:55Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jryans@gmail.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T02:38:10Z",
      "what" : "blocks",
      "removed" : "1130202",
      "added" : ""
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T02:38:32Z",
      "what" : "summary",
      "removed" : "TabTarget#getActorDescription should wait until actor is registered if actor exists",
      "added" : "TabTarget#getActorDescription should explain in more detail its restrictions"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-13T02:38:51Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T19:18:56Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:12:41Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-24T11:12:41Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:12Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:12Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:12Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-24 15:44:12"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-02-24T23:44:12Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-23T18:46:57Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8568049,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jryans@gmail.com",
      "date" : "2015-02-23T19:17:25Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jryans@gmail.com)",
      "added" : "",
      "attachmentId" : 8568049,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132474,
  "cclist" : [ "jryans@gmail.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Samples column doesn't have enough space for the label",
  "reporter" : "vporof@mozilla.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "Created attachment 8563416\nScreen Shot 2015-02-12 at 10.32.29 AM.png",
  "comments" : [ {
    "text" : "Created attachment 8563416\nScreen Shot 2015-02-12 at 10.32.29 AM.png",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-12T15:33:01Z"
  }, {
    "text" : "Created attachment 8563417\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-12T15:35:02Z"
  }, {
    "text" : "Created attachment 8563418\nv1\n\nWrong patch.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-12T15:35:40Z"
  }, {
    "text" : "Created attachment 8563419\nv1\n\nffs",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-12T15:36:40Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/d0b991fa0471",
    "authour" : "cbook@mozilla.com",
    "created" : "2015-02-13T09:27:07Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/d0b991fa0471",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-13T17:17:06Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:02Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:17:06Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:17:06Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:02Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:02Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:40Z",
      "what" : "attachments.isobsolete:8563417",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:36:40Z",
      "what" : "attachments.isobsolete:8563418",
      "removed" : "0",
      "added" : "1"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T20:14:52Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-13T09:27:07Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "cbook@mozilla.com",
      "date" : "2015-02-13T09:27:07Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:17:06Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:17:06Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:17:06Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-13 09:17:06"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-13T17:17:06Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:02Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563417,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:40Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563417,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:35:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563418,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:36:40Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563418,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "UNKNOWN"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-12T15:36:40Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563419,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T20:12:07Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8563419,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132463,
  "cclist" : [ "jordan@jsantell.com" ]
}, {
  "component" : "Developer Tools",
  "summary" : "ConnectionManager logs are too noisy when continuously trying to connect",
  "reporter" : "janx@linux.com",
  "assigned" : "janx@linux.com",
  "created" : null,
  "operatingSystem" : "All",
  "hardware" : "All",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "When you try to connect to a server before it's ready, you create a connection with `keepConnecting = true`. This produces a lot of unnecessary error logs:\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\n[...]\n\nLet's consider these expected, and stop logging them.",
  "comments" : [ {
    "text" : "When you try to connect to a server before it's ready, you create a connection with `keepConnecting = true`. This produces a lot of unnecessary error logs:\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\nconsole.error: \n  Message: [Exception... \"Component returned failure code: 0x804b000d (NS_ERROR_CONNECTION_REFUSED) [nsIInputStream.available]\"  nsresult: \"0x804b000d (NS_ERROR_CONNECTION_REFUSED)\"  location: \"JS frame :: resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js :: onInputStreamReady :: line 300\"  data: no]\n  Stack:\n    onInputStreamReady@resource://gre/modules/commonjs/toolkit/loader.js -> resource://gre/modules/devtools/security/socket.js:300:8\n\n[...]\n\nLet's consider these expected, and stop logging them.",
    "authour" : "janx@linux.com",
    "created" : "2015-02-12T14:32:16Z"
  }, {
    "text" : "Created attachment 8563387\nDon't log CONNECTION_REFUSED errors when they're expected.\n\nTry: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a9463967e7aa",
    "authour" : "janx@linux.com",
    "created" : "2015-02-12T14:44:34Z"
  }, {
    "text" : "Comment on attachment 8563387\nDon't log CONNECTION_REFUSED errors when they're expected.\n\nThis will make you happy.",
    "authour" : "janx@linux.com",
    "created" : "2015-02-12T14:45:21Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/adc101cabb7f",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-12T19:40:57Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/adc101cabb7f",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-02-12T23:07:03Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T23:07:03Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T23:07:03Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T14:45:21Z",
      "what" : "cc",
      "removed" : "",
      "added" : "poirot.alex@gmail.com"
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-02-12T15:12:05Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1121696"
    }, {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T18:45:57Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T19:40:57Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T19:40:57Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T23:07:03Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 38"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T23:07:03Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T23:07:03Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-02-12 15:07:03"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-02-12T23:07:03Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "janx@linux.com",
      "date" : "2015-02-12T14:45:21Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8563387,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "poirot.alex@gmail.com",
      "date" : "2015-02-12T15:11:54Z",
      "what" : "flagtypes.name",
      "removed" : "review?(poirot.alex@gmail.com)",
      "added" : "",
      "attachmentId" : 8563387,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132448,
  "cclist" : [ "janx@linux.com", "poirot.alex@gmail.com" ]
}, {
  "component" : "Developer Tools: Performance Tools (Profiler/Timeline)",
  "summary" : "Wrong State: Expected 'attached', but current state is 'detached'",
  "reporter" : "jordan@jsantell.com",
  "assigned" : "vporof@mozilla.com",
  "created" : null,
  "operatingSystem" : "Mac OS X",
  "hardware" : "x86",
  "priority" : "--",
  "duplicateOf" : null,
  "severity" : "normal",
  "description" : "4757 INFO TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-details-memory-calltree-render.js | A promise chain failed to handle a rejection: - Protocol error (unknownError): Error: Wrong State: Expected 'attached', but current state is 'detached'\n\nOnly saw this once on gum on linux debug\nhttps://treeherder.mozilla.org/#/jobs?repo=gum&revision=c87fcfad32e4",
  "comments" : [ {
    "text" : "4757 INFO TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-details-memory-calltree-render.js | A promise chain failed to handle a rejection: - Protocol error (unknownError): Error: Wrong State: Expected 'attached', but current state is 'detached'\n\nOnly saw this once on gum on linux debug\nhttps://treeherder.mozilla.org/#/jobs?repo=gum&revision=c87fcfad32e4",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T07:43:33Z"
  }, {
    "text" : "A few tests have this on gum, and I've seen it once manually working with it.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-12T22:47:37Z"
  }, {
    "text" : "\n4814 INFO TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-overview-render-03.js | A promise chain failed to handle a rejection: - Protocol error (unknownError): Error: Wrong State: Expected 'attached', but current state is 'detached'\n4873 INFO TEST-UNEXPECTED-FAIL | browser/devtools/performance/test/browser_perf-refresh.js | A promise chain failed to handle a rejection: - Protocol error (unknownError): Error: Wrong State: Expected 'attached', but current state is 'detached'",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-14T00:04:46Z"
  }, {
    "text" : "This is popping up everywhere in tests.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-02-14T17:15:42Z"
  }, {
    "text" : "Right now, this is one of the most prevalent fails on try. Need to fix this!",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-27T17:15:06Z"
  }, {
    "text" : "s/try/gum/",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-02-27T17:15:13Z"
  }, {
    "text" : "Any progress on this?",
    "authour" : "shu@mozilla.com",
    "created" : "2015-03-05T10:57:16Z"
  }, {
    "text" : "Working on it.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T14:25:49Z"
  }, {
    "text" : "Created attachment 8573317\nv1",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T17:02:14Z"
  }, {
    "text" : "Comment on attachment 8573317\nv1\n\nReview of attachment 8573317:\n-----------------------------------------------------------------\n\nAwesome. Is this worth an uplift to aurora? There's no b2g version based on fx38, but I think that will be an ESR version.",
    "authour" : "jordan@jsantell.com",
    "created" : "2015-03-05T17:10:33Z"
  }, {
    "text" : "(In reply to Jordan Santell [:jsantell] [@jsantell] from comment #9)\n> Comment on attachment 8573317\n> v1\n> \n> Review of attachment 8573317:\n> -----------------------------------------------------------------\n> \n> Awesome. Is this worth an uplift to aurora? There's no b2g version based on\n> fx38, but I think that will be an ESR version.\n\nYeah, sure!",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T17:19:07Z"
  }, {
    "text" : "https://hg.mozilla.org/integration/fx-team/rev/9da0a1f0e481",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T17:21:23Z"
  }, {
    "text" : "Comment on attachment 8573317\nv1\n\nApproval Request Comment\n[Feature/regressing bug #]: Fixes an intermittent test failure for a (yet to be enabled by default) developer tool. \n[User impact if declined]: Possible backwards incompatibility between the devtools server and client.\n[Describe test coverage new/current, TreeHerder]: This fix affects all the tests.\n[Risks and why]: No risk.\n[String/UUID change made/needed]: None.",
    "authour" : "vporof@mozilla.com",
    "created" : "2015-03-05T17:22:56Z"
  }, {
    "text" : "https://hg.mozilla.org/mozilla-central/rev/9da0a1f0e481",
    "authour" : "wkocher@mozilla.com",
    "created" : "2015-03-05T22:58:02Z"
  }, {
    "text" : "Comment on attachment 8573317\nv1\n\nApproving for uplift to aurora. Hooray for fixing the tests!",
    "authour" : "lhenry@mozilla.com",
    "created" : "2015-03-11T17:53:03Z"
  }, {
    "text" : "https://hg.mozilla.org/releases/mozilla-aurora/rev/38f738759ece",
    "authour" : "ryanvm@gmail.com",
    "created" : "2015-03-12T02:05:57Z"
  } ],
  "status" : "RESOLVED",
  "activity" : {
    "statusEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T17:02:14Z",
      "what" : "status",
      "removed" : "NEW",
      "added" : "",
      "type" : "ASSIGNED"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-05T22:58:02Z",
      "what" : "status",
      "removed" : "ASSIGNED",
      "added" : "",
      "type" : "RESOLVED"
    } ],
    "resolutionEvents" : [ {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-05T22:58:02Z",
      "what" : "resolution",
      "removed" : "",
      "added" : "",
      "type" : "FIXED"
    } ],
    "assignmentEvents" : [ ],
    "otherEvents" : [ {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T07:43:43Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1075567"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-12T22:47:18Z",
      "what" : "summary",
      "removed" : "INFO TEST-UNEXPECTED-FAIL browser/devtools/performance/test/browser_perf-details-memory-calltree-render.js",
      "added" : "Wrong State: Expected 'attached', but current state is 'detached'"
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-02-14T00:07:58Z",
      "what" : "blocks",
      "removed" : "",
      "added" : "1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:02Z",
      "what" : "cc",
      "removed" : "",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:02Z",
      "what" : "blocks",
      "removed" : "1075567, 1123815",
      "added" : "1133781"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T16:58:14Z",
      "what" : "blocks",
      "removed" : "1133781",
      "added" : "1123815"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-02-17T17:02:33Z",
      "what" : "blocks",
      "removed" : "1123815",
      "added" : "1133808"
    }, {
      "name" : "shu@mozilla.com",
      "date" : "2015-03-05T10:57:16Z",
      "what" : "cc",
      "removed" : "",
      "added" : "shu@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T17:02:14Z",
      "what" : "cc",
      "removed" : "",
      "added" : "jsantell@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T17:02:14Z",
      "what" : "assigned_to",
      "removed" : "nobody@mozilla.org",
      "added" : "vporof@mozilla.com"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T17:21:23Z",
      "what" : "whiteboard",
      "removed" : "",
      "added" : "[fixed-in-fx-team]"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-05T22:58:02Z",
      "what" : "target_milestone",
      "removed" : "---",
      "added" : "Firefox 39"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-05T22:58:02Z",
      "what" : "whiteboard",
      "removed" : "[fixed-in-fx-team]",
      "added" : ""
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-05T22:58:02Z",
      "what" : "cf_last_resolved",
      "removed" : "",
      "added" : "2015-03-05 14:58:02"
    }, {
      "name" : "wkocher@mozilla.com",
      "date" : "2015-03-05T22:58:02Z",
      "what" : "cf_status_firefox39",
      "removed" : "---",
      "added" : "fixed"
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-11T19:56:15Z",
      "what" : "keywords",
      "removed" : "",
      "added" : "checkin-needed"
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T02:05:57Z",
      "what" : "keywords",
      "removed" : "checkin-needed",
      "added" : ""
    }, {
      "name" : "ryanvm@gmail.com",
      "date" : "2015-03-12T02:05:57Z",
      "what" : "cf_status_firefox38",
      "removed" : "---",
      "added" : "fixed"
    } ],
    "flagEvents" : [ {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T17:02:14Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573317,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "jordan@jsantell.com",
      "date" : "2015-03-05T17:10:33Z",
      "what" : "flagtypes.name",
      "removed" : "review?(jsantell@mozilla.com)",
      "added" : "",
      "attachmentId" : 8573317,
      "flags" : [ {
        "status" : "REVIEW",
        "state" : "GRANTED"
      } ]
    }, {
      "name" : "vporof@mozilla.com",
      "date" : "2015-03-05T17:22:56Z",
      "what" : "flagtypes.name",
      "removed" : "",
      "added" : "",
      "attachmentId" : 8573317,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "REQUESTED"
      } ]
    }, {
      "name" : "lhenry@mozilla.com",
      "date" : "2015-03-11T17:53:03Z",
      "what" : "flagtypes.name",
      "removed" : "approval-mozilla-aurora?",
      "added" : "",
      "attachmentId" : 8573317,
      "flags" : [ {
        "status" : "UNKNOWN",
        "state" : "GRANTED"
      } ]
    } ]
  },
  "resolution" : "FIXED",
  "id" : 1132370,
  "cclist" : [ "jordan@jsantell.com", "shu@mozilla.com", "vporof@mozilla.com" ]
} ]